Attaching to ozone-om-ha-s3_s3g_1, ozone-om-ha-s3_scm_1, ozone-om-ha-s3_datanode_1, ozone-om-ha-s3_datanode_3, ozone-om-ha-s3_datanode_2, ozone-om-ha-s3_om3_1, ozone-om-ha-s3_om2_1, ozone-om-ha-s3_om1_1
datanode_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
datanode_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_1  | 2020-09-29 13:18:52,377 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_1  | /************************************************************
datanode_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_1  | STARTUP_MSG:   host = 94b2ea834da3/172.23.0.3
datanode_1  | STARTUP_MSG:   args = []
datanode_1  | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jaxb-impl-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT-tests.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-datanode-1.1.0-SNAPSHOT.jar
datanode_1  | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:47Z
datanode_1  | STARTUP_MSG:   java = 11.0.7
datanode_1  | ************************************************************/
datanode_1  | 2020-09-29 13:18:52,458 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_1  | 2020-09-29 13:18:54,326 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_1  | 2020-09-29 13:18:55,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_1  | 2020-09-29 13:18:56,291 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_1  | 2020-09-29 13:18:56,291 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_1  | 2020-09-29 13:18:57,134 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:94b2ea834da3 ip:172.23.0.3
datanode_1  | 2020-09-29 13:18:58,284 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_1  | 2020-09-29 13:18:58,308 [main] INFO volume.HddsVolume: Creating Volume: /data/hdds/hdds of storage type : DISK and capacity : 89311358976
datanode_1  | 2020-09-29 13:18:58,313 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_1  | 2020-09-29 13:18:58,414 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_1  | 2020-09-29 13:18:58,615 [main] INFO volume.HddsVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_1  | 2020-09-29 13:18:59,273 [Thread-6] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_1  | 2020-09-29 13:18:59,274 [Thread-6] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_1  | 2020-09-29 13:18:59,295 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_1  | 2020-09-29 13:19:05,961 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1  | 2020-09-29 13:19:06,366 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
datanode_1  | 2020-09-29 13:19:06,950 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
datanode_1  | 2020-09-29 13:19:06,951 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_1  | 2020-09-29 13:19:06,961 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1  | 2020-09-29 13:19:06,964 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_1  | 2020-09-29 13:19:06,965 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_1  | 2020-09-29 13:19:08,704 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1  | 2020-09-29 13:19:08,742 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1  | 2020-09-29 13:19:09,635 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_1  | 2020-09-29 13:19:09,732 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_1  | 2020-09-29 13:19:10,024 [main] INFO util.log: Logging initialized @26101ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_1  | 2020-09-29 13:19:10,558 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_1  | 2020-09-29 13:19:10,581 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_1  | 2020-09-29 13:19:10,596 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_1  | 2020-09-29 13:19:10,617 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_1  | 2020-09-29 13:19:10,622 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_1  | 2020-09-29 13:19:10,625 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_1  | 2020-09-29 13:19:10,808 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_1  | 2020-09-29 13:19:10,849 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_1  | 2020-09-29 13:19:10,857 [main] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
datanode_1  | 2020-09-29 13:19:10,971 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_1  | 2020-09-29 13:19:10,977 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_1  | 2020-09-29 13:19:10,979 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_1  | 2020-09-29 13:19:11,055 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5597ca3{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_1  | 2020-09-29 13:19:11,070 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2d9de284{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_1  | 2020-09-29 13:19:11,594 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@3a4f8e8a{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hadoop-hdds-container-service-1_1_0-SNAPSHOT_jar-_-any-13540588919317861633.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_1  | 2020-09-29 13:19:11,627 [main] INFO server.AbstractConnector: Started ServerConnector@2f471037{HTTP/1.1,[http/1.1]}{0.0.0.0:9882}
datanode_1  | 2020-09-29 13:19:11,636 [main] INFO server.Server: Started @27714ms
datanode_1  | 2020-09-29 13:19:11,647 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_1  | 2020-09-29 13:19:11,653 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_1  | 2020-09-29 13:19:11,660 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_1  | 2020-09-29 13:19:11,728 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@745b2316] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_1  | 2020-09-29 13:19:12,808 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_1  | 2020-09-29 13:19:14,971 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1  | 2020-09-29 13:19:15,972 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1  | 2020-09-29 13:19:16,972 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1  | 2020-09-29 13:19:17,996 [Datanode State Machine Task Thread - 1] WARN statemachine.EndpointStateMachine: Unable to communicate to SCM server at scm:9861 for past 0 seconds.
datanode_1  | java.net.SocketTimeoutException: Call From 94b2ea834da3/172.23.0.3 to scm:9861 failed on socket timeout exception: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.3:46634 remote=scm/172.23.0.8:9861]; For more details see:  http://wiki.apache.org/hadoop/SocketTimeout
datanode_1  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
datanode_1  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
datanode_1  | 	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
datanode_1  | 	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
datanode_1  | 	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:833)
datanode_1  | 	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:777)
datanode_1  | 	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1549)
datanode_1  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
datanode_1  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
datanode_1  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
datanode_1  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
datanode_1  | 	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
datanode_1  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
datanode_1  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.getVersion(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:133)
datanode_2  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
datanode_2  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_2  | 2020-09-29 13:18:54,657 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_2  | /************************************************************
datanode_2  | STARTUP_MSG: Starting HddsDatanodeService
datanode_2  | STARTUP_MSG:   host = 4435d6ef9470/172.23.0.7
datanode_2  | STARTUP_MSG:   args = []
datanode_2  | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_1  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:70)
datanode_1  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:41)
datanode_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_1  | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
datanode_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_1  | Caused by: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.3:46634 remote=scm/172.23.0.8:9861]
datanode_1  | 	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:164)
datanode_1  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:161)
datanode_1  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:131)
datanode_1  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133)
datanode_1  | 	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
datanode_1  | 	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)
datanode_1  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_1  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_1  | 	at org.apache.hadoop.ipc.Client$Connection$PingInputStream.read(Client.java:567)
datanode_1  | 	at java.base/java.io.DataInputStream.readInt(DataInputStream.java:392)
datanode_1  | 	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1850)
datanode_1  | 	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1183)
datanode_1  | 	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1079)
datanode_1  | 2020-09-29 13:19:18,868 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_1  | 2020-09-29 13:19:18,871 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_1  | 2020-09-29 13:19:18,873 [Datanode State Machine Task Thread - 0] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 255d076d-3a04-495e-b270-6d55af24551b at port 9858
datanode_1  | 2020-09-29 13:19:18,953 [Datanode State Machine Task Thread - 0] INFO impl.RaftServerProxy: 255d076d-3a04-495e-b270-6d55af24551b: start RPC server
datanode_1  | 2020-09-29 13:19:19,580 [Datanode State Machine Task Thread - 0] INFO server.GrpcService: 255d076d-3a04-495e-b270-6d55af24551b: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
datanode_1  | 2020-09-29 13:19:27,915 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.255d076d-3a04-495e-b270-6d55af24551b
datanode_1  | 2020-09-29 13:19:28,247 [grpc-default-executor-0] INFO impl.RaftServerProxy: 255d076d-3a04-495e-b270-6d55af24551b: addNew group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] returns group-5084E8A8936C:java.util.concurrent.CompletableFuture@47b14251[Not completed]
datanode_1  | 2020-09-29 13:19:28,378 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b: new RaftServerImpl for group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] with ContainerStateMachine:uninitialized
datanode_1  | 2020-09-29 13:19:28,391 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1  | 2020-09-29 13:19:28,398 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1  | 2020-09-29 13:19:28,401 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_1  | 2020-09-29 13:19:28,406 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_1  | 2020-09-29 13:19:28,406 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1  | 2020-09-29 13:19:28,444 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: ConfigurationManager, init=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null, confs=<EMPTY_MAP>
datanode_1  | 2020-09-29 13:19:28,449 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1  | 2020-09-29 13:19:28,473 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1  | 2020-09-29 13:19:28,486 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c does not exist. Creating ...
datanode_1  | 2020-09-29 13:19:28,537 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/in_use.lock acquired by nodename 6@94b2ea834da3
datanode_2  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jaxb-impl-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT-tests.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-datanode-1.1.0-SNAPSHOT.jar
datanode_2  | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:47Z
datanode_2  | STARTUP_MSG:   java = 11.0.7
datanode_2  | ************************************************************/
datanode_2  | 2020-09-29 13:18:54,753 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_2  | 2020-09-29 13:18:56,578 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_2  | 2020-09-29 13:18:57,422 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_2  | 2020-09-29 13:18:59,110 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_2  | 2020-09-29 13:18:59,110 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_2  | 2020-09-29 13:18:59,920 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:4435d6ef9470 ip:172.23.0.7
datanode_2  | 2020-09-29 13:19:01,290 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_2  | 2020-09-29 13:19:01,311 [main] INFO volume.HddsVolume: Creating Volume: /data/hdds/hdds of storage type : DISK and capacity : 89311358976
datanode_2  | 2020-09-29 13:19:01,340 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_2  | 2020-09-29 13:19:01,444 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_2  | 2020-09-29 13:19:01,858 [main] INFO volume.HddsVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_2  | 2020-09-29 13:19:02,442 [Thread-6] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_2  | 2020-09-29 13:19:02,449 [Thread-6] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_2  | 2020-09-29 13:19:02,453 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_2  | 2020-09-29 13:19:07,910 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2  | 2020-09-29 13:19:08,327 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
datanode_2  | 2020-09-29 13:19:08,963 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
datanode_2  | 2020-09-29 13:19:08,964 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_2  | 2020-09-29 13:19:08,965 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2  | 2020-09-29 13:19:08,994 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_2  | 2020-09-29 13:19:08,994 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_2  | 2020-09-29 13:19:10,666 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2  | 2020-09-29 13:19:10,672 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2  | 2020-09-29 13:19:11,738 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_2  | 2020-09-29 13:19:11,798 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_2  | 2020-09-29 13:19:11,991 [main] INFO util.log: Logging initialized @25711ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_2  | 2020-09-29 13:19:12,404 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_2  | 2020-09-29 13:19:12,435 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_2  | 2020-09-29 13:19:12,483 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_2  | 2020-09-29 13:19:12,496 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_2  | 2020-09-29 13:19:12,497 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_2  | 2020-09-29 13:19:12,497 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_2  | 2020-09-29 13:19:12,692 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_2  | 2020-09-29 13:19:12,717 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_2  | 2020-09-29 13:19:12,738 [main] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
datanode_2  | 2020-09-29 13:19:12,915 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_2  | 2020-09-29 13:19:12,915 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_2  | 2020-09-29 13:19:12,916 [main] INFO server.session: node0 Scavenging every 600000ms
datanode_2  | 2020-09-29 13:19:12,960 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@29c59b6e{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_2  | 2020-09-29 13:19:12,967 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5871a482{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_2  | 2020-09-29 13:19:13,387 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@4387d2f4{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hadoop-hdds-container-service-1_1_0-SNAPSHOT_jar-_-any-2483886026459225077.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_2  | 2020-09-29 13:19:13,411 [main] INFO server.AbstractConnector: Started ServerConnector@343db2f6{HTTP/1.1,[http/1.1]}{0.0.0.0:9882}
datanode_2  | 2020-09-29 13:19:13,411 [main] INFO server.Server: Started @27132ms
datanode_2  | 2020-09-29 13:19:13,421 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_2  | 2020-09-29 13:19:13,421 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_2  | 2020-09-29 13:19:13,427 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_2  | 2020-09-29 13:19:13,673 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@619fcd04] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_2  | 2020-09-29 13:19:14,421 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_2  | 2020-09-29 13:19:16,848 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2  | 2020-09-29 13:19:17,878 [Datanode State Machine Task Thread - 1] WARN statemachine.EndpointStateMachine: Unable to communicate to SCM server at scm:9861 for past 0 seconds.
datanode_2  | java.net.SocketTimeoutException: Call From 4435d6ef9470/172.23.0.7 to scm:9861 failed on socket timeout exception: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.7:51232 remote=scm/172.23.0.8:9861]; For more details see:  http://wiki.apache.org/hadoop/SocketTimeout
datanode_2  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
datanode_2  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
datanode_2  | 	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
datanode_2  | 	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
datanode_2  | 	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:833)
datanode_2  | 	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:777)
datanode_2  | 	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1549)
datanode_2  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
datanode_2  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
datanode_2  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
datanode_2  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
datanode_2  | 	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
datanode_2  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
datanode_2  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.getVersion(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:133)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:70)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:41)
datanode_2  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_2  | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
datanode_2  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_2  | Caused by: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.7:51232 remote=scm/172.23.0.8:9861]
datanode_2  | 	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:164)
datanode_2  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:161)
datanode_2  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:131)
datanode_2  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133)
datanode_2  | 	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
datanode_2  | 	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)
datanode_2  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_2  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_2  | 	at org.apache.hadoop.ipc.Client$Connection$PingInputStream.read(Client.java:567)
datanode_2  | 	at java.base/java.io.DataInputStream.readInt(DataInputStream.java:392)
datanode_2  | 	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1850)
datanode_2  | 	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1183)
datanode_2  | 	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1079)
datanode_2  | 2020-09-29 13:19:18,745 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_2  | 2020-09-29 13:19:18,748 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_2  | 2020-09-29 13:19:18,757 [Datanode State Machine Task Thread - 0] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 23566c39-7feb-4b14-a96f-35853a3a7668 at port 9858
datanode_1  | 2020-09-29 13:19:28,550 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c has been successfully formatted.
datanode_1  | 2020-09-29 13:19:28,631 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-5084E8A8936C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1  | 2020-09-29 13:19:28,642 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1  | 2020-09-29 13:19:28,673 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1  | 2020-09-29 13:19:28,714 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1  | 2020-09-29 13:19:28,718 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C
datanode_1  | 2020-09-29 13:19:28,745 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1  | 2020-09-29 13:19:28,747 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:28,817 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1  | 2020-09-29 13:19:28,851 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c
datanode_1  | 2020-09-29 13:19:28,856 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1  | 2020-09-29 13:19:28,867 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1  | 2020-09-29 13:19:28,878 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:28,878 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1  | 2020-09-29 13:19:28,892 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:28,894 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1  | 2020-09-29 13:19:28,895 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1  | 2020-09-29 13:19:28,902 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1  | 2020-09-29 13:19:28,906 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1  | 2020-09-29 13:19:28,990 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1  | 2020-09-29 13:19:29,059 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1  | 2020-09-29 13:19:29,068 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1  | 2020-09-29 13:19:29,135 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1  | 2020-09-29 13:19:29,146 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1  | 2020-09-29 13:19:29,159 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1  | 2020-09-29 13:19:29,178 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1  | 2020-09-29 13:19:29,197 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1  | 2020-09-29 13:19:29,379 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C
datanode_1  | 2020-09-29 13:19:29,419 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C
datanode_1  | 2020-09-29 13:19:29,456 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: start as a follower, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
datanode_1  | 2020-09-29 13:19:29,479 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1  | 2020-09-29 13:19:29,486 [pool-19-thread-1] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: start FollowerState
datanode_1  | 2020-09-29 13:19:29,512 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5084E8A8936C,id=255d076d-3a04-495e-b270-6d55af24551b
datanode_1  | 2020-09-29 13:19:29,514 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C
datanode_1  | 2020-09-29 13:19:30,349 [grpc-default-executor-0] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:e577ceef-0390-4710-8111-4450d439663a
datanode_1  | 2020-09-29 13:19:30,350 [grpc-default-executor-0] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: shutdown FollowerState
datanode_1  | 2020-09-29 13:19:30,350 [Thread-23] INFO impl.FollowerState: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
datanode_1  | 2020-09-29 13:19:30,351 [grpc-default-executor-0] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: start FollowerState
datanode_1  | 2020-09-29 13:19:30,354 [grpc-default-executor-0] INFO impl.RaftServerImpl:  FOLLOWER 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C:t1, leader=null, voted=null, raftlog=255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null RUNNING priority:0 candidate:e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0 candidatePriority:0 compare:0
datanode_1  | 2020-09-29 13:19:30,964 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-5084E8A8936C with new leaderId: e577ceef-0390-4710-8111-4450d439663a
datanode_1  | 2020-09-29 13:19:30,970 [grpc-default-executor-0] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: change Leader from null to e577ceef-0390-4710-8111-4450d439663a at term 1 for appendEntries, leader elected after 2322ms
datanode_1  | 2020-09-29 13:19:31,040 [grpc-default-executor-0] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C: set configuration 0: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null at 0
datanode_1  | 2020-09-29 13:19:31,137 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker: Starting segment from index:0
datanode_3  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
datanode_3  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_3  | 2020-09-29 13:18:48,963 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_3  | /************************************************************
datanode_3  | STARTUP_MSG: Starting HddsDatanodeService
datanode_3  | STARTUP_MSG:   host = 5537ab033de7/172.23.0.4
datanode_3  | STARTUP_MSG:   args = []
datanode_3  | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_3  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jaxb-impl-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT-tests.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-datanode-1.1.0-SNAPSHOT.jar
datanode_3  | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:47Z
datanode_3  | STARTUP_MSG:   java = 11.0.7
datanode_3  | ************************************************************/
datanode_3  | 2020-09-29 13:18:49,049 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_3  | 2020-09-29 13:18:50,910 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_3  | 2020-09-29 13:18:51,935 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_3  | 2020-09-29 13:18:53,073 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_3  | 2020-09-29 13:18:53,074 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_3  | 2020-09-29 13:18:53,878 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:5537ab033de7 ip:172.23.0.4
datanode_3  | 2020-09-29 13:18:55,137 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_3  | 2020-09-29 13:18:55,182 [main] INFO volume.HddsVolume: Creating Volume: /data/hdds/hdds of storage type : DISK and capacity : 89311358976
datanode_3  | 2020-09-29 13:18:55,266 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_3  | 2020-09-29 13:18:55,296 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_3  | 2020-09-29 13:18:55,726 [main] INFO volume.HddsVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_3  | 2020-09-29 13:18:56,114 [Thread-6] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_3  | 2020-09-29 13:18:56,120 [Thread-6] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_3  | 2020-09-29 13:18:56,124 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_3  | 2020-09-29 13:19:04,291 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3  | 2020-09-29 13:19:04,754 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
datanode_3  | 2020-09-29 13:19:05,487 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
datanode_3  | 2020-09-29 13:19:05,487 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_3  | 2020-09-29 13:19:05,488 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3  | 2020-09-29 13:19:05,512 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_3  | 2020-09-29 13:19:05,527 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3  | 2020-09-29 13:19:07,060 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3  | 2020-09-29 13:19:07,106 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3  | 2020-09-29 13:19:08,129 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_3  | 2020-09-29 13:19:08,273 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_3  | 2020-09-29 13:19:08,447 [main] INFO util.log: Logging initialized @25372ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_3  | 2020-09-29 13:19:09,053 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_3  | 2020-09-29 13:19:09,081 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_3  | 2020-09-29 13:19:09,120 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_3  | 2020-09-29 13:19:09,136 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_3  | 2020-09-29 13:19:09,139 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_3  | 2020-09-29 13:19:09,140 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_3  | 2020-09-29 13:19:09,325 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_3  | 2020-09-29 13:19:09,375 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_3  | 2020-09-29 13:19:09,384 [main] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
datanode_3  | 2020-09-29 13:19:09,526 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_3  | 2020-09-29 13:19:09,533 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_3  | 2020-09-29 13:19:09,535 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_3  | 2020-09-29 13:19:09,592 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@29c59b6e{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3  | 2020-09-29 13:19:09,606 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5871a482{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3  | 2020-09-29 13:19:10,266 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@4387d2f4{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hadoop-hdds-container-service-1_1_0-SNAPSHOT_jar-_-any-9779061150575415851.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_3  | 2020-09-29 13:19:10,313 [main] INFO server.AbstractConnector: Started ServerConnector@343db2f6{HTTP/1.1,[http/1.1]}{0.0.0.0:9882}
datanode_3  | 2020-09-29 13:19:10,317 [main] INFO server.Server: Started @27250ms
datanode_3  | 2020-09-29 13:19:10,334 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_3  | 2020-09-29 13:19:10,337 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_3  | 2020-09-29 13:19:10,343 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_3  | 2020-09-29 13:19:10,535 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@54bb9832] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_3  | 2020-09-29 13:19:11,600 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_3  | 2020-09-29 13:19:13,898 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:14,898 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1  | 2020-09-29 13:19:31,482 [255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-5084E8A8936C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/current/log_inprogress_0
datanode_1  | 2020-09-29 13:19:52,816 [Command processor thread] INFO impl.RaftServerProxy: 255d076d-3a04-495e-b270-6d55af24551b: addNew group-0A57B437417D:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0] returns group-0A57B437417D:java.util.concurrent.CompletableFuture@2ea74ca6[Not completed]
datanode_1  | 2020-09-29 13:19:52,819 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b: new RaftServerImpl for group-0A57B437417D:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0] with ContainerStateMachine:uninitialized
datanode_1  | 2020-09-29 13:19:52,819 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1  | 2020-09-29 13:19:52,820 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1  | 2020-09-29 13:19:52,820 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_1  | 2020-09-29 13:19:52,820 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_1  | 2020-09-29 13:19:52,820 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1  | 2020-09-29 13:19:52,821 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: ConfigurationManager, init=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0], old=null, confs=<EMPTY_MAP>
datanode_1  | 2020-09-29 13:19:52,821 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1  | 2020-09-29 13:19:52,821 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1  | 2020-09-29 13:19:52,821 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/c9d2cc24-8563-4f80-993e-0a57b437417d does not exist. Creating ...
datanode_1  | 2020-09-29 13:19:52,825 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/c9d2cc24-8563-4f80-993e-0a57b437417d/in_use.lock acquired by nodename 6@94b2ea834da3
datanode_1  | 2020-09-29 13:19:52,833 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/c9d2cc24-8563-4f80-993e-0a57b437417d has been successfully formatted.
datanode_1  | 2020-09-29 13:19:52,834 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-0A57B437417D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1  | 2020-09-29 13:19:52,835 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1  | 2020-09-29 13:19:52,836 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1  | 2020-09-29 13:19:52,836 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1  | 2020-09-29 13:19:52,836 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D
datanode_1  | 2020-09-29 13:19:52,837 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1  | 2020-09-29 13:19:52,837 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:52,837 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1  | 2020-09-29 13:19:52,838 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/c9d2cc24-8563-4f80-993e-0a57b437417d
datanode_1  | 2020-09-29 13:19:52,838 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1  | 2020-09-29 13:19:52,838 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1  | 2020-09-29 13:19:52,838 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:52,839 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1  | 2020-09-29 13:19:52,839 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1  | 2020-09-29 13:19:52,840 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1  | 2020-09-29 13:19:52,840 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1  | 2020-09-29 13:19:52,840 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1  | 2020-09-29 13:19:52,840 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1  | 2020-09-29 13:19:52,841 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1  | 2020-09-29 13:19:52,866 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1  | 2020-09-29 13:19:52,877 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1  | 2020-09-29 13:19:52,895 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1  | 2020-09-29 13:19:52,895 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1  | 2020-09-29 13:19:52,895 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1  | 2020-09-29 13:19:52,895 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1  | 2020-09-29 13:19:52,896 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1  | 2020-09-29 13:19:52,896 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D
datanode_1  | 2020-09-29 13:19:52,896 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D
datanode_1  | 2020-09-29 13:19:52,898 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: start as a follower, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0], old=null
datanode_1  | 2020-09-29 13:19:52,904 [pool-19-thread-1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1  | 2020-09-29 13:19:52,904 [pool-19-thread-1] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: start FollowerState
datanode_1  | 2020-09-29 13:19:52,906 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A57B437417D,id=255d076d-3a04-495e-b270-6d55af24551b
datanode_1  | 2020-09-29 13:19:52,906 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D
datanode_2  | 2020-09-29 13:19:18,857 [Datanode State Machine Task Thread - 0] INFO impl.RaftServerProxy: 23566c39-7feb-4b14-a96f-35853a3a7668: start RPC server
datanode_2  | 2020-09-29 13:19:19,528 [Datanode State Machine Task Thread - 0] INFO server.GrpcService: 23566c39-7feb-4b14-a96f-35853a3a7668: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
datanode_2  | 2020-09-29 13:19:31,408 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:31,428 [grpc-default-executor-2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:31,418 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:31,673 [grpc-default-executor-2] WARN server.GrpcServerProtocolService: 23566c39-7feb-4b14-a96f-35853a3a7668: Failed requestVote e577ceef-0390-4710-8111-4450d439663a->23566c39-7feb-4b14-a96f-35853a3a7668#0
datanode_2  | org.apache.ratis.protocol.GroupMismatchException: 23566c39-7feb-4b14-a96f-35853a3a7668: group-5084E8A8936C not found.
datanode_2  | 	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.get(RaftServerProxy.java:127)
datanode_2  | 	at org.apache.ratis.server.impl.RaftServerProxy.getImplFuture(RaftServerProxy.java:274)
datanode_2  | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:283)
datanode_2  | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:278)
datanode_2  | 	at org.apache.ratis.server.impl.RaftServerProxy.requestVote(RaftServerProxy.java:457)
datanode_2  | 	at org.apache.ratis.grpc.server.GrpcServerProtocolService.requestVote(GrpcServerProtocolService.java:170)
datanode_2  | 	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$MethodHandlers.invoke(RaftServerProtocolServiceGrpc.java:325)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:818)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_2  | 2020-09-29 13:19:31,955 [grpc-default-executor-1] INFO impl.RaftServerProxy: 23566c39-7feb-4b14-a96f-35853a3a7668: addNew group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] returns group-5084E8A8936C:java.util.concurrent.CompletableFuture@5ee395db[Not completed]
datanode_1  | 2020-09-29 13:19:52,915 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE #id: "c9d2cc24-8563-4f80-993e-0a57b437417d"
datanode_1  | uuid128 {
datanode_1  |   mostSigBits: -3903833469748031616
datanode_1  |   leastSigBits: -7404469365548564099
datanode_1  | }
datanode_1  | .
datanode_1  | 2020-09-29 13:19:58,036 [Thread-38] INFO impl.FollowerState: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-FollowerState: change to CANDIDATE, lastRpcTime:5131ms, electionTimeout:5129ms
datanode_1  | 2020-09-29 13:19:58,036 [Thread-38] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: shutdown FollowerState
datanode_1  | 2020-09-29 13:19:58,037 [Thread-38] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_1  | 2020-09-29 13:19:58,039 [Thread-38] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: start LeaderElection
datanode_1  | 2020-09-29 13:19:58,046 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.LeaderElection: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1: begin an election at term 1 for -1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0], old=null
datanode_1  | 2020-09-29 13:19:58,047 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: shutdown LeaderElection
datanode_1  | 2020-09-29 13:19:58,048 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_1  | 2020-09-29 13:19:58,048 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-0A57B437417D with new leaderId: 255d076d-3a04-495e-b270-6d55af24551b
datanode_1  | 2020-09-29 13:19:58,049 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: change Leader from null to 255d076d-3a04-495e-b270-6d55af24551b at term 1 for becomeLeader, leader elected after 5212ms
datanode_1  | 2020-09-29 13:19:58,058 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_1  | 2020-09-29 13:19:58,060 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1  | 2020-09-29 13:19:58,064 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D
datanode_1  | 2020-09-29 13:19:58,066 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_1  | 2020-09-29 13:19:58,067 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_1  | 2020-09-29 13:19:58,094 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_1  | 2020-09-29 13:19:58,096 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_1  | 2020-09-29 13:19:58,101 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_1  | 2020-09-29 13:19:58,119 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.RoleInfo: 255d076d-3a04-495e-b270-6d55af24551b: start LeaderState
datanode_1  | 2020-09-29 13:19:58,131 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker: Starting segment from index:0
datanode_1  | 2020-09-29 13:19:58,133 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/c9d2cc24-8563-4f80-993e-0a57b437417d/current/log_inprogress_0
datanode_1  | 2020-09-29 13:19:58,135 [255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D-LeaderElection1] INFO impl.RaftServerImpl: 255d076d-3a04-495e-b270-6d55af24551b@group-0A57B437417D: set configuration 0: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0], old=null at 0
om1_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
om1_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1       | 2020-09-29 13:18:53,860 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om1_1       | /************************************************************
om1_1       | STARTUP_MSG: Starting OzoneManager
om1_1       | STARTUP_MSG:   host = d4f15c440e11/172.23.0.5
om1_1       | STARTUP_MSG:   args = [--init]
om1_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_2  | 2020-09-29 13:19:32,136 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668: new RaftServerImpl for group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] with ContainerStateMachine:uninitialized
datanode_2  | 2020-09-29 13:19:32,138 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2  | 2020-09-29 13:19:32,141 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2  | 2020-09-29 13:19:32,146 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_2  | 2020-09-29 13:19:32,147 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_2  | 2020-09-29 13:19:32,153 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2  | 2020-09-29 13:19:32,177 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: ConfigurationManager, init=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null, confs=<EMPTY_MAP>
datanode_2  | 2020-09-29 13:19:32,179 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2  | 2020-09-29 13:19:32,230 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2  | 2020-09-29 13:19:32,234 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c does not exist. Creating ...
datanode_2  | 2020-09-29 13:19:32,269 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/in_use.lock acquired by nodename 6@4435d6ef9470
datanode_2  | 2020-09-29 13:19:32,290 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c has been successfully formatted.
datanode_2  | 2020-09-29 13:19:32,330 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-5084E8A8936C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2  | 2020-09-29 13:19:32,338 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2  | 2020-09-29 13:19:32,343 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2  | 2020-09-29 13:19:32,367 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2  | 2020-09-29 13:19:32,393 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C
datanode_2  | 2020-09-29 13:19:32,409 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2  | 2020-09-29 13:19:32,412 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:32,477 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2  | 2020-09-29 13:19:32,515 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c
datanode_2  | 2020-09-29 13:19:32,542 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2  | 2020-09-29 13:19:32,546 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2  | 2020-09-29 13:19:32,548 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:32,557 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2  | 2020-09-29 13:19:32,559 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:32,560 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2  | 2020-09-29 13:19:32,561 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2  | 2020-09-29 13:19:32,561 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2  | 2020-09-29 13:19:32,574 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2  | 2020-09-29 13:19:32,710 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2  | 2020-09-29 13:19:32,768 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_2  | 2020-09-29 13:19:32,771 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2  | 2020-09-29 13:19:32,782 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2  | 2020-09-29 13:19:32,807 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2  | 2020-09-29 13:19:32,842 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2  | 2020-09-29 13:19:32,857 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2  | 2020-09-29 13:19:32,877 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2  | 2020-09-29 13:19:33,033 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C
datanode_2  | 2020-09-29 13:19:33,076 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C
datanode_2  | 2020-09-29 13:19:33,137 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: start as a follower, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
datanode_2  | 2020-09-29 13:19:33,151 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2  | 2020-09-29 13:19:33,152 [pool-19-thread-1] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: start FollowerState
datanode_2  | 2020-09-29 13:19:33,197 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5084E8A8936C,id=23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:33,406 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C
datanode_2  | 2020-09-29 13:19:35,912 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-5084E8A8936C with new leaderId: e577ceef-0390-4710-8111-4450d439663a
datanode_2  | 2020-09-29 13:19:35,917 [grpc-default-executor-2] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: change Leader from null to e577ceef-0390-4710-8111-4450d439663a at term 1 for appendEntries, leader elected after 3581ms
datanode_2  | 2020-09-29 13:19:35,925 [grpc-default-executor-2] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
datanode_2  | 2020-09-29 13:19:35,933 [grpc-default-executor-2] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: inconsistency entries. Reply:e577ceef-0390-4710-8111-4450d439663a<-23566c39-7feb-4b14-a96f-35853a3a7668#3:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
datanode_2  | 2020-09-29 13:19:35,988 [grpc-default-executor-2] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C: set configuration 0: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null at 0
datanode_2  | 2020-09-29 13:19:36,015 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker: Starting segment from index:0
datanode_2  | 2020-09-29 13:19:36,271 [23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-5084E8A8936C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/current/log_inprogress_0
datanode_2  | 2020-09-29 13:19:52,742 [Command processor thread] INFO impl.RaftServerProxy: 23566c39-7feb-4b14-a96f-35853a3a7668: addNew group-81E2AEF6BDEC:[23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] returns group-81E2AEF6BDEC:java.util.concurrent.CompletableFuture@308a81fd[Not completed]
datanode_2  | 2020-09-29 13:19:52,744 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668: new RaftServerImpl for group-81E2AEF6BDEC:[23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] with ContainerStateMachine:uninitialized
datanode_2  | 2020-09-29 13:19:52,746 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2  | 2020-09-29 13:19:52,747 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2  | 2020-09-29 13:19:52,747 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_2  | 2020-09-29 13:19:52,747 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_2  | 2020-09-29 13:19:52,747 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2  | 2020-09-29 13:19:52,747 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: ConfigurationManager, init=-1: [23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null, confs=<EMPTY_MAP>
datanode_2  | 2020-09-29 13:19:52,748 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2  | 2020-09-29 13:19:52,748 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2  | 2020-09-29 13:19:52,748 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/9f7aeffb-83ae-4df2-9beb-81e2aef6bdec does not exist. Creating ...
datanode_2  | 2020-09-29 13:19:52,751 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/9f7aeffb-83ae-4df2-9beb-81e2aef6bdec/in_use.lock acquired by nodename 6@4435d6ef9470
datanode_2  | 2020-09-29 13:19:52,753 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/9f7aeffb-83ae-4df2-9beb-81e2aef6bdec has been successfully formatted.
datanode_2  | 2020-09-29 13:19:52,754 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-81E2AEF6BDEC: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2  | 2020-09-29 13:19:52,754 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
om1_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
om1_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
om1_1       | STARTUP_MSG:   java = 11.0.7
om1_1       | ************************************************************/
om1_1       | 2020-09-29 13:18:53,959 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1       | 2020-09-29 13:19:00,732 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om1_1       | 2020-09-29 13:19:01,406 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om1, RPC Address: om1:9862 and Ratis port: 9872
om1_1       | 2020-09-29 13:19:01,413 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om1: om1
om1_1       | 2020-09-29 13:19:01,526 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 2020-09-29 13:19:04,990 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:05,991 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:06,992 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:07,993 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:08,997 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:09,998 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:11,001 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:12,002 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:13,003 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:14,004 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om1_1       | 2020-09-29 13:19:14,006 [main] INFO utils.RetriableTask: Execution of task OM#getScmInfo failed, will be retried in 5000 ms
om1_1       | OM initialization succeeded.Current cluster id for sd=/data/metadata/om;cid=CID-84304ed7-d7b3-4b23-9b12-53691d27373a;layoutVersion=0
om1_1       | 2020-09-29 13:19:19,463 [shutdown-hook-0] INFO om.OzoneManagerStarter: SHUTDOWN_MSG: 
om1_1       | /************************************************************
om1_1       | SHUTDOWN_MSG: Shutting down OzoneManager at d4f15c440e11/172.23.0.5
om1_1       | ************************************************************/
om1_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
om1_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1       | 2020-09-29 13:19:25,984 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om1_1       | /************************************************************
om1_1       | STARTUP_MSG: Starting OzoneManager
om1_1       | STARTUP_MSG:   host = d4f15c440e11/172.23.0.5
om1_1       | STARTUP_MSG:   args = []
om1_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_3  | 2020-09-29 13:19:15,899 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:16,900 [Datanode State Machine Task Thread - 1] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9861. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:17,928 [Datanode State Machine Task Thread - 1] WARN statemachine.EndpointStateMachine: Unable to communicate to SCM server at scm:9861 for past 0 seconds.
datanode_3  | java.net.SocketTimeoutException: Call From 5537ab033de7/172.23.0.4 to scm:9861 failed on socket timeout exception: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.4:45590 remote=scm/172.23.0.8:9861]; For more details see:  http://wiki.apache.org/hadoop/SocketTimeout
datanode_3  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
datanode_3  | 	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
datanode_3  | 	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
datanode_3  | 	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
datanode_3  | 	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:833)
datanode_3  | 	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:777)
datanode_3  | 	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1549)
datanode_3  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
datanode_3  | 	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
datanode_3  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
datanode_3  | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
datanode_3  | 	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
datanode_3  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
datanode_3  | 	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.getVersion(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:133)
datanode_3  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:70)
datanode_3  | 	at org.apache.hadoop.ozone.container.common.states.endpoint.VersionEndpointTask.call(VersionEndpointTask.java:41)
datanode_3  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_3  | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
datanode_3  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_3  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_3  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3  | Caused by: java.net.SocketTimeoutException: 1000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/172.23.0.4:45590 remote=scm/172.23.0.8:9861]
datanode_3  | 	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:164)
datanode_3  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:161)
datanode_3  | 	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:131)
datanode_3  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133)
datanode_3  | 	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
datanode_3  | 	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)
datanode_3  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_3  | 	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:83)
datanode_3  | 	at org.apache.hadoop.ipc.Client$Connection$PingInputStream.read(Client.java:567)
datanode_3  | 	at java.base/java.io.DataInputStream.readInt(DataInputStream.java:392)
datanode_3  | 	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1850)
datanode_3  | 	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1183)
datanode_3  | 	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1079)
datanode_3  | 2020-09-29 13:19:18,932 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_3  | 2020-09-29 13:19:18,948 [Datanode State Machine Task Thread - 0] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_3  | 2020-09-29 13:19:18,949 [Datanode State Machine Task Thread - 0] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis e577ceef-0390-4710-8111-4450d439663a at port 9858
datanode_3  | 2020-09-29 13:19:19,071 [Datanode State Machine Task Thread - 0] INFO impl.RaftServerProxy: e577ceef-0390-4710-8111-4450d439663a: start RPC server
datanode_3  | 2020-09-29 13:19:19,567 [Datanode State Machine Task Thread - 0] INFO server.GrpcService: e577ceef-0390-4710-8111-4450d439663a: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
datanode_3  | 2020-09-29 13:19:23,754 [Command processor thread] INFO impl.RaftServerProxy: e577ceef-0390-4710-8111-4450d439663a: addNew group-2CDF37F7EFB0:[e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0] returns group-2CDF37F7EFB0:java.util.concurrent.CompletableFuture@36789b7b[Not completed]
datanode_3  | 2020-09-29 13:19:23,858 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a: new RaftServerImpl for group-2CDF37F7EFB0:[e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0] with ContainerStateMachine:uninitialized
datanode_3  | 2020-09-29 13:19:23,878 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3  | 2020-09-29 13:19:23,882 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3  | 2020-09-29 13:19:23,882 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_3  | 2020-09-29 13:19:23,887 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_3  | 2020-09-29 13:19:23,889 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3  | 2020-09-29 13:19:23,905 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: ConfigurationManager, init=-1: [e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0], old=null, confs=<EMPTY_MAP>
datanode_3  | 2020-09-29 13:19:23,906 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3  | 2020-09-29 13:19:23,950 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3  | 2020-09-29 13:19:23,954 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0 does not exist. Creating ...
datanode_3  | 2020-09-29 13:19:23,979 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0/in_use.lock acquired by nodename 6@5537ab033de7
datanode_3  | 2020-09-29 13:19:23,994 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0 has been successfully formatted.
datanode_3  | 2020-09-29 13:19:24,011 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-2CDF37F7EFB0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
om1_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
om1_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
om1_1       | STARTUP_MSG:   java = 11.0.7
om1_1       | ************************************************************/
om1_1       | 2020-09-29 13:19:26,032 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1       | 2020-09-29 13:19:31,436 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om1_1       | 2020-09-29 13:19:31,896 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om1, RPC Address: om1:9862 and Ratis port: 9872
om1_1       | 2020-09-29 13:19:31,896 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om1: om1
om1_1       | 2020-09-29 13:19:31,948 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 2020-09-29 13:19:32,023 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 2020-09-29 13:19:37,006 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 2020-09-29 13:19:37,612 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1       | 2020-09-29 13:19:37,620 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om1_1       | 2020-09-29 13:19:38,638 [main] INFO om.OzoneManager: Created Volume s3v With Owner hadoop required for S3Gateway operations.
om1_1       | 2020-09-29 13:19:38,665 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om1_1       | 2020-09-29 13:19:38,827 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1       | 2020-09-29 13:19:39,014 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with GroupID: id1 and Raft Peers: om1:9872, om2:9872, om3:9872
om1_1       | 2020-09-29 13:19:39,078 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
om1_1       | 2020-09-29 13:19:39,187 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
om1_1       | 2020-09-29 13:19:39,413 [main] INFO grpc.GrpcFactory: PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
om1_1       | 	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
om1_1       | 2020-09-29 13:19:39,426 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om1_1       | 2020-09-29 13:19:39,445 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
om1_1       | 2020-09-29 13:19:39,447 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1       | 2020-09-29 13:19:39,462 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om1_1       | 2020-09-29 13:19:39,462 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
datanode_2  | 2020-09-29 13:19:52,755 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2  | 2020-09-29 13:19:52,755 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2  | 2020-09-29 13:19:52,755 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC
datanode_2  | 2020-09-29 13:19:52,756 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2  | 2020-09-29 13:19:52,756 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:52,757 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2  | 2020-09-29 13:19:52,757 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/9f7aeffb-83ae-4df2-9beb-81e2aef6bdec
datanode_2  | 2020-09-29 13:19:52,757 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2  | 2020-09-29 13:19:52,758 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2  | 2020-09-29 13:19:52,758 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:52,759 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2  | 2020-09-29 13:19:52,759 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2  | 2020-09-29 13:19:52,759 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2  | 2020-09-29 13:19:52,760 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2  | 2020-09-29 13:19:52,760 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2  | 2020-09-29 13:19:52,760 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2  | 2020-09-29 13:19:52,762 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2  | 2020-09-29 13:19:52,762 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_2  | 2020-09-29 13:19:52,768 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2  | 2020-09-29 13:19:52,768 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2  | 2020-09-29 13:19:52,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2  | 2020-09-29 13:19:52,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2  | 2020-09-29 13:19:52,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2  | 2020-09-29 13:19:52,770 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3  | 2020-09-29 13:19:24,013 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3  | 2020-09-29 13:19:24,018 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_3  | 2020-09-29 13:19:24,037 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_3  | 2020-09-29 13:19:24,082 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0
datanode_3  | 2020-09-29 13:19:24,123 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3  | 2020-09-29 13:19:24,130 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3  | 2020-09-29 13:19:24,189 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_3  | 2020-09-29 13:19:24,204 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0
datanode_3  | 2020-09-29 13:19:24,222 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_3  | 2020-09-29 13:19:24,232 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_3  | 2020-09-29 13:19:24,242 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3  | 2020-09-29 13:19:24,247 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_3  | 2020-09-29 13:19:24,248 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_3  | 2020-09-29 13:19:24,250 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_3  | 2020-09-29 13:19:24,251 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_3  | 2020-09-29 13:19:24,262 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_3  | 2020-09-29 13:19:24,263 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_3  | 2020-09-29 13:19:24,317 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_3  | 2020-09-29 13:19:24,337 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_3  | 2020-09-29 13:19:24,340 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_3  | 2020-09-29 13:19:24,360 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_3  | 2020-09-29 13:19:24,366 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_3  | 2020-09-29 13:19:24,383 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_3  | 2020-09-29 13:19:24,387 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_3  | 2020-09-29 13:19:24,388 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3  | 2020-09-29 13:19:24,542 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0
datanode_3  | 2020-09-29 13:19:24,547 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0
datanode_3  | 2020-09-29 13:19:24,587 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: start as a follower, conf=-1: [e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0], old=null
datanode_3  | 2020-09-29 13:19:24,606 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_3  | 2020-09-29 13:19:24,610 [pool-19-thread-1] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start FollowerState
datanode_3  | 2020-09-29 13:19:24,629 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CDF37F7EFB0,id=e577ceef-0390-4710-8111-4450d439663a
datanode_3  | 2020-09-29 13:19:24,631 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0
datanode_3  | 2020-09-29 13:19:24,682 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE #id: "75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0"
datanode_3  | uuid128 {
datanode_3  |   mostSigBits: 8487878221925205490
datanode_3  |   leastSigBits: -7053713579140714576
datanode_3  | }
datanode_3  | .
datanode_3  | 2020-09-29 13:19:24,688 [Command processor thread] INFO impl.RaftServerProxy: e577ceef-0390-4710-8111-4450d439663a: addNew group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] returns group-5084E8A8936C:java.util.concurrent.CompletableFuture@52eebad0[Not completed]
datanode_3  | 2020-09-29 13:19:24,695 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a: new RaftServerImpl for group-5084E8A8936C:[255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0] with ContainerStateMachine:uninitialized
datanode_3  | 2020-09-29 13:19:24,699 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3  | 2020-09-29 13:19:24,701 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3  | 2020-09-29 13:19:24,702 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 300s (custom)
datanode_3  | 2020-09-29 13:19:24,703 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_3  | 2020-09-29 13:19:24,703 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3  | 2020-09-29 13:19:24,705 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: ConfigurationManager, init=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null, confs=<EMPTY_MAP>
datanode_3  | 2020-09-29 13:19:24,708 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3  | 2020-09-29 13:19:24,708 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3  | 2020-09-29 13:19:24,709 [pool-19-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c does not exist. Creating ...
datanode_3  | 2020-09-29 13:19:24,712 [pool-19-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/in_use.lock acquired by nodename 6@5537ab033de7
datanode_2  | 2020-09-29 13:19:52,770 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC
datanode_2  | 2020-09-29 13:19:52,771 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC
datanode_2  | 2020-09-29 13:19:52,772 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: start as a follower, conf=-1: [23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
datanode_2  | 2020-09-29 13:19:52,772 [pool-19-thread-1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2  | 2020-09-29 13:19:52,772 [pool-19-thread-1] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: start FollowerState
datanode_2  | 2020-09-29 13:19:52,777 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-81E2AEF6BDEC,id=23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:52,778 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC
datanode_2  | 2020-09-29 13:19:52,784 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE #id: "9f7aeffb-83ae-4df2-9beb-81e2aef6bdec"
datanode_2  | uuid128 {
datanode_2  |   mostSigBits: -6954982810995241486
datanode_2  |   leastSigBits: -7211527567705719316
datanode_2  | }
datanode_2  | .
datanode_2  | 2020-09-29 13:19:57,784 [Thread-35] INFO impl.FollowerState: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-FollowerState: change to CANDIDATE, lastRpcTime:5011ms, electionTimeout:5005ms
datanode_2  | 2020-09-29 13:19:57,784 [Thread-35] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: shutdown FollowerState
datanode_2  | 2020-09-29 13:19:57,785 [Thread-35] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_2  | 2020-09-29 13:19:57,788 [Thread-35] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: start LeaderElection
datanode_2  | 2020-09-29 13:19:57,793 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.LeaderElection: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1: begin an election at term 1 for -1: [23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
datanode_2  | 2020-09-29 13:19:57,794 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: shutdown LeaderElection
datanode_2  | 2020-09-29 13:19:57,795 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_2  | 2020-09-29 13:19:57,795 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-81E2AEF6BDEC with new leaderId: 23566c39-7feb-4b14-a96f-35853a3a7668
datanode_2  | 2020-09-29 13:19:57,795 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: change Leader from null to 23566c39-7feb-4b14-a96f-35853a3a7668 at term 1 for becomeLeader, leader elected after 5040ms
datanode_2  | 2020-09-29 13:19:57,805 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_2  | 2020-09-29 13:19:57,805 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2  | 2020-09-29 13:19:57,807 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC
datanode_2  | 2020-09-29 13:19:57,809 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_2  | 2020-09-29 13:19:57,811 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_2  | 2020-09-29 13:19:57,819 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_2  | 2020-09-29 13:19:57,819 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_2  | 2020-09-29 13:19:57,820 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_2  | 2020-09-29 13:19:57,830 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.RoleInfo: 23566c39-7feb-4b14-a96f-35853a3a7668: start LeaderState
datanode_2  | 2020-09-29 13:19:57,838 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker: Starting segment from index:0
datanode_2  | 2020-09-29 13:19:57,841 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/9f7aeffb-83ae-4df2-9beb-81e2aef6bdec/current/log_inprogress_0
datanode_2  | 2020-09-29 13:19:57,842 [23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC-LeaderElection1] INFO impl.RaftServerImpl: 23566c39-7feb-4b14-a96f-35853a3a7668@group-81E2AEF6BDEC: set configuration 0: [23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null at 0
datanode_2  | 2020-09-29 13:42:37,749 [grpc-default-executor-2] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 190 .Container 1 bcsId is 125. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_2  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 190 .Container 1 bcsId is 125.
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:195)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:475)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:181)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:155)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
datanode_2  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
om1_1       | 2020-09-29 13:19:40,300 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1       | 2020-09-29 13:19:40,345 [main] INFO impl.RaftServerProxy: om1: addNew group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] returns group-562213E44849:java.util.concurrent.CompletableFuture@2dacda9a[Not completed]
om1_1       | 2020-09-29 13:19:40,375 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
om1_1       | 2020-09-29 13:19:40,376 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1       | 2020-09-29 13:19:40,388 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1       | 2020-09-29 13:19:40,440 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om1_1       | 2020-09-29 13:19:40,444 [pool-17-thread-1] INFO impl.RaftServerImpl: om1: new RaftServerImpl for group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] with OzoneManagerStateMachine:uninitialized
om1_1       | 2020-09-29 13:19:40,457 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 1s (custom)
om1_1       | 2020-09-29 13:19:40,465 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 1200ms (custom)
om1_1       | 2020-09-29 13:19:40,469 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 120s (custom)
om1_1       | 2020-09-29 13:19:40,482 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
om1_1       | 2020-09-29 13:19:40,482 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1       | 2020-09-29 13:19:40,571 [pool-17-thread-1] INFO impl.RaftServerImpl: om1@group-562213E44849: ConfigurationManager, init=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null, confs=<EMPTY_MAP>
om1_1       | 2020-09-29 13:19:40,573 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1       | 2020-09-29 13:19:40,595 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om1_1       | 2020-09-29 13:19:40,628 [pool-17-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 does not exist. Creating ...
om1_1       | 2020-09-29 13:19:40,713 [pool-17-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/in_use.lock acquired by nodename 6@d4f15c440e11
om1_1       | 2020-09-29 13:19:40,869 [pool-17-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 has been successfully formatted.
om1_1       | 2020-09-29 13:19:40,872 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om1_1       | 2020-09-29 13:19:40,891 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om1_1       | 2020-09-29 13:19:40,909 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om1_1       | 2020-09-29 13:19:40,937 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.om1@group-562213E44849
om1_1       | 2020-09-29 13:19:41,044 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1       | 2020-09-29 13:19:41,049 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1       | 2020-09-29 13:19:41,127 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om1_1       | 2020-09-29 13:19:41,157 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: new om1@group-562213E44849-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849
om1_1       | 2020-09-29 13:19:41,176 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om1_1       | 2020-09-29 13:19:41,176 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om1_1       | 2020-09-29 13:19:41,203 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1       | 2020-09-29 13:19:41,203 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
om1_1       | 2020-09-29 13:19:41,204 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om1_1       | 2020-09-29 13:19:41,204 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om1_1       | 2020-09-29 13:19:41,214 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om1_1       | 2020-09-29 13:19:41,217 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om1_1       | 2020-09-29 13:19:41,221 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om1_1       | 2020-09-29 13:19:41,305 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om1_1       | 2020-09-29 13:19:41,349 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-562213E44849-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
om1_1       | 2020-09-29 13:19:41,353 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-562213E44849-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om1_1       | 2020-09-29 13:19:41,373 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om1_1       | 2020-09-29 13:19:41,422 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
om1_1       | 2020-09-29 13:19:41,422 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om1_1       | 2020-09-29 13:19:41,425 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
om1_1       | 2020-09-29 13:19:41,425 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
om1_1       | 2020-09-29 13:19:41,668 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.om1@group-562213E44849
om1_1       | 2020-09-29 13:19:41,698 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.om1@group-562213E44849
om1_1       | 2020-09-29 13:19:41,917 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1       | 2020-09-29 13:19:42,070 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
om1_1       | 2020-09-29 13:19:42,660 [Listener at om1/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om1_1       | 2020-09-29 13:19:42,838 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om1_1       | 2020-09-29 13:19:42,839 [Listener at om1/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
om1_1       | 2020-09-29 13:19:43,016 [Listener at om1/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om1/172.23.0.5:9862
om1_1       | 2020-09-29 13:19:43,017 [Listener at om1/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om1 at port 9872
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
datanode_2  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:783)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_2  | 2020-09-29 13:42:38,305 [grpc-default-executor-2] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 190 .Container 1 bcsId is 125. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_2  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 190 .Container 1 bcsId is 125.
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:195)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:475)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:181)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:155)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
datanode_2  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
datanode_2  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:783)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_2  | 2020-09-29 13:42:39,427 [grpc-default-executor-2] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 193 .Container 1 bcsId is 125. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_2  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 193 .Container 1 bcsId is 125.
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:195)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:475)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:181)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:155)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
om1_1       | 2020-09-29 13:19:43,027 [Listener at om1/9862] INFO impl.RaftServerImpl: om1@group-562213E44849: start as a follower, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 2020-09-29 13:19:43,031 [Listener at om1/9862] INFO impl.RaftServerImpl: om1@group-562213E44849: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
datanode_2  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
datanode_2  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:783)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_2  | 2020-09-29 13:42:43,806 [grpc-default-executor-2] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 193 .Container 1 bcsId is 125. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_2  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 193 .Container 1 bcsId is 125.
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:195)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:475)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:181)
datanode_2  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:155)
om1_1       | 2020-09-29 13:19:43,038 [Listener at om1/9862] INFO impl.RoleInfo: om1: start FollowerState
datanode_3  | 2020-09-29 13:19:24,721 [pool-19-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c has been successfully formatted.
om1_1       | 2020-09-29 13:19:43,050 [Listener at om1/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-562213E44849,id=om1
om1_1       | 2020-09-29 13:19:43,051 [Listener at om1/9862] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.om1@group-562213E44849
om1_1       | 2020-09-29 13:19:43,105 [Listener at om1/9862] INFO impl.RaftServerProxy: om1: start RPC server
om1_1       | 2020-09-29 13:19:43,320 [Listener at om1/9862] INFO server.GrpcService: om1: GrpcService started, listening on 0.0.0.0/0.0.0.0:9872
om1_1       | 2020-09-29 13:19:43,495 [Listener at om1/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om1_1       | 2020-09-29 13:19:43,495 [Listener at om1/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om1_1       | 2020-09-29 13:19:43,653 [Listener at om1/9862] INFO util.log: Logging initialized @23663ms to org.eclipse.jetty.util.log.Slf4jLog
om1_1       | 2020-09-29 13:19:44,193 [Thread-12] INFO impl.FollowerState: om1@group-562213E44849-FollowerState: change to CANDIDATE, lastRpcTime:1154ms, electionTimeout:1116ms
om1_1       | 2020-09-29 13:19:44,194 [Thread-12] INFO impl.RoleInfo: om1: shutdown FollowerState
om1_1       | 2020-09-29 13:19:44,194 [Thread-12] INFO impl.RaftServerImpl: om1@group-562213E44849: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
om1_1       | 2020-09-29 13:19:44,200 [Thread-12] INFO impl.RoleInfo: om1: start LeaderElection
om1_1       | 2020-09-29 13:19:44,254 [Listener at om1/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om1_1       | 2020-09-29 13:19:44,263 [Listener at om1/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om1_1       | 2020-09-29 13:19:44,272 [Listener at om1/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om1_1       | 2020-09-29 13:19:44,289 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om1_1       | 2020-09-29 13:19:44,289 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om1_1       | 2020-09-29 13:19:44,289 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om1_1       | 2020-09-29 13:19:44,358 [Listener at om1/9862] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
om1_1       | 2020-09-29 13:19:44,389 [Listener at om1/9862] INFO http.HttpServer2: Jetty bound to port 9874
om1_1       | 2020-09-29 13:19:44,395 [Listener at om1/9862] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
om1_1       | 2020-09-29 13:19:44,470 [om1@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om1@group-562213E44849-LeaderElection1: begin an election at term 1 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 2020-09-29 13:19:44,531 [Listener at om1/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om1_1       | 2020-09-29 13:19:44,543 [Listener at om1/9862] INFO server.session: No SessionScavenger set, using defaults
om1_1       | 2020-09-29 13:19:44,545 [Listener at om1/9862] INFO server.session: node0 Scavenging every 660000ms
om1_1       | 2020-09-29 13:19:44,626 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@d763b06{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om1_1       | 2020-09-29 13:19:44,628 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3c04ddda{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om1_1       | 2020-09-29 13:19:45,241 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@2e4d252{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-hadoop-ozone-ozone-manager-1_1_0-SNAPSHOT_jar-_-any-9354517278855210428.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/ozoneManager}
om1_1       | 2020-09-29 13:19:45,278 [Listener at om1/9862] INFO server.AbstractConnector: Started ServerConnector@3b11deb6{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
om1_1       | 2020-09-29 13:19:45,280 [Listener at om1/9862] INFO server.Server: Started @25290ms
om1_1       | 2020-09-29 13:19:45,350 [Listener at om1/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
om1_1       | 2020-09-29 13:19:45,350 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om1_1       | 2020-09-29 13:19:45,355 [Listener at om1/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om1_1       | 2020-09-29 13:19:45,356 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om1_1       | 2020-09-29 13:19:45,363 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
om1_1       | 2020-09-29 13:19:45,668 [om1@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om1@group-562213E44849-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); om1@group-562213E44849:t1, leader=null, voted=om1, raftlog=om1@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 2020-09-29 13:19:45,696 [om1@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om1@group-562213E44849-LeaderElection1: begin an election at term 2 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 2020-09-29 13:19:45,870 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@65b7678a] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om1_1       | 2020-09-29 13:19:45,899 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.om1
om1_1       | 2020-09-29 13:19:46,044 [grpc-default-executor-0] INFO impl.RaftServerImpl: om1@group-562213E44849: changes role from CANDIDATE to FOLLOWER at term 3 for recognizeCandidate:om2
om1_1       | 2020-09-29 13:19:46,044 [grpc-default-executor-0] INFO impl.RoleInfo: om1: shutdown LeaderElection
om1_1       | 2020-09-29 13:19:46,044 [grpc-default-executor-0] INFO impl.RoleInfo: om1: start FollowerState
om1_1       | 2020-09-29 13:19:46,118 [om1@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om1@group-562213E44849-LeaderElection1: Election REJECTED; received 2 response(s) [om1<-om3#0:FAIL-t2, om1<-om2#0:FAIL-t2] and 0 exception(s); om1@group-562213E44849:t3, leader=null, voted=null, raftlog=om1@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 2020-09-29 13:19:46,609 [grpc-default-executor-0] INFO impl.RaftServerImpl: om1@group-562213E44849: change Leader from null to om2 at term 3 for appendEntries, leader elected after 5737ms
om1_1       | 2020-09-29 13:19:46,667 [grpc-default-executor-0] INFO impl.RaftServerImpl: om1@group-562213E44849: set configuration 0: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null at 0
om1_1       | 2020-09-29 13:19:46,706 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: om1@group-562213E44849-SegmentedRaftLogWorker: Starting segment from index:0
om1_1       | 2020-09-29 13:19:47,077 [om1@group-562213E44849-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-562213E44849-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/current/log_inprogress_0
om1_1       | 2020-09-29 13:20:02,689 [IPC Server handler 0 on default port 9862] INFO ipc.Server: IPC Server handler 0 on default port 9862, call Call#0 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37026
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:07,803 [IPC Server handler 86 on default port 9862] INFO ipc.Server: IPC Server handler 86 on default port 9862, call Call#3 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37040
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_3  | 2020-09-29 13:19:24,722 [pool-19-thread-1] INFO ratis.ContainerStateMachine: group-5084E8A8936C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_3  | 2020-09-29 13:19:24,722 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
datanode_3  | 2020-09-29 13:19:24,723 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
om2_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:18:51,092 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om2_1       | /************************************************************
om3_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | STARTUP_MSG: Starting OzoneManager
datanode_3  | 2020-09-29 13:19:24,723 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om3_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om3_1       | 2020-09-29 13:18:53,515 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om3_1       | /************************************************************
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | STARTUP_MSG:   host = 23cbb5223b07/172.23.0.6
scm_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
datanode_3  | 2020-09-29 13:19:24,723 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
om3_1       | STARTUP_MSG: Starting OzoneManager
datanode_2  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | STARTUP_MSG:   args = [--init]
scm_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_3  | 2020-09-29 13:19:24,723 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1       | STARTUP_MSG:   host = 3ead384179a7/172.23.0.2
datanode_2  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
s3g_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
scm_1       | 2020-09-29 13:19:04,128 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
datanode_3  | 2020-09-29 13:19:24,724 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
om3_1       | STARTUP_MSG:   args = [--init]
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
s3g_1       | 2020-09-29 13:18:54,767 [main] INFO http.BaseHttpServer: Starting Web-server for s3gateway at: http://0.0.0.0:9878
om1_1       | 2020-09-29 13:20:08,497 [IPC Server handler 21 on default port 9862] INFO ipc.Server: IPC Server handler 21 on default port 9862, call Call#6 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37046
om2_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
scm_1       | /************************************************************
datanode_3  | 2020-09-29 13:19:24,724 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om3_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_2  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
s3g_1       | 2020-09-29 13:18:54,778 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om2_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
scm_1       | STARTUP_MSG: Starting StorageContainerManager
datanode_3  | 2020-09-29 13:19:24,724 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: new e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c
om3_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
s3g_1       | 2020-09-29 13:18:55,254 [main] INFO util.log: Logging initialized @10338ms to org.eclipse.jetty.util.log.Slf4jLog
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om2_1       | STARTUP_MSG:   java = 11.0.7
scm_1       | STARTUP_MSG:   host = 9b63b77b5327/172.23.0.8
datanode_3  | 2020-09-29 13:19:24,725 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
om3_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
s3g_1       | 2020-09-29 13:18:56,077 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | ************************************************************/
scm_1       | STARTUP_MSG:   args = [--init]
datanode_3  | 2020-09-29 13:19:24,725 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
om3_1       | STARTUP_MSG:   java = 11.0.7
datanode_2  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
s3g_1       | 2020-09-29 13:18:56,262 [main] INFO http.HttpRequestLog: Http request log for http.requests.s3gateway is not defined
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om2_1       | 2020-09-29 13:18:51,184 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
scm_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
datanode_3  | 2020-09-29 13:19:24,725 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3  | 2020-09-29 13:19:24,725 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
s3g_1       | 2020-09-29 13:18:56,304 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om2_1       | 2020-09-29 13:18:59,224 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om2_1       | 2020-09-29 13:18:59,842 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om2, RPC Address: om2:9862 and Ratis port: 9872
om2_1       | 2020-09-29 13:18:59,853 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om2: om2
scm_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT-tests.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-scm-1.1.0-SNAPSHOT.jar
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
s3g_1       | 2020-09-29 13:18:56,342 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context s3gateway
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 2020-09-29 13:18:59,947 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1       | 2020-09-29 13:19:03,033 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:24,725 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
scm_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:47Z
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:783)
s3g_1       | 2020-09-29 13:18:56,345 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 2020-09-29 13:19:04,034 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | ************************************************************/
datanode_3  | 2020-09-29 13:19:24,726 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
scm_1       | STARTUP_MSG:   java = 11.0.7
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
s3g_1       | 2020-09-29 13:18:56,351 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 2020-09-29 13:19:05,035 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:18:53,591 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_3  | 2020-09-29 13:19:24,726 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
s3g_1       | 2020-09-29 13:18:56,772 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 2020-09-29 13:19:06,036 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:01,007 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
datanode_3  | 2020-09-29 13:19:24,726 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
scm_1       | ************************************************************/
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 2020-09-29 13:18:56,927 [main] INFO s3.Gateway: STARTUP_MSG: 
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:19:07,037 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:01,585 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om3, RPC Address: om3:9862 and Ratis port: 9872
datanode_3  | 2020-09-29 13:19:24,726 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
scm_1       | 2020-09-29 13:19:04,277 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_2  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | /************************************************************
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 2020-09-29 13:19:08,038 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:01,590 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om3: om3
datanode_3  | 2020-09-29 13:19:24,728 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
scm_1       | 2020-09-29 13:19:05,193 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_2  | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | STARTUP_MSG: Starting Gateway
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 2020-09-29 13:19:09,039 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:01,690 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_3  | 2020-09-29 13:19:24,733 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
scm_1       | 2020-09-29 13:19:05,474 [main] INFO server.StorageContainerManager: SCM initialization succeeded. Current cluster id for sd=/data/metadata/scm;cid=CID-84304ed7-d7b3-4b23-9b12-53691d27373a;layoutVersion=0
s3g_1       | STARTUP_MSG:   host = eaa65f1f2dc7/172.23.0.9
om2_1       | 2020-09-29 13:19:10,039 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:04,759 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:24,733 [pool-19-thread-1] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
scm_1       | 2020-09-29 13:19:05,552 [shutdown-hook-0] INFO server.StorageContainerManagerStarter: SHUTDOWN_MSG: 
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | STARTUP_MSG:   args = []
om2_1       | 2020-09-29 13:19:11,040 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om3_1       | 2020-09-29 13:19:05,759 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
datanode_3  | 2020-09-29 13:19:24,768 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1       | /************************************************************
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
om2_1       | 2020-09-29 13:19:12,041 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
om2_1       | 2020-09-29 13:19:12,043 [main] INFO utils.RetriableTask: Execution of task OM#getScmInfo failed, will be retried in 5000 ms
datanode_3  | 2020-09-29 13:19:24,768 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
scm_1       | SHUTDOWN_MSG: Shutting down StorageContainerManager at 9b63b77b5327/172.23.0.8
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | OM initialization succeeded.Current cluster id for sd=/data/metadata/om;cid=CID-84304ed7-d7b3-4b23-9b12-53691d27373a;layoutVersion=0
om3_1       | 2020-09-29 13:19:06,760 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/hk2-utils-2.5.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/aopalliance-repackaged-2.5.0.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/jaxb-impl-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/javax.interceptor-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/javassist-3.22.0-CR2.jar:/opt/hadoop/share/ozone/lib/javax.el-api-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/jakarta.inject-2.5.0.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/validation-api-1.1.0.Final.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jackson-module-jaxb-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-core-2.27.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/cdi-api-1.2.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/javax.inject-2.5.0-b42.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-client-2.27.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/hk2-api-2.5.0.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.inject-1.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/osgi-resource-locator-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-2.27.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/jersey-cdi1x-2.27.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.ws.rs-api-2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-dataformat-xml-2.10.3.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/jakarta.annotation-api-1.3.4.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hk2-locator-2.5.0-b42.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/jakarta.xml.bind-api-2.3.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-media-jaxb-2.27.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-hk2-2.27.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/jersey-common-2.27.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-s3gateway-1.1.0-SNAPSHOT.jar
datanode_3  | 2020-09-29 13:19:24,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
scm_1       | ************************************************************/
om1_1       | 2020-09-29 13:20:16,395 [IPC Server handler 1 on default port 9862] INFO ipc.Server: IPC Server handler 1 on default port 9862, call Call#11 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37078
om2_1       | 2020-09-29 13:19:18,649 [shutdown-hook-0] INFO om.OzoneManagerStarter: SHUTDOWN_MSG: 
om3_1       | 2020-09-29 13:19:07,761 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
datanode_3  | 2020-09-29 13:19:24,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
scm_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
scm_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | 2020-09-29 13:19:08,762 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | STARTUP_MSG:   java = 11.0.7
s3g_1       | ************************************************************/
om2_1       | /************************************************************
scm_1       | 2020-09-29 13:19:15,082 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | 2020-09-29 13:19:09,763 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | 2020-09-29 13:18:56,963 [main] INFO s3.Gateway: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_3  | 2020-09-29 13:19:24,769 [pool-19-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
om2_1       | SHUTDOWN_MSG: Shutting down OzoneManager at 23cbb5223b07/172.23.0.6
scm_1       | /************************************************************
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om3_1       | 2020-09-29 13:19:10,768 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | 2020-09-29 13:18:57,266 [main] INFO s3.Gateway: Starting Ozone S3 gateway
datanode_3  | 2020-09-29 13:19:24,770 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
om2_1       | ************************************************************/
scm_1       | STARTUP_MSG: Starting StorageContainerManager
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | 2020-09-29 13:19:11,769 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | 2020-09-29 13:18:57,303 [main] INFO http.HttpServer2: Jetty bound to port 9878
datanode_3  | 2020-09-29 13:19:24,770 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
om2_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
scm_1       | STARTUP_MSG:   host = 9b63b77b5327/172.23.0.8
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om3_1       | 2020-09-29 13:19:12,770 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | 2020-09-29 13:18:57,321 [main] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
datanode_3  | 2020-09-29 13:19:24,771 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: start as a follower, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
om2_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
scm_1       | STARTUP_MSG:   args = []
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om3_1       | 2020-09-29 13:19:13,771 [main] INFO ipc.Client: Retrying connect to server: scm/172.23.0.8:9863. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)
s3g_1       | 2020-09-29 13:18:57,629 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_3  | 2020-09-29 13:19:24,771 [pool-19-thread-1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: changes role from      null to FOLLOWER at term 0 for startAsFollower
om2_1       | 2020-09-29 13:19:25,159 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
scm_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
om3_1       | 2020-09-29 13:19:13,773 [main] INFO utils.RetriableTask: Execution of task OM#getScmInfo failed, will be retried in 5000 ms
s3g_1       | 2020-09-29 13:18:57,645 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_3  | 2020-09-29 13:19:24,771 [pool-19-thread-1] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start FollowerState
om2_1       | /************************************************************
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
scm_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-container-service-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT-tests.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-scm-1.1.0-SNAPSHOT.jar
om3_1       | OM initialization succeeded.Current cluster id for sd=/data/metadata/om;cid=CID-84304ed7-d7b3-4b23-9b12-53691d27373a;layoutVersion=0
s3g_1       | 2020-09-29 13:18:57,647 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_3  | 2020-09-29 13:19:24,788 [pool-19-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5084E8A8936C,id=e577ceef-0390-4710-8111-4450d439663a
om2_1       | STARTUP_MSG: Starting OzoneManager
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
scm_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:47Z
om3_1       | 2020-09-29 13:19:19,234 [shutdown-hook-0] INFO om.OzoneManagerStarter: SHUTDOWN_MSG: 
s3g_1       | 2020-09-29 13:18:57,732 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@56aaaecd{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3  | 2020-09-29 13:19:24,788 [pool-19-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
om2_1       | STARTUP_MSG:   host = 23cbb5223b07/172.23.0.6
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
scm_1       | STARTUP_MSG:   java = 11.0.7
om3_1       | /************************************************************
s3g_1       | 2020-09-29 13:18:57,752 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@13e547a9{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-s3gateway-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3  | 2020-09-29 13:19:25,120 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F00D50BC99EC->255d076d-3a04-495e-b270-6d55af24551b
om2_1       | STARTUP_MSG:   args = []
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
scm_1       | ************************************************************/
om3_1       | SHUTDOWN_MSG: Shutting down OzoneManager at 3ead384179a7/172.23.0.2
s3g_1       | WARNING: An illegal reflective access operation has occurred
datanode_3  | 2020-09-29 13:19:29,651 [Thread-23] INFO impl.FollowerState: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-FollowerState: change to CANDIDATE, lastRpcTime:5041ms, electionTimeout:5022ms
om2_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
scm_1       | 2020-09-29 13:19:15,095 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | ************************************************************/
s3g_1       | WARNING: Illegal reflective access by org.jboss.weld.util.reflection.Formats (file:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar) to constructor com.sun.org.apache.bcel.internal.classfile.ClassParser(java.io.InputStream,java.lang.String)
datanode_3  | 2020-09-29 13:19:29,653 [Thread-23] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: shutdown FollowerState
scm_1       | 2020-09-29 13:19:15,232 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the HADOOP_OPTS
s3g_1       | WARNING: Please consider reporting this to the maintainers of org.jboss.weld.util.reflection.Formats
datanode_3  | 2020-09-29 13:19:29,657 [Thread-23] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
scm_1       | 2020-09-29 13:19:15,437 [main] WARN db.DBStoreBuilder: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
s3g_1       | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
datanode_3  | 2020-09-29 13:19:29,665 [Thread-23] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start LeaderElection
scm_1       | 2020-09-29 13:19:15,578 [main] INFO net.NodeSchemaLoader: Loading file from java.lang.CompoundEnumeration@66238be2
om2_1       | STARTUP_MSG:   java = 11.0.7
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | 2020-09-29 13:19:25,598 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
s3g_1       | WARNING: All illegal access operations will be denied in a future release
datanode_3  | 2020-09-29 13:19:29,720 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.LeaderElection: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1: begin an election at term 1 for -1: [e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0], old=null
scm_1       | 2020-09-29 13:19:15,579 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
om2_1       | ************************************************************/
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | /************************************************************
s3g_1       | Sep 29, 2020 1:19:14 PM org.glassfish.jersey.internal.Errors logErrors
datanode_3  | 2020-09-29 13:19:29,721 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: shutdown LeaderElection
scm_1       | 2020-09-29 13:19:15,753 [main] INFO node.SCMNodeManager: Entering startup safe mode.
om2_1       | 2020-09-29 13:19:25,239 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1       | 2020-09-29 13:20:19,680 [IPC Server handler 48 on default port 9862] INFO ipc.Server: IPC Server handler 48 on default port 9862, call Call#16 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37086
om3_1       | STARTUP_MSG: Starting OzoneManager
s3g_1       | WARNING: The following warnings have been detected: WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.get(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.io.InputStream) throws java.io.IOException,org.apache.hadoop.ozone.s3.exception.OS3Exception, should not consume any entity.
datanode_3  | 2020-09-29 13:19:29,721 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
scm_1       | 2020-09-29 13:19:15,951 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
om2_1       | 2020-09-29 13:19:29,837 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | STARTUP_MSG:   host = 3ead384179a7/172.23.0.2
s3g_1       | 
datanode_3  | 2020-09-29 13:19:29,725 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-2CDF37F7EFB0 with new leaderId: e577ceef-0390-4710-8111-4450d439663a
datanode_3  | 2020-09-29 13:19:29,758 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: change Leader from null to e577ceef-0390-4710-8111-4450d439663a at term 1 for becomeLeader, leader elected after 5713ms
om2_1       | 2020-09-29 13:19:30,268 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om2, RPC Address: om2:9862 and Ratis port: 9872
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | STARTUP_MSG:   args = []
s3g_1       | 2020-09-29 13:19:14,374 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@35c8be21{s3gateway,/,file:///tmp/jetty-0_0_0_0-9878-hadoop-ozone-s3gateway-1_1_0-SNAPSHOT_jar-_-any-9997851535395575281.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-s3gateway-1.1.0-SNAPSHOT.jar!/webapps/s3gateway}
scm_1       | 2020-09-29 13:19:16,003 [main] INFO pipeline.SCMPipelineManager: No pipeline exists in current db
om2_1       | 2020-09-29 13:19:30,278 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om2: om2
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
datanode_3  | 2020-09-29 13:19:29,796 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
om3_1       | STARTUP_MSG:   version = 1.1.0-SNAPSHOT
s3g_1       | 2020-09-29 13:19:14,405 [main] INFO server.AbstractConnector: Started ServerConnector@6da00fb9{HTTP/1.1,[http/1.1]}{0.0.0.0:9878}
s3g_1       | 2020-09-29 13:19:14,405 [main] INFO server.Server: Started @29511ms
om2_1       | 2020-09-29 13:19:30,335 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
datanode_3  | 2020-09-29 13:19:29,797 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
s3g_1       | 2020-09-29 13:19:14,411 [main] INFO http.BaseHttpServer: HTTP server of s3gateway listening at http://0.0.0.0:9878
scm_1       | 2020-09-29 13:19:16,038 [main] INFO algorithms.PipelineChoosePolicyFactory: Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
om3_1       | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/hadoop/common/*:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.10.3.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/netty-3.10.5.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.3.50.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/leveldbjni-all-1.8.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.2.0.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.2.0.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.6.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.25.jar:/opt/hadoop/share/ozone/lib/okio-2.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/guava-28.2-jre.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/xz-1.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-client-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/libthrift-0.13.0.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.10.3.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-interface-storage-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.60.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-config-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.4.1.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/ratis-common-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.2.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.8.1.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.3.50.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.10.3.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.5.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.16.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.26.v20200117.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/checker-qual-2.10.0.jar:/opt/hadoop/share/ozone/lib/hadoop-ozone-common-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-all-4.1.48.Final.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-client-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.10.3.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.25.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-framework-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-hadoop-dependency-server-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-1.1.0-ea949f1-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdds-interface-admin-1.1.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.4.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar
om2_1       | 2020-09-29 13:19:30,420 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_3  | 2020-09-29 13:19:29,858 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0
s3g_1       | 2020-09-29 13:20:04,034 [qtp337533935-21] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-55444, with Versioning false and Storage Type set to DISK and Encryption set to false 
scm_1       | 2020-09-29 13:19:16,102 [main] INFO safemode.HealthyPipelineSafeModeRule: Total pipeline count is 0, healthy pipeline threshold count is 1
om3_1       | STARTUP_MSG:   build = https://github.com/apache/hadoop-ozone.git/3ad1034d5266d2a7a69b30ee36dcc2065597b38f ; compiled by 'runner' on 2020-09-29T12:48Z
om2_1       | 2020-09-29 13:19:35,771 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
datanode_3  | 2020-09-29 13:19:29,860 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
s3g_1       | 2020-09-29 13:20:04,344 [qtp337533935-21] INFO endpoint.BucketEndpoint: Location is /bucket-55444
scm_1       | 2020-09-29 13:19:16,105 [main] INFO safemode.OneReplicaPipelineSafeModeRule: Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
om3_1       | STARTUP_MSG:   java = 11.0.7
om2_1       | 2020-09-29 13:19:36,544 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
datanode_3  | 2020-09-29 13:19:29,873 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
s3g_1       | 2020-09-29 13:20:07,823 [qtp337533935-17] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-18419, with Versioning false and Storage Type set to DISK and Encryption set to false 
scm_1       | 2020-09-29 13:19:16,818 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om3_1       | ************************************************************/
om2_1       | 2020-09-29 13:19:36,549 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
datanode_3  | 2020-09-29 13:19:29,893 [Thread-25] INFO impl.FollowerState: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-FollowerState: change to CANDIDATE, lastRpcTime:5121ms, electionTimeout:5095ms
s3g_1       | 2020-09-29 13:20:07,840 [qtp337533935-17] INFO endpoint.BucketEndpoint: Location is /bucket-18419
scm_1       | 2020-09-29 13:19:16,844 [Socket Reader #1 for port 9861] INFO ipc.Server: Starting Socket Reader #1 for port 9861
om3_1       | 2020-09-29 13:19:25,661 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om2_1       | 2020-09-29 13:19:37,715 [main] INFO om.OzoneManager: Created Volume s3v With Owner hadoop required for S3Gateway operations.
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
datanode_3  | 2020-09-29 13:19:29,911 [Thread-25] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: shutdown FollowerState
s3g_1       | 2020-09-29 13:20:10,275 [qtp337533935-24] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
scm_1       | 2020-09-29 13:19:16,894 [Listener at 0.0.0.0/9861] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om3_1       | 2020-09-29 13:19:30,928 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om2_1       | 2020-09-29 13:19:37,772 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
datanode_3  | 2020-09-29 13:19:29,911 [Thread-25] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
s3g_1       | 2020-09-29 13:20:10,325 [qtp337533935-24] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
scm_1       | 2020-09-29 13:19:16,897 [Socket Reader #1 for port 9863] INFO ipc.Server: Starting Socket Reader #1 for port 9863
om3_1       | 2020-09-29 13:19:31,330 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: id1, OMNodeId: om3, RPC Address: om3:9862 and Ratis port: 9872
om2_1       | 2020-09-29 13:19:37,965 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
datanode_3  | 2020-09-29 13:19:29,911 [Thread-25] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start LeaderElection
s3g_1       | 2020-09-29 13:20:10,325 [qtp337533935-24] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
scm_1       | 2020-09-29 13:19:16,933 [Listener at 0.0.0.0/9863] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om3_1       | 2020-09-29 13:19:31,331 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.om3: om3
om2_1       | 2020-09-29 13:19:38,109 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with GroupID: id1 and Raft Peers: om2:9872, om1:9872, om3:9872
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
datanode_3  | 2020-09-29 13:19:29,912 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
s3g_1       | 2020-09-29 13:20:10,330 [qtp337533935-24] WARN impl.MetricsSystemImpl: Sink prometheus already exists!
scm_1       | 2020-09-29 13:19:16,995 [Socket Reader #1 for port 9860] INFO ipc.Server: Starting Socket Reader #1 for port 9860
om3_1       | 2020-09-29 13:19:31,399 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1       | 2020-09-29 13:19:38,148 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
datanode_3  | 2020-09-29 13:19:29,912 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
s3g_1       | 2020-09-29 13:20:10,719 [qtp337533935-24] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
scm_1       | 2020-09-29 13:19:17,029 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Starting Web-server for scm at: http://0.0.0.0:9876
om3_1       | 2020-09-29 13:19:31,483 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1       | 2020-09-29 13:19:38,266 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
datanode_3  | 2020-09-29 13:19:29,913 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
s3g_1       | 2020-09-29 13:20:10,720 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-FDA25F627E96->e577ceef-0390-4710-8111-4450d439663a
scm_1       | 2020-09-29 13:19:17,030 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
scm_1       | 2020-09-29 13:19:17,098 [Listener at 0.0.0.0/9860] INFO util.log: Logging initialized @10324ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1       | 2020-09-29 13:19:38,512 [main] INFO grpc.GrpcFactory: PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
datanode_3  | 2020-09-29 13:19:29,993 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.LeaderElection: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2: begin an election at term 1 for -1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
scm_1       | 2020-09-29 13:19:17,256 [Listener at 0.0.0.0/9860] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om3_1       | 2020-09-29 13:19:36,780 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
s3g_1       | 2020-09-29 13:20:10,721 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om2_1       | 	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
om1_1       | 2020-09-29 13:20:20,507 [IPC Server handler 28 on default port 9862] INFO ipc.Server: IPC Server handler 28 on default port 9862, call Call#21 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37094
datanode_3  | 2020-09-29 13:19:30,049 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start LeaderState
scm_1       | 2020-09-29 13:19:17,275 [Listener at 0.0.0.0/9860] INFO http.HttpRequestLog: Http request log for http.requests.scm is not defined
om3_1       | 2020-09-29 13:19:37,378 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
s3g_1       | 2020-09-29 13:20:16,463 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-CA70F2AC3121->e577ceef-0390-4710-8111-4450d439663a
om2_1       | 2020-09-29 13:19:38,520 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
datanode_3  | 2020-09-29 13:19:30,247 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-B9BDDB8E652C->23566c39-7feb-4b14-a96f-35853a3a7668
scm_1       | 2020-09-29 13:19:17,281 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om3_1       | 2020-09-29 13:19:37,383 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
s3g_1       | 2020-09-29 13:20:16,463 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om2_1       | 2020-09-29 13:19:38,530 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
datanode_3  | 2020-09-29 13:19:30,227 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker: Starting segment from index:0
scm_1       | 2020-09-29 13:19:17,283 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
om3_1       | 2020-09-29 13:19:38,534 [main] INFO om.OzoneManager: Created Volume s3v With Owner hadoop required for S3Gateway operations.
s3g_1       | 2020-09-29 13:20:23,774 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-65934, with Versioning false and Storage Type set to DISK and Encryption set to false 
om2_1       | 2020-09-29 13:19:38,535 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
datanode_3  | 2020-09-29 13:19:30,418 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.LeaderElection: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2: Election PASSED; received 1 response(s) [e577ceef-0390-4710-8111-4450d439663a<-255d076d-3a04-495e-b270-6d55af24551b#0:OK-t1] and 0 exception(s); e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C:t1, leader=null, voted=e577ceef-0390-4710-8111-4450d439663a, raftlog=e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null
scm_1       | 2020-09-29 13:19:17,284 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om3_1       | 2020-09-29 13:19:38,585 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
s3g_1       | 2020-09-29 13:20:23,797 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-65934
om2_1       | 2020-09-29 13:19:38,547 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
datanode_3  | 2020-09-29 13:19:30,421 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: shutdown LeaderElection
scm_1       | 2020-09-29 13:19:17,284 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om3_1       | 2020-09-29 13:19:38,726 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
s3g_1       | 2020-09-29 13:20:24,353 [qtp337533935-24] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-81157, with Versioning false and Storage Type set to DISK and Encryption set to false 
om2_1       | 2020-09-29 13:19:38,548 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_3  | 2020-09-29 13:19:30,423 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
scm_1       | 2020-09-29 13:19:17,349 [Listener at 0.0.0.0/9860] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
om3_1       | 2020-09-29 13:19:38,848 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with GroupID: id1 and Raft Peers: om3:9872, om1:9872, om2:9872
s3g_1       | 2020-09-29 13:20:24,367 [qtp337533935-24] INFO endpoint.BucketEndpoint: Location is /bucket-81157
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 2020-09-29 13:19:39,507 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3  | 2020-09-29 13:19:30,423 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-5084E8A8936C with new leaderId: e577ceef-0390-4710-8111-4450d439663a
scm_1       | 2020-09-29 13:19:17,365 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
om3_1       | 2020-09-29 13:19:38,885 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
s3g_1       | 2020-09-29 13:20:24,991 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-65934, with Versioning false and Storage Type set to DISK and Encryption set to false 
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 2020-09-29 13:19:39,532 [main] INFO impl.RaftServerProxy: om2: addNew group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] returns group-562213E44849:java.util.concurrent.CompletableFuture@2dacda9a[Not completed]
datanode_3  | 2020-09-29 13:19:30,432 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: change Leader from null to e577ceef-0390-4710-8111-4450d439663a at term 1 for becomeLeader, leader elected after 5700ms
scm_1       | 2020-09-29 13:19:17,493 [Listener at 0.0.0.0/9860] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om3_1       | 2020-09-29 13:19:39,011 [main] INFO impl.RaftServerProxy: raft.rpc.type = GRPC (default)
s3g_1       | 2020-09-29 13:20:25,016 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-65934
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 2020-09-29 13:19:39,535 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
datanode_3  | 2020-09-29 13:19:30,433 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
scm_1       | 2020-09-29 13:19:17,557 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om3_1       | 2020-09-29 13:19:39,154 [main] INFO grpc.GrpcFactory: PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
s3g_1       | 2020-09-29 13:20:25,545 [qtp337533935-24] ERROR endpoint.BucketEndpoint: Error in Create Bucket Request for bucket: bucket_1
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 2020-09-29 13:19:39,538 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3  | 2020-09-29 13:19:30,437 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
scm_1       | 2020-09-29 13:19:17,558 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: StorageContainerManager metrics system started
om3_1       | 	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
s3g_1       | INVALID_BUCKET_NAME org.apache.hadoop.ozone.om.exceptions.OMException: Bucket or Volume name has an unsupported character : _
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:19:39,539 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3  | 2020-09-29 13:19:30,471 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
scm_1       | 2020-09-29 13:19:17,823 [Listener at 0.0.0.0/9860] INFO server.SCMClientProtocolServer: RPC server for Client  is listening at /0.0.0.0:9860
om3_1       | 2020-09-29 13:19:39,169 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.verifyBucketName(RpcClient.java:494)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 2020-09-29 13:19:39,541 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
datanode_3  | 2020-09-29 13:19:30,472 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
scm_1       | 2020-09-29 13:19:17,825 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1       | 2020-09-29 13:19:39,175 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.createBucket(RpcClient.java:442)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 2020-09-29 13:19:39,585 [pool-17-thread-1] INFO impl.RaftServerImpl: om2: new RaftServerImpl for group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] with OzoneManagerStateMachine:uninitialized
datanode_3  | 2020-09-29 13:19:30,473 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
scm_1       | 2020-09-29 13:19:17,830 [IPC Server listener on 9860] INFO ipc.Server: IPC Server listener on 9860: starting
om3_1       | 2020-09-29 13:19:39,179 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.createBucket(RpcClient.java:433)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | 2020-09-29 13:19:39,593 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 1s (custom)
datanode_3  | 2020-09-29 13:19:30,473 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1       | 2020-09-29 13:19:17,952 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
om3_1       | 2020-09-29 13:19:39,183 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneVolume.createBucket(OzoneVolume.java:305)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | 2020-09-29 13:19:39,597 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 1200ms (custom)
datanode_3  | 2020-09-29 13:19:30,476 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1       | 2020-09-29 13:19:17,960 [Listener at 0.0.0.0/9860] INFO server.SCMBlockProtocolServer: RPC server for Block Protocol is listening at /0.0.0.0:9863
om3_1       | 2020-09-29 13:19:39,185 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om3_1       | 2020-09-29 13:19:40,038 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | 2020-09-29 13:19:39,598 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 120s (custom)
datanode_3  | 2020-09-29 13:19:30,484 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1       | 2020-09-29 13:19:17,960 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1       | 2020-09-29 13:19:40,088 [main] INFO impl.RaftServerProxy: om3: addNew group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] returns group-562213E44849:java.util.concurrent.CompletableFuture@2dacda9a[Not completed]
s3g_1       | 	at org.apache.hadoop.ozone.client.ObjectStore.createS3Bucket(ObjectStore.java:118)
om1_1       | 2020-09-29 13:20:21,129 [IPC Server handler 3 on default port 9862] INFO ipc.Server: IPC Server handler 3 on default port 9862, call Call#26 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37104
om2_1       | 2020-09-29 13:19:39,599 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
datanode_3  | 2020-09-29 13:19:30,487 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-LeaderElection1] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0: set configuration 0: [e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0], old=null at 0
scm_1       | 2020-09-29 13:19:17,961 [IPC Server listener on 9863] INFO ipc.Server: IPC Server listener on 9863: starting
om3_1       | 2020-09-29 13:19:40,098 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.EndpointBase.createS3Bucket(EndpointBase.java:96)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om2_1       | 2020-09-29 13:19:39,605 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3  | 2020-09-29 13:19:30,502 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1       | 2020-09-29 13:19:18,082 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
om3_1       | 2020-09-29 13:19:40,099 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.BucketEndpoint.put(BucketEndpoint.java:204)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om2_1       | 2020-09-29 13:19:39,630 [pool-17-thread-1] INFO impl.RaftServerImpl: om2@group-562213E44849: ConfigurationManager, init=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null, confs=<EMPTY_MAP>
datanode_3  | 2020-09-29 13:19:30,507 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1       | 2020-09-29 13:19:18,086 [Listener at 0.0.0.0/9860] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9861
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
om3_1       | 2020-09-29 13:19:40,100 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | 2020-09-29 13:19:39,638 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3  | 2020-09-29 13:19:30,528 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
scm_1       | 2020-09-29 13:19:18,087 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1       | 2020-09-29 13:19:40,119 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om2_1       | 2020-09-29 13:19:39,648 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3  | 2020-09-29 13:19:30,589 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
scm_1       | 2020-09-29 13:19:18,087 [IPC Server listener on 9861] INFO ipc.Server: IPC Server listener on 9861: starting
om3_1       | 2020-09-29 13:19:40,119 [pool-17-thread-1] INFO impl.RaftServerImpl: om3: new RaftServerImpl for group-562213E44849:[om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0] with OzoneManagerStateMachine:uninitialized
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om2_1       | 2020-09-29 13:19:39,660 [pool-17-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 does not exist. Creating ...
datanode_3  | 2020-09-29 13:19:30,589 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
scm_1       | 2020-09-29 13:19:18,211 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Jetty bound to port 9876
om3_1       | 2020-09-29 13:19:40,144 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 1s (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 2020-09-29 13:19:39,729 [pool-17-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/in_use.lock acquired by nodename 7@23cbb5223b07
datanode_3  | 2020-09-29 13:19:30,590 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
om3_1       | 2020-09-29 13:19:40,158 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 1200ms (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 2020-09-29 13:19:39,921 [pool-17-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 has been successfully formatted.
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
scm_1       | 2020-09-29 13:19:18,216 [Listener at 0.0.0.0/9860] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
datanode_3  | 2020-09-29 13:19:30,590 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C
om3_1       | 2020-09-29 13:19:40,158 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpcslowness.timeout = 120s (custom)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 2020-09-29 13:19:39,935 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
scm_1       | 2020-09-29 13:19:18,217 [IPC Server handler 0 on default port 9861] INFO ipc.Server: IPC Server handler 0 on default port 9861: skipped Call#0 Retry#0 org.apache.hadoop.ozone.protocol.StorageContainerDatanodeProtocol.submitRequest from 172.23.0.7:51232
datanode_3  | 2020-09-29 13:19:30,619 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
om3_1       | 2020-09-29 13:19:40,159 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300 (default)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 2020-09-29 13:19:39,968 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
scm_1       | 2020-09-29 13:19:18,320 [Listener at 0.0.0.0/9860] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_3  | 2020-09-29 13:19:30,629 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1       | 2020-09-29 13:19:40,161 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:19:40,032 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
scm_1       | 2020-09-29 13:19:18,320 [Listener at 0.0.0.0/9860] INFO server.session: No SessionScavenger set, using defaults
datanode_3  | 2020-09-29 13:19:30,635 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
om3_1       | 2020-09-29 13:19:40,233 [pool-17-thread-1] INFO impl.RaftServerImpl: om3@group-562213E44849: ConfigurationManager, init=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null, confs=<EMPTY_MAP>
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 2020-09-29 13:19:40,079 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.om2@group-562213E44849
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
scm_1       | 2020-09-29 13:19:18,331 [Listener at 0.0.0.0/9860] INFO server.session: node0 Scavenging every 660000ms
datanode_3  | 2020-09-29 13:19:30,635 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om3_1       | 2020-09-29 13:19:40,235 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 2020-09-29 13:19:40,154 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
scm_1       | 2020-09-29 13:19:18,377 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@720f56e2{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3  | 2020-09-29 13:19:30,636 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
om3_1       | 2020-09-29 13:19:40,262 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | 2020-09-29 13:19:40,171 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
scm_1       | 2020-09-29 13:19:18,381 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@71b97eeb{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-scm-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3  | 2020-09-29 13:19:30,637 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om3_1       | 2020-09-29 13:19:40,275 [pool-17-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 does not exist. Creating ...
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | 2020-09-29 13:19:40,264 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
scm_1       | 2020-09-29 13:19:18,556 [IPC Server handler 6 on default port 9861] WARN ipc.Server: IPC Server handler 6 on default port 9861, call Call#0 Retry#0 org.apache.hadoop.ozone.protocol.StorageContainerDatanodeProtocol.submitRequest from 172.23.0.3:46634: output error
datanode_3  | 2020-09-29 13:19:30,674 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.RoleInfo: e577ceef-0390-4710-8111-4450d439663a: start LeaderState
om3_1       | 2020-09-29 13:19:40,425 [pool-17-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/in_use.lock acquired by nodename 6@3ead384179a7
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | 2020-09-29 13:19:40,286 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: new om2@group-562213E44849-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
scm_1       | 2020-09-29 13:19:18,582 [IPC Server handler 1 on default port 9861] WARN ipc.Server: IPC Server handler 1 on default port 9861, call Call#0 Retry#0 org.apache.hadoop.ozone.protocol.StorageContainerDatanodeProtocol.submitRequest from 172.23.0.4:45590: output error
datanode_3  | 2020-09-29 13:19:30,682 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker: Starting segment from index:0
om3_1       | 2020-09-29 13:19:40,583 [pool-17-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849 has been successfully formatted.
om1_1       | 2020-09-29 13:20:23,759 [IPC Server handler 77 on default port 9862] INFO ipc.Server: IPC Server handler 77 on default port 9862, call Call#31 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37116
om2_1       | 2020-09-29 13:19:40,287 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
scm_1       | 2020-09-29 13:19:18,611 [IPC Server handler 6 on default port 9861] INFO ipc.Server: IPC Server handler 6 on default port 9861 caught an exception
datanode_3  | 2020-09-29 13:19:30,728 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-LeaderElection2] INFO impl.RaftServerImpl: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C: set configuration 0: [255d076d-3a04-495e-b270-6d55af24551b:172.23.0.3:9858:0, e577ceef-0390-4710-8111-4450d439663a:172.23.0.4:9858:0, 23566c39-7feb-4b14-a96f-35853a3a7668:172.23.0.7:9858:0], old=null at 0
om3_1       | 2020-09-29 13:19:40,585 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om2_1       | 2020-09-29 13:19:40,287 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
scm_1       | java.nio.channels.AsynchronousCloseException
datanode_3  | 2020-09-29 13:19:31,069 [e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/e7d1deba-e36c-47b8-b694-5084e8a8936c/current/log_inprogress_0
om3_1       | 2020-09-29 13:19:40,615 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om2_1       | 2020-09-29 13:19:40,348 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
scm_1       | 	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
datanode_3  | 2020-09-29 13:19:31,124 [e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e577ceef-0390-4710-8111-4450d439663a@group-2CDF37F7EFB0-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0/current/log_inprogress_0
om3_1       | 2020-09-29 13:19:40,698 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | 2020-09-29 13:19:40,357 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
scm_1       | 	at org.apache.hadoop.ipc.Server.channelWrite(Server.java:3550)
datanode_3  | 2020-09-29 13:19:33,741 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE #id: "e7d1deba-e36c-47b8-b694-5084e8a8936c"
om3_1       | 2020-09-29 13:19:40,769 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.om3@group-562213E44849
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om2_1       | 2020-09-29 13:19:40,359 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
scm_1       | 	at org.apache.hadoop.ipc.Server.access$1700(Server.java:139)
datanode_3  | uuid128 {
om3_1       | 2020-09-29 13:19:40,903 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om2_1       | 2020-09-29 13:19:40,359 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
scm_1       | 	at org.apache.hadoop.ipc.Server$Responder.processResponse(Server.java:1620)
datanode_3  |   mostSigBits: -1742366686554863688
om3_1       | 2020-09-29 13:19:40,910 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 2020-09-29 13:19:40,368 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
scm_1       | 	at org.apache.hadoop.ipc.Server$Responder.doRespond(Server.java:1690)
datanode_3  |   leastSigBits: -5290515130484223124
om3_1       | 2020-09-29 13:19:41,004 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 2020-09-29 13:19:40,373 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
scm_1       | 	at org.apache.hadoop.ipc.Server$Connection.sendResponse(Server.java:2785)
datanode_3  | }
om3_1       | 2020-09-29 13:19:41,086 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: new om3@group-562213E44849-SegmentedRaftLogWorker for RaftStorage:Storage Directory /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 2020-09-29 13:19:40,375 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
scm_1       | 	at org.apache.hadoop.ipc.Server$Connection.access$300(Server.java:1762)
datanode_3  | .
om3_1       | 2020-09-29 13:19:41,087 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 2020-09-29 13:19:40,504 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.doResponse(Server.java:1081)
datanode_3  | 2020-09-29 13:19:35,955 [grpc-default-executor-1] INFO impl.FollowerInfo: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668: nextIndex: updateUnconditionally 1 -> 0
om3_1       | 2020-09-29 13:19:41,091 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:19:40,552 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-562213E44849-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
scm_1       | 	at org.apache.hadoop.ipc.Server$Call.doResponse(Server.java:873)
datanode_3  | 2020-09-29 13:20:11,112 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.e577ceef-0390-4710-8111-4450d439663a
om3_1       | 2020-09-29 13:19:41,094 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 2020-09-29 13:19:40,552 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-562213E44849-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om2_1       | 2020-09-29 13:19:40,587 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1       | 	at org.apache.hadoop.ipc.Server$Call.sendResponse(Server.java:859)
datanode_3  | 2020-09-29 13:20:35,956 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=4,entriesCount=1,lastEntry=(t:1, i:0)
om3_1       | 2020-09-29 13:19:41,094 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
om2_1       | 2020-09-29 13:19:40,610 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1016)
datanode_3  | 2020-09-29 13:21:11,422 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=19,entriesCount=1,lastEntry=(t:1, i:1)
om3_1       | 2020-09-29 13:19:41,094 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om2_1       | 2020-09-29 13:19:40,610 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
datanode_3  | 2020-09-29 13:21:11,560 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=20,entriesCount=1,lastEntry=(t:1, i:2)
datanode_3  | 2020-09-29 13:21:12,815 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=21,entriesCount=1,lastEntry=(t:1, i:3)
om2_1       | 2020-09-29 13:19:40,611 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
scm_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
datanode_3  | 2020-09-29 13:21:12,829 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=22,entriesCount=1,lastEntry=(t:1, i:4)
om3_1       | 2020-09-29 13:19:41,094 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om2_1       | 2020-09-29 13:19:40,630 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
scm_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
datanode_3  | 2020-09-29 13:21:16,503 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=24,entriesCount=1,lastEntry=(t:1, i:5)
om3_1       | 2020-09-29 13:19:41,114 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om2_1       | 2020-09-29 13:19:40,812 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.om2@group-562213E44849
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
om1_1       | 2020-09-29 13:20:24,333 [IPC Server handler 2 on default port 9862] INFO ipc.Server: IPC Server handler 2 on default port 9862, call Call#34 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37122
scm_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
datanode_3  | 2020-09-29 13:21:16,511 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=25,entriesCount=1,lastEntry=(t:1, i:6)
om3_1       | 2020-09-29 13:19:41,114 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om2_1       | 2020-09-29 13:19:40,835 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
scm_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
datanode_3  | 2020-09-29 13:21:16,522 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=26,entriesCount=1,lastEntry=(t:1, i:7)
om3_1       | 2020-09-29 13:19:41,115 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om2_1       | 2020-09-29 13:19:40,850 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.om2@group-562213E44849
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
scm_1       | 2020-09-29 13:19:18,621 [IPC Server handler 1 on default port 9861] INFO ipc.Server: IPC Server handler 1 on default port 9861 caught an exception
datanode_3  | 2020-09-29 13:21:16,532 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=27,entriesCount=1,lastEntry=(t:1, i:8)
om3_1       | 2020-09-29 13:19:41,258 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om2_1       | 2020-09-29 13:19:40,892 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
scm_1       | java.nio.channels.AsynchronousCloseException
om3_1       | 2020-09-29 13:19:41,298 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-562213E44849-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
om2_1       | 2020-09-29 13:19:41,812 [Listener at om2/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
scm_1       | 	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
om3_1       | 2020-09-29 13:19:41,298 [pool-17-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-562213E44849-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om2_1       | 2020-09-29 13:19:42,073 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
scm_1       | 	at org.apache.hadoop.ipc.Server.channelWrite(Server.java:3550)
datanode_3  | 2020-09-29 13:21:42,918 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=38,entriesCount=1,lastEntry=(t:1, i:9)
om3_1       | 2020-09-29 13:19:41,327 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om2_1       | 2020-09-29 13:19:42,073 [Listener at om2/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
scm_1       | 	at org.apache.hadoop.ipc.Server.access$1700(Server.java:139)
datanode_3  | 2020-09-29 13:21:42,961 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=39,entriesCount=1,lastEntry=(t:1, i:10)
om3_1       | 2020-09-29 13:19:41,354 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
om2_1       | 2020-09-29 13:19:42,207 [Listener at om2/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om2/172.23.0.6:9862
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
scm_1       | 	at org.apache.hadoop.ipc.Server$Responder.processResponse(Server.java:1620)
datanode_3  | 2020-09-29 13:21:42,990 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=40,entriesCount=1,lastEntry=(t:1, i:11)
om3_1       | 2020-09-29 13:19:41,358 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om2_1       | 2020-09-29 13:19:42,215 [Listener at om2/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om2 at port 9872
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
scm_1       | 	at org.apache.hadoop.ipc.Server$Responder.doRespond(Server.java:1690)
om3_1       | 2020-09-29 13:19:41,359 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
datanode_3  | 2020-09-29 13:21:43,115 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=41,entriesCount=1,lastEntry=(t:1, i:12)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
om2_1       | 2020-09-29 13:19:42,221 [Listener at om2/9862] INFO impl.RaftServerImpl: om2@group-562213E44849: start as a follower, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
scm_1       | 	at org.apache.hadoop.ipc.Server$Connection.sendResponse(Server.java:2785)
om3_1       | 2020-09-29 13:19:41,363 [pool-17-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3  | 2020-09-29 13:21:43,124 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=42,entriesCount=1,lastEntry=(t:1, i:13)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
om2_1       | 2020-09-29 13:19:42,229 [Listener at om2/9862] INFO impl.RaftServerImpl: om2@group-562213E44849: changes role from      null to FOLLOWER at term 0 for startAsFollower
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
scm_1       | 	at org.apache.hadoop.ipc.Server$Connection.access$300(Server.java:1762)
om3_1       | 2020-09-29 13:19:41,482 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.om3@group-562213E44849
datanode_3  | 2020-09-29 13:21:43,139 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=43,entriesCount=1,lastEntry=(t:1, i:14)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
om2_1       | 2020-09-29 13:19:42,237 [Listener at om2/9862] INFO impl.RoleInfo: om2: start FollowerState
om2_1       | 2020-09-29 13:19:42,239 [Listener at om2/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-562213E44849,id=om2
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.doResponse(Server.java:1081)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | 2020-09-29 13:19:41,501 [pool-17-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.om3@group-562213E44849
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
om2_1       | 2020-09-29 13:19:42,254 [Listener at om2/9862] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.om2@group-562213E44849
datanode_3  | 2020-09-29 13:21:47,000 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=45,entriesCount=1,lastEntry=(t:1, i:15)
scm_1       | 	at org.apache.hadoop.ipc.Server$Call.doResponse(Server.java:873)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 2020-09-29 13:19:41,714 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
om2_1       | 2020-09-29 13:19:42,256 [Listener at om2/9862] INFO impl.RaftServerProxy: om2: start RPC server
datanode_3  | 2020-09-29 13:21:47,016 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=46,entriesCount=1,lastEntry=(t:1, i:16)
scm_1       | 	at org.apache.hadoop.ipc.Server$Call.sendResponse(Server.java:859)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | 2020-09-29 13:19:41,790 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
datanode_3  | 2020-09-29 13:21:47,024 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=47,entriesCount=1,lastEntry=(t:1, i:17)
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1016)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | 2020-09-29 13:19:42,410 [Listener at om3/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
om2_1       | 2020-09-29 13:19:42,469 [Listener at om2/9862] INFO server.GrpcService: om2: GrpcService started, listening on 0.0.0.0/0.0.0.0:9872
datanode_3  | 2020-09-29 13:21:47,154 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=48,entriesCount=1,lastEntry=(t:1, i:18)
scm_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | 2020-09-29 13:19:42,651 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om2_1       | 2020-09-29 13:19:42,582 [Listener at om2/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
datanode_3  | 2020-09-29 13:21:47,164 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=49,entriesCount=1,lastEntry=(t:1, i:19)
scm_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
scm_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 2020-09-29 13:20:24,969 [IPC Server handler 3 on default port 9862] INFO ipc.Server: IPC Server handler 3 on default port 9862, call Call#37 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37128
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
om2_1       | 2020-09-29 13:19:42,583 [Listener at om2/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_3  | 2020-09-29 13:21:47,181 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=50,entriesCount=1,lastEntry=(t:1, i:20)
om3_1       | 2020-09-29 13:19:42,652 [Listener at om3/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
scm_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
om2_1       | 2020-09-29 13:19:42,743 [Listener at om2/9862] INFO util.log: Logging initialized @23731ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_3  | 2020-09-29 13:21:51,251 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=52,entriesCount=1,lastEntry=(t:1, i:21)
om3_1       | 2020-09-29 13:19:42,864 [Listener at om3/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om3/172.23.0.2:9862
scm_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
datanode_3  | 2020-09-29 13:21:51,267 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=53,entriesCount=1,lastEntry=(t:1, i:22)
om3_1       | 2020-09-29 13:19:42,874 [Listener at om3/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om3 at port 9872
om3_1       | 2020-09-29 13:19:42,887 [Listener at om3/9862] INFO impl.RaftServerImpl: om3@group-562213E44849: start as a follower, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | 2020-09-29 13:19:43,407 [Thread-12] INFO impl.FollowerState: om2@group-562213E44849-FollowerState: change to CANDIDATE, lastRpcTime:1170ms, electionTimeout:1167ms
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | 2020-09-29 13:19:42,890 [Listener at om3/9862] INFO impl.RaftServerImpl: om3@group-562213E44849: changes role from      null to FOLLOWER at term 0 for startAsFollower
scm_1       | 2020-09-29 13:19:19,039 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@6113a26f{scm,/,file:///tmp/jetty-0_0_0_0-9876-hadoop-hdds-server-scm-1_1_0-SNAPSHOT_jar-_-any-11842542646983531967.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-hdds-server-scm-1.1.0-SNAPSHOT.jar!/webapps/scm}
om2_1       | 2020-09-29 13:19:43,423 [Thread-12] INFO impl.RoleInfo: om2: shutdown FollowerState
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
datanode_3  | 2020-09-29 13:21:51,288 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=54,entriesCount=1,lastEntry=(t:1, i:23)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
om3_1       | 2020-09-29 13:19:42,895 [Listener at om3/9862] INFO impl.RoleInfo: om3: start FollowerState
datanode_3  | 2020-09-29 13:21:51,377 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=55,entriesCount=1,lastEntry=(t:1, i:24)
om2_1       | 2020-09-29 13:19:43,429 [Thread-12] INFO impl.RaftServerImpl: om2@group-562213E44849: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
om2_1       | 2020-09-29 13:19:43,437 [Thread-12] INFO impl.RoleInfo: om2: start LeaderElection
scm_1       | 2020-09-29 13:19:19,181 [Listener at 0.0.0.0/9860] INFO server.AbstractConnector: Started ServerConnector@2a8f8555{HTTP/1.1,[http/1.1]}{0.0.0.0:9876}
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
datanode_3  | 2020-09-29 13:21:51,394 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=56,entriesCount=1,lastEntry=(t:1, i:25)
om3_1       | 2020-09-29 13:19:42,904 [Listener at om3/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-562213E44849,id=om3
om2_1       | 2020-09-29 13:19:43,470 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: begin an election at term 1 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
scm_1       | 2020-09-29 13:19:19,182 [Listener at 0.0.0.0/9860] INFO server.Server: Started @12408ms
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
datanode_3  | 2020-09-29 13:21:51,398 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=57,entriesCount=1,lastEntry=(t:1, i:26)
om3_1       | 2020-09-29 13:19:42,914 [Listener at om3/9862] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.om3@group-562213E44849
om2_1       | 2020-09-29 13:19:43,484 [Listener at om2/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
scm_1       | 2020-09-29 13:19:19,241 [Listener at 0.0.0.0/9860] INFO impl.MetricsSinkAdapter: Sink prometheus started
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
datanode_3  | 2020-09-29 13:21:54,694 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=59,entriesCount=1,lastEntry=(t:1, i:27)
om3_1       | 2020-09-29 13:19:42,929 [Listener at om3/9862] INFO impl.RaftServerProxy: om3: start RPC server
om2_1       | 2020-09-29 13:19:43,534 [Listener at om2/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
scm_1       | 2020-09-29 13:19:19,241 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Registered sink prometheus
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
datanode_3  | 2020-09-29 13:21:54,694 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=60,entriesCount=1,lastEntry=(t:1, i:28)
om3_1       | 2020-09-29 13:19:43,151 [Listener at om3/9862] INFO server.GrpcService: om3: GrpcService started, listening on 0.0.0.0/0.0.0.0:9872
om2_1       | 2020-09-29 13:19:43,593 [Listener at om2/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
scm_1       | 2020-09-29 13:19:19,247 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: HTTP server of scm listening at http://0.0.0.0:9876
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
datanode_3  | 2020-09-29 13:21:54,712 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=61,entriesCount=1,lastEntry=(t:1, i:29)
om3_1       | 2020-09-29 13:19:43,289 [Listener at om3/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om2_1       | 2020-09-29 13:19:43,602 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
scm_1       | 2020-09-29 13:19:19,318 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6c24f61d] INFO util.JvmPauseMonitor: Starting JVM pause monitor
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
datanode_3  | 2020-09-29 13:22:00,594 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=64,entriesCount=1,lastEntry=(t:1, i:30)
om3_1       | 2020-09-29 13:19:43,292 [Listener at om3/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om2_1       | 2020-09-29 13:19:43,602 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
scm_1       | 2020-09-29 13:19:20,186 [IPC Server handler 2 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/255d076d-3a04-495e-b270-6d55af24551b
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
datanode_3  | 2020-09-29 13:22:00,611 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=65,entriesCount=1,lastEntry=(t:1, i:31)
om3_1       | 2020-09-29 13:19:43,437 [Listener at om3/9862] INFO util.log: Logging initialized @23651ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1       | 2020-09-29 13:19:43,612 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
scm_1       | 2020-09-29 13:19:20,228 [IPC Server handler 2 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
datanode_3  | 2020-09-29 13:22:00,620 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=66,entriesCount=1,lastEntry=(t:1, i:32)
om3_1       | 2020-09-29 13:19:43,997 [Thread-12] INFO impl.FollowerState: om3@group-562213E44849-FollowerState: change to CANDIDATE, lastRpcTime:1102ms, electionTimeout:1090ms
om2_1       | 2020-09-29 13:19:44,046 [Listener at om2/9862] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
scm_1       | 2020-09-29 13:19:20,228 [IPC Server handler 7 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/23566c39-7feb-4b14-a96f-35853a3a7668
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
datanode_3  | 2020-09-29 13:22:00,636 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=67,entriesCount=1,lastEntry=(t:1, i:33)
om3_1       | 2020-09-29 13:19:44,000 [Thread-12] INFO impl.RoleInfo: om3: shutdown FollowerState
om2_1       | 2020-09-29 13:19:44,101 [Listener at om2/9862] INFO http.HttpServer2: Jetty bound to port 9874
om2_1       | 2020-09-29 13:19:44,105 [Listener at om2/9862] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
scm_1       | 2020-09-29 13:19:20,257 [IPC Server handler 7 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3  | 2020-09-29 13:22:03,935 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=69,entriesCount=1,lastEntry=(t:1, i:34)
om3_1       | 2020-09-29 13:19:44,018 [Thread-12] INFO impl.RaftServerImpl: om3@group-562213E44849: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
om3_1       | 2020-09-29 13:19:44,036 [Thread-12] INFO impl.RoleInfo: om3: start LeaderElection
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
scm_1       | 2020-09-29 13:19:20,306 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 1 DataNodes registered, 3 required.
s3g_1       | 2020-09-29 13:20:25,781 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
om3_1       | 2020-09-29 13:19:44,078 [om3@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om3@group-562213E44849-LeaderElection1: begin an election at term 1 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
om2_1       | 2020-09-29 13:19:44,448 [Listener at om2/9862] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_3  | 2020-09-29 13:22:03,937 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=70,entriesCount=1,lastEntry=(t:1, i:35)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
scm_1       | 2020-09-29 13:19:20,511 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 2 DataNodes registered, 3 required.
s3g_1       | <Error>
om3_1       | 2020-09-29 13:19:44,129 [Listener at om3/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om2_1       | 2020-09-29 13:19:44,470 [Listener at om2/9862] INFO server.session: No SessionScavenger set, using defaults
datanode_3  | 2020-09-29 13:22:03,956 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=71,entriesCount=1,lastEntry=(t:1, i:36)
om1_1       | 2020-09-29 13:20:25,022 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketCreateRequest: Bucket creation failed for bucket:bucket-65934 in volume:s3v
scm_1       | 2020-09-29 13:19:20,512 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
s3g_1       |   <Code>InvalidBucketName</Code>
om3_1       | 2020-09-29 13:19:44,162 [Listener at om3/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om2_1       | 2020-09-29 13:19:44,482 [Listener at om2/9862] INFO server.session: node0 Scavenging every 600000ms
datanode_3  | 2020-09-29 13:22:03,960 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=72,entriesCount=1,lastEntry=(t:1, i:37)
om1_1       | BUCKET_ALREADY_EXISTS org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
scm_1       | 2020-09-29 13:19:20,553 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
s3g_1       |   <Message>The specified bucket is not valid.</Message>
s3g_1       |   <Resource>bucket_1</Resource>
om2_1       | 2020-09-29 13:19:44,586 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@d763b06{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3  | 2020-09-29 13:22:09,838 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=75,entriesCount=1,lastEntry=(t:1, i:38)
om1_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketCreateRequest.validateAndUpdateCache(OMBucketCreateRequest.java:192)
s3g_1       |   <RequestId/>
om3_1       | 2020-09-29 13:19:44,201 [Listener at om3/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
scm_1       | 2020-09-29 13:19:20,629 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=c9d2cc24-8563-4f80-993e-0a57b437417d to datanode:255d076d-3a04-495e-b270-6d55af24551b
om2_1       | 2020-09-29 13:19:44,590 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3c04ddda{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3  | 2020-09-29 13:22:09,839 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=76,entriesCount=1,lastEntry=(t:1, i:39)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | </Error>
om3_1       | 2020-09-29 13:19:44,214 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
scm_1       | 2020-09-29 13:19:20,812 [RatisPipelineUtilsThread] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: c9d2cc24-8563-4f80-993e-0a57b437417d, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:, CreationTimestamp2020-09-29T13:19:20.609620Z]
om2_1       | 2020-09-29 13:19:44,864 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); om2@group-562213E44849:t1, leader=null, voted=om2, raftlog=om2@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
datanode_3  | 2020-09-29 13:22:09,840 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=77,entriesCount=1,lastEntry=(t:1, i:40)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 
om3_1       | 2020-09-29 13:19:44,214 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
scm_1       | 2020-09-29 13:19:20,885 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=9f7aeffb-83ae-4df2-9beb-81e2aef6bdec to datanode:23566c39-7feb-4b14-a96f-35853a3a7668
om2_1       | 2020-09-29 13:19:44,868 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: begin an election at term 2 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
datanode_3  | 2020-09-29 13:22:09,895 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=78,entriesCount=1,lastEntry=(t:1, i:41)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 2020-09-29 13:20:28,393 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-81259, with Versioning false and Storage Type set to DISK and Encryption set to false 
om3_1       | 2020-09-29 13:19:44,214 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
scm_1       | 2020-09-29 13:19:20,908 [RatisPipelineUtilsThread] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 9f7aeffb-83ae-4df2-9beb-81e2aef6bdec, Nodes: 23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:, CreationTimestamp2020-09-29T13:19:20.884970Z]
om2_1       | 2020-09-29 13:19:45,183 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@2e4d252{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-hadoop-ozone-ozone-manager-1_1_0-SNAPSHOT_jar-_-any-16038019373169173823.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/ozoneManager}
datanode_3  | 2020-09-29 13:22:09,921 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=79,entriesCount=1,lastEntry=(t:1, i:42)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 2020-09-29 13:20:28,423 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-81259
om3_1       | 2020-09-29 13:19:44,456 [Listener at om3/9862] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
scm_1       | 2020-09-29 13:19:20,979 [IPC Server handler 8 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/e577ceef-0390-4710-8111-4450d439663a
om2_1       | 2020-09-29 13:19:45,208 [Listener at om2/9862] INFO server.AbstractConnector: Started ServerConnector@3b11deb6{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
datanode_3  | 2020-09-29 13:22:09,922 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=80,entriesCount=1,lastEntry=(t:1, i:43)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 2020-09-29 13:20:29,070 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-85066, with Versioning false and Storage Type set to DISK and Encryption set to false 
om3_1       | 2020-09-29 13:19:44,568 [Listener at om3/9862] INFO http.HttpServer2: Jetty bound to port 9874
scm_1       | 2020-09-29 13:19:20,979 [IPC Server handler 8 on default port 9861] INFO node.SCMNodeManager: Registered Data node : e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}
om2_1       | 2020-09-29 13:19:45,208 [Listener at om2/9862] INFO server.Server: Started @26196ms
datanode_3  | 2020-09-29 13:22:13,431 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=82,entriesCount=1,lastEntry=(t:1, i:44)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 2020-09-29 13:20:29,093 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-85066
om3_1       | 2020-09-29 13:19:44,577 [Listener at om3/9862] INFO server.Server: jetty-9.4.26.v20200117; built: 2020-01-17T12:35:33.676Z; git: 7b38981d25d14afb4a12ff1f2596756144edf695; jvm 11.0.7+10-LTS
scm_1       | 2020-09-29 13:19:20,982 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0 to datanode:e577ceef-0390-4710-8111-4450d439663a
om2_1       | 2020-09-29 13:19:45,224 [Listener at om2/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_3  | 2020-09-29 13:22:13,484 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=83,entriesCount=1,lastEntry=(t:1, i:45)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:20:30,613 [qtp337533935-20] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
om3_1       | 2020-09-29 13:19:44,822 [Listener at om3/9862] INFO server.session: DefaultSessionIdManager workerName=node0
scm_1       | 2020-09-29 13:19:21,009 [RatisPipelineUtilsThread] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0, Nodes: e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:, CreationTimestamp2020-09-29T13:19:20.982031Z]
om2_1       | 2020-09-29 13:19:45,224 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_3  | 2020-09-29 13:22:13,508 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=84,entriesCount=1,lastEntry=(t:1, i:46)
om1_1       | 2020-09-29 13:20:25,523 [IPC Server handler 34 on default port 9862] INFO ipc.Server: IPC Server handler 34 on default port 9862, call Call#40 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37134
s3g_1       | <Error>
om3_1       | 2020-09-29 13:19:44,822 [Listener at om3/9862] INFO server.session: No SessionScavenger set, using defaults
scm_1       | 2020-09-29 13:19:21,008 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
om2_1       | 2020-09-29 13:19:45,229 [Listener at om2/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
datanode_3  | 2020-09-29 13:22:13,537 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=85,entriesCount=1,lastEntry=(t:1, i:47)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       |   <Code>NoSuchBucket</Code>
om3_1       | 2020-09-29 13:19:44,846 [Listener at om3/9862] INFO server.session: node0 Scavenging every 600000ms
scm_1       | 2020-09-29 13:19:21,008 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 3 DataNodes registered, 3 required.
om2_1       | 2020-09-29 13:19:45,229 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
datanode_3  | 2020-09-29 13:22:13,558 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=86,entriesCount=1,lastEntry=(t:1, i:48)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       |   <Message>The specified bucket does not exist</Message>
om3_1       | 2020-09-29 13:19:44,928 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@d763b06{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
scm_1       | 2020-09-29 13:19:21,019 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: DataNodeSafeModeRule rule is successfully validated
om2_1       | 2020-09-29 13:19:45,231 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
datanode_3  | 2020-09-29 13:22:16,889 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=88,entriesCount=1,lastEntry=(t:1, i:49)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       |   <Resource>nosuchbucket</Resource>
om3_1       | 2020-09-29 13:19:44,937 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3c04ddda{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
scm_1       | 2020-09-29 13:19:21,026 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: All SCM safe mode pre check rules have passed
om2_1       | 2020-09-29 13:19:45,642 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@65b7678a] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_3  | 2020-09-29 13:22:16,902 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=89,entriesCount=1,lastEntry=(t:1, i:50)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       |   <RequestId/>
om3_1       | 2020-09-29 13:19:45,179 [om3@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om3@group-562213E44849-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); om3@group-562213E44849:t1, leader=null, voted=om3, raftlog=om3@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
scm_1       | 2020-09-29 13:19:21,037 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=e7d1deba-e36c-47b8-b694-5084e8a8936c to datanode:255d076d-3a04-495e-b270-6d55af24551b
om2_1       | 2020-09-29 13:19:45,819 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.om2
datanode_3  | 2020-09-29 13:22:16,904 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=90,entriesCount=1,lastEntry=(t:1, i:51)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | </Error>
om3_1       | 2020-09-29 13:19:45,205 [om3@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om3@group-562213E44849-LeaderElection1: begin an election at term 2 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
scm_1       | 2020-09-29 13:19:21,051 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=e7d1deba-e36c-47b8-b694-5084e8a8936c to datanode:23566c39-7feb-4b14-a96f-35853a3a7668
om2_1       | 2020-09-29 13:19:45,819 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.om2
datanode_3  | 2020-09-29 13:22:16,920 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=91,entriesCount=1,lastEntry=(t:1, i:52)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 
om3_1       | 2020-09-29 13:19:45,531 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@2e4d252{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-hadoop-ozone-ozone-manager-1_1_0-SNAPSHOT_jar-_-any-10884711393614342049.dir/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hadoop-ozone-ozone-manager-1.1.0-SNAPSHOT.jar!/webapps/ozoneManager}
scm_1       | 2020-09-29 13:19:21,051 [RatisPipelineUtilsThread] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=e7d1deba-e36c-47b8-b694-5084e8a8936c to datanode:e577ceef-0390-4710-8111-4450d439663a
om2_1       | 2020-09-29 13:19:46,023 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: Election TIMEOUT; received 1 response(s) [om2<-om1#0:FAIL-t2] and 0 exception(s); om2@group-562213E44849:t2, leader=null, voted=om2, raftlog=om2@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
datanode_3  | 2020-09-29 13:22:26,760 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=95,entriesCount=1,lastEntry=(t:1, i:53)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
s3g_1       | 2020-09-29 13:20:33,275 [qtp337533935-24] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-93689, with Versioning false and Storage Type set to DISK and Encryption set to false 
om3_1       | 2020-09-29 13:19:45,581 [Listener at om3/9862] INFO server.AbstractConnector: Started ServerConnector@3b11deb6{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
scm_1       | 2020-09-29 13:19:21,052 [RatisPipelineUtilsThread] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:ALLOCATED, leaderId:, CreationTimestamp2020-09-29T13:19:21.037864Z]
om2_1       | 2020-09-29 13:19:46,037 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: begin an election at term 3 for -1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
datanode_3  | 2020-09-29 13:22:26,789 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=96,entriesCount=1,lastEntry=(t:1, i:54)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
s3g_1       | 2020-09-29 13:20:33,292 [qtp337533935-24] INFO endpoint.BucketEndpoint: Location is /bucket-93689
om3_1       | 2020-09-29 13:19:45,588 [Listener at om3/9862] INFO server.Server: Started @25795ms
scm_1       | 2020-09-29 13:19:24,509 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: 75cb0045-aaa0-45f2-9e1c-2cdf37f7efb0, Nodes: e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:20.982031Z] moved to OPEN state
om2_1       | 2020-09-29 13:19:46,150 [om2@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om2@group-562213E44849-LeaderElection1: Election PASSED; received 2 response(s) [om2<-om1#0:FAIL-t3, om2<-om3#0:OK-t3] and 0 exception(s); om2@group-562213E44849:t3, leader=null, voted=om2, raftlog=om2@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
datanode_3  | 2020-09-29 13:22:26,794 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=97,entriesCount=1,lastEntry=(t:1, i:55)
datanode_3  | 2020-09-29 13:22:26,886 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=98,entriesCount=1,lastEntry=(t:1, i:56)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 2020-09-29 13:20:34,510 [qtp337533935-20] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
om3_1       | 2020-09-29 13:19:45,607 [Listener at om3/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
scm_1       | 2020-09-29 13:19:24,520 [EventQueue-OpenPipelineForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: AtleastOneDatanodeReportedRule rule is successfully validated
datanode_3  | 2020-09-29 13:22:26,888 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=99,entriesCount=1,lastEntry=(t:1, i:57)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om3_1       | 2020-09-29 13:19:45,607 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
scm_1       | 2020-09-29 13:19:24,543 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
s3g_1       | <Error>
om2_1       | 2020-09-29 13:19:46,150 [om2@group-562213E44849-LeaderElection1] INFO impl.RoleInfo: om2: shutdown LeaderElection
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
datanode_3  | 2020-09-29 13:22:26,894 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=100,entriesCount=1,lastEntry=(t:1, i:58)
om3_1       | 2020-09-29 13:19:45,613 [Listener at om3/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
scm_1       | 2020-09-29 13:19:33,554 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:ALLOCATED, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037864Z] moved to OPEN state
s3g_1       |   <Code>NoSuchBucket</Code>
om2_1       | 2020-09-29 13:19:46,154 [om2@group-562213E44849-LeaderElection1] INFO impl.RaftServerImpl: om2@group-562213E44849: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
datanode_3  | 2020-09-29 13:22:30,188 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=102,entriesCount=1,lastEntry=(t:1, i:59)
om3_1       | 2020-09-29 13:19:45,646 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
scm_1       | 2020-09-29 13:19:33,565 [EventQueue-OpenPipelineForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: AtleastOneDatanodeReportedRule rule is successfully validated
s3g_1       |   <Message>The specified bucket does not exist</Message>
om2_1       | 2020-09-29 13:19:46,154 [om2@group-562213E44849-LeaderElection1] INFO impl.RaftServerImpl: om2@group-562213E44849: change Leader from null to om2 at term 3 for becomeLeader, leader elected after 6219ms
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
datanode_3  | 2020-09-29 13:22:30,203 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=103,entriesCount=1,lastEntry=(t:1, i:60)
om3_1       | 2020-09-29 13:19:45,659 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
scm_1       | 2020-09-29 13:19:33,566 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
s3g_1       |   <Resource>ozonenosuchbucketqqweqwe</Resource>
om2_1       | 2020-09-29 13:19:46,162 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
datanode_3  | 2020-09-29 13:22:30,203 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=104,entriesCount=1,lastEntry=(t:1, i:61)
om3_1       | 2020-09-29 13:19:45,772 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.om3
scm_1       | 2020-09-29 13:19:33,567 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: HealthyPipelineSafeModeRule rule is successfully validated
s3g_1       |   <RequestId/>
om2_1       | 2020-09-29 13:19:46,163 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
datanode_3  | 2020-09-29 13:22:30,227 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=105,entriesCount=1,lastEntry=(t:1, i:62)
om3_1       | 2020-09-29 13:19:46,015 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@65b7678a] INFO util.JvmPauseMonitor: Starting JVM pause monitor
scm_1       | 2020-09-29 13:19:33,567 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
s3g_1       | </Error>
om2_1       | 2020-09-29 13:19:46,165 [om2@group-562213E44849-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.om2@group-562213E44849
om1_1       | 2020-09-29 13:20:28,379 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#42 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37148
datanode_3  | 2020-09-29 13:22:36,882 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=108,entriesCount=1,lastEntry=(t:1, i:63)
om3_1       | 2020-09-29 13:19:46,072 [om3@group-562213E44849-LeaderElection1] INFO impl.LeaderElection: om3@group-562213E44849-LeaderElection1: Election REJECTED; received 2 response(s) [om3<-om1#0:FAIL-t2, om3<-om2#0:FAIL-t2] and 0 exception(s); om3@group-562213E44849:t2, leader=null, voted=om3, raftlog=om3@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null
scm_1       | 2020-09-29 13:19:33,567 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
s3g_1       | 
om2_1       | 2020-09-29 13:19:46,180 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 4096 (default)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
datanode_3  | 2020-09-29 13:22:36,921 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=109,entriesCount=1,lastEntry=(t:1, i:64)
datanode_3  | 2020-09-29 13:22:36,925 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=110,entriesCount=1,lastEntry=(t:1, i:65)
scm_1       | 2020-09-29 13:19:52,765 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: 9f7aeffb-83ae-4df2-9beb-81e2aef6bdec, Nodes: 23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:23566c39-7feb-4b14-a96f-35853a3a7668, CreationTimestamp2020-09-29T13:19:20.884970Z] moved to OPEN state
s3g_1       | 2020-09-29 13:20:34,510 [qtp337533935-20] ERROR endpoint.BucketEndpoint: Exception occurred in headBucket
s3g_1       | org.apache.hadoop.ozone.s3.exception.OS3Exception
om3_1       | 2020-09-29 13:19:46,073 [om3@group-562213E44849-LeaderElection1] INFO impl.RaftServerImpl: om3@group-562213E44849: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
datanode_3  | 2020-09-29 13:22:36,931 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=111,entriesCount=1,lastEntry=(t:1, i:66)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.apache.hadoop.ozone.s3.exception.S3ErrorTable.newError(S3ErrorTable.java:112)
om2_1       | 2020-09-29 13:19:46,185 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 64MB (=67108864) (default)
scm_1       | 2020-09-29 13:19:52,865 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: c9d2cc24-8563-4f80-993e-0a57b437417d, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:ALLOCATED, leaderId:255d076d-3a04-495e-b270-6d55af24551b, CreationTimestamp2020-09-29T13:19:20.609620Z] moved to OPEN state
om3_1       | 2020-09-29 13:19:46,073 [om3@group-562213E44849-LeaderElection1] INFO impl.RoleInfo: om3: shutdown LeaderElection
datanode_3  | 2020-09-29 13:22:37,062 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=112,entriesCount=1,lastEntry=(t:1, i:67)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.EndpointBase.getBucket(EndpointBase.java:72)
om2_1       | 2020-09-29 13:19:46,255 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 10s (default)
scm_1       | 2020-09-29 13:21:42,616 [IPC Server handler 21 on default port 9863] INFO server.SCMBlockProtocolServer: SCM is informed by OM to delete 5 blocks
om3_1       | 2020-09-29 13:19:46,073 [om3@group-562213E44849-LeaderElection1] INFO impl.RoleInfo: om3: start FollowerState
datanode_3  | 2020-09-29 13:22:37,105 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=113,entriesCount=1,lastEntry=(t:1, i:68)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.BucketEndpoint.head(BucketEndpoint.java:252)
om2_1       | 2020-09-29 13:19:46,255 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1       | 2020-09-29 13:21:42,624 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948411486044169 bcsId: 0
om3_1       | 2020-09-29 13:19:46,131 [grpc-default-executor-0] INFO impl.RaftServerImpl: om3@group-562213E44849: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:om2
datanode_3  | 2020-09-29 13:22:37,106 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=114,entriesCount=1,lastEntry=(t:1, i:69)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
om2_1       | 2020-09-29 13:19:46,256 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1       | 2020-09-29 13:21:42,635 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948412359639051 bcsId: 0
om3_1       | 2020-09-29 13:19:46,131 [grpc-default-executor-0] INFO impl.RoleInfo: om3: shutdown FollowerState
datanode_3  | 2020-09-29 13:22:37,109 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=115,entriesCount=1,lastEntry=(t:1, i:70)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
om2_1       | 2020-09-29 13:19:46,294 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1       | 2020-09-29 13:21:42,645 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948412589342732 bcsId: 0
om3_1       | 2020-09-29 13:19:46,131 [grpc-default-executor-0] INFO impl.RoleInfo: om3: start FollowerState
datanode_3  | 2020-09-29 13:22:37,112 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=116,entriesCount=1,lastEntry=(t:1, i:71)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
om2_1       | 2020-09-29 13:19:46,295 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om2_1       | 2020-09-29 13:19:46,297 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
om3_1       | 2020-09-29 13:19:46,132 [grpc-default-executor-0] INFO impl.RaftServerImpl:  FOLLOWER om3@group-562213E44849:t3, leader=null, voted=null, raftlog=om3@group-562213E44849-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null RUNNING priority:0 candidate:om2:om2:9872:0 candidatePriority:0 compare:0
datanode_3  | 2020-09-29 13:22:37,168 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=117,entriesCount=1,lastEntry=(t:1, i:72)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
om2_1       | 2020-09-29 13:19:46,304 [om2@group-562213E44849-LeaderElection1] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
scm_1       | 2020-09-29 13:21:42,646 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948409469108226 bcsId: 0
om3_1       | 2020-09-29 13:19:46,131 [Thread-131] INFO impl.FollowerState: om3@group-562213E44849-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
datanode_3  | 2020-09-29 13:22:37,211 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=118,entriesCount=1,lastEntry=(t:1, i:73)
datanode_3  | 2020-09-29 13:22:37,333 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=119,entriesCount=1,lastEntry=(t:1, i:74)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
om2_1       | 2020-09-29 13:19:46,305 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
scm_1       | 2020-09-29 13:21:42,646 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948413019324431 bcsId: 0,conID: 1 locID: 104948412999794701 bcsId: 0,conID: 1 locID: 104948413004578830 bcsId: 0
datanode_3  | 2020-09-29 13:22:37,358 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=120,entriesCount=1,lastEntry=(t:1, i:75)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om3_1       | 2020-09-29 13:19:46,595 [grpc-default-executor-0] INFO impl.RaftServerImpl: om3@group-562213E44849: change Leader from null to om2 at term 3 for appendEntries, leader elected after 6010ms
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
om2_1       | 2020-09-29 13:19:46,306 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1       | 2020-09-29 13:22:42,557 [IPC Server handler 21 on default port 9863] INFO server.SCMBlockProtocolServer: SCM is informed by OM to delete 1 blocks
datanode_3  | 2020-09-29 13:22:37,381 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=121,entriesCount=1,lastEntry=(t:1, i:76)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om3_1       | 2020-09-29 13:19:46,644 [grpc-default-executor-0] INFO impl.RaftServerImpl: om3@group-562213E44849: set configuration 0: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null at 0
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
om2_1       | 2020-09-29 13:19:46,306 [om2@group-562213E44849-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.om2@group-562213E44849
scm_1       | 2020-09-29 13:22:42,558 [IPC Server handler 21 on default port 9863] INFO block.BlockManagerImpl: Deleting blocks conID: 1 locID: 104948416237928472 bcsId: 0
datanode_3  | 2020-09-29 13:22:37,408 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=122,entriesCount=1,lastEntry=(t:1, i:77)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | 2020-09-29 13:19:46,670 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: om3@group-562213E44849-SegmentedRaftLogWorker: Starting segment from index:0
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
om2_1       | 2020-09-29 13:19:46,328 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1       | 2020-09-29 13:24:33,599 [EventQueue-Delayed safe mode statusForReplicationManager] INFO container.ReplicationManager: Starting Replication Monitor Thread.
datanode_3  | 2020-09-29 13:22:37,436 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=123,entriesCount=1,lastEntry=(t:1, i:78)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 2020-09-29 13:19:47,077 [om3@group-562213E44849-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om3@group-562213E44849-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/current/log_inprogress_0
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
om2_1       | 2020-09-29 13:19:46,328 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1       | 2020-09-29 13:24:33,606 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 5 milliseconds for processing 1 containers.
datanode_3  | 2020-09-29 13:22:37,506 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=124,entriesCount=1,lastEntry=(t:1, i:79)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
om2_1       | 2020-09-29 13:19:46,329 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
scm_1       | 2020-09-29 13:29:33,608 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 0 milliseconds for processing 1 containers.
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | 2020-09-29 13:20:25,030 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketCreateRequest: Bucket creation failed for bucket:bucket-65934 in volume:s3v
datanode_3  | 2020-09-29 13:22:37,518 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=125,entriesCount=1,lastEntry=(t:1, i:80)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
om2_1       | 2020-09-29 13:19:46,330 [om2@group-562213E44849-LeaderElection1] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
scm_1       | 2020-09-29 13:34:33,609 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 0 milliseconds for processing 1 containers.
om1_1       | 2020-09-29 13:20:29,045 [IPC Server handler 2 on default port 9862] INFO ipc.Server: IPC Server handler 2 on default port 9862, call Call#45 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37154
om3_1       | BUCKET_ALREADY_EXISTS org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
datanode_3  | 2020-09-29 13:22:43,596 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=128,entriesCount=1,lastEntry=(t:1, i:81)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
om2_1       | 2020-09-29 13:19:46,330 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om2_1       | 2020-09-29 13:19:46,334 [om2@group-562213E44849-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketCreateRequest.validateAndUpdateCache(OMBucketCreateRequest.java:192)
datanode_3  | 2020-09-29 13:22:43,606 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=129,entriesCount=1,lastEntry=(t:1, i:82)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
om2_1       | 2020-09-29 13:19:46,343 [om2@group-562213E44849-LeaderElection1] INFO impl.RoleInfo: om2: start LeaderState
scm_1       | 2020-09-29 13:39:33,609 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 0 milliseconds for processing 1 containers.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
datanode_3  | 2020-09-29 13:22:43,611 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=130,entriesCount=1,lastEntry=(t:1, i:83)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
om2_1       | 2020-09-29 13:19:46,373 [om2@group-562213E44849-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: om2@group-562213E44849-SegmentedRaftLogWorker: Starting segment from index:0
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:22:43,673 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=131,entriesCount=1,lastEntry=(t:1, i:84)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
om2_1       | 2020-09-29 13:19:46,463 [om2@group-562213E44849-LeaderElection1] INFO impl.RaftServerImpl: om2@group-562213E44849: set configuration 0: [om1:om1:9872:0, om3:om3:9872:0, om2:om2:9872:0], old=null at 0
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:22:43,687 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=132,entriesCount=1,lastEntry=(t:1, i:85)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
om2_1       | 2020-09-29 13:19:46,879 [om2@group-562213E44849-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om2@group-562213E44849-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/fafe1b60-c241-37cc-98f4-562213e44849/current/log_inprogress_0
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:22:43,692 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=133,entriesCount=1,lastEntry=(t:1, i:86)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
om2_1       | 2020-09-29 13:20:25,007 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketCreateRequest: Bucket creation failed for bucket:bucket-65934 in volume:s3v
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:22:47,787 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=135,entriesCount=1,lastEntry=(t:1, i:87)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
om2_1       | BUCKET_ALREADY_EXISTS org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_3  | 2020-09-29 13:22:47,798 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=136,entriesCount=1,lastEntry=(t:1, i:88)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
om2_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketCreateRequest.validateAndUpdateCache(OMBucketCreateRequest.java:192)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3  | 2020-09-29 13:22:47,798 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=137,entriesCount=1,lastEntry=(t:1, i:89)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om3_1       | 2020-09-29 13:20:30,606 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest: Delete bucket failed for bucket:nosuchbucket in volume:s3v
datanode_3  | 2020-09-29 13:22:47,854 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=138,entriesCount=1,lastEntry=(t:1, i:90)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om3_1       | BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
datanode_3  | 2020-09-29 13:22:47,871 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=139,entriesCount=1,lastEntry=(t:1, i:91)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:118)
datanode_3  | 2020-09-29 13:22:47,886 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=140,entriesCount=1,lastEntry=(t:1, i:92)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
datanode_3  | 2020-09-29 13:22:52,542 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=142,entriesCount=1,lastEntry=(t:1, i:93)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:22:52,609 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=143,entriesCount=1,lastEntry=(t:1, i:94)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:22:52,625 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=144,entriesCount=1,lastEntry=(t:1, i:95)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:22:52,699 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=145,entriesCount=1,lastEntry=(t:1, i:96)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
om2_1       | 2020-09-29 13:20:30,599 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest: Delete bucket failed for bucket:nosuchbucket in volume:s3v
om1_1       | 2020-09-29 13:20:29,701 [IPC Server handler 60 on default port 9862] INFO ipc.Server: IPC Server handler 60 on default port 9862, call Call#48 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37160
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:22:52,728 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=146,entriesCount=1,lastEntry=(t:1, i:97)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
om2_1       | BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_3  | 2020-09-29 13:22:52,746 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=147,entriesCount=1,lastEntry=(t:1, i:98)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
om2_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:118)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3  | 2020-09-29 13:22:52,766 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=148,entriesCount=1,lastEntry=(t:1, i:99)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om3_1       | 2020-09-29 13:21:07,146 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload: /s3v/bucket-27222/72879/multipartKey2 Part number: 1 size 6  is less than minimum part size 5242880
datanode_3  | 2020-09-29 13:22:56,647 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=150,entriesCount=1,lastEntry=(t:1, i:100)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | 2020-09-29 13:21:07,147 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 72879/multipartKey2 in Volume/Bucket s3v/bucket-27222
datanode_3  | 2020-09-29 13:22:56,728 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=151,entriesCount=1,lastEntry=(t:1, i:101)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om3_1       | ENTITY_TOO_SMALL org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 72879/multipartKey2. Entity too small.
datanode_3  | 2020-09-29 13:22:56,821 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=152,entriesCount=1,lastEntry=(t:1, i:102)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:227)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:22:56,864 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=153,entriesCount=1,lastEntry=(t:1, i:103)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:22:56,873 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=154,entriesCount=1,lastEntry=(t:1, i:104)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_3  | 2020-09-29 13:22:56,939 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=155,entriesCount=1,lastEntry=(t:1, i:105)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3  | 2020-09-29 13:22:56,955 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=156,entriesCount=1,lastEntry=(t:1, i:106)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
om2_1       | 2020-09-29 13:21:07,150 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload: /s3v/bucket-27222/72879/multipartKey2 Part number: 1 size 6  is less than minimum part size 5242880
datanode_3  | 2020-09-29 13:22:56,963 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=157,entriesCount=1,lastEntry=(t:1, i:107)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
om2_1       | 2020-09-29 13:21:07,155 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 72879/multipartKey2 in Volume/Bucket s3v/bucket-27222
datanode_3  | 2020-09-29 13:23:00,163 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=159,entriesCount=1,lastEntry=(t:1, i:108)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
om2_1       | ENTITY_TOO_SMALL org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 72879/multipartKey2. Entity too small.
datanode_3  | 2020-09-29 13:23:00,163 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=160,entriesCount=1,lastEntry=(t:1, i:109)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
datanode_3  | 2020-09-29 13:23:00,178 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=161,entriesCount=1,lastEntry=(t:1, i:110)
datanode_3  | 2020-09-29 13:23:09,945 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=165,entriesCount=1,lastEntry=(t:1, i:111)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | 2020-09-29 13:21:08,315 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 1
datanode_3  | 2020-09-29 13:23:09,956 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=166,entriesCount=1,lastEntry=(t:1, i:112)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:227)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
datanode_3  | 2020-09-29 13:23:09,959 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=167,entriesCount=1,lastEntry=(t:1, i:113)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | partName: "etag1"
datanode_3  | 2020-09-29 13:23:09,962 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=168,entriesCount=1,lastEntry=(t:1, i:114)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
om1_1       | 2020-09-29 13:20:30,563 [IPC Server handler 40 on default port 9862] INFO ipc.Server: IPC Server handler 40 on default port 9862, call Call#51 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37166
om3_1       | , partNumber: 2
datanode_3  | 2020-09-29 13:23:13,775 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=170,entriesCount=1,lastEntry=(t:1, i:115)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | partName: "etag2"
datanode_3  | 2020-09-29 13:23:13,778 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=171,entriesCount=1,lastEntry=(t:1, i:116)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | ]
datanode_3  | 2020-09-29 13:23:13,786 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=172,entriesCount=1,lastEntry=(t:1, i:117)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om3_1       | 2020-09-29 13:21:08,316 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
datanode_3  | 2020-09-29 13:23:13,792 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=173,entriesCount=1,lastEntry=(t:1, i:118)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
datanode_3  | 2020-09-29 13:23:17,519 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=175,entriesCount=1,lastEntry=(t:1, i:119)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
datanode_3  | 2020-09-29 13:23:17,531 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=176,entriesCount=1,lastEntry=(t:1, i:120)
om2_1       | 2020-09-29 13:21:08,313 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 1
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
datanode_3  | 2020-09-29 13:23:17,541 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=177,entriesCount=1,lastEntry=(t:1, i:121)
om2_1       | partName: "etag1"
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:23:17,571 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=178,entriesCount=1,lastEntry=(t:1, i:122)
om2_1       | , partNumber: 2
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:23:25,859 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=182,entriesCount=1,lastEntry=(t:1, i:123)
om2_1       | partName: "etag2"
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:23:25,865 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=183,entriesCount=1,lastEntry=(t:1, i:124)
om2_1       | ]
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:23:25,879 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=184,entriesCount=1,lastEntry=(t:1, i:125)
om2_1       | 2020-09-29 13:21:08,317 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om2_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
datanode_3  | 2020-09-29 13:23:25,886 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=185,entriesCount=1,lastEntry=(t:1, i:126)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
datanode_3  | 2020-09-29 13:23:32,185 [java.util.concurrent.ThreadPoolExecutor$Worker@4cd1006f[State = -1, empty queue]] WARN server.GrpcLogAppender: e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C->23566c39-7feb-4b14-a96f-35853a3a7668-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=188,entriesCount=1,lastEntry=(t:1, i:127)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | 2020-09-29 13:21:08,856 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 2
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
datanode_3  | 2020-09-29 13:25:32,377 [Thread-180] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-D543F7C40E18->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=118, seq=0, Watch-ALL_COMMITTED(128), Message:<EMPTY>, reply=RaftClientReply:client-D543F7C40E18->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=118, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 118 and log index 128 is not yet replicated to ALL_COMMITTED, logIndex=128, commits[e577ceef-0390-4710-8111-4450d439663a:c138, 255d076d-3a04-495e-b270-6d55af24551b:c138, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | partName: "etag1"
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:26:33,375 [Thread-188] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-740570399C89->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=122, seq=0, Watch-ALL_COMMITTED(132), Message:<EMPTY>, reply=RaftClientReply:client-740570399C89->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=122, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 122 and log index 132 is not yet replicated to ALL_COMMITTED, logIndex=132, commits[e577ceef-0390-4710-8111-4450d439663a:c142, 255d076d-3a04-495e-b270-6d55af24551b:c142, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | , partNumber: 1
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:27:33,375 [Thread-199] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-CFEA6827BB91->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=126, seq=0, Watch-ALL_COMMITTED(136), Message:<EMPTY>, reply=RaftClientReply:client-CFEA6827BB91->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=126, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 126 and log index 136 is not yet replicated to ALL_COMMITTED, logIndex=136, commits[e577ceef-0390-4710-8111-4450d439663a:c150, 255d076d-3a04-495e-b270-6d55af24551b:c149, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
om1_1       | 2020-09-29 13:20:30,614 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest: Delete bucket failed for bucket:nosuchbucket in volume:s3v
om3_1       | partName: "etag2"
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:28:36,376 [Thread-206] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-B45B8AE8DAF1->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=131, seq=0, Watch-ALL_COMMITTED(140), Message:<EMPTY>, reply=RaftClientReply:client-B45B8AE8DAF1->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=131, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 131 and log index 140 is not yet replicated to ALL_COMMITTED, logIndex=140, commits[e577ceef-0390-4710-8111-4450d439663a:c154, 255d076d-3a04-495e-b270-6d55af24551b:c154, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
om1_1       | BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket already exist
om3_1       | ]
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:29:37,375 [Thread-213] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-D6B34DEB7F86->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=136, seq=0, Watch-ALL_COMMITTED(145), Message:<EMPTY>, reply=RaftClientReply:client-D6B34DEB7F86->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=136, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 136 and log index 145 is not yet replicated to ALL_COMMITTED, logIndex=145, commits[e577ceef-0390-4710-8111-4450d439663a:c158, 255d076d-3a04-495e-b270-6d55af24551b:c158, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
om1_1       | 	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:118)
om3_1       | 2020-09-29 13:21:08,857 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_3  | 2020-09-29 13:30:32,375 [Thread-217] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-71966727EDA7->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=140, seq=0, Watch-ALL_COMMITTED(149), Message:<EMPTY>, reply=RaftClientReply:client-71966727EDA7->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=140, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 140 and log index 149 is not yet replicated to ALL_COMMITTED, logIndex=149, commits[e577ceef-0390-4710-8111-4450d439663a:c158, 255d076d-3a04-495e-b270-6d55af24551b:c158, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om3_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
datanode_3  | 2020-09-29 13:31:32,375 [Thread-224] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-CE735CBB11F0->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=145, seq=0, Watch-ALL_COMMITTED(153), Message:<EMPTY>, reply=RaftClientReply:client-CE735CBB11F0->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=145, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 145 and log index 153 is not yet replicated to ALL_COMMITTED, logIndex=153, commits[e577ceef-0390-4710-8111-4450d439663a:c162, 255d076d-3a04-495e-b270-6d55af24551b:c162, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:20:37,196 [qtp337533935-24] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-45586, with Versioning false and Storage Type set to DISK and Encryption set to false 
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:32:33,375 [Thread-231] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-7A4A1093AEF9->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=150, seq=0, Watch-ALL_COMMITTED(156), Message:<EMPTY>, reply=RaftClientReply:client-7A4A1093AEF9->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=150, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 150 and log index 156 is not yet replicated to ALL_COMMITTED, logIndex=156, commits[e577ceef-0390-4710-8111-4450d439663a:c166, 255d076d-3a04-495e-b270-6d55af24551b:c166, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
om2_1       | 2020-09-29 13:21:08,851 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 2
s3g_1       | 2020-09-29 13:20:37,212 [qtp337533935-24] INFO endpoint.BucketEndpoint: Location is /bucket-45586
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:33:36,375 [Thread-241] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-D53A56E2BD1B->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=156, seq=0, Watch-ALL_COMMITTED(160), Message:<EMPTY>, reply=RaftClientReply:client-D53A56E2BD1B->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=156, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 156 and log index 160 is not yet replicated to ALL_COMMITTED, logIndex=160, commits[e577ceef-0390-4710-8111-4450d439663a:c173, 255d076d-3a04-495e-b270-6d55af24551b:c171, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
om2_1       | partName: "etag1"
s3g_1       | 2020-09-29 13:20:40,448 [qtp337533935-24] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-27222, with Versioning false and Storage Type set to DISK and Encryption set to false 
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
datanode_3  | 2020-09-29 13:34:43,375 [Thread-249] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-08748E70B51C->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=161, seq=0, Watch-ALL_COMMITTED(164), Message:<EMPTY>, reply=RaftClientReply:client-08748E70B51C->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=161, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 161 and log index 164 is not yet replicated to ALL_COMMITTED, logIndex=164, commits[e577ceef-0390-4710-8111-4450d439663a:c177, 255d076d-3a04-495e-b270-6d55af24551b:c177, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
om2_1       | , partNumber: 1
s3g_1       | 2020-09-29 13:20:40,465 [qtp337533935-24] INFO endpoint.BucketEndpoint: Location is /bucket-27222
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_3  | 2020-09-29 13:35:35,375 [Thread-252] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-D732E05F3A63->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=166, seq=0, Watch-ALL_COMMITTED(168), Message:<EMPTY>, reply=RaftClientReply:client-D732E05F3A63->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=166, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 166 and log index 168 is not yet replicated to ALL_COMMITTED, logIndex=168, commits[e577ceef-0390-4710-8111-4450d439663a:c177, 255d076d-3a04-495e-b270-6d55af24551b:c177, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
om2_1       | partName: "etag2"
s3g_1       | 2020-09-29 13:20:42,776 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-DFFC25EC6F9A->e577ceef-0390-4710-8111-4450d439663a
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om2_1       | ]
datanode_3  | 2020-09-29 13:36:36,375 [Thread-259] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-9FFF8A7511C4->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=170, seq=0, Watch-ALL_COMMITTED(171), Message:<EMPTY>, reply=RaftClientReply:client-9FFF8A7511C4->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=170, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 170 and log index 171 is not yet replicated to ALL_COMMITTED, logIndex=171, commits[e577ceef-0390-4710-8111-4450d439663a:c180, 255d076d-3a04-495e-b270-6d55af24551b:c180, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:42,776 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om2_1       | 2020-09-29 13:21:08,855 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
datanode_3  | 2020-09-29 13:37:37,375 [Thread-266] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-70F0D8E11DF0->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=175, seq=0, Watch-ALL_COMMITTED(175), Message:<EMPTY>, reply=RaftClientReply:client-70F0D8E11DF0->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=175, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 175 and log index 175 is not yet replicated to ALL_COMMITTED, logIndex=175, commits[e577ceef-0390-4710-8111-4450d439663a:c184, 255d076d-3a04-495e-b270-6d55af24551b:c184, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:46,823 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-FF97CAEC5C52->e577ceef-0390-4710-8111-4450d439663a
om1_1       | 2020-09-29 13:20:33,243 [IPC Server handler 5 on default port 9862] INFO ipc.Server: IPC Server handler 5 on default port 9862, call Call#54 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37180
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om2_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
datanode_3  | 2020-09-29 13:38:41,375 [Thread-276] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-637F27B3FA78->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=181, seq=0, Watch-ALL_COMMITTED(179), Message:<EMPTY>, reply=RaftClientReply:client-637F27B3FA78->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=181, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 181 and log index 179 is not yet replicated to ALL_COMMITTED, logIndex=179, commits[e577ceef-0390-4710-8111-4450d439663a:c191, 255d076d-3a04-495e-b270-6d55af24551b:c191, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:46,823 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om3_1       | 2020-09-29 13:21:20,159 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
datanode_3  | 2020-09-29 13:39:43,375 [Thread-284] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-3A930EF4986C->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=186, seq=0, Watch-ALL_COMMITTED(182), Message:<EMPTY>, reply=RaftClientReply:client-3A930EF4986C->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=186, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 186 and log index 182 is not yet replicated to ALL_COMMITTED, logIndex=182, commits[e577ceef-0390-4710-8111-4450d439663a:c195, 255d076d-3a04-495e-b270-6d55af24551b:c195, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:51,072 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-5B9248667CA7->e577ceef-0390-4710-8111-4450d439663a
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag1, 1}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411233992717
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
datanode_3  | 2020-09-29 13:40:38,375 [Thread-287] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-1B2D1D68CA6B->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=191, seq=0, Watch-ALL_COMMITTED(186), Message:<EMPTY>, reply=RaftClientReply:client-1B2D1D68CA6B->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=191, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 191 and log index 186 is not yet replicated to ALL_COMMITTED, logIndex=186, commits[e577ceef-0390-4710-8111-4450d439663a:c195, 255d076d-3a04-495e-b270-6d55af24551b:c195, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:51,072 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
datanode_3  | 2020-09-29 13:41:38,375 [Thread-294] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-A967ED31660D->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=195, seq=0, Watch-ALL_COMMITTED(190), Message:<EMPTY>, reply=RaftClientReply:client-A967ED31660D->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=195, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 195 and log index 190 is not yet replicated to ALL_COMMITTED, logIndex=190, commits[e577ceef-0390-4710-8111-4450d439663a:c199, 255d076d-3a04-495e-b270-6d55af24551b:c199, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:54,661 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-99D2D7191893->e577ceef-0390-4710-8111-4450d439663a
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
datanode_3  | 2020-09-29 13:42:39,376 [Thread-301] INFO client.GrpcClientProtocolService: Failed RaftClientRequest:client-F3BC5B2ABB8A->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=200, seq=0, Watch-ALL_COMMITTED(193), Message:<EMPTY>, reply=RaftClientReply:client-F3BC5B2ABB8A->e577ceef-0390-4710-8111-4450d439663a@group-5084E8A8936C, cid=200, FAILED org.apache.ratis.protocol.NotReplicatedException: Request with call Id 200 and log index 193 is not yet replicated to ALL_COMMITTED, logIndex=193, commits[e577ceef-0390-4710-8111-4450d439663a:c203, 255d076d-3a04-495e-b270-6d55af24551b:c203, 23566c39-7feb-4b14-a96f-35853a3a7668:c127]
s3g_1       | 2020-09-29 13:20:54,662 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 2020-09-29 13:21:00,542 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-469A999FAD61->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:00,544 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 2020-09-29 13:21:03,917 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F9576A38FCCA->e577ceef-0390-4710-8111-4450d439663a
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 2020-09-29 13:21:03,917 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 2020-09-29 13:21:07,156 [qtp337533935-24] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 72879/multipartKey2
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 2020-09-29 13:21:20,151 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | ENTITY_TOO_SMALL org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 72879/multipartKey2. Entity too small.
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag1, 1}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411233992717
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om3_1       | 2020-09-29 13:21:20,707 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om3_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag2, 2}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411483357198
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
om1_1       | 2020-09-29 13:20:33,888 [IPC Server handler 3 on default port 9862] INFO ipc.Server: IPC Server handler 3 on default port 9862, call Call#57 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37186
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
om2_1       | 2020-09-29 13:21:20,695 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om2_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag2, 2}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411483357198
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
om3_1       | 2020-09-29 13:21:21,282 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: PartNumber at index 1 is 2, and its previous partNumber at index 0 is 4 for ozonekey is /s3v/bucket-27222/15604/multipartKey3
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
om3_1       | 2020-09-29 13:21:21,296 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om3_1       | INVALID_PART_ORDER org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3 because parts are in Invalid order.
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:184)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
om2_1       | 2020-09-29 13:21:21,278 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: PartNumber at index 1 is 2, and its previous partNumber at index 0 is 4 for ozonekey is /s3v/bucket-27222/15604/multipartKey3
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
om2_1       | 2020-09-29 13:21:21,279 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
om2_1       | INVALID_PART_ORDER org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3 because parts are in Invalid order.
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:184)
om1_1       | 2020-09-29 13:20:34,501 [IPC Server handler 21 on default port 9862] INFO ipc.Server: IPC Server handler 21 on default port 9862, call Call#60 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37192
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
om3_1       | 2020-09-29 13:21:24,807 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadAbortRequest: Abort Multipart request is failed for KeyName 73502/multipartKey5 in VolumeName/Bucket s3v/bucket-27222
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
om3_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: Abort Multipart Upload Failed: volume: s3vbucket: bucket-27222key: 73502/multipartKey5
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
om3_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadAbortRequest.validateAndUpdateCache(S3MultipartUploadAbortRequest.java:134)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 2020-09-29 13:21:24,799 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadAbortRequest: Abort Multipart request is failed for KeyName 73502/multipartKey5 in VolumeName/Bucket s3v/bucket-27222
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: Abort Multipart Upload Failed: volume: s3vbucket: bucket-27222key: 73502/multipartKey5
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadAbortRequest.validateAndUpdateCache(S3MultipartUploadAbortRequest.java:134)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
om3_1       | 2020-09-29 13:21:25,373 [OM StateMachine ApplyTransaction Thread - 0] ERROR key.OMKeyCreateRequest: Key creation failed. Volume:s3v, Bucket:bucket-27222, Key93341/multipartKey. Exception:{}
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
om3_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: No such Multipart upload is with specified uploadId random
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
om3_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareMultipartKeyInfo(OMKeyRequest.java:386)
om1_1       | 2020-09-29 13:20:37,170 [IPC Server handler 5 on default port 9862] INFO ipc.Server: IPC Server handler 5 on default port 9862, call Call#63 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37198
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
om3_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareKeyInfo(OMKeyRequest.java:328)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
om3_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyCreateRequest.validateAndUpdateCache(OMKeyCreateRequest.java:273)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om3_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om2_1       | 2020-09-29 13:21:25,367 [OM StateMachine ApplyTransaction Thread - 0] ERROR key.OMKeyCreateRequest: Key creation failed. Volume:s3v, Bucket:bucket-27222, Key93341/multipartKey. Exception:{}
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
om3_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om2_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: No such Multipart upload is with specified uploadId random
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
om3_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om2_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareMultipartKeyInfo(OMKeyRequest.java:386)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om2_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareKeyInfo(OMKeyRequest.java:328)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
om3_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om2_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyCreateRequest.validateAndUpdateCache(OMKeyCreateRequest.java:273)
om2_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om3_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om2_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om2_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om2_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om2_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
om1_1       | 2020-09-29 13:20:37,832 [IPC Server handler 99 on default port 9862] INFO ipc.Server: IPC Server handler 99 on default port 9862, call Call#66 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37204
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
om1_1       | 2020-09-29 13:20:40,435 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#70 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37218
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 2020-09-29 13:21:07,157 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
s3g_1       | <Error>
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
s3g_1       |   <Code>EntityTooSmall</Code>
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       |   <Message>Your proposed upload is smaller than the minimum allowed object size. Each part must be at least 5 MB in size, except the last part.</Message>
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
s3g_1       |   <Resource>72879/multipartKey2</Resource>
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
s3g_1       |   <RequestId/>
s3g_1       | </Error>
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
s3g_1       | 
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | 2020-09-29 13:21:08,323 [qtp337533935-24] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 15604/multipartKey3
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
om1_1       | 2020-09-29 13:20:41,092 [IPC Server handler 5 on default port 9862] INFO ipc.Server: IPC Server handler 5 on default port 9862, call Call#73 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37224
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:41,791 [IPC Server handler 86 on default port 9862] INFO ipc.Server: IPC Server handler 86 on default port 9862, call Call#77 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37230
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:42,471 [IPC Server handler 20 on default port 9862] INFO ipc.Server: IPC Server handler 20 on default port 9862, call Call#81 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37238
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:46,665 [IPC Server handler 52 on default port 9862] INFO ipc.Server: IPC Server handler 52 on default port 9862, call Call#87 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37260
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:50,320 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#93 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37268
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:50,962 [IPC Server handler 2 on default port 9862] INFO ipc.Server: IPC Server handler 2 on default port 9862, call Call#97 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37274
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:21:08,331 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidPart</Code>
s3g_1       |   <Message>One or more of the specified parts could not be found. The part might not have been uploaded, or the specified entity tag might not have matched the part's entity tag.</Message>
s3g_1       |   <Resource>15604/multipartKey3</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:08,860 [qtp337533935-19] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 15604/multipartKey3
s3g_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:54,590 [IPC Server handler 43 on default port 9862] INFO ipc.Server: IPC Server handler 43 on default port 9862, call Call#103 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37290
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:57,857 [IPC Server handler 3 on default port 9862] INFO ipc.Server: IPC Server handler 3 on default port 9862, call Call#109 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37316
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:58,808 [IPC Server handler 78 on default port 9862] INFO ipc.Server: IPC Server handler 78 on default port 9862, call Call#113 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37324
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:20:59,874 [IPC Server handler 2 on default port 9862] INFO ipc.Server: IPC Server handler 2 on default port 9862, call Call#118 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37336
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:00,473 [IPC Server handler 20 on default port 9862] INFO ipc.Server: IPC Server handler 20 on default port 9862, call Call#122 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37342
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:03,861 [IPC Server handler 2 on default port 9862] INFO ipc.Server: IPC Server handler 2 on default port 9862, call Call#128 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37358
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:07,109 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#134 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37366
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:07,148 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload: /s3v/bucket-27222/72879/multipartKey2 Part number: 1 size 6  is less than minimum part size 5242880
om1_1       | 2020-09-29 13:21:07,149 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 72879/multipartKey2 in Volume/Bucket s3v/bucket-27222
om1_1       | ENTITY_TOO_SMALL org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 72879/multipartKey2. Entity too small.
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:227)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:21:08,873 [qtp337533935-19] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidPart</Code>
s3g_1       |   <Message>One or more of the specified parts could not be found. The part might not have been uploaded, or the specified entity tag might not have matched the part's entity tag.</Message>
s3g_1       |   <Resource>15604/multipartKey3</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:09,582 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-97530995776F->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:09,582 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 2020-09-29 13:21:07,684 [IPC Server handler 49 on default port 9862] INFO ipc.Server: IPC Server handler 49 on default port 9862, call Call#138 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37372
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:08,289 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#142 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37378
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:08,320 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 1
om1_1       | partName: "etag1"
om1_1       | , partNumber: 2
om1_1       | partName: "etag2"
om1_1       | ]
om1_1       | 2020-09-29 13:21:08,321 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:08,817 [IPC Server handler 82 on default port 9862] INFO ipc.Server: IPC Server handler 82 on default port 9862, call Call#146 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37384
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:08,866 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: Complete MultipartUpload failed for key /s3v/bucket-27222/15604/multipartKey3 , MPU Key has no parts in OM, parts given to upload are [partNumber: 2
om1_1       | partName: "etag1"
om1_1       | , partNumber: 1
s3g_1       | 2020-09-29 13:21:13,378 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F4B5BF096086->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:13,378 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:16,857 [qtp337533935-19] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-43E6BD672F2C->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:16,858 [qtp337533935-19] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:20,156 [qtp337533935-19] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 15604/multipartKey3
s3g_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag1, 1}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411233992717
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:21:20,167 [qtp337533935-19] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidPart</Code>
s3g_1       |   <Message>One or more of the specified parts could not be found. The part might not have been uploaded, or the specified entity tag might not have matched the part's entity tag.</Message>
s3g_1       |   <Resource>15604/multipartKey3</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:20,708 [qtp337533935-24] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 15604/multipartKey3
s3g_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag2, 2}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411483357198
om1_1       | partName: "etag2"
om1_1       | ]
om1_1       | 2020-09-29 13:21:08,867 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:167)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:09,447 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#150 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37398
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:13,247 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#156 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37412
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:16,794 [IPC Server handler 78 on default port 9862] INFO ipc.Server: IPC Server handler 78 on default port 9862, call Call#162 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37428
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:20,124 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#168 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37436
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:20,155 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag1, 1}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411233992717
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:20,661 [IPC Server handler 52 on default port 9862] INFO ipc.Server: IPC Server handler 52 on default port 9862, call Call#172 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37442
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:20,702 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | INVALID_PART org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3. Provided Part info is { etag2, 2}, whereas OM has partName /s3v/bucket-27222/15604/multipartKey3104948411483357198
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:209)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:21,256 [IPC Server handler 1 on default port 9862] INFO ipc.Server: IPC Server handler 1 on default port 9862, call Call#176 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37448
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:21,282 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: PartNumber at index 1 is 2, and its previous partNumber at index 0 is 4 for ozonekey is /s3v/bucket-27222/15604/multipartKey3
om1_1       | 2020-09-29 13:21:21,283 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadCompleteRequest: MultipartUpload Complete request failed for Key: 15604/multipartKey3 in Volume/Bucket s3v/bucket-27222
om1_1       | INVALID_PART_ORDER org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3 because parts are in Invalid order.
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadCompleteRequest.validateAndUpdateCache(S3MultipartUploadCompleteRequest.java:184)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:21,781 [IPC Server handler 78 on default port 9862] INFO ipc.Server: IPC Server handler 78 on default port 9862, call Call#180 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37464
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:22,614 [IPC Server handler 44 on default port 9862] INFO ipc.Server: IPC Server handler 44 on default port 9862, call Call#184 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37470
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:23,507 [IPC Server handler 21 on default port 9862] INFO ipc.Server: IPC Server handler 21 on default port 9862, call Call#189 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37482
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:24,106 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#193 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37488
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:21:20,709 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidPart</Code>
s3g_1       |   <Message>One or more of the specified parts could not be found. The part might not have been uploaded, or the specified entity tag might not have matched the part's entity tag.</Message>
s3g_1       |   <Resource>15604/multipartKey3</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:21,287 [qtp337533935-24] ERROR endpoint.ObjectEndpoint: Error in Complete Multipart Upload Request for bucket: bucket-27222, , key: 15604/multipartKey3
s3g_1       | INVALID_PART_ORDER org.apache.hadoop.ozone.om.exceptions.OMException: Complete Multipart Upload Failed: volume: s3v bucket: bucket-27222 key: 15604/multipartKey3 because parts are in Invalid order.
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:602)
s3g_1       | 	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.completeMultipartUpload(OzoneManagerProtocolClientSideTranslatorPB.java:947)
s3g_1       | 	at org.apache.hadoop.ozone.client.rpc.RpcClient.completeMultipartUpload(RpcClient.java:966)
s3g_1       | 	at org.apache.hadoop.ozone.client.OzoneBucket.completeMultipartUpload(OzoneBucket.java:562)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.completeMultipartUpload(ObjectEndpoint.java:509)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
s3g_1       | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:24,775 [IPC Server handler 78 on default port 9862] INFO ipc.Server: IPC Server handler 78 on default port 9862, call Call#197 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37494
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:24,811 [OM StateMachine ApplyTransaction Thread - 0] ERROR multipart.S3MultipartUploadAbortRequest: Abort Multipart request is failed for KeyName 73502/multipartKey5 in VolumeName/Bucket s3v/bucket-27222
om1_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: Abort Multipart Upload Failed: volume: s3vbucket: bucket-27222key: 73502/multipartKey5
om1_1       | 	at org.apache.hadoop.ozone.om.request.s3.multipart.S3MultipartUploadAbortRequest.validateAndUpdateCache(S3MultipartUploadAbortRequest.java:134)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:25,346 [IPC Server handler 8 on default port 9862] INFO ipc.Server: IPC Server handler 8 on default port 9862, call Call#201 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37500
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:25,382 [OM StateMachine ApplyTransaction Thread - 0] ERROR key.OMKeyCreateRequest: Key creation failed. Volume:s3v, Bucket:bucket-27222, Key93341/multipartKey. Exception:{}
om1_1       | NO_SUCH_MULTIPART_UPLOAD_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: No such Multipart upload is with specified uploadId random
om1_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareMultipartKeyInfo(OMKeyRequest.java:386)
om1_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyRequest.prepareKeyInfo(OMKeyRequest.java:328)
om1_1       | 	at org.apache.hadoop.ozone.om.request.key.OMKeyCreateRequest.validateAndUpdateCache(OMKeyCreateRequest.java:273)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:227)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | 2020-09-29 13:21:21,289 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidPartOrder</Code>
s3g_1       |   <Message>The list of parts was not in ascending order. The parts list must be specified in order by part number.</Message>
s3g_1       |   <Resource>15604/multipartKey3</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:416)
om1_1       | 	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$applyTransaction$1(OzoneManagerStateMachine.java:240)
om1_1       | 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
om1_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
om1_1       | 2020-09-29 13:21:25,895 [IPC Server handler 5 on default port 9862] INFO ipc.Server: IPC Server handler 5 on default port 9862, call Call#205 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37506
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:26,604 [IPC Server handler 43 on default port 9862] INFO ipc.Server: IPC Server handler 43 on default port 9862, call Call#209 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37512
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:30,106 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#215 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37528
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:33,415 [IPC Server handler 7 on default port 9862] INFO ipc.Server: IPC Server handler 7 on default port 9862, call Call#221 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37536
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       | 2020-09-29 13:21:24,803 [qtp337533935-19] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchUpload</Code>
s3g_1       |   <Message>The specified multipart upload does not exist. The upload ID might be invalid, or the multipart upload might have been aborted or completed.</Message>
s3g_1       |   <Resource>random</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:25,371 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchUpload</Code>
s3g_1       |   <Message>The specified multipart upload does not exist. The upload ID might be invalid, or the multipart upload might have been aborted or completed.</Message>
s3g_1       |   <Resource>random</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:21:26,691 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-50E576BB6BE0->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:26,691 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:30,162 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D4CE5A3D6597->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:30,162 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:36,656 [qtp337533935-19] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-AEE08C18962A->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:36,657 [qtp337533935-19] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:36,657 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F34BC585E266->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:36,657 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:36,806 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-A7381719B0D1->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:36,806 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:43,490 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-53703E30780F->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:43,490 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:47,691 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-92852467E04B->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:47,691 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:52,482 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-9CA6A356F736->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:52,482 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:21:56,563 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-68C6D5016DF6->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:21:56,563 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:00,134 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-C051D7AFB50B->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:00,135 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:08,576 [qtp337533935-21] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-18730, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:22:08,630 [qtp337533935-21] INFO endpoint.BucketEndpoint: Location is /bucket-18730
s3g_1       | 2020-09-29 13:22:09,267 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/destbucket-97812, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:22:09,278 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /destbucket-97812
s3g_1       | 2020-09-29 13:22:09,905 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-10B0B00D52F0->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:09,905 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:13,737 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-00AA18D9A849->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:13,737 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:17,492 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F24B40B12647->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:17,492 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:21,137 [qtp337533935-20] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchBucket</Code>
s3g_1       |   <Message>The specified bucket does not exist</Message>
s3g_1       |   <Resource>dfdfdfdfdfnonexistent</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:22:21,642 [qtp337533935-23] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchBucket</Code>
s3g_1       |   <Message>The specified bucket does not exist</Message>
s3g_1       |   <Resource>dfdfdfdfdfnonexistent</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:22:22,661 [qtp337533935-23] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchKey</Code>
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:34,118 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#225 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37550
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:34,766 [IPC Server handler 77 on default port 9862] INFO ipc.Server: IPC Server handler 77 on default port 9862, call Call#229 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37556
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:35,369 [IPC Server handler 7 on default port 9862] INFO ipc.Server: IPC Server handler 7 on default port 9862, call Call#233 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37562
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:36,198 [IPC Server handler 1 on default port 9862] INFO ipc.Server: IPC Server handler 1 on default port 9862, call Call#237 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37568
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
s3g_1       |   <Message>The specified key does not exist</Message>
s3g_1       |   <Resource>nonnonexistentkey</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:22:25,186 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-25663, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:22:25,203 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-25663
s3g_1       | 2020-09-29 13:22:25,843 [qtp337533935-23] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-C1203F6C4AB4->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:25,843 [qtp337533935-23] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:22:32,166 [qtp337533935-23] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D543F7C40E18->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:22:32,167 [qtp337533935-23] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:23:32,358 [qtp337533935-17] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-740570399C89->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:23:32,358 [qtp337533935-17] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:24:33,269 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-CFEA6827BB91->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:24:33,270 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:25:32,219 [qtp337533935-23] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #118 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:36,354 [IPC Server handler 8 on default port 9862] INFO ipc.Server: IPC Server handler 8 on default port 9862, call Call#241 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37574
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:36,365 [IPC Server handler 7 on default port 9862] INFO ipc.Server: IPC Server handler 7 on default port 9862, call Call#242 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37576
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:36,646 [IPC Server handler 15 on default port 9862] INFO ipc.Server: IPC Server handler 15 on default port 9862, call Call#247 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37584
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:40,224 [IPC Server handler 8 on default port 9862] INFO ipc.Server: IPC Server handler 8 on default port 9862, call Call#259 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37602
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:40,809 [IPC Server handler 82 on default port 9862] INFO ipc.Server: IPC Server handler 82 on default port 9862, call Call#263 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37608
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:40,970 [IPC Server handler 6 on default port 9862] INFO ipc.Server: IPC Server handler 6 on default port 9862, call Call#268 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37622
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:40,973 [IPC Server handler 1 on default port 9862] INFO ipc.Server: IPC Server handler 1 on default port 9862, call Call#269 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37624
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:40,974 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#267 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37620
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:42,224 [IPC Server handler 8 on default port 9862] INFO ipc.Server: IPC Server handler 8 on default port 9862, call Call#282 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37642
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #118 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:25:32,239 [qtp337533935-23] INFO scm.XceiverClientRatis: Could not commit index 128 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:25:32,242 [qtp337533935-23] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948416652443673 bcsId: 128 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:25:36,226 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-B45B8AE8DAF1->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:25:36,227 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:26:32,399 [qtp337533935-17] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #122 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:43,411 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#287 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37652
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:46,832 [IPC Server handler 90 on default port 9862] INFO ipc.Server: IPC Server handler 90 on default port 9862, call Call#292 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37668
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:47,440 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#296 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37674
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #122 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:50,987 [IPC Server handler 8 on default port 9862] INFO ipc.Server: IPC Server handler 8 on default port 9862, call Call#305 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37684
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:51,526 [IPC Server handler 19 on default port 9862] INFO ipc.Server: IPC Server handler 19 on default port 9862, call Call#309 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37690
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:52,391 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#314 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37706
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:55,802 [IPC Server handler 82 on default port 9862] INFO ipc.Server: IPC Server handler 82 on default port 9862, call Call#319 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37714
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:21:56,390 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#323 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37720
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:26:32,406 [qtp337533935-17] INFO scm.XceiverClientRatis: Could not commit index 132 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:26:32,406 [qtp337533935-17] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948420597186586 bcsId: 132 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:26:36,399 [qtp337533935-17] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D6B34DEB7F86->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:26:36,401 [qtp337533935-17] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:27:32,196 [qtp337533935-329] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-71966727EDA7->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:27:32,201 [qtp337533935-329] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:27:33,311 [qtp337533935-21] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #126 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #126 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:27:33,321 [qtp337533935-21] INFO scm.XceiverClientRatis: Could not commit index 136 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:27:33,322 [qtp337533935-21] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948424589115419 bcsId: 136 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:28:32,263 [qtp337533935-23] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-CE735CBB11F0->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:28:32,264 [qtp337533935-23] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:00,028 [IPC Server handler 7 on default port 9862] INFO ipc.Server: IPC Server handler 7 on default port 9862, call Call#332 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37750
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:03,316 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#341 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37760
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:03,842 [IPC Server handler 90 on default port 9862] INFO ipc.Server: IPC Server handler 90 on default port 9862, call Call#345 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37774
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:04,786 [IPC Server handler 78 on default port 9862] INFO ipc.Server: IPC Server handler 78 on default port 9862, call Call#350 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37784
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:05,383 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#354 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37790
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
s3g_1       | 2020-09-29 13:28:36,275 [qtp337533935-20] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #131 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:05,975 [IPC Server handler 1 on default port 9862] INFO ipc.Server: IPC Server handler 1 on default port 9862, call Call#358 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37796
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:08,570 [IPC Server handler 25 on default port 9862] INFO ipc.Server: IPC Server handler 25 on default port 9862, call Call#362 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37802
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:09,247 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#365 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37808
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:09,866 [IPC Server handler 92 on default port 9862] INFO ipc.Server: IPC Server handler 92 on default port 9862, call Call#368 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37822
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:13,126 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#373 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37836
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:13,643 [IPC Server handler 26 on default port 9862] INFO ipc.Server: IPC Server handler 26 on default port 9862, call Call#378 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37842
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #131 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:28:36,289 [qtp337533935-20] INFO scm.XceiverClientRatis: Could not commit index 140 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:28:36,290 [qtp337533935-20] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948428714541084 bcsId: 140 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:29:33,224 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-7A4A1093AEF9->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:29:33,227 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:29:36,450 [qtp337533935-17] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #136 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:16,860 [IPC Server handler 89 on default port 9862] INFO ipc.Server: IPC Server handler 89 on default port 9862, call Call#388 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37860
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:17,378 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#393 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37866
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:20,602 [IPC Server handler 26 on default port 9862] INFO ipc.Server: IPC Server handler 26 on default port 9862, call Call#403 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37880
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:21,126 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#408 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37886
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #136 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:29:36,455 [qtp337533935-17] INFO scm.XceiverClientRatis: Could not commit index 145 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | 2020-09-29 13:29:36,457 [qtp337533935-17] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948432657907741 bcsId: 145 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:30:32,286 [qtp337533935-329] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #140 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:21,636 [IPC Server handler 44 on default port 9862] INFO ipc.Server: IPC Server handler 44 on default port 9862, call Call#413 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37892
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:22,125 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#416 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37908
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:22,639 [IPC Server handler 28 on default port 9862] INFO ipc.Server: IPC Server handler 28 on default port 9862, call Call#417 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37914
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:25,174 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#423 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37920
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:25,805 [IPC Server handler 82 on default port 9862] INFO ipc.Server: IPC Server handler 82 on default port 9862, call Call#426 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37926
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:28,996 [IPC Server handler 7 on default port 9862] INFO ipc.Server: IPC Server handler 7 on default port 9862, call Call#431 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37942
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:29,522 [IPC Server handler 19 on default port 9862] INFO ipc.Server: IPC Server handler 19 on default port 9862, call Call#436 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37948
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:30,038 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#441 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37954
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #140 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:30:32,292 [qtp337533935-329] INFO scm.XceiverClientRatis: Could not commit index 149 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:30:32,292 [qtp337533935-329] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948436315602974 bcsId: 149 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:30:35,905 [qtp337533935-22] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D53A56E2BD1B->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:30:35,905 [qtp337533935-22] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:31:32,315 [qtp337533935-23] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #145 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #145 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
om1_1       | 2020-09-29 13:22:30,523 [IPC Server handler 19 on default port 9862] INFO ipc.Server: IPC Server handler 19 on default port 9862, call Call#445 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37960
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:31,018 [IPC Server handler 9 on default port 9862] INFO ipc.Server: IPC Server handler 9 on default port 9862, call Call#449 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37966
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:31,608 [IPC Server handler 44 on default port 9862] INFO ipc.Server: IPC Server handler 44 on default port 9862, call Call#453 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37972
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:22:32,132 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#457 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:37978
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:31:32,319 [qtp337533935-23] INFO scm.XceiverClientRatis: Could not commit index 153 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:31:32,319 [qtp337533935-23] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948440251629599 bcsId: 153 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:31:43,093 [qtp337533935-17] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-08748E70B51C->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:31:43,094 [qtp337533935-17] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:32:32,127 [qtp337533935-20] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchBucket</Code>
s3g_1       |   <Message>The specified bucket does not exist</Message>
s3g_1       |   <Resource>bucket-25663-nosuchbucket</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:32:33,268 [qtp337533935-24] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #150 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #150 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:32:33,272 [qtp337533935-24] INFO scm.XceiverClientRatis: Could not commit index 156 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:32:33,273 [qtp337533935-24] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948444247097376 bcsId: 156 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:32:34,700 [qtp337533935-20] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-62917, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:32:34,712 [qtp337533935-20] INFO endpoint.BucketEndpoint: Location is /bucket-62917
s3g_1       | 2020-09-29 13:32:35,279 [qtp337533935-329] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D732E05F3A63->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:32:35,280 [qtp337533935-329] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:33:35,890 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-9FFF8A7511C4->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:33:35,893 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
om1_1       | 2020-09-29 13:23:32,300 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#461 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38094
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:24:33,214 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#465 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38208
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:25:36,178 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#470 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38324
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:26:36,325 [IPC Server handler 16 on default port 9862] INFO ipc.Server: IPC Server handler 16 on default port 9862, call Call#475 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38446
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 2020-09-29 13:33:35,951 [qtp337533935-22] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #156 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
om1_1       | 2020-09-29 13:27:32,141 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#479 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38560
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:28:32,217 [IPC Server handler 16 on default port 9862] INFO ipc.Server: IPC Server handler 16 on default port 9862, call Call#484 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38676
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:29:33,176 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#489 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38792
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:30:35,828 [IPC Server handler 69 on default port 9862] INFO ipc.Server: IPC Server handler 69 on default port 9862, call Call#495 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:38904
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
om1_1       | 2020-09-29 13:31:43,017 [IPC Server handler 99 on default port 9862] INFO ipc.Server: IPC Server handler 99 on default port 9862, call Call#500 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39040
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:32:32,120 [IPC Server handler 12 on default port 9862] INFO ipc.Server: IPC Server handler 12 on default port 9862, call Call#504 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39146
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:32:34,685 [IPC Server handler 28 on default port 9862] INFO ipc.Server: IPC Server handler 28 on default port 9862, call Call#508 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39154
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:32:35,238 [IPC Server handler 16 on default port 9862] INFO ipc.Server: IPC Server handler 16 on default port 9862, call Call#511 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39160
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #156 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:33:35,954 [qtp337533935-22] INFO scm.XceiverClientRatis: Could not commit index 160 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:33:35,954 [qtp337533935-22] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948448352600097 bcsId: 160 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:34:36,539 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-70F0D8E11DF0->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:34:36,540 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:34:43,120 [qtp337533935-17] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #161 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
om1_1       | 2020-09-29 13:33:35,841 [IPC Server handler 60 on default port 9862] INFO ipc.Server: IPC Server handler 60 on default port 9862, call Call#515 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39274
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:34:36,495 [IPC Server handler 11 on default port 9862] INFO ipc.Server: IPC Server handler 11 on default port 9862, call Call#520 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39390
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:35:40,503 [IPC Server handler 11 on default port 9862] INFO ipc.Server: IPC Server handler 11 on default port 9862, call Call#526 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39516
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:36:42,509 [IPC Server handler 11 on default port 9862] INFO ipc.Server: IPC Server handler 11 on default port 9862, call Call#531 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39650
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:37:37,196 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#536 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39766
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #161 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:34:43,125 [qtp337533935-17] INFO scm.XceiverClientRatis: Could not commit index 164 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:34:43,125 [qtp337533935-17] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948452756815906 bcsId: 164 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:35:35,324 [qtp337533935-329] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #166 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:37:37,712 [IPC Server handler 28 on default port 9862] INFO ipc.Server: IPC Server handler 28 on default port 9862, call Call#539 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39772
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:38:37,975 [IPC Server handler 97 on default port 9862] INFO ipc.Server: IPC Server handler 97 on default port 9862, call Call#543 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:39890
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:39:39,270 [IPC Server handler 16 on default port 9862] INFO ipc.Server: IPC Server handler 16 on default port 9862, call Call#548 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40006
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:40:42,042 [IPC Server handler 87 on default port 9862] INFO ipc.Server: IPC Server handler 87 on default port 9862, call Call#554 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40130
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:41:42,822 [IPC Server handler 39 on default port 9862] INFO ipc.Server: IPC Server handler 39 on default port 9862, call Call#559 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40260
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:37,702 [IPC Server handler 25 on default port 9862] INFO ipc.Server: IPC Server handler 25 on default port 9862, call Call#563 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40366
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:38,277 [IPC Server handler 16 on default port 9862] INFO ipc.Server: IPC Server handler 16 on default port 9862, call Call#568 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40378
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:38,839 [IPC Server handler 50 on default port 9862] INFO ipc.Server: IPC Server handler 50 on default port 9862, call Call#573 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40388
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #166 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:35:35,327 [qtp337533935-329] INFO scm.XceiverClientRatis: Could not commit index 168 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:35:35,328 [qtp337533935-329] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948456178188323 bcsId: 168 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:35:40,559 [qtp337533935-24] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-637F27B3FA78->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:35:40,560 [qtp337533935-24] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:36:35,950 [qtp337533935-21] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #170 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:39,396 [IPC Server handler 11 on default port 9862] INFO ipc.Server: IPC Server handler 11 on default port 9862, call Call#579 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40398
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:39,986 [IPC Server handler 92 on default port 9862] INFO ipc.Server: IPC Server handler 92 on default port 9862, call Call#584 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40408
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:40,523 [IPC Server handler 14 on default port 9862] INFO ipc.Server: IPC Server handler 14 on default port 9862, call Call#588 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40414
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:41,046 [IPC Server handler 87 on default port 9862] INFO ipc.Server: IPC Server handler 87 on default port 9862, call Call#593 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40422
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #170 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:41,603 [IPC Server handler 13 on default port 9862] INFO ipc.Server: IPC Server handler 13 on default port 9862, call Call#598 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40430
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:42,130 [IPC Server handler 4 on default port 9862] INFO ipc.Server: IPC Server handler 4 on default port 9862, call Call#603 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40440
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:42,702 [IPC Server handler 25 on default port 9862] INFO ipc.Server: IPC Server handler 25 on default port 9862, call Call#608 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40452
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:43,233 [IPC Server handler 10 on default port 9862] INFO ipc.Server: IPC Server handler 10 on default port 9862, call Call#613 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40470
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:43,778 [IPC Server handler 29 on default port 9862] INFO ipc.Server: IPC Server handler 29 on default port 9862, call Call#618 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40478
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:44,310 [IPC Server handler 11 on default port 9862] INFO ipc.Server: IPC Server handler 11 on default port 9862, call Call#623 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40488
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:44,870 [IPC Server handler 49 on default port 9862] INFO ipc.Server: IPC Server handler 49 on default port 9862, call Call#628 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40496
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
om1_1       | 2020-09-29 13:42:47,386 [IPC Server handler 14 on default port 9862] INFO ipc.Server: IPC Server handler 14 on default port 9862, call Call#632 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 172.23.0.9:40502
om1_1       | org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException: OM:om1 is not the leader. Suggested leader is OM:om2.
s3g_1       | 2020-09-29 13:36:35,955 [qtp337533935-21] INFO scm.XceiverClientRatis: Could not commit index 171 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:36:35,956 [qtp337533935-21] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948460150259748 bcsId: 171 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:36:42,588 [qtp337533935-22] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-3A930EF4986C->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:36:42,588 [qtp337533935-22] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:37:36,569 [qtp337533935-20] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #175 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:186)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
om1_1       | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:73)
om1_1       | 	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:113)
om1_1       | 	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
om1_1       | 	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
om1_1       | 	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
om1_1       | 	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
om1_1       | 	at java.base/java.security.AccessController.doPrivileged(Native Method)
om1_1       | 	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
om1_1       | 	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
om1_1       | 	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #175 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:37:36,576 [qtp337533935-20] INFO scm.XceiverClientRatis: Could not commit index 175 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:37:36,578 [qtp337533935-20] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948464125345829 bcsId: 175 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:37:37,209 [qtp337533935-23] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-07721, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:37:37,221 [qtp337533935-23] INFO endpoint.BucketEndpoint: Location is /bucket-07721
s3g_1       | 2020-09-29 13:37:37,756 [qtp337533935-23] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-1B2D1D68CA6B->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:37:37,756 [qtp337533935-23] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:38:38,022 [qtp337533935-17] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-A967ED31660D->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:38:38,022 [qtp337533935-17] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:38:40,628 [qtp337533935-24] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #181 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #181 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:38:40,633 [qtp337533935-24] INFO scm.XceiverClientRatis: Could not commit index 179 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:38:40,633 [qtp337533935-24] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948468320239654 bcsId: 179 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:39:39,315 [qtp337533935-21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-F3BC5B2ABB8A->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:39:39,316 [qtp337533935-21] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:39:42,623 [qtp337533935-22] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #186 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #186 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:39:42,633 [qtp337533935-22] INFO scm.XceiverClientRatis: Could not commit index 182 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:39:42,634 [qtp337533935-22] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948472383209511 bcsId: 182 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:40:37,807 [qtp337533935-23] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #191 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #191 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:40:37,812 [qtp337533935-23] INFO scm.XceiverClientRatis: Could not commit index 186 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:40:37,812 [qtp337533935-23] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948476001517608 bcsId: 186 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:40:42,107 [qtp337533935-20] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D447962D19C3->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:40:42,110 [qtp337533935-20] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:41:38,074 [qtp337533935-17] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #195 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #195 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:41:38,078 [qtp337533935-17] INFO scm.XceiverClientRatis: Could not commit index 190 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:41:38,078 [qtp337533935-17] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948479951044649 bcsId: 190 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:41:42,894 [qtp337533935-22] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-B5D40DFC7965->e577ceef-0390-4710-8111-4450d439663a
s3g_1       | 2020-09-29 13:41:42,895 [qtp337533935-22] WARN impl.MetricRegistriesImpl: First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
s3g_1       | 2020-09-29 13:42:39,356 [qtp337533935-21] WARN scm.XceiverClientRatis: 3 way commit failed on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]
s3g_1       | java.util.concurrent.ExecutionException: org.apache.ratis.protocol.TimeoutIOException: Request #200 timeout 180s
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
s3g_1       | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
s3g_1       | 	at org.apache.hadoop.hdds.scm.XceiverClientRatis.watchForCommit(XceiverClientRatis.java:263)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchForCommit(CommitWatcher.java:199)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.CommitWatcher.watchOnLastIndex(CommitWatcher.java:166)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.watchForCommit(BlockOutputStream.java:384)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.handleFlush(BlockOutputStream.java:535)
s3g_1       | 	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.close(BlockOutputStream.java:549)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.close(BlockOutputStreamEntry.java:149)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleStreamAction(KeyOutputStream.java:483)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:457)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:510)
s3g_1       | 	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
s3g_1       | 	at org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.put(ObjectEndpoint.java:217)
s3g_1       | 	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
s3g_1       | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
s3g_1       | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
s3g_1       | 	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
s3g_1       | 	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
s3g_1       | 	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
s3g_1       | 	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
s3g_1       | 	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
s3g_1       | 	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
s3g_1       | 	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
s3g_1       | 	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
s3g_1       | 	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder$NotAsyncServlet.service(ServletHolder.java:1395)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)
s3g_1       | 	at org.apache.hadoop.ozone.s3.RootPageDisplayFilter.doFilter(RootPageDisplayFilter.java:53)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter.doFilter(HttpServer2.java:1666)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.apache.hadoop.hdds.server.http.NoCacheFilter.doFilter(NoCacheFilter.java:48)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
s3g_1       | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
s3g_1       | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
s3g_1       | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
s3g_1       | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
s3g_1       | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
s3g_1       | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
s3g_1       | 	at org.eclipse.jetty.server.Server.handle(Server.java:500)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
s3g_1       | 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
s3g_1       | 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
s3g_1       | 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
s3g_1       | 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
s3g_1       | 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
s3g_1       | 	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
s3g_1       | 	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
s3g_1       | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
s3g_1       | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1       | Caused by: org.apache.ratis.protocol.TimeoutIOException: Request #200 timeout 180s
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:337)
s3g_1       | 	at java.base/java.util.Optional.ifPresent(Optional.java:183)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:342)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:337)
s3g_1       | 	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$1(GrpcClientProtocolClient.java:326)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
s3g_1       | 	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
s3g_1       | 	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
s3g_1       | 	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
s3g_1       | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
s3g_1       | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
s3g_1       | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
s3g_1       | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
s3g_1       | 	... 1 more
s3g_1       | 2020-09-29 13:42:39,364 [qtp337533935-21] INFO scm.XceiverClientRatis: Could not commit index 193 on pipeline Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z] to all the nodes. Server 23566c39-7feb-4b14-a96f-35853a3a7668 has failed. Committed by majority.
s3g_1       | 2020-09-29 13:42:39,365 [qtp337533935-21] WARN storage.BlockOutputStream: Failed to commit BlockId conID: 1 locID: 104948483967811626 bcsId: 193 on Pipeline[ Id: e7d1deba-e36c-47b8-b694-5084e8a8936c, Nodes: 255d076d-3a04-495e-b270-6d55af24551b{ip: 172.23.0.3, host: ozone-om-ha-s3_datanode_1.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}23566c39-7feb-4b14-a96f-35853a3a7668{ip: 172.23.0.7, host: ozone-om-ha-s3_datanode_2.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}e577ceef-0390-4710-8111-4450d439663a{ip: 172.23.0.4, host: ozone-om-ha-s3_datanode_3.ozone-om-ha-s3_default, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:THREE, State:OPEN, leaderId:e577ceef-0390-4710-8111-4450d439663a, CreationTimestamp2020-09-29T13:19:21.037Z]. Failed nodes: [23566c39-7feb-4b14-a96f-35853a3a7668{ip: null, host: null, networkLocation: /default-rack, certSerialId: null}]
s3g_1       | 2020-09-29 13:42:40,010 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>InvalidRange</Code>
s3g_1       |   <Message>The requested range is not satisfiable</Message>
s3g_1       |   <Resource>bytes=10000-10000</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:42:44,888 [qtp337533935-24] ERROR exception.S3ErrorTable: <?xml version="1.0" encoding="UTF-8"?>
s3g_1       | <Error>
s3g_1       |   <Code>NoSuchKey</Code>
s3g_1       |   <Message>The specified key does not exist</Message>
s3g_1       |   <Resource>55909/putobject/zerobyte</Resource>
s3g_1       |   <RequestId/>
s3g_1       | </Error>
s3g_1       | 
s3g_1       | 2020-09-29 13:42:47,396 [qtp337533935-21] INFO rpc.RpcClient: Creating Bucket: s3v/bucket-06577, with Versioning false and Storage Type set to DISK and Encryption set to false 
s3g_1       | 2020-09-29 13:42:47,403 [qtp337533935-21] INFO endpoint.BucketEndpoint: Location is /bucket-06577
