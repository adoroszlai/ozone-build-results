<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20200907 07:42:15.094" generator="Rebot 3.2.2 (Python 2.7.17 on linux2)">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s1-s1" name="Createmrenv">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:30.655" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:32.997" level="INFO">${rc} = 255</msg>
<msg timestamp="20200907 07:29:32.998" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:29:32.998" starttime="20200907 07:29:30.651"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:32.999" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:29:32.999" starttime="20200907 07:29:32.998"></status>
</kw>
<msg timestamp="20200907 07:29:32.999" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:29:32.999" starttime="20200907 07:29:30.650"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
</arguments>
<kw name="Create volume">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh volume create /${volume} --user hadoop --spaceQuota 100TB --bucketQuota 100</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:33.005" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --spaceQuota 100TB --bucketQuota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:35.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:35.068" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:35.068" starttime="20200907 07:29:33.003"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:35.070" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:35.070" starttime="20200907 07:29:35.069"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:35.070" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:35.070" starttime="20200907 07:29:35.070"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:35.071" starttime="20200907 07:29:33.001"></status>
</kw>
<msg timestamp="20200907 07:29:35.071" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:35.071" starttime="20200907 07:29:33.001"></status>
</kw>
<msg timestamp="20200907 07:29:35.071" level="INFO">${result} = </msg>
<status status="PASS" endtime="20200907 07:29:35.071" starttime="20200907 07:29:33.000"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>Failed</arg>
</arguments>
<status status="PASS" endtime="20200907 07:29:35.072" starttime="20200907 07:29:35.071"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:35.072" starttime="20200907 07:29:33.000"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:35.072" starttime="20200907 07:29:32.999"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:35.078" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:37.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:37.006" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:37.006" starttime="20200907 07:29:35.074"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:37.007" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:37.007" starttime="20200907 07:29:37.007"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:37.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:37.008" starttime="20200907 07:29:37.008"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:37.008" starttime="20200907 07:29:35.074"></status>
</kw>
<msg timestamp="20200907 07:29:37.008" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:37.009" starttime="20200907 07:29:35.073"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:37.009" starttime="20200907 07:29:35.073"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:37.009" starttime="20200907 07:29:35.072"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:37.009" starttime="20200907 07:29:35.072"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20200907 07:29:37.010" starttime="20200907 07:29:37.009"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:37.014" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:39.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:39.135" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:29:36.975Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:29:39.135" starttime="20200907 07:29:37.012"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:39.136" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:29:36.975Z",
  "modificationTime" : "2020-09-07T07:29:36.975Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null
}</msg>
<status status="PASS" endtime="20200907 07:29:39.136" starttime="20200907 07:29:39.135"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:39.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:39.137" starttime="20200907 07:29:39.136"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:39.137" starttime="20200907 07:29:37.011"></status>
</kw>
<msg timestamp="20200907 07:29:39.137" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:39.137" starttime="20200907 07:29:37.010"></status>
</kw>
<msg timestamp="20200907 07:29:39.137" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:29:36.975Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:29:39.137" starttime="20200907 07:29:37.010"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
</arguments>
<status status="PASS" endtime="20200907 07:29:39.138" starttime="20200907 07:29:39.138"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:29:39.142" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:29:39.142" starttime="20200907 07:29:39.141"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:29:39.142" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:29:39.142" starttime="20200907 07:29:39.142"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:39.142" starttime="20200907 07:29:39.141"></status>
</kw>
<msg timestamp="20200907 07:29:39.142" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:29:39.142" starttime="20200907 07:29:39.140"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:39.143" starttime="20200907 07:29:39.139"></status>
</kw>
<msg timestamp="20200907 07:29:39.143" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:29:39.143" starttime="20200907 07:29:39.139"></status>
</kw>
<msg timestamp="20200907 07:29:39.143" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:29:39.143" starttime="20200907 07:29:39.138"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:39.147" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:40.993" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:40.993" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:40.993" starttime="20200907 07:29:39.144"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:40.994" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:40.995" starttime="20200907 07:29:40.994"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:40.995" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:40.995" starttime="20200907 07:29:40.995"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:40.995" starttime="20200907 07:29:39.144"></status>
</kw>
<msg timestamp="20200907 07:29:40.995" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:40.996" starttime="20200907 07:29:39.144"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:40.996" starttime="20200907 07:29:39.143"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:41.000" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:46.281" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:46.281" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:46.281" starttime="20200907 07:29:40.998"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:46.282" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:46.283" starttime="20200907 07:29:46.282"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:46.283" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:46.283" starttime="20200907 07:29:46.283"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:46.284" starttime="20200907 07:29:40.997"></status>
</kw>
<msg timestamp="20200907 07:29:46.284" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:46.284" starttime="20200907 07:29:40.997"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:46.284" starttime="20200907 07:29:40.996"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:46.287" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:49.964" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:49.964" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:49.964" starttime="20200907 07:29:46.285"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:49.966" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:49.966" starttime="20200907 07:29:49.965"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:49.967" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:49.967" starttime="20200907 07:29:49.966"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:49.967" starttime="20200907 07:29:46.285"></status>
</kw>
<msg timestamp="20200907 07:29:49.967" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:49.967" starttime="20200907 07:29:46.285"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:49.967" starttime="20200907 07:29:46.284"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:49.971" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:53.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:53.347" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:53.347" starttime="20200907 07:29:49.969"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:53.348" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:53.348" starttime="20200907 07:29:53.347"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:53.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:53.349" starttime="20200907 07:29:53.348"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:53.349" starttime="20200907 07:29:49.968"></status>
</kw>
<msg timestamp="20200907 07:29:53.349" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:53.349" starttime="20200907 07:29:49.968"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:53.350" starttime="20200907 07:29:49.967"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:29:53.350" critical="yes" starttime="20200907 07:29:30.650"></status>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:29:53.355" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:29:53.355" starttime="20200907 07:29:53.354"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:29:53.355" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:29:53.355" starttime="20200907 07:29:53.355"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:53.355" starttime="20200907 07:29:53.354"></status>
</kw>
<msg timestamp="20200907 07:29:53.356" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:29:53.356" starttime="20200907 07:29:53.353"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:53.356" starttime="20200907 07:29:53.353"></status>
</kw>
<msg timestamp="20200907 07:29:53.356" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:29:53.356" starttime="20200907 07:29:53.352"></status>
</kw>
<msg timestamp="20200907 07:29:53.356" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:29:53.356" starttime="20200907 07:29:53.351"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:53.359" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:55.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:55.382" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:55.382" starttime="20200907 07:29:53.358"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:55.383" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:55.383" starttime="20200907 07:29:55.382"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:55.384" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:55.384" starttime="20200907 07:29:55.383"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:55.384" starttime="20200907 07:29:53.357"></status>
</kw>
<msg timestamp="20200907 07:29:55.384" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:55.384" starttime="20200907 07:29:53.357"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:55.384" starttime="20200907 07:29:53.356"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:29:55.388" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:29:57.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:29:57.368" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:29:57.368" starttime="20200907 07:29:55.386"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:29:57.369" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:29:57.369" starttime="20200907 07:29:57.368"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:29:57.370" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:29:57.370" starttime="20200907 07:29:57.369"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:57.370" starttime="20200907 07:29:55.385"></status>
</kw>
<msg timestamp="20200907 07:29:57.370" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:29:57.370" starttime="20200907 07:29:55.385"></status>
</kw>
<status status="PASS" endtime="20200907 07:29:57.371" starttime="20200907 07:29:55.385"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:29:57.371" critical="yes" starttime="20200907 07:29:53.351"></status>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20200907 07:29:57.372" starttime="20200907 07:29:30.595"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s1-s2" name="hadoopfs-ofs">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:31:34.942" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:31:34.942" starttime="20200907 07:31:34.941"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:31:34.942" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:31:34.942" starttime="20200907 07:31:34.942"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:34.943" starttime="20200907 07:31:34.941"></status>
</kw>
<msg timestamp="20200907 07:31:34.943" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:31:34.943" starttime="20200907 07:31:34.941"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:31:34.944" starttime="20200907 07:31:34.943"></status>
</kw>
<msg timestamp="20200907 07:31:34.944" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:31:34.944" starttime="20200907 07:31:34.943"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:34.944" starttime="20200907 07:31:34.940"></status>
</kw>
<msg timestamp="20200907 07:31:34.944" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:31:34.944" starttime="20200907 07:31:34.940"></status>
</kw>
<msg timestamp="20200907 07:31:34.944" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:31:34.944" starttime="20200907 07:31:34.938"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:31:34.945" level="INFO">${random} = 13276</msg>
<status status="PASS" endtime="20200907 07:31:34.945" starttime="20200907 07:31:34.944"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:31:34.949" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-13276 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:31:38.100" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:31:38.100" level="INFO">${output} = 2020-09-07 07:31:36 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:36 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 ...</msg>
<status status="PASS" endtime="20200907 07:31:38.100" starttime="20200907 07:31:34.946"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:31:38.102" level="INFO">2020-09-07 07:31:36 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:36 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:31:36 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started</msg>
<status status="PASS" endtime="20200907 07:31:38.102" starttime="20200907 07:31:38.101"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:31:38.102" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:31:38.102" starttime="20200907 07:31:38.102"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:38.103" starttime="20200907 07:31:34.945"></status>
</kw>
<msg timestamp="20200907 07:31:38.103" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:31:38.103" starttime="20200907 07:31:34.945"></status>
</kw>
<msg timestamp="20200907 07:31:38.103" level="INFO">${result} = 2020-09-07 07:31:36 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:36 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 ...</msg>
<status status="PASS" endtime="20200907 07:31:38.103" starttime="20200907 07:31:34.945"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:31:38.108" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:31:39.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:31:39.768" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:31 ofs://om/volume1/bucket1/ozone-13276
-rw-...</msg>
<status status="PASS" endtime="20200907 07:31:39.768" starttime="20200907 07:31:38.104"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:31:39.769" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:31 ofs://om/volume1/bucket1/ozone-13276
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:30 ofs://om/volume1/bucket1/ozone-23784
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:31 ofs://om/volume1/bucket1/wordcount-12.txt</msg>
<status status="PASS" endtime="20200907 07:31:39.769" starttime="20200907 07:31:39.769"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:31:39.770" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:31:39.770" starttime="20200907 07:31:39.770"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:39.770" starttime="20200907 07:31:38.104"></status>
</kw>
<msg timestamp="20200907 07:31:39.770" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:31:39.770" starttime="20200907 07:31:38.104"></status>
</kw>
<msg timestamp="20200907 07:31:39.771" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:31 ofs://om/volume1/bucket1/ozone-13276
-rw-...</msg>
<status status="PASS" endtime="20200907 07:31:39.771" starttime="20200907 07:31:38.103"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:31:39.771" starttime="20200907 07:31:39.771"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:31:39.771" critical="yes" starttime="20200907 07:31:34.938"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:31:39.772" starttime="20200907 07:31:34.892"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s1-s3" name="hadoopfs-o3fs">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:30:01.856" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:30:01.856" starttime="20200907 07:30:01.856"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:30:01.856" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.856"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.855"></status>
</kw>
<msg timestamp="20200907 07:30:01.857" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.855"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.855"></status>
</kw>
<msg timestamp="20200907 07:30:01.857" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.854"></status>
</kw>
<msg timestamp="20200907 07:30:01.857" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:01.857" starttime="20200907 07:30:01.853"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:30:01.858" level="INFO">${random} = 23784</msg>
<status status="PASS" endtime="20200907 07:30:01.858" starttime="20200907 07:30:01.857"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:01.864" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-23784 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:30:05.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:30:05.107" level="INFO">${output} = 2020-09-07 07:30:03 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:03 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 ...</msg>
<status status="PASS" endtime="20200907 07:30:05.108" starttime="20200907 07:30:01.859"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:30:05.109" level="INFO">2020-09-07 07:30:03 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:03 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:30:03 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started</msg>
<status status="PASS" endtime="20200907 07:30:05.109" starttime="20200907 07:30:05.108"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:30:05.109" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:30:05.109" starttime="20200907 07:30:05.109"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:05.109" starttime="20200907 07:30:01.859"></status>
</kw>
<msg timestamp="20200907 07:30:05.110" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:30:05.110" starttime="20200907 07:30:01.858"></status>
</kw>
<msg timestamp="20200907 07:30:05.110" level="INFO">${result} = 2020-09-07 07:30:03 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:03 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 ...</msg>
<status status="PASS" endtime="20200907 07:30:05.110" starttime="20200907 07:30:01.858"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:05.113" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:30:06.815" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:30:06.815" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:30 o3fs://bucket1.volume1.om/ozone-23784
dr...</msg>
<status status="PASS" endtime="20200907 07:30:06.815" starttime="20200907 07:30:05.111"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:30:06.816" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:30 o3fs://bucket1.volume1.om/ozone-23784
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:30:06.816" starttime="20200907 07:30:06.815"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:30:06.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:30:06.817" starttime="20200907 07:30:06.816"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:06.817" starttime="20200907 07:30:05.111"></status>
</kw>
<msg timestamp="20200907 07:30:06.817" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:30:06.817" starttime="20200907 07:30:05.110"></status>
</kw>
<msg timestamp="20200907 07:30:06.818" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:29 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2020-09-07 07:30 o3fs://bucket1.volume1.om/ozone-23784
dr...</msg>
<status status="PASS" endtime="20200907 07:30:06.818" starttime="20200907 07:30:05.110"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:30:06.818" starttime="20200907 07:30:06.818"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:30:06.818" critical="yes" starttime="20200907 07:30:01.852"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:30:06.819" starttime="20200907 07:30:01.806"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s1-s4" name="mapreduce-ofs">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:31:43.977" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:31:43.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:31:43.980" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:31:43.980" starttime="20200907 07:31:43.971"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:31:43.981" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:31:43.981" starttime="20200907 07:31:43.980"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:31:43.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:31:43.982" starttime="20200907 07:31:43.981"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:43.982" starttime="20200907 07:31:43.970"></status>
</kw>
<msg timestamp="20200907 07:31:43.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:31:43.982" starttime="20200907 07:31:43.970"></status>
</kw>
<msg timestamp="20200907 07:31:43.986" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:31:43.986" starttime="20200907 07:31:43.970"></status>
</kw>
<msg timestamp="20200907 07:31:43.986" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:31:43.986" starttime="20200907 07:31:43.969"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:31:43.990" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:31:43.990" starttime="20200907 07:31:43.989"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:31:43.991" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:31:43.991" starttime="20200907 07:31:43.990"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:43.991" starttime="20200907 07:31:43.989"></status>
</kw>
<msg timestamp="20200907 07:31:43.991" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:31:43.991" starttime="20200907 07:31:43.988"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:31:43.992" starttime="20200907 07:31:43.991"></status>
</kw>
<msg timestamp="20200907 07:31:43.992" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:31:43.992" starttime="20200907 07:31:43.991"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:43.992" starttime="20200907 07:31:43.988"></status>
</kw>
<msg timestamp="20200907 07:31:43.992" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:31:43.992" starttime="20200907 07:31:43.987"></status>
</kw>
<msg timestamp="20200907 07:31:43.992" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:31:43.992" starttime="20200907 07:31:43.987"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:31:43.996" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:32:22.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:32:22.789" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:31:45 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:45 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20200907 07:32:22.790" starttime="20200907 07:31:43.994"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:32:22.791" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:31:45 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:45 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:31:45 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:31:49 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:31:49 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:31:49 INFO  FileInputFormat:283 - Total input paths to process : 3
2020-09-07 07:31:52 INFO  JobSubmitter:198 - number of splits:3
2020-09-07 07:31:52 INFO  JobSubmitter:287 - Submitting tokens for job: job_1599463739995_0003
2020-09-07 07:31:52 INFO  YarnClientImpl:273 - Submitted application application_1599463739995_0003
2020-09-07 07:31:52 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1599463739995_0003/
2020-09-07 07:31:52 INFO  Job:1339 - Running job: job_1599463739995_0003
2020-09-07 07:31:59 INFO  Job:1360 - Job job_1599463739995_0003 running in uber mode : false
2020-09-07 07:31:59 INFO  Job:1367 -  map 0% reduce 0%
2020-09-07 07:32:06 INFO  Job:1367 -  map 33% reduce 0%
2020-09-07 07:32:11 INFO  Job:1367 -  map 67% reduce 0%
2020-09-07 07:32:17 INFO  Job:1367 -  map 100% reduce 0%
2020-09-07 07:32:21 INFO  Job:1367 -  map 100% reduce 100%
2020-09-07 07:32:22 INFO  Job:1378 - Job job_1599463739995_0003 completed successfully
2020-09-07 07:32:22 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=613533
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38080
		Total time spent by all reduces in occupied slots (ms)=15144
		Total time spent by all map tasks (ms)=9520
		Total time spent by all reduce tasks (ms)=3786
		Total vcore-milliseconds taken by all map tasks=9520
		Total vcore-milliseconds taken by all reduce tasks=3786
		Total megabyte-milliseconds taken by all map tasks=38993920
		Total megabyte-milliseconds taken by all reduce tasks=15507456
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=671
		CPU time spent (ms)=6580
		Physical memory (bytes) snapshot=1107890176
		Virtual memory (bytes) snapshot=16042274816
		Total committed heap usage (bytes)=1050673152
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 32.785 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20200907 07:32:22.791" starttime="20200907 07:32:22.790"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:32:22.791" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:32:22.791" starttime="20200907 07:32:22.791"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.792" starttime="20200907 07:31:43.993"></status>
</kw>
<msg timestamp="20200907 07:32:22.792" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:32:22.792" starttime="20200907 07:31:43.993"></status>
</kw>
<msg timestamp="20200907 07:32:22.792" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:31:45 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:31:45 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20200907 07:32:22.792" starttime="20200907 07:31:43.993"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:32:22.793" starttime="20200907 07:32:22.792"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:32:22.793" critical="yes" starttime="20200907 07:31:43.968"></status>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:32:22.797" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:32:22.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:32:22.804" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:32:22.804" starttime="20200907 07:32:22.795"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:32:22.805" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:32:22.805" starttime="20200907 07:32:22.804"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:32:22.805" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:32:22.805" starttime="20200907 07:32:22.805"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.805" starttime="20200907 07:32:22.795"></status>
</kw>
<msg timestamp="20200907 07:32:22.806" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:32:22.806" starttime="20200907 07:32:22.795"></status>
</kw>
<msg timestamp="20200907 07:32:22.806" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:32:22.806" starttime="20200907 07:32:22.794"></status>
</kw>
<msg timestamp="20200907 07:32:22.806" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:32:22.806" starttime="20200907 07:32:22.794"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:32:22.807" level="INFO">${random} = 85</msg>
<status status="PASS" endtime="20200907 07:32:22.807" starttime="20200907 07:32:22.806"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:32:22.810" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:32:22.810" starttime="20200907 07:32:22.810"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:32:22.811" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.811" starttime="20200907 07:32:22.810"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.811" starttime="20200907 07:32:22.809"></status>
</kw>
<msg timestamp="20200907 07:32:22.811" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.811" starttime="20200907 07:32:22.809"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:32:22.812" starttime="20200907 07:32:22.811"></status>
</kw>
<msg timestamp="20200907 07:32:22.812" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:32:22.812" starttime="20200907 07:32:22.811"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.812" starttime="20200907 07:32:22.808"></status>
</kw>
<msg timestamp="20200907 07:32:22.812" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:32:22.812" starttime="20200907 07:32:22.807"></status>
</kw>
<msg timestamp="20200907 07:32:22.812" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:32:22.812" starttime="20200907 07:32:22.807"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:32:22.815" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:32:22.815" starttime="20200907 07:32:22.815"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:32:22.815" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.815" starttime="20200907 07:32:22.815"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.816" starttime="20200907 07:32:22.814"></status>
</kw>
<msg timestamp="20200907 07:32:22.816" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.816" starttime="20200907 07:32:22.814"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:32:22.817" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20200907 07:32:22.817" starttime="20200907 07:32:22.817"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:32:22.817" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20200907 07:32:22.817" starttime="20200907 07:32:22.817"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.818" starttime="20200907 07:32:22.816"></status>
</kw>
<msg timestamp="20200907 07:32:22.818" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20200907 07:32:22.818" starttime="20200907 07:32:22.816"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.818" starttime="20200907 07:32:22.813"></status>
</kw>
<msg timestamp="20200907 07:32:22.818" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:32:22.818" starttime="20200907 07:32:22.813"></status>
</kw>
<msg timestamp="20200907 07:32:22.818" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:32:22.818" starttime="20200907 07:32:22.812"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:32:22.821" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:32:22.821" starttime="20200907 07:32:22.821"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:32:22.822" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.822" starttime="20200907 07:32:22.821"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.822" starttime="20200907 07:32:22.820"></status>
</kw>
<msg timestamp="20200907 07:32:22.822" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:32:22.822" starttime="20200907 07:32:22.820"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:32:22.823" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20200907 07:32:22.823" starttime="20200907 07:32:22.823"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:32:22.824" level="INFO">${result} = /wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:32:22.824" starttime="20200907 07:32:22.823"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.824" starttime="20200907 07:32:22.823"></status>
</kw>
<msg timestamp="20200907 07:32:22.824" level="INFO">${path_with_leading} = /wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:32:22.824" starttime="20200907 07:32:22.822"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:22.824" starttime="20200907 07:32:22.819"></status>
</kw>
<msg timestamp="20200907 07:32:22.824" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:32:22.824" starttime="20200907 07:32:22.819"></status>
</kw>
<msg timestamp="20200907 07:32:22.825" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:32:22.825" starttime="20200907 07:32:22.818"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:32:22.829" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-85.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:32:55.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:32:55.489" level="INFO">${output} = 2020-09-07 07:32:24 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:32:24 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20200907 07:32:55.489" starttime="20200907 07:32:22.826"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:32:55.490" level="INFO">2020-09-07 07:32:24 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:32:24 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:32:25 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:32:25 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:32:25 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2020-09-07 07:32:26 INFO  FileInputFormat:283 - Total input paths to process : 3
2020-09-07 07:32:26 INFO  JobSubmitter:198 - number of splits:3
2020-09-07 07:32:26 INFO  JobSubmitter:287 - Submitting tokens for job: job_1599463739995_0004
2020-09-07 07:32:26 INFO  YarnClientImpl:273 - Submitted application application_1599463739995_0004
2020-09-07 07:32:26 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1599463739995_0004/
2020-09-07 07:32:26 INFO  Job:1339 - Running job: job_1599463739995_0004
2020-09-07 07:32:34 INFO  Job:1360 - Job job_1599463739995_0004 running in uber mode : false
2020-09-07 07:32:34 INFO  Job:1367 -  map 0% reduce 0%
2020-09-07 07:32:40 INFO  Job:1367 -  map 33% reduce 0%
2020-09-07 07:32:45 INFO  Job:1367 -  map 67% reduce 0%
2020-09-07 07:32:50 INFO  Job:1367 -  map 100% reduce 0%
2020-09-07 07:32:54 INFO  Job:1367 -  map 100% reduce 100%
2020-09-07 07:32:55 INFO  Job:1378 - Job job_1599463739995_0004 completed successfully
2020-09-07 07:32:55 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=676285
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39743
		OFS: Number of bytes written=22237
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36740
		Total time spent by all reduces in occupied slots (ms)=13232
		Total time spent by all map tasks (ms)=9185
		Total time spent by all reduce tasks (ms)=3308
		Total vcore-milliseconds taken by all map tasks=9185
		Total vcore-milliseconds taken by all reduce tasks=3308
		Total megabyte-milliseconds taken by all map tasks=37621760
		Total megabyte-milliseconds taken by all reduce tasks=13549568
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=300
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=599
		CPU time spent (ms)=6420
		Physical memory (bytes) snapshot=1100955648
		Virtual memory (bytes) snapshot=16042917888
		Total committed heap usage (bytes)=1048576000
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237</msg>
<status status="PASS" endtime="20200907 07:32:55.490" starttime="20200907 07:32:55.490"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:32:55.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:32:55.491" starttime="20200907 07:32:55.491"></status>
</kw>
<status status="PASS" endtime="20200907 07:32:55.491" starttime="20200907 07:32:22.825"></status>
</kw>
<msg timestamp="20200907 07:32:55.491" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:32:55.491" starttime="20200907 07:32:22.825"></status>
</kw>
<msg timestamp="20200907 07:32:55.492" level="INFO">${output} = 2020-09-07 07:32:24 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:32:24 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20200907 07:32:55.492" starttime="20200907 07:32:22.825"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:32:55.492" starttime="20200907 07:32:55.492"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:32:55.493" starttime="20200907 07:32:55.493"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:32:55.493" critical="yes" starttime="20200907 07:32:22.793"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:32:55.494" starttime="20200907 07:31:43.922"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s1-s5" name="mapreduce-o3fs">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:11.126" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:30:11.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:30:11.132" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:11.132" starttime="20200907 07:30:11.122"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:30:11.133" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:11.133" starttime="20200907 07:30:11.132"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:30:11.133" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:30:11.133" starttime="20200907 07:30:11.133"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:11.133" starttime="20200907 07:30:11.122"></status>
</kw>
<msg timestamp="20200907 07:30:11.134" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:30:11.134" starttime="20200907 07:30:11.121"></status>
</kw>
<msg timestamp="20200907 07:30:11.134" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:11.134" starttime="20200907 07:30:11.121"></status>
</kw>
<msg timestamp="20200907 07:30:11.134" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:11.134" starttime="20200907 07:30:11.121"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:30:11.137" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:30:11.137" starttime="20200907 07:30:11.136"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:30:11.137" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:30:11.137" starttime="20200907 07:30:11.137"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:11.138" starttime="20200907 07:30:11.136"></status>
</kw>
<msg timestamp="20200907 07:30:11.138" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:30:11.138" starttime="20200907 07:30:11.136"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:11.138" starttime="20200907 07:30:11.135"></status>
</kw>
<msg timestamp="20200907 07:30:11.138" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:11.138" starttime="20200907 07:30:11.135"></status>
</kw>
<msg timestamp="20200907 07:30:11.138" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:11.138" starttime="20200907 07:30:11.134"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:11.142" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:30:52.394" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:30:52.394" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:30:13 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:13 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20200907 07:30:52.394" starttime="20200907 07:30:11.139"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:30:52.396" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:30:13 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:13 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:30:13 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:30:14 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:30:17 INFO  FileInputFormat:283 - Total input paths to process : 3
2020-09-07 07:30:17 INFO  JobSubmitter:198 - number of splits:3
2020-09-07 07:30:19 INFO  JobSubmitter:287 - Submitting tokens for job: job_1599463739995_0001
2020-09-07 07:30:20 INFO  YarnClientImpl:273 - Submitted application application_1599463739995_0001
2020-09-07 07:30:20 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1599463739995_0001/
2020-09-07 07:30:20 INFO  Job:1339 - Running job: job_1599463739995_0001
2020-09-07 07:30:29 INFO  Job:1360 - Job job_1599463739995_0001 running in uber mode : false
2020-09-07 07:30:29 INFO  Job:1367 -  map 0% reduce 0%
2020-09-07 07:30:36 INFO  Job:1367 -  map 33% reduce 0%
2020-09-07 07:30:41 INFO  Job:1367 -  map 67% reduce 0%
2020-09-07 07:30:45 INFO  Job:1367 -  map 100% reduce 0%
2020-09-07 07:30:50 INFO  Job:1367 -  map 100% reduce 100%
2020-09-07 07:30:51 INFO  Job:1378 - Job job_1599463739995_0001 completed successfully
2020-09-07 07:30:51 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=613737
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38884
		Total time spent by all reduces in occupied slots (ms)=14224
		Total time spent by all map tasks (ms)=9721
		Total time spent by all reduce tasks (ms)=3556
		Total vcore-milliseconds taken by all map tasks=9721
		Total vcore-milliseconds taken by all reduce tasks=3556
		Total megabyte-milliseconds taken by all map tasks=39817216
		Total megabyte-milliseconds taken by all reduce tasks=14565376
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=648
		CPU time spent (ms)=6800
		Physical memory (bytes) snapshot=1130786816
		Virtual memory (bytes) snapshot=16065835008
		Total committed heap usage (bytes)=1010827264
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.627 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20200907 07:30:52.396" starttime="20200907 07:30:52.395"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:30:52.396" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:30:52.396" starttime="20200907 07:30:52.396"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.397" starttime="20200907 07:30:11.139"></status>
</kw>
<msg timestamp="20200907 07:30:52.397" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:30:52.397" starttime="20200907 07:30:11.139"></status>
</kw>
<msg timestamp="20200907 07:30:52.397" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:30:13 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:13 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20200907 07:30:52.397" starttime="20200907 07:30:11.138"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:30:52.398" starttime="20200907 07:30:52.398"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:30:52.398" critical="yes" starttime="20200907 07:30:11.119"></status>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:52.403" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:30:52.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:30:52.409" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:52.409" starttime="20200907 07:30:52.401"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:30:52.410" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:52.410" starttime="20200907 07:30:52.410"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:30:52.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:30:52.411" starttime="20200907 07:30:52.410"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.411" starttime="20200907 07:30:52.401"></status>
</kw>
<msg timestamp="20200907 07:30:52.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:30:52.411" starttime="20200907 07:30:52.401"></status>
</kw>
<msg timestamp="20200907 07:30:52.411" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:52.411" starttime="20200907 07:30:52.401"></status>
</kw>
<msg timestamp="20200907 07:30:52.412" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20200907 07:30:52.412" starttime="20200907 07:30:52.400"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:30:52.412" level="INFO">${random} = 12</msg>
<status status="PASS" endtime="20200907 07:30:52.412" starttime="20200907 07:30:52.412"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:30:52.415" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:30:52.416" starttime="20200907 07:30:52.415"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:30:52.416" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.416" starttime="20200907 07:30:52.416"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.416" starttime="20200907 07:30:52.415"></status>
</kw>
<msg timestamp="20200907 07:30:52.416" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.416" starttime="20200907 07:30:52.414"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.416" starttime="20200907 07:30:52.414"></status>
</kw>
<msg timestamp="20200907 07:30:52.417" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:52.417" starttime="20200907 07:30:52.413"></status>
</kw>
<msg timestamp="20200907 07:30:52.417" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:30:52.417" starttime="20200907 07:30:52.413"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:30:52.419" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:30:52.419" starttime="20200907 07:30:52.419"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:30:52.420" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.419"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.419"></status>
</kw>
<msg timestamp="20200907 07:30:52.420" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.418"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.418"></status>
</kw>
<msg timestamp="20200907 07:30:52.420" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.417"></status>
</kw>
<msg timestamp="20200907 07:30:52.420" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:30:52.420" starttime="20200907 07:30:52.417"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:30:52.424" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:30:52.424" starttime="20200907 07:30:52.423"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:30:52.424" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.424" starttime="20200907 07:30:52.424"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.424" starttime="20200907 07:30:52.422"></status>
</kw>
<msg timestamp="20200907 07:30:52.424" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:30:52.424" starttime="20200907 07:30:52.422"></status>
</kw>
<status status="PASS" endtime="20200907 07:30:52.425" starttime="20200907 07:30:52.422"></status>
</kw>
<msg timestamp="20200907 07:30:52.425" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-12.txt</msg>
<status status="PASS" endtime="20200907 07:30:52.425" starttime="20200907 07:30:52.421"></status>
</kw>
<msg timestamp="20200907 07:30:52.425" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-12.txt</msg>
<status status="PASS" endtime="20200907 07:30:52.425" starttime="20200907 07:30:52.421"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:30:52.428" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-12.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:31:30.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:31:30.623" level="INFO">${output} = 2020-09-07 07:30:54 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:30:54 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20200907 07:31:30.623" starttime="20200907 07:30:52.426"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:31:30.625" level="INFO">2020-09-07 07:30:54 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:30:54 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:30:54 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:30:54 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2020-09-07 07:30:54 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2020-09-07 07:30:58 INFO  FileInputFormat:283 - Total input paths to process : 3
2020-09-07 07:30:58 INFO  JobSubmitter:198 - number of splits:3
2020-09-07 07:30:58 INFO  JobSubmitter:287 - Submitting tokens for job: job_1599463739995_0002
2020-09-07 07:30:58 INFO  YarnClientImpl:273 - Submitted application application_1599463739995_0002
2020-09-07 07:30:58 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1599463739995_0002/
2020-09-07 07:30:58 INFO  Job:1339 - Running job: job_1599463739995_0002
2020-09-07 07:31:05 INFO  Job:1360 - Job job_1599463739995_0002 running in uber mode : false
2020-09-07 07:31:05 INFO  Job:1367 -  map 0% reduce 0%
2020-09-07 07:31:12 INFO  Job:1367 -  map 33% reduce 0%
2020-09-07 07:31:17 INFO  Job:1367 -  map 67% reduce 0%
2020-09-07 07:31:22 INFO  Job:1367 -  map 100% reduce 0%
2020-09-07 07:31:26 INFO  Job:1367 -  map 100% reduce 100%
2020-09-07 07:31:30 INFO  Job:1378 - Job job_1599463739995_0002 completed successfully
2020-09-07 07:31:30 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=676369
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39746
		O3FS: Number of bytes written=22237
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37340
		Total time spent by all reduces in occupied slots (ms)=13464
		Total time spent by all map tasks (ms)=9335
		Total time spent by all reduce tasks (ms)=3366
		Total vcore-milliseconds taken by all map tasks=9335
		Total vcore-milliseconds taken by all reduce tasks=3366
		Total megabyte-milliseconds taken by all map tasks=38236160
		Total megabyte-milliseconds taken by all reduce tasks=13787136
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=303
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=616
		CPU time spent (ms)=6590
		Physical memory (bytes) snapshot=1121828864
		Virtual memory (bytes) snapshot=16056086528
		Total committed heap usage (bytes)=1054867456
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237</msg>
<status status="PASS" endtime="20200907 07:31:30.625" starttime="20200907 07:31:30.624"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:31:30.626" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:31:30.626" starttime="20200907 07:31:30.625"></status>
</kw>
<status status="PASS" endtime="20200907 07:31:30.626" starttime="20200907 07:30:52.426"></status>
</kw>
<msg timestamp="20200907 07:31:30.627" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:31:30.627" starttime="20200907 07:30:52.426"></status>
</kw>
<msg timestamp="20200907 07:31:30.627" level="INFO">${output} = 2020-09-07 07:30:54 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.20.0.3:8032
2020-09-07 07:30:54 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20200907 07:31:30.627" starttime="20200907 07:30:52.425"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:31:30.628" starttime="20200907 07:31:30.628"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:31:30.629" starttime="20200907 07:31:30.628"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:31:30.629" critical="yes" starttime="20200907 07:30:52.399"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:31:30.630" starttime="20200907 07:30:11.073"></status>
</suite>
<status status="PASS" elapsedtime="187799" endtime="N/A" starttime="N/A"></status>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s2-s1" name="Createmrenv">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:33:59.886" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:02.159" level="INFO">${rc} = 255</msg>
<msg timestamp="20200907 07:34:02.159" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:34:02.159" starttime="20200907 07:33:59.882"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:02.161" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:34:02.161" starttime="20200907 07:34:02.160"></status>
</kw>
<msg timestamp="20200907 07:34:02.161" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:34:02.161" starttime="20200907 07:33:59.881"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
</arguments>
<kw name="Create volume">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh volume create /${volume} --user hadoop --spaceQuota 100TB --bucketQuota 100</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:02.167" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --spaceQuota 100TB --bucketQuota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:04.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:04.150" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:04.150" starttime="20200907 07:34:02.164"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:04.151" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:04.151" starttime="20200907 07:34:04.151"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:04.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:04.152" starttime="20200907 07:34:04.152"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:04.152" starttime="20200907 07:34:02.163"></status>
</kw>
<msg timestamp="20200907 07:34:04.153" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:04.153" starttime="20200907 07:34:02.163"></status>
</kw>
<msg timestamp="20200907 07:34:04.153" level="INFO">${result} = </msg>
<status status="PASS" endtime="20200907 07:34:04.153" starttime="20200907 07:34:02.162"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>Failed</arg>
</arguments>
<status status="PASS" endtime="20200907 07:34:04.153" starttime="20200907 07:34:04.153"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:04.154" starttime="20200907 07:34:02.162"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:04.154" starttime="20200907 07:34:02.161"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:04.159" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:06.093" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:06.093" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:06.093" starttime="20200907 07:34:04.156"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:06.094" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:06.094" starttime="20200907 07:34:06.093"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:06.095" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:06.095" starttime="20200907 07:34:06.094"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:06.095" starttime="20200907 07:34:04.155"></status>
</kw>
<msg timestamp="20200907 07:34:06.095" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:06.095" starttime="20200907 07:34:04.155"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:06.095" starttime="20200907 07:34:04.155"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:06.095" starttime="20200907 07:34:04.154"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:06.096" starttime="20200907 07:34:04.154"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20200907 07:34:06.096" starttime="20200907 07:34:06.096"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:06.101" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:08.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:08.107" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:34:06.057Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:34:08.107" starttime="20200907 07:34:06.098"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:08.108" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:34:06.057Z",
  "modificationTime" : "2020-09-07T07:34:06.057Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null
}</msg>
<status status="PASS" endtime="20200907 07:34:08.108" starttime="20200907 07:34:08.107"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:08.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:08.108" starttime="20200907 07:34:08.108"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:08.109" starttime="20200907 07:34:06.097"></status>
</kw>
<msg timestamp="20200907 07:34:08.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:08.109" starttime="20200907 07:34:06.097"></status>
</kw>
<msg timestamp="20200907 07:34:08.109" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:34:06.057Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:34:08.109" starttime="20200907 07:34:06.096"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
</arguments>
<status status="PASS" endtime="20200907 07:34:08.110" starttime="20200907 07:34:08.109"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:34:08.114" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:34:08.114" starttime="20200907 07:34:08.113"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:34:08.114" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:34:08.114" starttime="20200907 07:34:08.114"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:08.114" starttime="20200907 07:34:08.113"></status>
</kw>
<msg timestamp="20200907 07:34:08.114" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:34:08.114" starttime="20200907 07:34:08.112"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:08.115" starttime="20200907 07:34:08.112"></status>
</kw>
<msg timestamp="20200907 07:34:08.115" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:34:08.115" starttime="20200907 07:34:08.111"></status>
</kw>
<msg timestamp="20200907 07:34:08.115" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:34:08.115" starttime="20200907 07:34:08.110"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:08.119" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:10.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:10.194" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:10.194" starttime="20200907 07:34:08.116"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:10.196" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:10.196" starttime="20200907 07:34:10.195"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:10.196" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:10.196" starttime="20200907 07:34:10.196"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:10.196" starttime="20200907 07:34:08.116"></status>
</kw>
<msg timestamp="20200907 07:34:10.197" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:10.197" starttime="20200907 07:34:08.116"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:10.197" starttime="20200907 07:34:08.115"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:10.201" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:15.369" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:15.369" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:15.369" starttime="20200907 07:34:10.198"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:15.370" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:15.370" starttime="20200907 07:34:15.370"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:15.371" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:15.371" starttime="20200907 07:34:15.370"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:15.371" starttime="20200907 07:34:10.198"></status>
</kw>
<msg timestamp="20200907 07:34:15.371" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:15.371" starttime="20200907 07:34:10.198"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:15.372" starttime="20200907 07:34:10.197"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:15.376" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:19.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:19.332" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:19.332" starttime="20200907 07:34:15.373"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:19.333" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:19.333" starttime="20200907 07:34:19.332"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:19.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:19.334" starttime="20200907 07:34:19.333"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:19.334" starttime="20200907 07:34:15.373"></status>
</kw>
<msg timestamp="20200907 07:34:19.334" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:19.334" starttime="20200907 07:34:15.372"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:19.334" starttime="20200907 07:34:15.372"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:19.341" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:22.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:22.932" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:22.932" starttime="20200907 07:34:19.338"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:22.934" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:22.934" starttime="20200907 07:34:22.933"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:22.934" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:22.934" starttime="20200907 07:34:22.934"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:22.935" starttime="20200907 07:34:19.337"></status>
</kw>
<msg timestamp="20200907 07:34:22.935" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:22.935" starttime="20200907 07:34:19.336"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:22.935" starttime="20200907 07:34:19.335"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:34:22.935" critical="yes" starttime="20200907 07:33:59.881"></status>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:34:22.940" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:34:22.940" starttime="20200907 07:34:22.940"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:34:22.941" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:34:22.941" starttime="20200907 07:34:22.940"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:22.941" starttime="20200907 07:34:22.939"></status>
</kw>
<msg timestamp="20200907 07:34:22.941" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:34:22.941" starttime="20200907 07:34:22.939"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:22.942" starttime="20200907 07:34:22.938"></status>
</kw>
<msg timestamp="20200907 07:34:22.942" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:34:22.942" starttime="20200907 07:34:22.938"></status>
</kw>
<msg timestamp="20200907 07:34:22.942" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:34:22.942" starttime="20200907 07:34:22.937"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:22.945" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:24.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:24.974" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:24.974" starttime="20200907 07:34:22.943"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:24.975" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:24.975" starttime="20200907 07:34:24.974"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:24.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:24.976" starttime="20200907 07:34:24.975"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:24.976" starttime="20200907 07:34:22.943"></status>
</kw>
<msg timestamp="20200907 07:34:24.976" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:24.976" starttime="20200907 07:34:22.943"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:24.976" starttime="20200907 07:34:22.942"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:24.981" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:26.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:26.876" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:34:26.876" starttime="20200907 07:34:24.978"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:26.877" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:34:26.877" starttime="20200907 07:34:26.876"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:26.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:26.878" starttime="20200907 07:34:26.877"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:26.878" starttime="20200907 07:34:24.977"></status>
</kw>
<msg timestamp="20200907 07:34:26.878" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:26.878" starttime="20200907 07:34:24.977"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:26.878" starttime="20200907 07:34:24.977"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:34:26.878" critical="yes" starttime="20200907 07:34:22.936"></status>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20200907 07:34:26.880" starttime="20200907 07:33:59.831"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s2-s2" name="hadoopfs-ofs">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:35:59.588" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:35:59.588" starttime="20200907 07:35:59.588"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:35:59.589" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:35:59.589" starttime="20200907 07:35:59.588"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:59.589" starttime="20200907 07:35:59.587"></status>
</kw>
<msg timestamp="20200907 07:35:59.589" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:35:59.589" starttime="20200907 07:35:59.587"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:35:59.590" starttime="20200907 07:35:59.589"></status>
</kw>
<msg timestamp="20200907 07:35:59.590" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:35:59.590" starttime="20200907 07:35:59.589"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:59.590" starttime="20200907 07:35:59.587"></status>
</kw>
<msg timestamp="20200907 07:35:59.590" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:35:59.590" starttime="20200907 07:35:59.586"></status>
</kw>
<msg timestamp="20200907 07:35:59.590" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:35:59.590" starttime="20200907 07:35:59.585"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:35:59.591" level="INFO">${random} = 27319</msg>
<status status="PASS" endtime="20200907 07:35:59.591" starttime="20200907 07:35:59.590"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:35:59.596" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-27319 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:36:02.981" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:36:02.981" level="INFO">${output} = 2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:01 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:36:02.981" starttime="20200907 07:35:59.592"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:36:02.982" level="INFO">2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:01 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:01 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:36:01 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:36:01 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:36:01 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:36:02 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:36:02.982" starttime="20200907 07:36:02.981"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:36:02.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:36:02.983" starttime="20200907 07:36:02.982"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:02.983" starttime="20200907 07:35:59.591"></status>
</kw>
<msg timestamp="20200907 07:36:02.983" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:36:02.983" starttime="20200907 07:35:59.591"></status>
</kw>
<msg timestamp="20200907 07:36:02.983" level="INFO">${result} = 2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:00 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:01 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:36:02.983" starttime="20200907 07:35:59.591"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:36:02.987" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:36:04.761" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:36:04.761" level="INFO">${output} = 2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:04 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:36:04.762" starttime="20200907 07:36:02.985"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:36:04.763" level="INFO">2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:04 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:34 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2020-09-07 07:36 ofs://om/volume1/bucket1/ozone-27319
-rw-rw-rw-   3 hadoop hadoop      21867 2020-09-07 07:34 ofs://om/volume1/bucket1/ozone-28585
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:34 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:35 ofs://om/volume1/bucket1/wordcount-12.txt
2020-09-07 07:36:04 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:36:04.763" starttime="20200907 07:36:04.762"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:36:04.763" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:36:04.763" starttime="20200907 07:36:04.763"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:04.763" starttime="20200907 07:36:02.984"></status>
</kw>
<msg timestamp="20200907 07:36:04.764" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:36:04.764" starttime="20200907 07:36:02.984"></status>
</kw>
<msg timestamp="20200907 07:36:04.764" level="INFO">${result} = 2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:03 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:04 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:36:04.764" starttime="20200907 07:36:02.983"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:36:04.764" starttime="20200907 07:36:04.764"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:36:04.765" critical="yes" starttime="20200907 07:35:59.584"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:36:04.765" starttime="20200907 07:35:59.542"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s2-s3" name="hadoopfs-o3fs">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:34:31.104" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:34:31.104" starttime="20200907 07:34:31.104"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:34:31.105" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:34:31.105" starttime="20200907 07:34:31.104"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:31.105" starttime="20200907 07:34:31.103"></status>
</kw>
<msg timestamp="20200907 07:34:31.105" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:34:31.105" starttime="20200907 07:34:31.103"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:31.105" starttime="20200907 07:34:31.103"></status>
</kw>
<msg timestamp="20200907 07:34:31.105" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:34:31.105" starttime="20200907 07:34:31.102"></status>
</kw>
<msg timestamp="20200907 07:34:31.105" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:34:31.106" starttime="20200907 07:34:31.101"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:34:31.106" level="INFO">${random} = 28585</msg>
<status status="PASS" endtime="20200907 07:34:31.106" starttime="20200907 07:34:31.106"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:31.111" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-28585 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:34.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:34.619" level="INFO">${output} = 2020-09-07 07:34:31 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:34:34.619" starttime="20200907 07:34:31.107"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:34.620" level="INFO">2020-09-07 07:34:31 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:34:33 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:34:33 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:34:33 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:34:34 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:34:34.620" starttime="20200907 07:34:34.619"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:34.620" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:34.620" starttime="20200907 07:34:34.620"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:34.621" starttime="20200907 07:34:31.107"></status>
</kw>
<msg timestamp="20200907 07:34:34.621" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:34.621" starttime="20200907 07:34:31.107"></status>
</kw>
<msg timestamp="20200907 07:34:34.621" level="INFO">${result} = 2020-09-07 07:34:31 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:32 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:34:34.621" starttime="20200907 07:34:31.106"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:34.626" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:36.231" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:36.231" level="INFO">${output} = 2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:36 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:34:36.231" starttime="20200907 07:34:34.622"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:36.232" level="INFO">2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:36 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:34 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2020-09-07 07:34 o3fs://bucket1.volume1.om/ozone-28585
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:34 o3fs://bucket1.volume1.om/user
2020-09-07 07:34:36 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:34:36.232" starttime="20200907 07:34:36.232"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:36.233" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:36.233" starttime="20200907 07:34:36.233"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:36.233" starttime="20200907 07:34:34.622"></status>
</kw>
<msg timestamp="20200907 07:34:36.233" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:36.233" starttime="20200907 07:34:34.622"></status>
</kw>
<msg timestamp="20200907 07:34:36.234" level="INFO">${result} = 2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:35 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:36 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:34:36.234" starttime="20200907 07:34:34.621"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:34:36.234" starttime="20200907 07:34:36.234"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:34:36.234" critical="yes" starttime="20200907 07:34:31.100"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:34:36.235" starttime="20200907 07:34:31.054"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s2-s4" name="mapreduce-ofs">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:36:08.959" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:36:08.965" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:36:08.965" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:08.965" starttime="20200907 07:36:08.955"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:36:08.966" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:08.966" starttime="20200907 07:36:08.965"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:36:08.966" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:36:08.966" starttime="20200907 07:36:08.966"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:08.966" starttime="20200907 07:36:08.955"></status>
</kw>
<msg timestamp="20200907 07:36:08.967" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:36:08.967" starttime="20200907 07:36:08.955"></status>
</kw>
<msg timestamp="20200907 07:36:08.967" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:08.967" starttime="20200907 07:36:08.955"></status>
</kw>
<msg timestamp="20200907 07:36:08.967" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:08.967" starttime="20200907 07:36:08.954"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:36:08.970" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:36:08.970" starttime="20200907 07:36:08.969"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:08.970" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:36:08.970" starttime="20200907 07:36:08.970"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:08.971" starttime="20200907 07:36:08.969"></status>
</kw>
<msg timestamp="20200907 07:36:08.971" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:36:08.971" starttime="20200907 07:36:08.969"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:36:08.971" starttime="20200907 07:36:08.971"></status>
</kw>
<msg timestamp="20200907 07:36:08.971" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:36:08.972" starttime="20200907 07:36:08.971"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:08.972" starttime="20200907 07:36:08.968"></status>
</kw>
<msg timestamp="20200907 07:36:08.972" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:36:08.972" starttime="20200907 07:36:08.968"></status>
</kw>
<msg timestamp="20200907 07:36:08.972" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:36:08.972" starttime="20200907 07:36:08.967"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:36:08.975" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:36:44.639" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:36:44.639" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36...</msg>
<status status="PASS" endtime="20200907 07:36:44.640" starttime="20200907 07:36:08.973"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:36:44.641" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:10 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:10 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:10 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:36:10 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:36:10 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:36:10 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:36:11 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:11 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:12 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:12 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.21.0.9:8032
2020-09-07 07:36:12 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:12 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:12 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:36:12 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:12 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:36:12 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:36:15 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464014800_0003
2020-09-07 07:36:15 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:36:15 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:15 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:15 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:15 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:36:15 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2020-09-07 07:36:15 INFO  YarnClientImpl:324 - Submitted application application_1599464014800_0003
2020-09-07 07:36:15 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464014800_0003/
2020-09-07 07:36:15 INFO  Job:1619 - Running job: job_1599464014800_0003
2020-09-07 07:36:22 INFO  Job:1640 - Job job_1599464014800_0003 running in uber mode : false
2020-09-07 07:36:22 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:36:28 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:36:33 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:36:38 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:36:42 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:36:43 INFO  Job:1658 - Job job_1599464014800_0003 completed successfully
2020-09-07 07:36:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:44 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1019445
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36948
		Total time spent by all reduces in occupied slots (ms)=14100
		Total time spent by all map tasks (ms)=9237
		Total time spent by all reduce tasks (ms)=3525
		Total vcore-milliseconds taken by all map tasks=9237
		Total vcore-milliseconds taken by all reduce tasks=3525
		Total megabyte-milliseconds taken by all map tasks=37834752
		Total megabyte-milliseconds taken by all reduce tasks=14438400
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=603
		CPU time spent (ms)=6180
		Physical memory (bytes) snapshot=1160552448
		Virtual memory (bytes) snapshot=16060837888
		Total committed heap usage (bytes)=1065353216
		Peak Map Physical memory (bytes)=290611200
		Peak Map Virtual memory (bytes)=4008439808
		Peak Reduce Physical memory (bytes)=298389504
		Peak Reduce Virtual memory (bytes)=4036362240
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 32.119 seconds
2020-09-07 07:36:44 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2020-09-07 07:36:44 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:36:44.641" starttime="20200907 07:36:44.640"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:36:44.641" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:36:44.641" starttime="20200907 07:36:44.641"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.642" starttime="20200907 07:36:08.973"></status>
</kw>
<msg timestamp="20200907 07:36:44.642" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:36:44.642" starttime="20200907 07:36:08.972"></status>
</kw>
<msg timestamp="20200907 07:36:44.642" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:09 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36...</msg>
<status status="PASS" endtime="20200907 07:36:44.642" starttime="20200907 07:36:08.972"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:36:44.643" starttime="20200907 07:36:44.643"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:36:44.643" critical="yes" starttime="20200907 07:36:08.954"></status>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:36:44.648" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:36:44.653" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:36:44.653" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:44.653" starttime="20200907 07:36:44.646"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:36:44.654" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:44.654" starttime="20200907 07:36:44.654"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:36:44.655" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:36:44.655" starttime="20200907 07:36:44.654"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.655" starttime="20200907 07:36:44.645"></status>
</kw>
<msg timestamp="20200907 07:36:44.655" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:36:44.655" starttime="20200907 07:36:44.645"></status>
</kw>
<msg timestamp="20200907 07:36:44.655" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:44.655" starttime="20200907 07:36:44.645"></status>
</kw>
<msg timestamp="20200907 07:36:44.655" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:36:44.655" starttime="20200907 07:36:44.644"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:36:44.656" level="INFO">${random} = 14</msg>
<status status="PASS" endtime="20200907 07:36:44.656" starttime="20200907 07:36:44.656"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:36:44.659" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:36:44.659" starttime="20200907 07:36:44.659"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:44.660" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.660" starttime="20200907 07:36:44.659"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.660" starttime="20200907 07:36:44.658"></status>
</kw>
<msg timestamp="20200907 07:36:44.660" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.660" starttime="20200907 07:36:44.658"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:36:44.661" starttime="20200907 07:36:44.660"></status>
</kw>
<msg timestamp="20200907 07:36:44.661" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:36:44.661" starttime="20200907 07:36:44.660"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.661" starttime="20200907 07:36:44.657"></status>
</kw>
<msg timestamp="20200907 07:36:44.661" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:36:44.661" starttime="20200907 07:36:44.657"></status>
</kw>
<msg timestamp="20200907 07:36:44.661" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:36:44.661" starttime="20200907 07:36:44.656"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:36:44.664" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:36:44.664" starttime="20200907 07:36:44.663"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:44.664" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.664" starttime="20200907 07:36:44.664"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.665" starttime="20200907 07:36:44.663"></status>
</kw>
<msg timestamp="20200907 07:36:44.665" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.665" starttime="20200907 07:36:44.663"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:36:44.666" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20200907 07:36:44.666" starttime="20200907 07:36:44.666"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:44.666" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20200907 07:36:44.666" starttime="20200907 07:36:44.666"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.667" starttime="20200907 07:36:44.665"></status>
</kw>
<msg timestamp="20200907 07:36:44.667" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20200907 07:36:44.667" starttime="20200907 07:36:44.665"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.667" starttime="20200907 07:36:44.662"></status>
</kw>
<msg timestamp="20200907 07:36:44.667" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:36:44.667" starttime="20200907 07:36:44.662"></status>
</kw>
<msg timestamp="20200907 07:36:44.667" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:36:44.667" starttime="20200907 07:36:44.661"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:36:44.670" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:36:44.670" starttime="20200907 07:36:44.669"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:44.670" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.671" starttime="20200907 07:36:44.670"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.671" starttime="20200907 07:36:44.669"></status>
</kw>
<msg timestamp="20200907 07:36:44.671" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:36:44.671" starttime="20200907 07:36:44.669"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:36:44.672" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20200907 07:36:44.672" starttime="20200907 07:36:44.672"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:36:44.672" level="INFO">${result} = /wordcount-14.txt</msg>
<status status="PASS" endtime="20200907 07:36:44.672" starttime="20200907 07:36:44.672"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.673" starttime="20200907 07:36:44.671"></status>
</kw>
<msg timestamp="20200907 07:36:44.673" level="INFO">${path_with_leading} = /wordcount-14.txt</msg>
<status status="PASS" endtime="20200907 07:36:44.673" starttime="20200907 07:36:44.671"></status>
</kw>
<status status="PASS" endtime="20200907 07:36:44.673" starttime="20200907 07:36:44.668"></status>
</kw>
<msg timestamp="20200907 07:36:44.673" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-14.txt</msg>
<status status="PASS" endtime="20200907 07:36:44.673" starttime="20200907 07:36:44.668"></status>
</kw>
<msg timestamp="20200907 07:36:44.673" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-14.txt</msg>
<status status="PASS" endtime="20200907 07:36:44.673" starttime="20200907 07:36:44.667"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:36:44.678" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-14.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:37:18.419" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:37:18.419" level="INFO">${output} = 2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:37:18.419" starttime="20200907 07:36:44.674"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:37:18.420" level="INFO">2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.21.0.9:8032
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:36:46 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:36:46 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:36:46 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:36:48 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:36:48 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:36:48 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464014800_0004
2020-09-07 07:36:48 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:36:48 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:48 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:48 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:48 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:36:48 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2020-09-07 07:36:48 INFO  YarnClientImpl:324 - Submitted application application_1599464014800_0004
2020-09-07 07:36:48 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464014800_0004/
2020-09-07 07:36:48 INFO  Job:1619 - Running job: job_1599464014800_0004
2020-09-07 07:36:56 INFO  Job:1640 - Job job_1599464014800_0004 running in uber mode : false
2020-09-07 07:36:56 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:37:02 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:37:07 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:37:12 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:37:16 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:37:17 INFO  Job:1658 - Job job_1599464014800_0004 completed successfully
2020-09-07 07:37:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:37:18 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=1082117
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39743
		OFS: Number of bytes written=22237
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38568
		Total time spent by all reduces in occupied slots (ms)=13880
		Total time spent by all map tasks (ms)=9642
		Total time spent by all reduce tasks (ms)=3470
		Total vcore-milliseconds taken by all map tasks=9642
		Total vcore-milliseconds taken by all reduce tasks=3470
		Total megabyte-milliseconds taken by all map tasks=39493632
		Total megabyte-milliseconds taken by all reduce tasks=14213120
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=300
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=586
		CPU time spent (ms)=6180
		Physical memory (bytes) snapshot=1124397056
		Virtual memory (bytes) snapshot=16033439744
		Total committed heap usage (bytes)=1066926080
		Peak Map Physical memory (bytes)=291098624
		Peak Map Virtual memory (bytes)=4010864640
		Peak Reduce Physical memory (bytes)=297005056
		Peak Reduce Virtual memory (bytes)=4035710976
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237
2020-09-07 07:37:18 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:37:18.420" starttime="20200907 07:37:18.419"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:37:18.420" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:37:18.421" starttime="20200907 07:37:18.420"></status>
</kw>
<status status="PASS" endtime="20200907 07:37:18.421" starttime="20200907 07:36:44.674"></status>
</kw>
<msg timestamp="20200907 07:37:18.421" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:37:18.421" starttime="20200907 07:36:44.674"></status>
</kw>
<msg timestamp="20200907 07:37:18.422" level="INFO">${output} = 2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:45 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:36:46 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:37:18.422" starttime="20200907 07:36:44.673"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:37:18.422" starttime="20200907 07:37:18.422"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:37:18.423" starttime="20200907 07:37:18.422"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:37:18.423" critical="yes" starttime="20200907 07:36:44.644"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:37:18.424" starttime="20200907 07:36:08.909"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s2-s5" name="mapreduce-o3fs">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:40.507" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:34:40.511" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:34:40.511" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:34:40.511" starttime="20200907 07:34:40.502"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:34:40.512" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:34:40.512" starttime="20200907 07:34:40.511"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:34:40.512" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:34:40.513" starttime="20200907 07:34:40.512"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:40.513" starttime="20200907 07:34:40.501"></status>
</kw>
<msg timestamp="20200907 07:34:40.513" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:34:40.513" starttime="20200907 07:34:40.501"></status>
</kw>
<msg timestamp="20200907 07:34:40.513" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:34:40.513" starttime="20200907 07:34:40.501"></status>
</kw>
<msg timestamp="20200907 07:34:40.513" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:34:40.513" starttime="20200907 07:34:40.500"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:34:40.516" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:34:40.516" starttime="20200907 07:34:40.516"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:34:40.517" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:34:40.517" starttime="20200907 07:34:40.516"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:40.517" starttime="20200907 07:34:40.515"></status>
</kw>
<msg timestamp="20200907 07:34:40.517" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:34:40.517" starttime="20200907 07:34:40.515"></status>
</kw>
<status status="PASS" endtime="20200907 07:34:40.518" starttime="20200907 07:34:40.515"></status>
</kw>
<msg timestamp="20200907 07:34:40.518" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:34:40.518" starttime="20200907 07:34:40.514"></status>
</kw>
<msg timestamp="20200907 07:34:40.518" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:34:40.518" starttime="20200907 07:34:40.513"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:34:40.521" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:35:17.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:35:17.291" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34...</msg>
<status status="PASS" endtime="20200907 07:35:17.291" starttime="20200907 07:34:40.519"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:35:17.292" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:42 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:42 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:42 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:34:42 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:34:42 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:34:42 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:34:43 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:43 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:43 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:43 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.21.0.9:8032
2020-09-07 07:34:43 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:34:44 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:34:44 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464014800_0001
2020-09-07 07:34:44 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:34:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:44 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:34:44 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2020-09-07 07:34:45 INFO  YarnClientImpl:324 - Submitted application application_1599464014800_0001
2020-09-07 07:34:45 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464014800_0001/
2020-09-07 07:34:45 INFO  Job:1619 - Running job: job_1599464014800_0001
2020-09-07 07:34:55 INFO  Job:1640 - Job job_1599464014800_0001 running in uber mode : false
2020-09-07 07:34:55 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:35:00 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:35:06 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:35:11 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:35:16 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:35:16 INFO  Job:1658 - Job job_1599464014800_0001 completed successfully
2020-09-07 07:35:16 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:16 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1019649
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40284
		Total time spent by all reduces in occupied slots (ms)=15080
		Total time spent by all map tasks (ms)=10071
		Total time spent by all reduce tasks (ms)=3770
		Total vcore-milliseconds taken by all map tasks=10071
		Total vcore-milliseconds taken by all reduce tasks=3770
		Total megabyte-milliseconds taken by all map tasks=41250816
		Total megabyte-milliseconds taken by all reduce tasks=15441920
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=650
		CPU time spent (ms)=6580
		Physical memory (bytes) snapshot=1152876544
		Virtual memory (bytes) snapshot=16057581568
		Total committed heap usage (bytes)=1149763584
		Peak Map Physical memory (bytes)=288149504
		Peak Map Virtual memory (bytes)=4010565632
		Peak Reduce Physical memory (bytes)=294457344
		Peak Reduce Virtual memory (bytes)=4030685184
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 33.129 seconds
2020-09-07 07:35:16 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2020-09-07 07:35:16 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:35:17.293" starttime="20200907 07:35:17.292"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:35:17.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:35:17.293" starttime="20200907 07:35:17.293"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.294" starttime="20200907 07:34:40.519"></status>
</kw>
<msg timestamp="20200907 07:35:17.294" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:35:17.294" starttime="20200907 07:34:40.518"></status>
</kw>
<msg timestamp="20200907 07:35:17.294" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34:41 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:34...</msg>
<status status="PASS" endtime="20200907 07:35:17.294" starttime="20200907 07:34:40.518"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:35:17.295" starttime="20200907 07:35:17.295"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:35:17.295" critical="yes" starttime="20200907 07:34:40.500"></status>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:35:17.299" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:35:17.305" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:35:17.305" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:35:17.305" starttime="20200907 07:35:17.297"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:35:17.306" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:35:17.306" starttime="20200907 07:35:17.306"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:35:17.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:35:17.307" starttime="20200907 07:35:17.306"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.307" starttime="20200907 07:35:17.297"></status>
</kw>
<msg timestamp="20200907 07:35:17.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:35:17.307" starttime="20200907 07:35:17.297"></status>
</kw>
<msg timestamp="20200907 07:35:17.307" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:35:17.308" starttime="20200907 07:35:17.296"></status>
</kw>
<msg timestamp="20200907 07:35:17.308" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20200907 07:35:17.308" starttime="20200907 07:35:17.296"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:35:17.308" level="INFO">${random} = 12</msg>
<status status="PASS" endtime="20200907 07:35:17.308" starttime="20200907 07:35:17.308"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:35:17.312" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:35:17.312" starttime="20200907 07:35:17.311"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:35:17.312" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.312" starttime="20200907 07:35:17.312"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.312" starttime="20200907 07:35:17.311"></status>
</kw>
<msg timestamp="20200907 07:35:17.312" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.313" starttime="20200907 07:35:17.310"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.313" starttime="20200907 07:35:17.310"></status>
</kw>
<msg timestamp="20200907 07:35:17.313" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:35:17.313" starttime="20200907 07:35:17.309"></status>
</kw>
<msg timestamp="20200907 07:35:17.313" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:35:17.313" starttime="20200907 07:35:17.308"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:35:17.316" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:35:17.316" starttime="20200907 07:35:17.316"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:35:17.316" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.316"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.315"></status>
</kw>
<msg timestamp="20200907 07:35:17.317" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.315"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.314"></status>
</kw>
<msg timestamp="20200907 07:35:17.317" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.314"></status>
</kw>
<msg timestamp="20200907 07:35:17.317" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:35:17.317" starttime="20200907 07:35:17.313"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:35:17.320" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:35:17.321" starttime="20200907 07:35:17.320"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:35:17.321" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.321" starttime="20200907 07:35:17.321"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.321" starttime="20200907 07:35:17.320"></status>
</kw>
<msg timestamp="20200907 07:35:17.321" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:35:17.321" starttime="20200907 07:35:17.319"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:17.322" starttime="20200907 07:35:17.319"></status>
</kw>
<msg timestamp="20200907 07:35:17.322" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-12.txt</msg>
<status status="PASS" endtime="20200907 07:35:17.322" starttime="20200907 07:35:17.318"></status>
</kw>
<msg timestamp="20200907 07:35:17.322" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-12.txt</msg>
<status status="PASS" endtime="20200907 07:35:17.322" starttime="20200907 07:35:17.318"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:35:17.326" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-12.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:35:55.355" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:35:55.355" level="INFO">${output} = 2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:35:55.355" starttime="20200907 07:35:17.323"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:35:55.356" level="INFO">2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:19 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:19 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.21.0.9:8032
2020-09-07 07:35:19 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:19 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:35:19 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:19 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:19 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2020-09-07 07:35:19 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2020-09-07 07:35:19 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:35:19 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:35:20 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:35:20 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:35:21 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464014800_0002
2020-09-07 07:35:21 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:35:21 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:21 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:21 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:21 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:35:21 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2020-09-07 07:35:21 INFO  YarnClientImpl:324 - Submitted application application_1599464014800_0002
2020-09-07 07:35:21 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464014800_0002/
2020-09-07 07:35:21 INFO  Job:1619 - Running job: job_1599464014800_0002
2020-09-07 07:35:29 INFO  Job:1640 - Job job_1599464014800_0002 running in uber mode : false
2020-09-07 07:35:29 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:35:36 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:35:42 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:35:47 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:35:51 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:35:54 INFO  Job:1658 - Job job_1599464014800_0002 completed successfully
2020-09-07 07:35:54 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:54 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=1082201
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39746
		O3FS: Number of bytes written=22237
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38884
		Total time spent by all reduces in occupied slots (ms)=13532
		Total time spent by all map tasks (ms)=9721
		Total time spent by all reduce tasks (ms)=3383
		Total vcore-milliseconds taken by all map tasks=9721
		Total vcore-milliseconds taken by all reduce tasks=3383
		Total megabyte-milliseconds taken by all map tasks=39817216
		Total megabyte-milliseconds taken by all reduce tasks=13856768
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=303
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=595
		CPU time spent (ms)=6470
		Physical memory (bytes) snapshot=1171038208
		Virtual memory (bytes) snapshot=16063492096
		Total committed heap usage (bytes)=1058537472
		Peak Map Physical memory (bytes)=294617088
		Peak Map Virtual memory (bytes)=4012195840
		Peak Reduce Physical memory (bytes)=294973440
		Peak Reduce Virtual memory (bytes)=4035289088
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237
2020-09-07 07:35:55 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20200907 07:35:55.356" starttime="20200907 07:35:55.355"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:35:55.357" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:35:55.357" starttime="20200907 07:35:55.356"></status>
</kw>
<status status="PASS" endtime="20200907 07:35:55.357" starttime="20200907 07:35:17.323"></status>
</kw>
<msg timestamp="20200907 07:35:55.357" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:35:55.357" starttime="20200907 07:35:17.323"></status>
</kw>
<msg timestamp="20200907 07:35:55.358" level="INFO">${output} = 2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed undeclared tags:
2020-09-07 07:35:18 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20200907 07:35:55.358" starttime="20200907 07:35:17.322"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:35:55.359" starttime="20200907 07:35:55.358"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:35:55.359" starttime="20200907 07:35:55.359"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:35:55.359" critical="yes" starttime="20200907 07:35:17.295"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:35:55.360" starttime="20200907 07:34:40.450"></status>
</suite>
<status status="PASS" elapsedtime="181878" endtime="N/A" starttime="N/A"></status>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s3-s1" name="Createmrenv">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:37.037" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:38:40.573" level="INFO">${rc} = 255</msg>
<msg timestamp="20200907 07:38:40.573" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:38:40.573" starttime="20200907 07:38:37.034"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:38:40.574" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:38:40.575" starttime="20200907 07:38:40.574"></status>
</kw>
<msg timestamp="20200907 07:38:40.575" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20200907 07:38:40.575" starttime="20200907 07:38:37.033"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
</arguments>
<kw name="Create volume">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh volume create /${volume} --user hadoop --spaceQuota 100TB --bucketQuota 100</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:40.580" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --spaceQuota 100TB --bucketQuota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:38:43.715" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:38:43.715" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:38:43.715" starttime="20200907 07:38:40.578"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:38:43.716" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:38:43.716" starttime="20200907 07:38:43.715"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:38:43.717" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:38:43.717" starttime="20200907 07:38:43.716"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:43.717" starttime="20200907 07:38:40.577"></status>
</kw>
<msg timestamp="20200907 07:38:43.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:38:43.717" starttime="20200907 07:38:40.576"></status>
</kw>
<msg timestamp="20200907 07:38:43.717" level="INFO">${result} = </msg>
<status status="PASS" endtime="20200907 07:38:43.718" starttime="20200907 07:38:40.576"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>Failed</arg>
</arguments>
<status status="PASS" endtime="20200907 07:38:43.718" starttime="20200907 07:38:43.718"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:43.718" starttime="20200907 07:38:40.576"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:43.718" starttime="20200907 07:38:40.575"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:43.723" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:38:46.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:38:46.904" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:38:46.904" starttime="20200907 07:38:43.721"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:38:46.905" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:38:46.905" starttime="20200907 07:38:46.905"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:38:46.906" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:38:46.906" starttime="20200907 07:38:46.906"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:46.906" starttime="20200907 07:38:43.720"></status>
</kw>
<msg timestamp="20200907 07:38:46.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:38:46.907" starttime="20200907 07:38:43.720"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:46.907" starttime="20200907 07:38:43.719"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:46.907" starttime="20200907 07:38:43.719"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:46.908" starttime="20200907 07:38:43.718"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20200907 07:38:46.908" starttime="20200907 07:38:46.908"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:46.912" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:38:50.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:38:50.199" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:38:46.688Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:38:50.199" starttime="20200907 07:38:46.910"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:38:50.200" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:38:46.688Z",
  "modificationTime" : "2020-09-07T07:38:46.688Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null
}</msg>
<status status="PASS" endtime="20200907 07:38:50.200" starttime="20200907 07:38:50.199"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:38:50.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:38:50.200" starttime="20200907 07:38:50.200"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:50.201" starttime="20200907 07:38:46.910"></status>
</kw>
<msg timestamp="20200907 07:38:50.201" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:38:50.201" starttime="20200907 07:38:46.909"></status>
</kw>
<msg timestamp="20200907 07:38:50.201" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "creationTime" : "2020-09-07T07:38:46.688Z",
  "modificationTime" : "2020-09...</msg>
<status status="PASS" endtime="20200907 07:38:50.201" starttime="20200907 07:38:46.909"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
</arguments>
<status status="PASS" endtime="20200907 07:38:50.201" starttime="20200907 07:38:50.201"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:38:50.205" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:38:50.205" starttime="20200907 07:38:50.205"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:38:50.206" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:38:50.206" starttime="20200907 07:38:50.205"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:50.206" starttime="20200907 07:38:50.204"></status>
</kw>
<msg timestamp="20200907 07:38:50.206" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:38:50.206" starttime="20200907 07:38:50.204"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:50.206" starttime="20200907 07:38:50.203"></status>
</kw>
<msg timestamp="20200907 07:38:50.206" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:38:50.206" starttime="20200907 07:38:50.202"></status>
</kw>
<msg timestamp="20200907 07:38:50.207" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20200907 07:38:50.207" starttime="20200907 07:38:50.202"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:50.211" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:38:53.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:38:53.363" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:38:53.363" starttime="20200907 07:38:50.208"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:38:53.365" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:38:53.365" starttime="20200907 07:38:53.364"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:38:53.366" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:38:53.366" starttime="20200907 07:38:53.365"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:53.366" starttime="20200907 07:38:50.208"></status>
</kw>
<msg timestamp="20200907 07:38:53.366" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:38:53.366" starttime="20200907 07:38:50.207"></status>
</kw>
<status status="PASS" endtime="20200907 07:38:53.366" starttime="20200907 07:38:50.207"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:38:53.370" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:00.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:00.151" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:39:00.151" starttime="20200907 07:38:53.368"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:00.152" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:39:00.152" starttime="20200907 07:39:00.151"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:00.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:00.152" starttime="20200907 07:39:00.152"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:00.153" starttime="20200907 07:38:53.368"></status>
</kw>
<msg timestamp="20200907 07:39:00.153" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:00.153" starttime="20200907 07:38:53.367"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:00.153" starttime="20200907 07:38:53.367"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:00.159" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:05.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:05.531" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:39:05.531" starttime="20200907 07:39:00.157"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:05.532" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:39:05.532" starttime="20200907 07:39:05.532"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:05.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:05.533" starttime="20200907 07:39:05.533"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:05.533" starttime="20200907 07:39:00.156"></status>
</kw>
<msg timestamp="20200907 07:39:05.533" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:05.534" starttime="20200907 07:39:00.155"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:05.534" starttime="20200907 07:39:00.153"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:05.538" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:10.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:10.799" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:39:10.799" starttime="20200907 07:39:05.536"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:10.800" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:39:10.801" starttime="20200907 07:39:10.800"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:10.801" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:10.801" starttime="20200907 07:39:10.801"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:10.802" starttime="20200907 07:39:05.535"></status>
</kw>
<msg timestamp="20200907 07:39:10.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:10.802" starttime="20200907 07:39:05.535"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:10.802" starttime="20200907 07:39:05.534"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:39:10.802" critical="yes" starttime="20200907 07:38:37.032"></status>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:39:10.808" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:39:10.808" starttime="20200907 07:39:10.808"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:39:10.809" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:39:10.809" starttime="20200907 07:39:10.809"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:10.809" starttime="20200907 07:39:10.807"></status>
</kw>
<msg timestamp="20200907 07:39:10.810" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:39:10.810" starttime="20200907 07:39:10.807"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:10.810" starttime="20200907 07:39:10.806"></status>
</kw>
<msg timestamp="20200907 07:39:10.810" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:39:10.810" starttime="20200907 07:39:10.805"></status>
</kw>
<msg timestamp="20200907 07:39:10.810" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:39:10.810" starttime="20200907 07:39:10.804"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:10.814" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:13.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:13.917" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:39:13.917" starttime="20200907 07:39:10.812"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:13.918" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:39:13.918" starttime="20200907 07:39:13.917"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:13.919" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:13.919" starttime="20200907 07:39:13.918"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:13.919" starttime="20200907 07:39:10.811"></status>
</kw>
<msg timestamp="20200907 07:39:13.919" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:13.919" starttime="20200907 07:39:10.811"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:13.919" starttime="20200907 07:39:10.810"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:13.924" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:16.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:16.654" level="INFO">${output} = </msg>
<status status="PASS" endtime="20200907 07:39:16.654" starttime="20200907 07:39:13.921"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:16.655" level="INFO"></msg>
<status status="PASS" endtime="20200907 07:39:16.656" starttime="20200907 07:39:16.655"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:16.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:16.656" starttime="20200907 07:39:16.656"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:16.657" starttime="20200907 07:39:13.920"></status>
</kw>
<msg timestamp="20200907 07:39:16.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:16.657" starttime="20200907 07:39:13.920"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:16.657" starttime="20200907 07:39:13.920"></status>
</kw>
<timeout value="2 minutes"></timeout>
<status status="PASS" endtime="20200907 07:39:16.657" critical="yes" starttime="20200907 07:39:10.803"></status>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20200907 07:39:16.658" starttime="20200907 07:38:36.973"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s3-s2" name="hadoopfs-ofs">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:40:47.129" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:40:47.129" starttime="20200907 07:40:47.129"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:40:47.130" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:40:47.130" starttime="20200907 07:40:47.129"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:47.130" starttime="20200907 07:40:47.127"></status>
</kw>
<msg timestamp="20200907 07:40:47.130" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:40:47.130" starttime="20200907 07:40:47.127"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:47.131" starttime="20200907 07:40:47.131"></status>
</kw>
<msg timestamp="20200907 07:40:47.131" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:40:47.131" starttime="20200907 07:40:47.130"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:47.131" starttime="20200907 07:40:47.126"></status>
</kw>
<msg timestamp="20200907 07:40:47.131" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:40:47.131" starttime="20200907 07:40:47.126"></status>
</kw>
<msg timestamp="20200907 07:40:47.131" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:40:47.131" starttime="20200907 07:40:47.125"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:40:47.132" level="INFO">${random} = 16392</msg>
<status status="PASS" endtime="20200907 07:40:47.132" starttime="20200907 07:40:47.132"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:47.134" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-16392 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:50.395" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:50.395" level="INFO">${output} = 2020-09-07 07:40:48 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:49 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020...</msg>
<status status="PASS" endtime="20200907 07:40:50.395" starttime="20200907 07:40:47.133"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:50.396" level="INFO">2020-09-07 07:40:48 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:49 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:40:49 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started</msg>
<status status="PASS" endtime="20200907 07:40:50.396" starttime="20200907 07:40:50.395"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:50.397" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:50.397" starttime="20200907 07:40:50.396"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:50.397" starttime="20200907 07:40:47.133"></status>
</kw>
<msg timestamp="20200907 07:40:50.398" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:50.398" starttime="20200907 07:40:47.133"></status>
</kw>
<msg timestamp="20200907 07:40:50.398" level="INFO">${result} = 2020-09-07 07:40:48 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:49 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020...</msg>
<status status="PASS" endtime="20200907 07:40:50.398" starttime="20200907 07:40:47.132"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:50.402" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:51.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:51.995" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:40 ofs://om/volume1/bucket1/ozone-16392
-rw-...</msg>
<status status="PASS" endtime="20200907 07:40:51.995" starttime="20200907 07:40:50.400"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:51.996" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:40 ofs://om/volume1/bucket1/ozone-16392
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:39 ofs://om/volume1/bucket1/ozone-88995
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:39 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:40 ofs://om/volume1/bucket1/wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:40:51.996" starttime="20200907 07:40:51.995"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:51.996" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:51.997" starttime="20200907 07:40:51.996"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:51.997" starttime="20200907 07:40:50.400"></status>
</kw>
<msg timestamp="20200907 07:40:51.997" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:51.997" starttime="20200907 07:40:50.399"></status>
</kw>
<msg timestamp="20200907 07:40:51.997" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:40 ofs://om/volume1/bucket1/ozone-16392
-rw-...</msg>
<status status="PASS" endtime="20200907 07:40:51.997" starttime="20200907 07:40:50.399"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:51.998" starttime="20200907 07:40:51.997"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:40:51.998" critical="yes" starttime="20200907 07:40:47.124"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:40:51.999" starttime="20200907 07:40:47.084"></status>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s3-s3" name="hadoopfs-o3fs">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:39:20.924" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:39:20.924" starttime="20200907 07:39:20.923"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:39:20.925" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:39:20.925" starttime="20200907 07:39:20.925"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:20.925" starttime="20200907 07:39:20.923"></status>
</kw>
<msg timestamp="20200907 07:39:20.925" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:39:20.925" starttime="20200907 07:39:20.922"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:20.926" starttime="20200907 07:39:20.922"></status>
</kw>
<msg timestamp="20200907 07:39:20.926" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:39:20.926" starttime="20200907 07:39:20.920"></status>
</kw>
<msg timestamp="20200907 07:39:20.926" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:39:20.926" starttime="20200907 07:39:20.919"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:39:20.926" level="INFO">${random} = 88995</msg>
<status status="PASS" endtime="20200907 07:39:20.927" starttime="20200907 07:39:20.926"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:20.929" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-88995 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:24.425" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:24.425" level="INFO">${output} = 2020-09-07 07:39:22 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:22 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020...</msg>
<status status="PASS" endtime="20200907 07:39:24.425" starttime="20200907 07:39:20.928"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:24.426" level="INFO">2020-09-07 07:39:22 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:22 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:39:22 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started</msg>
<status status="PASS" endtime="20200907 07:39:24.426" starttime="20200907 07:39:24.426"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:24.427" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:24.427" starttime="20200907 07:39:24.427"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:24.427" starttime="20200907 07:39:20.927"></status>
</kw>
<msg timestamp="20200907 07:39:24.427" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:24.428" starttime="20200907 07:39:20.927"></status>
</kw>
<msg timestamp="20200907 07:39:24.428" level="INFO">${result} = 2020-09-07 07:39:22 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:22 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020...</msg>
<status status="PASS" endtime="20200907 07:39:24.428" starttime="20200907 07:39:20.927"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>hdfs dfs -ls ${dir}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:24.431" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:26.173" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:26.173" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:39 o3fs://bucket1.volume1.om/ozone-88995
dr...</msg>
<status status="PASS" endtime="20200907 07:39:26.173" starttime="20200907 07:39:24.429"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:26.174" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:39 o3fs://bucket1.volume1.om/ozone-88995
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:39 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20200907 07:39:26.174" starttime="20200907 07:39:26.173"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:26.174" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:26.175" starttime="20200907 07:39:26.174"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:26.175" starttime="20200907 07:39:24.429"></status>
</kw>
<msg timestamp="20200907 07:39:26.175" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:26.175" starttime="20200907 07:39:24.428"></status>
</kw>
<msg timestamp="20200907 07:39:26.175" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2020-09-07 07:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      22125 2020-09-07 07:39 o3fs://bucket1.volume1.om/ozone-88995
dr...</msg>
<status status="PASS" endtime="20200907 07:39:26.175" starttime="20200907 07:39:24.428"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:39:26.176" starttime="20200907 07:39:26.175"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" endtime="20200907 07:39:26.176" critical="yes" starttime="20200907 07:39:20.919"></status>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20200907 07:39:26.177" starttime="20200907 07:39:20.875"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s3-s4" name="mapreduce-ofs">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:56.061" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:56.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:56.073" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:56.073" starttime="20200907 07:40:56.060"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:56.073" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:56.073" starttime="20200907 07:40:56.073"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:56.074" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:56.074" starttime="20200907 07:40:56.074"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:56.074" starttime="20200907 07:40:56.060"></status>
</kw>
<msg timestamp="20200907 07:40:56.074" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:56.075" starttime="20200907 07:40:56.059"></status>
</kw>
<msg timestamp="20200907 07:40:56.075" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:56.075" starttime="20200907 07:40:56.059"></status>
</kw>
<msg timestamp="20200907 07:40:56.075" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:56.075" starttime="20200907 07:40:56.058"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:40:56.078" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:40:56.078" starttime="20200907 07:40:56.078"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:40:56.079" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:40:56.079" starttime="20200907 07:40:56.078"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:56.079" starttime="20200907 07:40:56.078"></status>
</kw>
<msg timestamp="20200907 07:40:56.079" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:40:56.079" starttime="20200907 07:40:56.077"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:56.080" starttime="20200907 07:40:56.080"></status>
</kw>
<msg timestamp="20200907 07:40:56.080" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:40:56.080" starttime="20200907 07:40:56.079"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:56.080" starttime="20200907 07:40:56.076"></status>
</kw>
<msg timestamp="20200907 07:40:56.080" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:40:56.081" starttime="20200907 07:40:56.076"></status>
</kw>
<msg timestamp="20200907 07:40:56.081" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:40:56.081" starttime="20200907 07:40:56.075"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:56.083" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:41:31.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:41:31.054" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:40:57 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:57 INFO  MetricsSystemImpl:374 - Scheduled Metr...</msg>
<status status="PASS" endtime="20200907 07:41:31.054" starttime="20200907 07:40:56.082"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:41:31.055" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:40:57 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:57 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:40:57 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:40:58 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:40:59 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:40:59 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:40:59 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:40:59 INFO  deprecation:1394 - yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled
2020-09-07 07:40:59 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464295774_0003
2020-09-07 07:40:59 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:41:00 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:41:00 INFO  ResourceUtils:419 - Unable to find 'resource-types.xml'.
2020-09-07 07:41:00 INFO  YarnClientImpl:311 - Submitted application application_1599464295774_0003
2020-09-07 07:41:00 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464295774_0003/
2020-09-07 07:41:00 INFO  Job:1619 - Running job: job_1599464295774_0003
2020-09-07 07:41:08 INFO  Job:1640 - Job job_1599464295774_0003 running in uber mode : false
2020-09-07 07:41:08 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:41:14 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:41:20 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:41:25 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:41:29 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:41:30 INFO  Job:1658 - Job job_1599464295774_0003 completed successfully
2020-09-07 07:41:30 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1042453
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37656
		Total time spent by all reduces in occupied slots (ms)=13796
		Total time spent by all map tasks (ms)=9414
		Total time spent by all reduce tasks (ms)=3449
		Total vcore-milliseconds taken by all map tasks=9414
		Total vcore-milliseconds taken by all reduce tasks=3449
		Total megabyte-milliseconds taken by all map tasks=38559744
		Total megabyte-milliseconds taken by all reduce tasks=14127104
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=599
		CPU time spent (ms)=7040
		Physical memory (bytes) snapshot=1415700480
		Virtual memory (bytes) snapshot=16048488448
		Total committed heap usage (bytes)=1637875712
		Peak Map Physical memory (bytes)=356016128
		Peak Map Virtual memory (bytes)=4010872832
		Peak Reduce Physical memory (bytes)=353034240
		Peak Reduce Virtual memory (bytes)=4020166656
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 31.642 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20200907 07:41:31.055" starttime="20200907 07:41:31.055"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:41:31.056" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:41:31.056" starttime="20200907 07:41:31.055"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.056" starttime="20200907 07:40:56.082"></status>
</kw>
<msg timestamp="20200907 07:41:31.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:41:31.056" starttime="20200907 07:40:56.081"></status>
</kw>
<msg timestamp="20200907 07:41:31.057" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:40:57 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:57 INFO  MetricsSystemImpl:374 - Scheduled Metr...</msg>
<status status="PASS" endtime="20200907 07:41:31.057" starttime="20200907 07:40:56.081"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:41:31.058" starttime="20200907 07:41:31.057"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:41:31.058" critical="yes" starttime="20200907 07:40:56.058"></status>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:41:31.062" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:41:31.067" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:41:31.067" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:41:31.067" starttime="20200907 07:41:31.061"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:41:31.068" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:41:31.068" starttime="20200907 07:41:31.068"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:41:31.069" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:41:31.069" starttime="20200907 07:41:31.068"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.069" starttime="20200907 07:41:31.061"></status>
</kw>
<msg timestamp="20200907 07:41:31.069" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:41:31.070" starttime="20200907 07:41:31.060"></status>
</kw>
<msg timestamp="20200907 07:41:31.070" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:41:31.070" starttime="20200907 07:41:31.060"></status>
</kw>
<msg timestamp="20200907 07:41:31.070" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:41:31.070" starttime="20200907 07:41:31.059"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:41:31.071" level="INFO">${random} = 01</msg>
<status status="PASS" endtime="20200907 07:41:31.071" starttime="20200907 07:41:31.070"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:41:31.074" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:41:31.074" starttime="20200907 07:41:31.074"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:41:31.075" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.075" starttime="20200907 07:41:31.074"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.075" starttime="20200907 07:41:31.073"></status>
</kw>
<msg timestamp="20200907 07:41:31.075" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.075" starttime="20200907 07:41:31.073"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${EMPTY}</arg>
</arguments>
<status status="PASS" endtime="20200907 07:41:31.076" starttime="20200907 07:41:31.076"></status>
</kw>
<msg timestamp="20200907 07:41:31.076" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20200907 07:41:31.076" starttime="20200907 07:41:31.075"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.077" starttime="20200907 07:41:31.072"></status>
</kw>
<msg timestamp="20200907 07:41:31.077" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:41:31.077" starttime="20200907 07:41:31.072"></status>
</kw>
<msg timestamp="20200907 07:41:31.077" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20200907 07:41:31.077" starttime="20200907 07:41:31.071"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:41:31.080" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:41:31.080" starttime="20200907 07:41:31.080"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:41:31.081" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.081" starttime="20200907 07:41:31.080"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.081" starttime="20200907 07:41:31.079"></status>
</kw>
<msg timestamp="20200907 07:41:31.081" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.081" starttime="20200907 07:41:31.079"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:41:31.083" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20200907 07:41:31.083" starttime="20200907 07:41:31.082"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:41:31.084" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.083"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.082"></status>
</kw>
<msg timestamp="20200907 07:41:31.084" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.081"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.078"></status>
</kw>
<msg timestamp="20200907 07:41:31.084" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.078"></status>
</kw>
<msg timestamp="20200907 07:41:31.084" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20200907 07:41:31.084" starttime="20200907 07:41:31.077"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format ofs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_trailing}</var>
</assign>
<kw name="Ensure Trailing" library="string">
<arguments>
<arg>/</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>-1</arg>
</arguments>
<assign>
<var>${last}</var>
</assign>
<msg timestamp="20200907 07:41:31.088" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20200907 07:41:31.088" starttime="20200907 07:41:31.087"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:41:31.088" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.088" starttime="20200907 07:41:31.088"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.088" starttime="20200907 07:41:31.087"></status>
</kw>
<msg timestamp="20200907 07:41:31.088" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20200907 07:41:31.088" starttime="20200907 07:41:31.086"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${path_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>/</arg>
<arg>${path}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:41:31.090" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20200907 07:41:31.090" starttime="20200907 07:41:31.089"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:41:31.090" level="INFO">${result} = /wordcount-01.txt</msg>
<status status="PASS" endtime="20200907 07:41:31.090" starttime="20200907 07:41:31.090"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.091" starttime="20200907 07:41:31.089"></status>
</kw>
<msg timestamp="20200907 07:41:31.091" level="INFO">${path_with_leading} = /wordcount-01.txt</msg>
<status status="PASS" endtime="20200907 07:41:31.091" starttime="20200907 07:41:31.089"></status>
</kw>
<status status="PASS" endtime="20200907 07:41:31.091" starttime="20200907 07:41:31.086"></status>
</kw>
<msg timestamp="20200907 07:41:31.091" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-01.txt</msg>
<status status="PASS" endtime="20200907 07:41:31.091" starttime="20200907 07:41:31.085"></status>
</kw>
<msg timestamp="20200907 07:41:31.091" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-01.txt</msg>
<status status="PASS" endtime="20200907 07:41:31.091" starttime="20200907 07:41:31.085"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:41:31.094" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-01.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:42:08.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:42:08.288" level="INFO">${output} = 2020-09-07 07:41:32 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:41:33 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20200907 07:42:08.288" starttime="20200907 07:41:31.093"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:42:08.289" level="INFO">2020-09-07 07:41:32 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:41:33 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:41:33 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:41:33 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:41:33 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:41:34 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:41:34 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:41:34 INFO  deprecation:1394 - yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled
2020-09-07 07:41:34 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464295774_0004
2020-09-07 07:41:34 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:41:35 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:41:35 INFO  ResourceUtils:419 - Unable to find 'resource-types.xml'.
2020-09-07 07:41:35 INFO  YarnClientImpl:311 - Submitted application application_1599464295774_0004
2020-09-07 07:41:35 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464295774_0004/
2020-09-07 07:41:35 INFO  Job:1619 - Running job: job_1599464295774_0004
2020-09-07 07:41:42 INFO  Job:1640 - Job job_1599464295774_0004 running in uber mode : false
2020-09-07 07:41:42 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:41:49 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:41:54 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:41:59 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:42:06 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:42:07 INFO  Job:1658 - Job job_1599464295774_0004 completed successfully
2020-09-07 07:42:07 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=1105133
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39743
		OFS: Number of bytes written=22237
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38448
		Total time spent by all reduces in occupied slots (ms)=23916
		Total time spent by all map tasks (ms)=9612
		Total time spent by all reduce tasks (ms)=5979
		Total vcore-milliseconds taken by all map tasks=9612
		Total vcore-milliseconds taken by all reduce tasks=5979
		Total megabyte-milliseconds taken by all map tasks=39370752
		Total megabyte-milliseconds taken by all reduce tasks=24489984
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=300
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=558
		CPU time spent (ms)=6840
		Physical memory (bytes) snapshot=1401044992
		Virtual memory (bytes) snapshot=16028811264
		Total committed heap usage (bytes)=1598554112
		Peak Map Physical memory (bytes)=356593664
		Peak Map Virtual memory (bytes)=4010491904
		Peak Reduce Physical memory (bytes)=365490176
		Peak Reduce Virtual memory (bytes)=4022255616
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237</msg>
<status status="PASS" endtime="20200907 07:42:08.289" starttime="20200907 07:42:08.288"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:42:08.290" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:42:08.290" starttime="20200907 07:42:08.289"></status>
</kw>
<status status="PASS" endtime="20200907 07:42:08.290" starttime="20200907 07:41:31.092"></status>
</kw>
<msg timestamp="20200907 07:42:08.290" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:42:08.291" starttime="20200907 07:41:31.092"></status>
</kw>
<msg timestamp="20200907 07:42:08.291" level="INFO">${output} = 2020-09-07 07:41:32 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:41:33 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20200907 07:42:08.291" starttime="20200907 07:41:31.092"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:42:08.292" starttime="20200907 07:42:08.291"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:42:08.292" starttime="20200907 07:42:08.292"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:42:08.292" critical="yes" starttime="20200907 07:41:31.059"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:42:08.293" starttime="20200907 07:40:56.018"></status>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s3-s5" name="mapreduce-o3fs">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:30.263" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:39:30.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:39:30.269" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:39:30.269" starttime="20200907 07:39:30.261"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:39:30.269" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:39:30.270" starttime="20200907 07:39:30.269"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:39:30.270" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:39:30.270" starttime="20200907 07:39:30.270"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:30.270" starttime="20200907 07:39:30.261"></status>
</kw>
<msg timestamp="20200907 07:39:30.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:39:30.271" starttime="20200907 07:39:30.261"></status>
</kw>
<msg timestamp="20200907 07:39:30.271" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:39:30.271" starttime="20200907 07:39:30.260"></status>
</kw>
<msg timestamp="20200907 07:39:30.271" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:39:30.271" starttime="20200907 07:39:30.260"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:39:30.274" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:39:30.274" starttime="20200907 07:39:30.274"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:39:30.275" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:39:30.275" starttime="20200907 07:39:30.274"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:30.275" starttime="20200907 07:39:30.273"></status>
</kw>
<msg timestamp="20200907 07:39:30.275" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:39:30.275" starttime="20200907 07:39:30.273"></status>
</kw>
<status status="PASS" endtime="20200907 07:39:30.275" starttime="20200907 07:39:30.272"></status>
</kw>
<msg timestamp="20200907 07:39:30.275" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:39:30.275" starttime="20200907 07:39:30.272"></status>
</kw>
<msg timestamp="20200907 07:39:30.276" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:39:30.276" starttime="20200907 07:39:30.271"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:39:30.278" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:07.099" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:07.099" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:39:32 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:32 INFO  MetricsSystemImpl:374 - Scheduled Metr...</msg>
<status status="PASS" endtime="20200907 07:40:07.099" starttime="20200907 07:39:30.277"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:07.100" level="INFO">Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:39:32 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:32 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:39:32 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2020-09-07 07:39:33 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:39:33 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:39:33 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:39:33 INFO  deprecation:1394 - yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled
2020-09-07 07:39:34 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464295774_0001
2020-09-07 07:39:34 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:39:34 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:39:34 INFO  ResourceUtils:419 - Unable to find 'resource-types.xml'.
2020-09-07 07:39:34 INFO  YarnClientImpl:311 - Submitted application application_1599464295774_0001
2020-09-07 07:39:34 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464295774_0001/
2020-09-07 07:39:34 INFO  Job:1619 - Running job: job_1599464295774_0001
2020-09-07 07:39:44 INFO  Job:1640 - Job job_1599464295774_0001 running in uber mode : false
2020-09-07 07:39:44 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:39:51 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:39:55 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:40:00 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:40:05 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:40:06 INFO  Job:1658 - Job job_1599464295774_0001 completed successfully
2020-09-07 07:40:06 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1042685
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37912
		Total time spent by all reduces in occupied slots (ms)=14504
		Total time spent by all map tasks (ms)=9478
		Total time spent by all reduce tasks (ms)=3626
		Total vcore-milliseconds taken by all map tasks=9478
		Total vcore-milliseconds taken by all reduce tasks=3626
		Total megabyte-milliseconds taken by all map tasks=38821888
		Total megabyte-milliseconds taken by all reduce tasks=14852096
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=611
		CPU time spent (ms)=6640
		Physical memory (bytes) snapshot=1445072896
		Virtual memory (bytes) snapshot=16056524800
		Total committed heap usage (bytes)=1601699840
		Peak Map Physical memory (bytes)=367489024
		Peak Map Virtual memory (bytes)=4014587904
		Peak Reduce Physical memory (bytes)=369524736
		Peak Reduce Virtual memory (bytes)=4021084160
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 33.317 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20200907 07:40:07.100" starttime="20200907 07:40:07.099"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:07.101" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:07.101" starttime="20200907 07:40:07.101"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.101" starttime="20200907 07:39:30.277"></status>
</kw>
<msg timestamp="20200907 07:40:07.101" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:07.102" starttime="20200907 07:39:30.276"></status>
</kw>
<msg timestamp="20200907 07:40:07.102" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2020-09-07 07:39:32 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:39:32 INFO  MetricsSystemImpl:374 - Scheduled Metr...</msg>
<status status="PASS" endtime="20200907 07:40:07.102" starttime="20200907 07:39:30.276"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:07.103" starttime="20200907 07:40:07.102"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:40:07.103" critical="yes" starttime="20200907 07:39:30.259"></status>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<assign>
<var>${exampleJar}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
</arguments>
<assign>
<var>${jar}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:07.107" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:07.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:07.112" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:07.112" starttime="20200907 07:40:07.106"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:07.113" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:07.113" starttime="20200907 07:40:07.113"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:07.114" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:07.114" starttime="20200907 07:40:07.114"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.114" starttime="20200907 07:40:07.105"></status>
</kw>
<msg timestamp="20200907 07:40:07.114" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:07.114" starttime="20200907 07:40:07.105"></status>
</kw>
<msg timestamp="20200907 07:40:07.115" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:07.115" starttime="20200907 07:40:07.104"></status>
</kw>
<msg timestamp="20200907 07:40:07.115" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar</msg>
<status status="PASS" endtime="20200907 07:40:07.115" starttime="20200907 07:40:07.104"></status>
</kw>
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>2</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200907 07:40:07.115" level="INFO">${random} = 85</msg>
<status status="PASS" endtime="20200907 07:40:07.115" starttime="20200907 07:40:07.115"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
</arguments>
<assign>
<var>${root}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:40:07.119" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:40:07.119" starttime="20200907 07:40:07.119"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:40:07.120" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.120" starttime="20200907 07:40:07.119"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.120" starttime="20200907 07:40:07.118"></status>
</kw>
<msg timestamp="20200907 07:40:07.120" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.120" starttime="20200907 07:40:07.117"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.121" starttime="20200907 07:40:07.117"></status>
</kw>
<msg timestamp="20200907 07:40:07.121" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:40:07.121" starttime="20200907 07:40:07.116"></status>
</kw>
<msg timestamp="20200907 07:40:07.121" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20200907 07:40:07.121" starttime="20200907 07:40:07.116"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
</arguments>
<assign>
<var>${dir}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:40:07.124" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:40:07.124" starttime="20200907 07:40:07.124"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:40:07.125" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.125" starttime="20200907 07:40:07.124"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.125" starttime="20200907 07:40:07.123"></status>
</kw>
<msg timestamp="20200907 07:40:07.125" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.125" starttime="20200907 07:40:07.123"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.125" starttime="20200907 07:40:07.122"></status>
</kw>
<msg timestamp="20200907 07:40:07.125" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:40:07.125" starttime="20200907 07:40:07.122"></status>
</kw>
<msg timestamp="20200907 07:40:07.126" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20200907 07:40:07.126" starttime="20200907 07:40:07.121"></status>
</kw>
<kw name="Format FS URL" library="fs">
<arguments>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<kw name="Format o3fs URL" library="fs">
<arguments>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
</arguments>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
</arguments>
<assign>
<var>${om_with_leading}</var>
</assign>
<kw name="Ensure Leading" library="string">
<arguments>
<arg>.</arg>
<arg>${om}</arg>
</arguments>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
</arguments>
<assign>
<var>${first}</var>
</assign>
<msg timestamp="20200907 07:40:07.129" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20200907 07:40:07.129" starttime="20200907 07:40:07.129"></status>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<doc>Sets variable based on the given condition.</doc>
<arguments>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<msg timestamp="20200907 07:40:07.130" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.130" starttime="20200907 07:40:07.129"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.130" starttime="20200907 07:40:07.128"></status>
</kw>
<msg timestamp="20200907 07:40:07.130" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20200907 07:40:07.130" starttime="20200907 07:40:07.127"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:07.130" starttime="20200907 07:40:07.127"></status>
</kw>
<msg timestamp="20200907 07:40:07.130" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:40:07.130" starttime="20200907 07:40:07.126"></status>
</kw>
<msg timestamp="20200907 07:40:07.131" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-85.txt</msg>
<status status="PASS" endtime="20200907 07:40:07.131" starttime="20200907 07:40:07.126"></status>
</kw>
<kw name="Execute" library="os">
<arguments>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200907 07:40:07.134" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.0.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-85.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20200907 07:40:42.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20200907 07:40:42.980" level="INFO">${output} = 2020-09-07 07:40:08 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:40:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20200907 07:40:42.980" starttime="20200907 07:40:07.132"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200907 07:40:42.981" level="INFO">2020-09-07 07:40:08 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:40:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2020-09-07 07:40:09 INFO  MetricsConfig:118 - Loaded properties from hadoop-metrics2.properties
2020-09-07 07:40:09 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2020-09-07 07:40:09 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2020-09-07 07:40:10 INFO  FileInputFormat:292 - Total input files to process : 3
2020-09-07 07:40:10 INFO  JobSubmitter:202 - number of splits:3
2020-09-07 07:40:10 INFO  deprecation:1394 - yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled
2020-09-07 07:40:10 INFO  JobSubmitter:298 - Submitting tokens for job: job_1599464295774_0002
2020-09-07 07:40:10 INFO  JobSubmitter:299 - Executing with tokens: []
2020-09-07 07:40:11 INFO  Configuration:2752 - resource-types.xml not found
2020-09-07 07:40:11 INFO  ResourceUtils:419 - Unable to find 'resource-types.xml'.
2020-09-07 07:40:11 INFO  YarnClientImpl:311 - Submitted application application_1599464295774_0002
2020-09-07 07:40:11 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1599464295774_0002/
2020-09-07 07:40:11 INFO  Job:1619 - Running job: job_1599464295774_0002
2020-09-07 07:40:19 INFO  Job:1640 - Job job_1599464295774_0002 running in uber mode : false
2020-09-07 07:40:19 INFO  Job:1647 -  map 0% reduce 0%
2020-09-07 07:40:26 INFO  Job:1647 -  map 33% reduce 0%
2020-09-07 07:40:32 INFO  Job:1647 -  map 67% reduce 0%
2020-09-07 07:40:36 INFO  Job:1647 -  map 100% reduce 0%
2020-09-07 07:40:41 INFO  Job:1647 -  map 100% reduce 100%
2020-09-07 07:40:42 INFO  Job:1658 - Job job_1599464295774_0002 completed successfully
2020-09-07 07:40:42 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32030
		FILE: Number of bytes written=1105217
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39746
		O3FS: Number of bytes written=22237
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39640
		Total time spent by all reduces in occupied slots (ms)=14468
		Total time spent by all map tasks (ms)=9910
		Total time spent by all reduce tasks (ms)=3617
		Total vcore-milliseconds taken by all map tasks=9910
		Total vcore-milliseconds taken by all reduce tasks=3617
		Total megabyte-milliseconds taken by all map tasks=40591360
		Total megabyte-milliseconds taken by all reduce tasks=14815232
	Map-Reduce Framework
		Map input records=1053
		Map output records=4508
		Map output bytes=55078
		Map output materialized bytes=32042
		Input split bytes=303
		Combine input records=4508
		Combine output records=1798
		Reduce input groups=1534
		Reduce shuffle bytes=32042
		Reduce input records=1798
		Reduce output records=1534
		Spilled Records=3596
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=565
		CPU time spent (ms)=6430
		Physical memory (bytes) snapshot=1296576512
		Virtual memory (bytes) snapshot=16010833920
		Total committed heap usage (bytes)=1568145408
		Peak Map Physical memory (bytes)=358731776
		Peak Map Virtual memory (bytes)=4009525248
		Peak Reduce Physical memory (bytes)=264183808
		Peak Reduce Virtual memory (bytes)=4007493632
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39443
	File Output Format Counters 
		Bytes Written=22237</msg>
<status status="PASS" endtime="20200907 07:40:42.982" starttime="20200907 07:40:42.981"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200907 07:40:42.982" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20200907 07:40:42.982" starttime="20200907 07:40:42.982"></status>
</kw>
<status status="PASS" endtime="20200907 07:40:42.983" starttime="20200907 07:40:07.131"></status>
</kw>
<msg timestamp="20200907 07:40:42.983" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20200907 07:40:42.983" starttime="20200907 07:40:07.131"></status>
</kw>
<msg timestamp="20200907 07:40:42.983" level="INFO">${output} = 2020-09-07 07:40:08 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.5:8032
2020-09-07 07:40:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20200907 07:40:42.984" starttime="20200907 07:40:07.131"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>map tasks=3</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:42.984" starttime="20200907 07:40:42.984"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${output}</arg>
<arg>completed successfully</arg>
</arguments>
<status status="PASS" endtime="20200907 07:40:42.985" starttime="20200907 07:40:42.984"></status>
</kw>
<timeout value="4 minutes"></timeout>
<status status="PASS" endtime="20200907 07:40:42.985" critical="yes" starttime="20200907 07:40:07.103"></status>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20200907 07:40:42.986" starttime="20200907 07:39:30.220"></status>
</suite>
<status status="PASS" elapsedtime="194943" endtime="N/A" starttime="N/A"></status>
</suite>
<status status="PASS" elapsedtime="564620" endtime="N/A" starttime="N/A"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="24">Critical Tests</stat>
<stat fail="0" pass="24">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" id="s1" name="ozone-mr" pass="24">ozone-mr</stat>
<stat fail="0" id="s1-s1" name="hadoop27" pass="8">ozone-mr.hadoop27</stat>
<stat fail="0" id="s1-s1-s1" name="Createmrenv" pass="2">ozone-mr.hadoop27.Createmrenv</stat>
<stat fail="0" id="s1-s1-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat fail="0" id="s1-s1-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat fail="0" id="s1-s1-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat fail="0" id="s1-s1-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat fail="0" id="s1-s2" name="hadoop31" pass="8">ozone-mr.hadoop31</stat>
<stat fail="0" id="s1-s2-s1" name="Createmrenv" pass="2">ozone-mr.hadoop31.Createmrenv</stat>
<stat fail="0" id="s1-s2-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat fail="0" id="s1-s2-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat fail="0" id="s1-s2-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat fail="0" id="s1-s2-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat fail="0" id="s1-s3" name="hadoop32" pass="8">ozone-mr.hadoop32</stat>
<stat fail="0" id="s1-s3-s1" name="Createmrenv" pass="2">ozone-mr.hadoop32.Createmrenv</stat>
<stat fail="0" id="s1-s3-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat fail="0" id="s1-s3-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat fail="0" id="s1-s3-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat fail="0" id="s1-s3-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
