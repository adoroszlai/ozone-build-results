<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20231030 15:52:31.396" rpa="false" schemaversion="4">
<suite id="s1" name="ozonesecure-ha-leadership">
<suite id="s1-s1" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s1-t1" name="Kinit" line="27">
<kw name="Kinit test user" library="commonlib">
<arg>${testuser}</arg>
<arg>${testuser}.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:30.522" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:30.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:30.530" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:42:30.519" endtime="20231030 15:42:30.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:30.531" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:42:30.530" endtime="20231030 15:42:30.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:30.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:30.531" endtime="20231030 15:42:30.532"/>
</kw>
<status status="PASS" starttime="20231030 15:42:30.519" endtime="20231030 15:42:30.532"/>
</kw>
<msg timestamp="20231030 15:42:30.532" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:30.518" endtime="20231030 15:42:30.532"/>
</kw>
<msg timestamp="20231030 15:42:30.532" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:42:30.518" endtime="20231030 15:42:30.532"/>
</kw>
<msg timestamp="20231030 15:42:30.533" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:42:30.517" endtime="20231030 15:42:30.533"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:42:30.533" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:42:30.533" endtime="20231030 15:42:30.533"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:30.538" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:30.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:30.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:42:30.535" endtime="20231030 15:42:30.593"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:30.595" level="INFO"/>
<status status="PASS" starttime="20231030 15:42:30.594" endtime="20231030 15:42:30.595"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:30.596" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:30.595" endtime="20231030 15:42:30.596"/>
</kw>
<status status="PASS" starttime="20231030 15:42:30.535" endtime="20231030 15:42:30.596"/>
</kw>
<msg timestamp="20231030 15:42:30.596" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:30.535" endtime="20231030 15:42:30.596"/>
</kw>
<status status="PASS" starttime="20231030 15:42:30.534" endtime="20231030 15:42:30.596"/>
</kw>
<status status="PASS" starttime="20231030 15:42:30.533" endtime="20231030 15:42:30.596"/>
</kw>
<status status="PASS" starttime="20231030 15:42:30.516" endtime="20231030 15:42:30.596"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20231030 15:42:30.516" endtime="20231030 15:42:30.597"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" starttime="20231030 15:42:30.450" endtime="20231030 15:42:30.598"/>
</suite>
<suite id="s1-s2" name="Admincli" source="/opt/hadoop/smoketest/admincli">
<suite id="s1-s2-s1" name="Admin" source="/opt/hadoop/smoketest/admincli/admin.robot">
<test id="s1-s2-s1-t1" name="Incomplete command" line="23">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:35.188" level="INFO">Running command 'ozone admin 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:38.902" level="INFO">${rc} = 2</msg>
<msg timestamp="20231030 15:42:38.902" level="INFO">${output} = Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configu...</msg>
<status status="PASS" starttime="20231030 15:42:35.184" endtime="20231030 15:42:38.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:38.903" level="INFO">Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configurationPath&gt;

  -D, --set=&lt;String=String&gt;

  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
      --verbose   More verbose output. Show the stack trace of the errors.
Commands:
  containerbalancer   ContainerBalancer specific operations
  replicationmanager  ReplicationManager specific operations
  safemode            Safe mode specific operations
  printTopology       Print a tree of the network topology as reported by SCM
  cert                Certificate related operations
  container           Container specific operations
  datanode            Datanode specific operations
  pipeline            Pipeline specific operations
  namespace           Namespace Summary specific admin operations
  om                  Ozone Manager specific admin operations
  reconfig            Dynamically reconfigure server without restarting it
  scm                 Ozone Storage Container Manager specific admin operations</msg>
<status status="PASS" starttime="20231030 15:42:38.902" endtime="20231030 15:42:38.903"/>
</kw>
<msg timestamp="20231030 15:42:38.904" level="INFO">${output} = Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configu...</msg>
<status status="PASS" starttime="20231030 15:42:35.184" endtime="20231030 15:42:38.904"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.904" endtime="20231030 15:42:38.904"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>container</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.904" endtime="20231030 15:42:38.905"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>datanode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.905" endtime="20231030 15:42:38.905"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>om</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.905" endtime="20231030 15:42:38.906"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>pipeline</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.906" endtime="20231030 15:42:38.906"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>replicationmanager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.907" endtime="20231030 15:42:38.907"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>safemode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.907" endtime="20231030 15:42:38.907"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>printTopology</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:38.908" endtime="20231030 15:42:38.908"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:42:35.183" endtime="20231030 15:42:38.908"/>
</test>
<doc>Test ozone admin command</doc>
<status status="PASS" starttime="20231030 15:42:35.154" endtime="20231030 15:42:38.910"/>
</suite>
<suite id="s1-s2-s2" name="Cert" source="/opt/hadoop/smoketest/admincli/cert.robot">
<test id="s1-s2-s2-t1" name="List certificates" line="26">
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>N/A</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231030 15:42:38.919" endtime="20231030 15:42:38.919"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin cert list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:38.924" level="INFO">Running command 'ozone admin cert list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:44.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:44.719" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                       ...</msg>
<status status="PASS" starttime="20231030 15:42:38.921" endtime="20231030 15:42:44.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:44.723" level="INFO">Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                                                                        Issuer                                                                                                        
1                 Mon Oct 30 15:39:00 UTC 2023   Thu Dec 07 15:39:00 UTC 2028   CN=scm@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=1 CN=scm@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=1
2                 Mon Oct 30 15:39:00 UTC 2023   Thu Dec 07 15:39:00 UTC 2028   CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2 CN=scm@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=1
3                 Mon Oct 30 15:39:30 UTC 2023   Tue Oct 29 15:39:30 UTC 2024   CN=recon@recon,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=3 CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
4                 Mon Oct 30 15:39:32 UTC 2023   Thu Dec 07 15:39:32 UTC 2028   CN=scm-sub@scm2.org,OU=0f3c01fc-c625-4d71-a3c3-fcdca449f622,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=4 CN=scm@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=1
5                 Mon Oct 30 15:39:54 UTC 2023   Thu Dec 07 15:39:54 UTC 2028   CN=scm-sub@scm3.org,OU=e4a04137-b873-4435-a837-9bd87f0b223d,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=5 CN=scm@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=1
6                 Mon Oct 30 15:40:43 UTC 2023   Tue Oct 29 15:40:43 UTC 2024   CN=dn@62b071631851,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=6 CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
7                 Mon Oct 30 15:40:44 UTC 2023   Tue Oct 29 15:40:44 UTC 2024   CN=dn@fafbccb2c655,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=7 CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
8                 Mon Oct 30 15:40:45 UTC 2023   Tue Oct 29 15:40:45 UTC 2024   CN=dn@bfd67cdf8a4d,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=8 CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
9                 Mon Oct 30 15:40:46 UTC 2023   Tue Oct 29 15:40:46 UTC 2024   CN=om1,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=9       CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
10                Mon Oct 30 15:40:47 UTC 2023   Tue Oct 29 15:40:47 UTC 2024   CN=om3,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=10      CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2
11                Mon Oct 30 15:40:49 UTC 2023   Tue Oct 29 15:40:49 UTC 2024   CN=om2,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=11      CN=scm-sub@scm1.org,OU=360d8b5e-737f-4d39-b751-1ab5b8709e43,O=CID-7299accf-72bc-430d-a17b-12dfe331b721,SERIALNUMBER=2</msg>
<status status="PASS" starttime="20231030 15:42:44.720" endtime="20231030 15:42:44.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:44.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:44.723" endtime="20231030 15:42:44.724"/>
</kw>
<status status="PASS" starttime="20231030 15:42:38.920" endtime="20231030 15:42:44.724"/>
</kw>
<msg timestamp="20231030 15:42:44.724" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:38.920" endtime="20231030 15:42:44.724"/>
</kw>
<msg timestamp="20231030 15:42:44.725" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                       ...</msg>
<status status="PASS" starttime="20231030 15:42:38.919" endtime="20231030 15:42:44.725"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Certificate list:(Type=</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:44.725" endtime="20231030 15:42:44.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:42:38.918" endtime="20231030 15:42:44.726"/>
</test>
<test id="s1-s2-s2-t2" name="List certificates as JSON" line="31">
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>N/A</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231030 15:42:44.728" endtime="20231030 15:42:44.729"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone admin cert list --json 1&gt;&gt; outStream 2&gt;&gt; errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:44.734" level="INFO">Running command 'ozone admin cert list --json 1&gt;&gt; outStream 2&gt;&gt; errStream'.</msg>
<msg timestamp="20231030 15:42:50.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.011" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:42:44.730" endtime="20231030 15:42:50.011"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.012" level="INFO"/>
<status status="PASS" starttime="20231030 15:42:50.011" endtime="20231030 15:42:50.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.013" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.012" endtime="20231030 15:42:50.013"/>
</kw>
<status status="PASS" starttime="20231030 15:42:44.730" endtime="20231030 15:42:50.013"/>
</kw>
<msg timestamp="20231030 15:42:50.013" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:44.729" endtime="20231030 15:42:50.013"/>
</kw>
<status status="PASS" starttime="20231030 15:42:44.729" endtime="20231030 15:42:50.013"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>cat outStream | jq -r '.[0] | keys'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.017" level="INFO">Running command 'cat outStream | jq -r '.[0] | keys' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.060" level="INFO">${output} = [
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231030 15:42:50.015" endtime="20231030 15:42:50.060"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.062" level="INFO">[
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231030 15:42:50.061" endtime="20231030 15:42:50.062"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.063" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.062" endtime="20231030 15:42:50.063"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.014" endtime="20231030 15:42:50.064"/>
</kw>
<msg timestamp="20231030 15:42:50.064" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.014" endtime="20231030 15:42:50.064"/>
</kw>
<msg timestamp="20231030 15:42:50.064" level="INFO">${output} = [
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231030 15:42:50.014" endtime="20231030 15:42:50.064"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>serialNumber</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:50.065" endtime="20231030 15:42:50.065"/>
</kw>
<kw name="Execute" library="os">
<var>${errOutput}</var>
<arg>cat errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.070" level="INFO">Running command 'cat errStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.074" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.074" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231030 15:42:50.067" endtime="20231030 15:42:50.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.075" level="INFO">Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231030 15:42:50.074" endtime="20231030 15:42:50.075"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.075" endtime="20231030 15:42:50.076"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.066" endtime="20231030 15:42:50.076"/>
</kw>
<msg timestamp="20231030 15:42:50.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.066" endtime="20231030 15:42:50.076"/>
</kw>
<msg timestamp="20231030 15:42:50.077" level="INFO">${errOutput} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231030 15:42:50.065" endtime="20231030 15:42:50.077"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${errOutput}</arg>
<arg>Certificate list:(Type=</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:42:50.077" endtime="20231030 15:42:50.077"/>
</kw>
<kw name="Execute" library="os">
<arg>rm outStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.082" level="INFO">Running command 'rm outStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.085" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.085" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:42:50.079" endtime="20231030 15:42:50.085"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.086" level="INFO"/>
<status status="PASS" starttime="20231030 15:42:50.086" endtime="20231030 15:42:50.087"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.087" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.087" endtime="20231030 15:42:50.087"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.078" endtime="20231030 15:42:50.088"/>
</kw>
<msg timestamp="20231030 15:42:50.088" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.078" endtime="20231030 15:42:50.088"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.077" endtime="20231030 15:42:50.088"/>
</kw>
<kw name="Execute" library="os">
<arg>rm errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.092" level="INFO">Running command 'rm errStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.103" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.104" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:42:50.090" endtime="20231030 15:42:50.104"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.105" level="INFO"/>
<status status="PASS" starttime="20231030 15:42:50.104" endtime="20231030 15:42:50.105"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.105" endtime="20231030 15:42:50.106"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.089" endtime="20231030 15:42:50.107"/>
</kw>
<msg timestamp="20231030 15:42:50.107" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.089" endtime="20231030 15:42:50.108"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.088" endtime="20231030 15:42:50.108"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:42:44.728" endtime="20231030 15:42:50.108"/>
</test>
<doc>Test ozone admin cert command</doc>
<status status="PASS" starttime="20231030 15:42:38.912" endtime="20231030 15:42:50.110"/>
</suite>
<suite id="s1-s2-s3" name="Container" source="/opt/hadoop/smoketest/admincli/container.robot">
<kw name="Create test data" type="SETUP">
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.130" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.135" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:42:50.127" endtime="20231030 15:42:50.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.136" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:42:50.135" endtime="20231030 15:42:50.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.136" endtime="20231030 15:42:50.136"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.126" endtime="20231030 15:42:50.137"/>
</kw>
<msg timestamp="20231030 15:42:50.137" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.126" endtime="20231030 15:42:50.137"/>
</kw>
<msg timestamp="20231030 15:42:50.137" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:42:50.125" endtime="20231030 15:42:50.137"/>
</kw>
<msg timestamp="20231030 15:42:50.137" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:42:50.125" endtime="20231030 15:42:50.137"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:42:50.138" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:42:50.138" endtime="20231030 15:42:50.138"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.143" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:42:50.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:42:50.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:42:50.141" endtime="20231030 15:42:50.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:42:50.189" level="INFO"/>
<status status="PASS" starttime="20231030 15:42:50.188" endtime="20231030 15:42:50.189"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:42:50.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:42:50.189" endtime="20231030 15:42:50.190"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.140" endtime="20231030 15:42:50.190"/>
</kw>
<msg timestamp="20231030 15:42:50.190" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.140" endtime="20231030 15:42:50.190"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.139" endtime="20231030 15:42:50.190"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.138" endtime="20231030 15:42:50.191"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.125" endtime="20231030 15:42:50.191"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.124" endtime="20231030 15:42:50.191"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone freon ockg -n1 -t1 -p container</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:42:50.196" level="INFO">Running command 'ozone freon ockg -n1 -t1 -p container 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:06.825" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:06.825" level="INFO">${output} = 2023-10-30 15:42:53,515 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-30 15:42:53,651 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231030 15:42:50.192" endtime="20231030 15:43:06.825"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:06.826" level="INFO">2023-10-30 15:42:53,515 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-30 15:42:53,651 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-30 15:42:53,651 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-10-30 15:42:53,758 [main] INFO freon.BaseFreonGenerator: Executing test with prefix container and number-of-tests 1
2023-10-30 15:42:53,839 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:54,842 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:55,843 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:56,439 [main] INFO rpc.RpcClient: Creating Volume: vol1, with testuser as owner and space quota set to -1 bytes, counts quota set to -1
2023-10-30 15:42:56,844 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:56,931 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, testuser as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2023-10-30 15:42:57,845 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:58,933 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:42:59,589 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-10-30 15:42:59,686 [pool-2-thread-1] INFO netty.NettyConfigKeys$DataStream: setTlsConf GrpcTlsConfig0-
2023-10-30 15:42:59,933 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:00,072 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-10-30 15:43:00,935 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:01,935 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:02,936 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:03,937 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:04,937 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-10-30 15:43:05,938 [Thread-5] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-10-30 15:43:06,240 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=8504.490024, max=8504.490024, mean=8504.490024, stddev=0.0, median=8504.490024, p75=8504.490024, p95=8504.490024, p98=8504.490024, p99=8504.490024, p999=8504.490024, mean_rate=0.10944987006263561, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-10-30 15:43:06,241 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 12
2023-10-30 15:43:06,247 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-10-30 15:43:06,247 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20231030 15:43:06.825" endtime="20231030 15:43:06.826"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:06.827" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:06.826" endtime="20231030 15:43:06.827"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.192" endtime="20231030 15:43:06.827"/>
</kw>
<msg timestamp="20231030 15:43:06.827" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:42:50.192" endtime="20231030 15:43:06.827"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.191" endtime="20231030 15:43:06.828"/>
</kw>
<status status="PASS" starttime="20231030 15:42:50.123" endtime="20231030 15:43:06.828"/>
</kw>
<test id="s1-s2-s3-t1" name="Create container" line="38">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container create</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:06.835" level="INFO">Running command 'ozone admin container create 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:16.501" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:16.501" level="INFO">${output} = Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231030 15:43:06.832" endtime="20231030 15:43:16.501"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:16.503" level="INFO">Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231030 15:43:16.502" endtime="20231030 15:43:16.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:16.503" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:16.503" endtime="20231030 15:43:16.503"/>
</kw>
<status status="PASS" starttime="20231030 15:43:06.831" endtime="20231030 15:43:16.504"/>
</kw>
<msg timestamp="20231030 15:43:16.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:06.830" endtime="20231030 15:43:16.504"/>
</kw>
<msg timestamp="20231030 15:43:16.504" level="INFO">${output} = Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231030 15:43:06.829" endtime="20231030 15:43:16.504"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>is created</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:16.504" endtime="20231030 15:43:16.505"/>
</kw>
<kw name="Execute" library="os">
<var>${container}</var>
<arg>echo "${output}" | grep 'is created' | cut -f2 -d' '</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:16.509" level="INFO">Running command 'echo "Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created." | grep 'is created' | cut -f2 -d' ' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:16.514" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:16.515" level="INFO">${output} = 2</msg>
<status status="PASS" starttime="20231030 15:43:16.506" endtime="20231030 15:43:16.515"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:16.516" level="INFO">2</msg>
<status status="PASS" starttime="20231030 15:43:16.515" endtime="20231030 15:43:16.516"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:16.517" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:16.516" endtime="20231030 15:43:16.517"/>
</kw>
<status status="PASS" starttime="20231030 15:43:16.506" endtime="20231030 15:43:16.517"/>
</kw>
<msg timestamp="20231030 15:43:16.517" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:16.505" endtime="20231030 15:43:16.517"/>
</kw>
<msg timestamp="20231030 15:43:16.517" level="INFO">${container} = 2</msg>
<status status="PASS" starttime="20231030 15:43:16.505" endtime="20231030 15:43:16.517"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${CONTAINER}</arg>
<arg>${container}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:43:16.518" level="INFO">${CONTAINER} = 2</msg>
<status status="PASS" starttime="20231030 15:43:16.518" endtime="20231030 15:43:16.518"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:06.828" endtime="20231030 15:43:16.518"/>
</test>
<test id="s1-s2-s3-t2" name="List containers" line="44">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:16.524" level="INFO">Running command 'ozone admin container list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:22.086" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:22.086" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:16.522" endtime="20231030 15:43:22.086"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:22.088" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-10-30T15:43:21.865888Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}
{
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:43:13.534Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "replicationType" : "STANDALONE"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-10-30T15:43:21.866836Z",
  "owner" : "OZONE",
  "containerID" : 2,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231030 15:43:22.087" endtime="20231030 15:43:22.088"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:22.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:22.088" endtime="20231030 15:43:22.089"/>
</kw>
<status status="PASS" starttime="20231030 15:43:16.521" endtime="20231030 15:43:22.089"/>
</kw>
<msg timestamp="20231030 15:43:22.089" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:16.521" endtime="20231030 15:43:22.089"/>
</kw>
<msg timestamp="20231030 15:43:22.090" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:16.520" endtime="20231030 15:43:22.090"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:22.090" endtime="20231030 15:43:22.090"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:16.519" endtime="20231030 15:43:22.091"/>
</test>
<test id="s1-s2-s3-t3" name="List containers with explicit host" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:22.098" level="INFO">Running command 'ozone admin container list --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:27.117" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:27.117" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:22.094" endtime="20231030 15:43:27.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:27.119" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-10-30T15:43:26.800171Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}
{
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:43:13.534Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "replicationType" : "STANDALONE"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-10-30T15:43:26.801236Z",
  "owner" : "OZONE",
  "containerID" : 2,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231030 15:43:27.118" endtime="20231030 15:43:27.119"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:27.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:27.119" endtime="20231030 15:43:27.120"/>
</kw>
<status status="PASS" starttime="20231030 15:43:22.094" endtime="20231030 15:43:27.120"/>
</kw>
<msg timestamp="20231030 15:43:27.120" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:22.093" endtime="20231030 15:43:27.120"/>
</kw>
<msg timestamp="20231030 15:43:27.121" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:22.093" endtime="20231030 15:43:27.121"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:27.121" endtime="20231030 15:43:27.121"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:22.092" endtime="20231030 15:43:27.121"/>
</test>
<test id="s1-s2-s3-t4" name="List containers with container state" line="52">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list --state=CLOSED</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:27.128" level="INFO">Running command 'ozone admin container list --state=CLOSED 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:32.801" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:32.801" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:43:27.125" endtime="20231030 15:43:32.801"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:32.803" level="INFO"/>
<status status="PASS" starttime="20231030 15:43:32.802" endtime="20231030 15:43:32.803"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:32.804" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:32.804" endtime="20231030 15:43:32.804"/>
</kw>
<status status="PASS" starttime="20231030 15:43:27.124" endtime="20231030 15:43:32.804"/>
</kw>
<msg timestamp="20231030 15:43:32.805" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:27.124" endtime="20231030 15:43:32.805"/>
</kw>
<msg timestamp="20231030 15:43:32.805" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:43:27.123" endtime="20231030 15:43:32.805"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:32.805" endtime="20231030 15:43:32.806"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:27.122" endtime="20231030 15:43:32.806"/>
</test>
<test id="s1-s2-s3-t5" name="List containers with replication factor ONE" line="56">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list -t RATIS -r ONE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:32.817" level="INFO">Running command 'ozone admin container list -t RATIS -r ONE 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:38.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:38.485" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:43:32.813" endtime="20231030 15:43:38.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:38.487" level="INFO"/>
<status status="PASS" starttime="20231030 15:43:38.486" endtime="20231030 15:43:38.488"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:38.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:38.488" endtime="20231030 15:43:38.489"/>
</kw>
<status status="PASS" starttime="20231030 15:43:32.813" endtime="20231030 15:43:38.489"/>
</kw>
<msg timestamp="20231030 15:43:38.489" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:32.813" endtime="20231030 15:43:38.489"/>
</kw>
<msg timestamp="20231030 15:43:38.489" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:43:32.812" endtime="20231030 15:43:38.489"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>THREE</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:38.490" endtime="20231030 15:43:38.490"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:32.811" endtime="20231030 15:43:38.490"/>
</test>
<test id="s1-s2-s3-t6" name="List containers with replication factor THREE" line="60">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list -t RATIS -r THREE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:38.497" level="INFO">Running command 'ozone admin container list -t RATIS -r THREE 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:44.175" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:44.175" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:38.494" endtime="20231030 15:43:44.175"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:44.176" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-10-30T15:43:43.986105Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231030 15:43:44.175" endtime="20231030 15:43:44.176"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:44.177" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:44.177" endtime="20231030 15:43:44.177"/>
</kw>
<status status="PASS" starttime="20231030 15:43:38.493" endtime="20231030 15:43:44.177"/>
</kw>
<msg timestamp="20231030 15:43:44.178" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:38.493" endtime="20231030 15:43:44.178"/>
</kw>
<msg timestamp="20231030 15:43:44.178" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-10-30T15:42:57.709Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231030 15:43:38.492" endtime="20231030 15:43:44.178"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ONE</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:44.178" endtime="20231030 15:43:44.179"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:38.491" endtime="20231030 15:43:44.179"/>
</test>
<test id="s1-s2-s3-t7" name="Container info" line="64">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${CONTAINER}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:44.186" level="INFO">Running command 'ozone admin container info "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:49.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:49.368" level="INFO">${output} = Container id: 2
Pipeline id: d8fa81cf-4379-4e15-afea-61cb404307ec
Container State: OPEN
Datanodes: [d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: ...</msg>
<status status="PASS" starttime="20231030 15:43:44.182" endtime="20231030 15:43:49.368"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:49.370" level="INFO">Container id: 2
Pipeline id: d8fa81cf-4379-4e15-afea-61cb404307ec
Container State: OPEN
Datanodes: [d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:43:49.369" endtime="20231030 15:43:49.370"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:49.371" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:49.370" endtime="20231030 15:43:49.371"/>
</kw>
<status status="PASS" starttime="20231030 15:43:44.182" endtime="20231030 15:43:49.371"/>
</kw>
<msg timestamp="20231030 15:43:49.371" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:44.182" endtime="20231030 15:43:49.371"/>
</kw>
<msg timestamp="20231030 15:43:49.372" level="INFO">${output} = Container id: 2
Pipeline id: d8fa81cf-4379-4e15-afea-61cb404307ec
Container State: OPEN
Datanodes: [d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: ...</msg>
<status status="PASS" starttime="20231030 15:43:44.181" endtime="20231030 15:43:49.372"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Container id: ${CONTAINER}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:49.372" endtime="20231030 15:43:49.372"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Pipeline id</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:49.372" endtime="20231030 15:43:49.373"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanodes</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:49.373" endtime="20231030 15:43:49.373"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:44.180" endtime="20231030 15:43:49.374"/>
</test>
<test id="s1-s2-s3-t8" name="Verbose container info" line="70">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin --verbose container info "${CONTAINER}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:49.381" level="INFO">Running command 'ozone admin --verbose container info "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:55.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:55.034" level="INFO">${output} = Container id: 2
Pipeline Info: Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), Replic...</msg>
<status status="PASS" starttime="20231030 15:43:49.378" endtime="20231030 15:43:55.034"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:55.035" level="INFO">Container id: 2
Pipeline Info: Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:43:13.499Z[UTC]]
Container State: OPEN
Datanodes: [d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:43:55.034" endtime="20231030 15:43:55.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:55.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:55.036" endtime="20231030 15:43:55.036"/>
</kw>
<status status="PASS" starttime="20231030 15:43:49.378" endtime="20231030 15:43:55.036"/>
</kw>
<msg timestamp="20231030 15:43:55.037" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:49.377" endtime="20231030 15:43:55.037"/>
</kw>
<msg timestamp="20231030 15:43:55.037" level="INFO">${output} = Container id: 2
Pipeline Info: Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), Replic...</msg>
<status status="PASS" starttime="20231030 15:43:49.377" endtime="20231030 15:43:55.037"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Pipeline Info</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:43:55.037" endtime="20231030 15:43:55.037"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:49.376" endtime="20231030 15:43:55.038"/>
</test>
<test id="s1-s2-s3-t9" name="Close container" line="74">
<kw name="Execute" library="os">
<var>${container}</var>
<arg>ozone admin container list --state OPEN | jq -r 'select(.replicationConfig.replicationFactor == "THREE") | .containerID' | head -1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:55.044" level="INFO">Running command 'ozone admin container list --state OPEN | jq -r 'select(.replicationConfig.replicationFactor == "THREE") | .containerID' | head -1 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:43:59.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:43:59.666" level="INFO">${output} = 1</msg>
<status status="PASS" starttime="20231030 15:43:55.041" endtime="20231030 15:43:59.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:43:59.668" level="INFO">1</msg>
<status status="PASS" starttime="20231030 15:43:59.667" endtime="20231030 15:43:59.668"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:43:59.669" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:43:59.668" endtime="20231030 15:43:59.669"/>
</kw>
<status status="PASS" starttime="20231030 15:43:55.041" endtime="20231030 15:43:59.669"/>
</kw>
<msg timestamp="20231030 15:43:59.669" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:55.040" endtime="20231030 15:43:59.669"/>
</kw>
<msg timestamp="20231030 15:43:59.669" level="INFO">${container} = 1</msg>
<status status="PASS" starttime="20231030 15:43:55.040" endtime="20231030 15:43:59.669"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone admin container close "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:43:59.674" level="INFO">Running command 'ozone admin container close "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:05.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:05.750" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:43:59.671" endtime="20231030 15:44:05.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:05.752" level="INFO"/>
<status status="PASS" starttime="20231030 15:44:05.751" endtime="20231030 15:44:05.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:05.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:05.752" endtime="20231030 15:44:05.753"/>
</kw>
<status status="PASS" starttime="20231030 15:43:59.670" endtime="20231030 15:44:05.753"/>
</kw>
<msg timestamp="20231030 15:44:05.753" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:43:59.670" endtime="20231030 15:44:05.754"/>
</kw>
<status status="PASS" starttime="20231030 15:43:59.670" endtime="20231030 15:44:05.754"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:05.759" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:11.165" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:11.165" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:05.756" endtime="20231030 15:44:11.165"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:11.167" level="INFO">Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:44:11.166" endtime="20231030 15:44:11.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:11.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:11.168" endtime="20231030 15:44:11.168"/>
</kw>
<status status="PASS" starttime="20231030 15:44:05.755" endtime="20231030 15:44:11.169"/>
</kw>
<msg timestamp="20231030 15:44:11.169" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:05.755" endtime="20231030 15:44:11.169"/>
</kw>
<msg timestamp="20231030 15:44:11.170" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:05.754" endtime="20231030 15:44:11.170"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:11.173" endtime="20231030 15:44:11.173"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1min</arg>
<arg>10sec</arg>
<arg>Container is closed</arg>
<arg>${container}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:11.180" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:16.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:16.310" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:11.176" endtime="20231030 15:44:16.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:16.312" level="INFO">Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:44:16.311" endtime="20231030 15:44:16.312"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:16.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:16.312" endtime="20231030 15:44:16.313"/>
</kw>
<status status="PASS" starttime="20231030 15:44:11.176" endtime="20231030 15:44:16.313"/>
</kw>
<msg timestamp="20231030 15:44:16.313" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:11.175" endtime="20231030 15:44:16.313"/>
</kw>
<msg timestamp="20231030 15:44:16.313" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:11.175" endtime="20231030 15:44:16.313"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20231030 15:44:16.314" level="FAIL">'Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]' does not contain 'CLOSED'</msg>
<status status="FAIL" starttime="20231030 15:44:16.313" endtime="20231030 15:44:16.314"/>
</kw>
<status status="FAIL" starttime="20231030 15:44:11.174" endtime="20231030 15:44:16.315"/>
</kw>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:26.321" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:31.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:31.376" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:26.318" endtime="20231030 15:44:31.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:31.378" level="INFO">Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: CLOSING; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:44:31.377" endtime="20231030 15:44:31.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:31.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:31.378" endtime="20231030 15:44:31.378"/>
</kw>
<status status="PASS" starttime="20231030 15:44:26.317" endtime="20231030 15:44:31.379"/>
</kw>
<msg timestamp="20231030 15:44:31.379" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:26.317" endtime="20231030 15:44:31.379"/>
</kw>
<msg timestamp="20231030 15:44:31.379" level="INFO">${output} = Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd624...</msg>
<status status="PASS" starttime="20231030 15:44:26.316" endtime="20231030 15:44:31.379"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20231030 15:44:31.380" level="FAIL">'Container id: 1
Pipeline id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f
Container State: CLOSING
Datanodes: [15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: CLOSING; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]' does not contain 'CLOSED'</msg>
<status status="FAIL" starttime="20231030 15:44:31.379" endtime="20231030 15:44:31.380"/>
</kw>
<status status="FAIL" starttime="20231030 15:44:26.315" endtime="20231030 15:44:31.380"/>
</kw>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:41.386" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:47.158" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:47.158" level="INFO">${output} = Container id: 1
Pipeline id: aefc204b-309d-4f00-8dba-a65f0dd8aaf8
Container State: CLOSED
Datanodes: [63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
15e05d9b...</msg>
<status status="PASS" starttime="20231030 15:44:41.383" endtime="20231030 15:44:47.158"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:47.159" level="INFO">Container id: 1
Pipeline id: aefc204b-309d-4f00-8dba-a65f0dd8aaf8
Container State: CLOSED
Datanodes: [63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]
Replicas: [State: CLOSED; ReplicaIndex: 0; Origin: 63bd6248-0496-4df7-85fb-88a822814e9a; Location: 63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: CLOSED; ReplicaIndex: 0; Origin: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f; Location: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: CLOSED; ReplicaIndex: 0; Origin: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64; Location: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231030 15:44:47.158" endtime="20231030 15:44:47.159"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:47.160" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:47.160" endtime="20231030 15:44:47.160"/>
</kw>
<status status="PASS" starttime="20231030 15:44:41.383" endtime="20231030 15:44:47.160"/>
</kw>
<msg timestamp="20231030 15:44:47.161" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:41.383" endtime="20231030 15:44:47.161"/>
</kw>
<msg timestamp="20231030 15:44:47.161" level="INFO">${output} = Container id: 1
Pipeline id: aefc204b-309d-4f00-8dba-a65f0dd8aaf8
Container State: CLOSED
Datanodes: [63bd6248-0496-4df7-85fb-88a822814e9a/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
15e05d9b...</msg>
<status status="PASS" starttime="20231030 15:44:41.382" endtime="20231030 15:44:47.161"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:47.161" endtime="20231030 15:44:47.162"/>
</kw>
<status status="PASS" starttime="20231030 15:44:41.381" endtime="20231030 15:44:47.162"/>
</kw>
<status status="PASS" starttime="20231030 15:44:11.173" endtime="20231030 15:44:47.162"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:43:55.039" endtime="20231030 15:44:47.162"/>
</test>
<test id="s1-s2-s3-t10" name="Incomplete command" line="81">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin container</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:47.170" level="INFO">Running command 'ozone admin container 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:50.698" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:44:50.698" level="INFO">${output} = Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
C...</msg>
<status status="PASS" starttime="20231030 15:44:47.167" endtime="20231030 15:44:50.698"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:50.699" level="INFO">Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list    List containers
  info    Show information about a specific container
  create  Create container
  close   close container
  report  Display the container summary report</msg>
<status status="PASS" starttime="20231030 15:44:50.698" endtime="20231030 15:44:50.699"/>
</kw>
<msg timestamp="20231030 15:44:50.700" level="INFO">${output} = Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
C...</msg>
<status status="PASS" starttime="20231030 15:44:47.167" endtime="20231030 15:44:50.700"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:50.700" endtime="20231030 15:44:50.700"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:50.701" endtime="20231030 15:44:50.701"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>info</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:50.701" endtime="20231030 15:44:50.702"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>create</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:50.702" endtime="20231030 15:44:50.702"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>close</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:50.702" endtime="20231030 15:44:50.703"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:44:47.166" endtime="20231030 15:44:50.703"/>
</test>
<test id="s1-s2-s3-t11" name="Cannot close container without admin privilege" line="93">
<kw name="Requires admin privilege" library="commonlib">
<arg>ozone admin container close "${CONTAINER}"</arg>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip privilege check in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231030 15:44:50.706" endtime="20231030 15:44:50.706"/>
</kw>
<kw name="Kinit test user" library="commonlib">
<arg>testuser2</arg>
<arg>testuser2.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:50.711" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:50.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:50.717" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:44:50.709" endtime="20231030 15:44:50.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:50.718" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:44:50.717" endtime="20231030 15:44:50.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:50.720" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:50.718" endtime="20231030 15:44:50.720"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.708" endtime="20231030 15:44:50.720"/>
</kw>
<msg timestamp="20231030 15:44:50.720" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:50.708" endtime="20231030 15:44:50.720"/>
</kw>
<msg timestamp="20231030 15:44:50.720" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:44:50.707" endtime="20231030 15:44:50.720"/>
</kw>
<msg timestamp="20231030 15:44:50.721" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:44:50.707" endtime="20231030 15:44:50.721"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:44:50.721" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:44:50.721" endtime="20231030 15:44:50.721"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:50.727" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser2.keytab testuser2/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:50.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:50.805" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:44:50.724" endtime="20231030 15:44:50.805"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:50.807" level="INFO"/>
<status status="PASS" starttime="20231030 15:44:50.806" endtime="20231030 15:44:50.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:50.808" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:50.808" endtime="20231030 15:44:50.808"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.723" endtime="20231030 15:44:50.808"/>
</kw>
<msg timestamp="20231030 15:44:50.809" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:50.723" endtime="20231030 15:44:50.809"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.722" endtime="20231030 15:44:50.809"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.722" endtime="20231030 15:44:50.809"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.707" endtime="20231030 15:44:50.809"/>
</kw>
<kw name="Access should be denied" library="commonlib">
<arg>${command}</arg>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>${command}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:50.819" level="INFO">Running command 'ozone admin container close "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:55.696" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:44:55.696" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:44:50.816" endtime="20231030 15:44:55.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:55.697" level="INFO">Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:44:55.696" endtime="20231030 15:44:55.697"/>
</kw>
<msg timestamp="20231030 15:44:55.698" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:44:50.811" endtime="20231030 15:44:55.698"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Access denied</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:44:55.698" endtime="20231030 15:44:55.698"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.809" endtime="20231030 15:44:55.698"/>
</kw>
<status status="PASS" starttime="20231030 15:44:50.705" endtime="20231030 15:44:55.699"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:44:50.704" endtime="20231030 15:44:55.699"/>
</test>
<test id="s1-s2-s3-t12" name="Cannot create container without admin privilege" line="96">
<kw name="Requires admin privilege" library="commonlib">
<arg>ozone admin container create</arg>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip privilege check in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231030 15:44:55.703" endtime="20231030 15:44:55.704"/>
</kw>
<kw name="Kinit test user" library="commonlib">
<arg>testuser2</arg>
<arg>testuser2.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:55.711" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:55.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:55.716" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:44:55.708" endtime="20231030 15:44:55.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:55.717" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:44:55.717" endtime="20231030 15:44:55.717"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:55.718" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:55.717" endtime="20231030 15:44:55.718"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.708" endtime="20231030 15:44:55.718"/>
</kw>
<msg timestamp="20231030 15:44:55.718" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:55.708" endtime="20231030 15:44:55.719"/>
</kw>
<msg timestamp="20231030 15:44:55.719" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:44:55.707" endtime="20231030 15:44:55.719"/>
</kw>
<msg timestamp="20231030 15:44:55.719" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:44:55.705" endtime="20231030 15:44:55.719"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:44:55.720" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:44:55.719" endtime="20231030 15:44:55.720"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:55.726" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser2.keytab testuser2/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:44:55.782" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:44:55.782" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:44:55.722" endtime="20231030 15:44:55.783"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:44:55.785" level="INFO"/>
<status status="PASS" starttime="20231030 15:44:55.783" endtime="20231030 15:44:55.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:44:55.786" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:44:55.785" endtime="20231030 15:44:55.786"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.722" endtime="20231030 15:44:55.787"/>
</kw>
<msg timestamp="20231030 15:44:55.787" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:44:55.721" endtime="20231030 15:44:55.787"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.720" endtime="20231030 15:44:55.787"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.720" endtime="20231030 15:44:55.787"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.704" endtime="20231030 15:44:55.788"/>
</kw>
<kw name="Access should be denied" library="commonlib">
<arg>${command}</arg>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>${command}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:44:55.792" level="INFO">Running command 'ozone admin container create 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:02.338" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:45:02.338" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:44:55.789" endtime="20231030 15:45:02.338"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:02.340" level="INFO">Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:45:02.338" endtime="20231030 15:45:02.340"/>
</kw>
<msg timestamp="20231030 15:45:02.340" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231030 15:44:55.788" endtime="20231030 15:45:02.340"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Access denied</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:02.340" endtime="20231030 15:45:02.341"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.788" endtime="20231030 15:45:02.341"/>
</kw>
<status status="PASS" starttime="20231030 15:44:55.701" endtime="20231030 15:45:02.341"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:44:55.700" endtime="20231030 15:45:02.341"/>
</test>
<test id="s1-s2-s3-t13" name="Reset user" line="99">
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:02.350" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:02.356" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:02.356" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:45:02.347" endtime="20231030 15:45:02.356"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:02.357" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:45:02.356" endtime="20231030 15:45:02.357"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:02.358" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:02.358" endtime="20231030 15:45:02.359"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.347" endtime="20231030 15:45:02.359"/>
</kw>
<msg timestamp="20231030 15:45:02.359" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:02.346" endtime="20231030 15:45:02.359"/>
</kw>
<msg timestamp="20231030 15:45:02.360" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:45:02.346" endtime="20231030 15:45:02.360"/>
</kw>
<msg timestamp="20231030 15:45:02.360" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:45:02.345" endtime="20231030 15:45:02.360"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:45:02.361" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:45:02.360" endtime="20231030 15:45:02.361"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:02.367" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:02.404" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:02.404" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:45:02.364" endtime="20231030 15:45:02.404"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:02.406" level="INFO"/>
<status status="PASS" starttime="20231030 15:45:02.405" endtime="20231030 15:45:02.406"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:02.408" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:02.406" endtime="20231030 15:45:02.408"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.363" endtime="20231030 15:45:02.408"/>
</kw>
<msg timestamp="20231030 15:45:02.408" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:02.363" endtime="20231030 15:45:02.408"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.362" endtime="20231030 15:45:02.408"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.361" endtime="20231030 15:45:02.408"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.345" endtime="20231030 15:45:02.409"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.344" endtime="20231030 15:45:02.409"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:02.343" endtime="20231030 15:45:02.409"/>
</test>
<doc>Test ozone admin container command</doc>
<status status="PASS" starttime="20231030 15:42:50.112" endtime="20231030 15:45:02.411"/>
</suite>
<suite id="s1-s2-s4" name="Datanode" source="/opt/hadoop/smoketest/admincli/datanode.robot">
<test id="s1-s2-s4-t1" name="List datanodes" line="23">
<kw name="Execute" library="os">
<arg>ozone admin datanode list &gt; datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:02.425" level="INFO">Running command 'ozone admin datanode list &gt; datanode.list'.</msg>
<msg timestamp="20231030 15:45:08.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:08.253" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:45:02.422" endtime="20231030 15:45:08.253"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:08.255" level="INFO"/>
<status status="PASS" starttime="20231030 15:45:08.254" endtime="20231030 15:45:08.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:08.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:08.255" endtime="20231030 15:45:08.256"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.421" endtime="20231030 15:45:08.256"/>
</kw>
<msg timestamp="20231030 15:45:08.257" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:02.421" endtime="20231030 15:45:08.257"/>
</kw>
<status status="PASS" starttime="20231030 15:45:02.420" endtime="20231030 15:45:08.257"/>
</kw>
<kw name="Get File" library="OperatingSystem">
<var>${output}</var>
<arg>datanode.list</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20231030 15:45:08.257" level="INFO" html="true">Getting file '&lt;a href="file:///opt/hadoop/datanode.list"&gt;/opt/hadoop/datanode.list&lt;/a&gt;'.</msg>
<msg timestamp="20231030 15:45:08.258" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:08.257" endtime="20231030 15:45:08.258"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:08.258" endtime="20231030 15:45:08.258"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Related pipelines:</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:08.258" endtime="20231030 15:45:08.259"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:02.420" endtime="20231030 15:45:08.259"/>
</test>
<test id="s1-s2-s4-t2" name="Filter list by UUID" line="29">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:08.265" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:08.271" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:08.271" level="INFO">${output} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:08.262" endtime="20231030 15:45:08.271"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:08.272" level="INFO">d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:08.271" endtime="20231030 15:45:08.272"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:08.273" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:08.272" endtime="20231030 15:45:08.273"/>
</kw>
<status status="PASS" starttime="20231030 15:45:08.262" endtime="20231030 15:45:08.273"/>
</kw>
<msg timestamp="20231030 15:45:08.273" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:08.261" endtime="20231030 15:45:08.274"/>
</kw>
<msg timestamp="20231030 15:45:08.274" level="INFO">${uuid} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:08.261" endtime="20231030 15:45:08.274"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --id "${uuid}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:08.279" level="INFO">Running command 'ozone admin datanode list --id "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:13.352" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:13.352" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:08.276" endtime="20231030 15:45:13.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:13.354" level="INFO">Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
d8fa81cf-4379-4e15-afea-61cb404307ec/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Follower
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Leader
8adc7836-3e2a-4c68-92a3-403225c0ab57/RATIS/ONE/RATIS/OPEN/Leader
</msg>
<status status="PASS" starttime="20231030 15:45:13.353" endtime="20231030 15:45:13.354"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:13.355" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:13.355" endtime="20231030 15:45:13.355"/>
</kw>
<status status="PASS" starttime="20231030 15:45:08.275" endtime="20231030 15:45:13.355"/>
</kw>
<msg timestamp="20231030 15:45:13.356" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:08.275" endtime="20231030 15:45:13.356"/>
</kw>
<msg timestamp="20231030 15:45:13.356" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:08.274" endtime="20231030 15:45:13.356"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:13.356" endtime="20231030 15:45:13.357"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:45:13.357" level="INFO">1 out of 8 lines matched</msg>
<msg timestamp="20231030 15:45:13.357" level="INFO">${datanodes} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)</msg>
<status status="PASS" starttime="20231030 15:45:13.357" endtime="20231030 15:45:13.357"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231030 15:45:13.358" level="INFO">1 lines returned</msg>
<msg timestamp="20231030 15:45:13.358" level="INFO">@{lines} = [ Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines) ]</msg>
<status status="PASS" starttime="20231030 15:45:13.357" endtime="20231030 15:45:13.358"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231030 15:45:13.359" level="INFO">Length is 1</msg>
<msg timestamp="20231030 15:45:13.359" level="INFO">${count} = 1</msg>
<status status="PASS" starttime="20231030 15:45:13.358" endtime="20231030 15:45:13.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>1</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:13.359" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:13.359" endtime="20231030 15:45:13.359"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:08.260" endtime="20231030 15:45:13.360"/>
</test>
<test id="s1-s2-s4-t3" name="Filter list by NodeOperationalState" line="38">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:13.367" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:13.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:13.376" level="INFO">${output} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:13.363" endtime="20231030 15:45:13.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:13.377" level="INFO">d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:13.377" endtime="20231030 15:45:13.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:13.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:13.378" endtime="20231030 15:45:13.378"/>
</kw>
<status status="PASS" starttime="20231030 15:45:13.362" endtime="20231030 15:45:13.379"/>
</kw>
<msg timestamp="20231030 15:45:13.379" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:13.362" endtime="20231030 15:45:13.379"/>
</kw>
<msg timestamp="20231030 15:45:13.379" level="INFO">${uuid} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:13.362" endtime="20231030 15:45:13.379"/>
</kw>
<kw name="Execute" library="os">
<var>${expected}</var>
<arg>grep -c 'Operational State: IN_SERVICE' datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:13.384" level="INFO">Running command 'grep -c 'Operational State: IN_SERVICE' datanode.list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:13.387" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:13.387" level="INFO">${output} = 3</msg>
<status status="PASS" starttime="20231030 15:45:13.381" endtime="20231030 15:45:13.387"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:13.388" level="INFO">3</msg>
<status status="PASS" starttime="20231030 15:45:13.387" endtime="20231030 15:45:13.388"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:13.389" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:13.389" endtime="20231030 15:45:13.389"/>
</kw>
<status status="PASS" starttime="20231030 15:45:13.380" endtime="20231030 15:45:13.389"/>
</kw>
<msg timestamp="20231030 15:45:13.390" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:13.380" endtime="20231030 15:45:13.390"/>
</kw>
<msg timestamp="20231030 15:45:13.390" level="INFO">${expected} = 3</msg>
<status status="PASS" starttime="20231030 15:45:13.379" endtime="20231030 15:45:13.390"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --operational-state IN_SERVICE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:13.395" level="INFO">Running command 'ozone admin datanode list --operational-state IN_SERVICE 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:18.412" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:18.412" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:13.392" endtime="20231030 15:45:18.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:18.414" level="INFO">Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
d8fa81cf-4379-4e15-afea-61cb404307ec/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Follower
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Leader
8adc7836-3e2a-4c68-92a3-403225c0ab57/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Leader
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Follower
4861be6e-2958-4e23-8a04-d7599a21ef94/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 63bd6248-0496-4df7-85fb-88a822814e9a (/default-rack/172.25.0.104/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Follower
e1609aa3-ac22-4000-a776-79f120b72ad8/RATIS/ONE/RATIS/OPEN/Leader
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Follower
</msg>
<status status="PASS" starttime="20231030 15:45:18.412" endtime="20231030 15:45:18.414"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:18.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:18.415" endtime="20231030 15:45:18.416"/>
</kw>
<status status="PASS" starttime="20231030 15:45:13.391" endtime="20231030 15:45:18.416"/>
</kw>
<msg timestamp="20231030 15:45:18.416" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:13.391" endtime="20231030 15:45:18.416"/>
</kw>
<msg timestamp="20231030 15:45:18.416" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:13.391" endtime="20231030 15:45:18.417"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:18.417" endtime="20231030 15:45:18.418"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:45:18.418" level="INFO">3 out of 24 lines matched</msg>
<msg timestamp="20231030 15:45:18.418" level="INFO">${datanodes} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default-rac...</msg>
<status status="PASS" starttime="20231030 15:45:18.418" endtime="20231030 15:45:18.419"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231030 15:45:18.419" level="INFO">3 lines returned</msg>
<msg timestamp="20231030 15:45:18.419" level="INFO">@{lines} = [ Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines) | Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default...</msg>
<status status="PASS" starttime="20231030 15:45:18.419" endtime="20231030 15:45:18.419"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231030 15:45:18.420" level="INFO">Length is 3</msg>
<msg timestamp="20231030 15:45:18.420" level="INFO">${count} = 3</msg>
<status status="PASS" starttime="20231030 15:45:18.419" endtime="20231030 15:45:18.420"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>${expected}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:18.421" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:18.420" endtime="20231030 15:45:18.421"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:13.361" endtime="20231030 15:45:18.421"/>
</test>
<test id="s1-s2-s4-t4" name="Filter list by NodeState" line="48">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:18.429" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:18.435" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:18.435" level="INFO">${output} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:18.426" endtime="20231030 15:45:18.435"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:18.436" level="INFO">d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:18.436" endtime="20231030 15:45:18.437"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:18.437" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:18.437" endtime="20231030 15:45:18.438"/>
</kw>
<status status="PASS" starttime="20231030 15:45:18.425" endtime="20231030 15:45:18.438"/>
</kw>
<msg timestamp="20231030 15:45:18.438" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:18.425" endtime="20231030 15:45:18.438"/>
</kw>
<msg timestamp="20231030 15:45:18.439" level="INFO">${uuid} = d8c9300d-7bd1-4b10-80ed-4e6a6da75a64</msg>
<status status="PASS" starttime="20231030 15:45:18.424" endtime="20231030 15:45:18.439"/>
</kw>
<kw name="Execute" library="os">
<var>${expected}</var>
<arg>grep -c 'Health State: HEALTHY' datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:18.467" level="INFO">Running command 'grep -c 'Health State: HEALTHY' datanode.list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:18.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:18.471" level="INFO">${output} = 3</msg>
<status status="PASS" starttime="20231030 15:45:18.441" endtime="20231030 15:45:18.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:18.473" level="INFO">3</msg>
<status status="PASS" starttime="20231030 15:45:18.472" endtime="20231030 15:45:18.473"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:18.474" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:18.473" endtime="20231030 15:45:18.474"/>
</kw>
<status status="PASS" starttime="20231030 15:45:18.440" endtime="20231030 15:45:18.475"/>
</kw>
<msg timestamp="20231030 15:45:18.475" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:18.439" endtime="20231030 15:45:18.475"/>
</kw>
<msg timestamp="20231030 15:45:18.475" level="INFO">${expected} = 3</msg>
<status status="PASS" starttime="20231030 15:45:18.439" endtime="20231030 15:45:18.475"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --node-state HEALTHY</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:18.480" level="INFO">Running command 'ozone admin datanode list --node-state HEALTHY 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:23.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:23.499" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:18.477" endtime="20231030 15:45:23.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:23.500" level="INFO">Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
d8fa81cf-4379-4e15-afea-61cb404307ec/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Follower
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Leader
8adc7836-3e2a-4c68-92a3-403225c0ab57/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Leader
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Follower
4861be6e-2958-4e23-8a04-d7599a21ef94/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 63bd6248-0496-4df7-85fb-88a822814e9a (/default-rack/172.25.0.104/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
b4e1b4b7-f4a3-4fc8-9f63-489f1586237f/RATIS/THREE/RATIS/OPEN/Follower
e1609aa3-ac22-4000-a776-79f120b72ad8/RATIS/ONE/RATIS/OPEN/Leader
b03d95d2-e3ba-4536-b1c1-c5c963edeefd/RATIS/THREE/RATIS/OPEN/Follower
</msg>
<status status="PASS" starttime="20231030 15:45:23.500" endtime="20231030 15:45:23.501"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:23.501" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:23.501" endtime="20231030 15:45:23.501"/>
</kw>
<status status="PASS" starttime="20231030 15:45:18.477" endtime="20231030 15:45:23.502"/>
</kw>
<msg timestamp="20231030 15:45:23.502" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:18.476" endtime="20231030 15:45:23.502"/>
</kw>
<msg timestamp="20231030 15:45:23.502" level="INFO">${output} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231030 15:45:18.476" endtime="20231030 15:45:23.502"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:23.502" endtime="20231030 15:45:23.503"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:45:23.503" level="INFO">3 out of 24 lines matched</msg>
<msg timestamp="20231030 15:45:23.503" level="INFO">${datanodes} = Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines)
Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default-rac...</msg>
<status status="PASS" starttime="20231030 15:45:23.503" endtime="20231030 15:45:23.503"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231030 15:45:23.504" level="INFO">3 lines returned</msg>
<msg timestamp="20231030 15:45:23.504" level="INFO">@{lines} = [ Datanode: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64 (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/4 pipelines) | Datanode: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f (/default...</msg>
<status status="PASS" starttime="20231030 15:45:23.504" endtime="20231030 15:45:23.504"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231030 15:45:23.505" level="INFO">Length is 3</msg>
<msg timestamp="20231030 15:45:23.505" level="INFO">${count} = 3</msg>
<status status="PASS" starttime="20231030 15:45:23.504" endtime="20231030 15:45:23.505"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>${expected}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:23.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:23.505" endtime="20231030 15:45:23.505"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:18.422" endtime="20231030 15:45:23.506"/>
</test>
<test id="s1-s2-s4-t5" name="Incomplete command" line="58">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin datanode</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:23.511" level="INFO">Running command 'ozone admin datanode 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:26.854" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:45:26.855" level="INFO">${output} = Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231030 15:45:23.508" endtime="20231030 15:45:26.855"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:26.856" level="INFO">Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list          List info of datanodes
  decommission  Decommission a datanode
  maintenance   Put a datanode into Maintenance Mode
  recommission  Return a datanode to service
  usageinfo     List usage information (such as Capacity, SCMUsed, Remaining)
                  of a datanode by IP address or UUID</msg>
<status status="PASS" starttime="20231030 15:45:26.855" endtime="20231030 15:45:26.857"/>
</kw>
<msg timestamp="20231030 15:45:26.857" level="INFO">${output} = Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231030 15:45:23.507" endtime="20231030 15:45:26.857"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:26.857" endtime="20231030 15:45:26.858"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:26.858" endtime="20231030 15:45:26.858"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:23.506" endtime="20231030 15:45:26.859"/>
</test>
<test id="s1-s2-s4-t6" name="List datanodes as JSON" line="67">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --json | jq -r '.'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:26.866" level="INFO">Running command 'ozone admin datanode list --json | jq -r '.' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:32.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:32.105" level="INFO">${output} = [
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "uuidString": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "ipAddress": "...</msg>
<status status="PASS" starttime="20231030 15:45:26.862" endtime="20231030 15:45:32.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:32.107" level="INFO">[
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "uuidString": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "ipAddress": "172.25.0.103",
      "hostName": "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": 146763223,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "numOfLeaves": 1,
      "networkName": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  },
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "15e05d9b-7ee3-482b-9d36-0e7f8016fa3f",
      "uuidString": "15e05d9b-7ee3-482b-9d36-0e7f8016fa3f",
      "ipAddress": "172.25.0.102",
      "hostName": "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": -1694588263,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/15e05d9b-7ee3-482b-9d36-0e7f8016fa3f",
      "numOfLeaves": 1,
      "networkName": "15e05d9b-7ee3-482b-9d36-0e7f8016fa3f"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  },
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "63bd6248-0496-4df7-85fb-88a822814e9a",
      "uuidString": "63bd6248-0496-4df7-85fb-88a822814e9a",
      "ipAddress": "172.25.0.104",
      "hostName": "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": 1033507591,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/63bd6248-0496-4df7-85fb-88a822814e9a",
      "numOfLeaves": 1,
      "networkName": "63bd6248-0496-4df7-85fb-88a822814e9a"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  }
]</msg>
<status status="PASS" starttime="20231030 15:45:32.106" endtime="20231030 15:45:32.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:32.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:32.107" endtime="20231030 15:45:32.108"/>
</kw>
<status status="PASS" starttime="20231030 15:45:26.862" endtime="20231030 15:45:32.108"/>
</kw>
<msg timestamp="20231030 15:45:32.108" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:26.861" endtime="20231030 15:45:32.108"/>
</kw>
<msg timestamp="20231030 15:45:32.109" level="INFO">${output} = [
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "uuidString": "d8c9300d-7bd1-4b10-80ed-4e6a6da75a64",
      "ipAddress": "...</msg>
<status status="PASS" starttime="20231030 15:45:26.861" endtime="20231030 15:45:32.109"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>datanodeDetails</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:32.109" endtime="20231030 15:45:32.109"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>healthState</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:32.109" endtime="20231030 15:45:32.110"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>opState</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:32.110" endtime="20231030 15:45:32.110"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:26.860" endtime="20231030 15:45:32.110"/>
</test>
<doc>Test ozone admin datanode command</doc>
<status status="PASS" starttime="20231030 15:45:02.414" endtime="20231030 15:45:32.112"/>
</suite>
<suite id="s1-s2-s5" name="Pipeline" source="/opt/hadoop/smoketest/admincli/pipeline.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:32.127" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:32.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:32.132" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:45:32.124" endtime="20231030 15:45:32.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:32.134" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:45:32.133" endtime="20231030 15:45:32.134"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:32.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:32.134" endtime="20231030 15:45:32.135"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.124" endtime="20231030 15:45:32.135"/>
</kw>
<msg timestamp="20231030 15:45:32.135" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:32.123" endtime="20231030 15:45:32.135"/>
</kw>
<msg timestamp="20231030 15:45:32.135" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:45:32.123" endtime="20231030 15:45:32.135"/>
</kw>
<msg timestamp="20231030 15:45:32.135" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:45:32.122" endtime="20231030 15:45:32.136"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:45:32.136" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:45:32.136" endtime="20231030 15:45:32.136"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:32.141" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:32.207" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:32.208" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:45:32.139" endtime="20231030 15:45:32.208"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:32.209" level="INFO"/>
<status status="PASS" starttime="20231030 15:45:32.208" endtime="20231030 15:45:32.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:32.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:32.210" endtime="20231030 15:45:32.210"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.138" endtime="20231030 15:45:32.210"/>
</kw>
<msg timestamp="20231030 15:45:32.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:32.138" endtime="20231030 15:45:32.210"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.137" endtime="20231030 15:45:32.211"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.136" endtime="20231030 15:45:32.211"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.122" endtime="20231030 15:45:32.211"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.121" endtime="20231030 15:45:32.211"/>
</kw>
<test id="s1-s2-s5-t1" name="Create pipeline" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline create</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:32.217" level="INFO">Running command 'ozone admin pipeline create 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:37.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:37.644" level="INFO">${output} = PipelineID=5425cff8-2cad-406b-aff8-91d3fc251508 is created. Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_oz...</msg>
<status status="PASS" starttime="20231030 15:45:32.214" endtime="20231030 15:45:37.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:37.645" level="INFO">PipelineID=5425cff8-2cad-406b-aff8-91d3fc251508 is created. Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:45:37.644" endtime="20231030 15:45:37.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:37.646" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:37.645" endtime="20231030 15:45:37.646"/>
</kw>
<status status="PASS" starttime="20231030 15:45:32.213" endtime="20231030 15:45:37.646"/>
</kw>
<msg timestamp="20231030 15:45:37.646" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:32.213" endtime="20231030 15:45:37.646"/>
</kw>
<msg timestamp="20231030 15:45:37.647" level="INFO">${output} = PipelineID=5425cff8-2cad-406b-aff8-91d3fc251508 is created. Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_oz...</msg>
<status status="PASS" starttime="20231030 15:45:32.212" endtime="20231030 15:45:37.647"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>is created.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:37.647" endtime="20231030 15:45:37.647"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:37.647" endtime="20231030 15:45:37.648"/>
</kw>
<kw name="Execute" library="os">
<var>${pipeline}</var>
<arg>echo "${output}" | grep 'is created' | cut -f1 -d' ' | cut -f2 -d'='</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:37.652" level="INFO">Running command 'echo "PipelineID=5425cff8-2cad-406b-aff8-91d3fc251508 is created. Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]" | grep 'is created' | cut -f1 -d' ' | cut -f2 -d'=' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:37.657" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:37.657" level="INFO">${output} = 5425cff8-2cad-406b-aff8-91d3fc251508</msg>
<status status="PASS" starttime="20231030 15:45:37.649" endtime="20231030 15:45:37.657"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:37.658" level="INFO">5425cff8-2cad-406b-aff8-91d3fc251508</msg>
<status status="PASS" starttime="20231030 15:45:37.657" endtime="20231030 15:45:37.658"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:37.659" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:37.658" endtime="20231030 15:45:37.659"/>
</kw>
<status status="PASS" starttime="20231030 15:45:37.649" endtime="20231030 15:45:37.659"/>
</kw>
<msg timestamp="20231030 15:45:37.659" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:37.648" endtime="20231030 15:45:37.659"/>
</kw>
<msg timestamp="20231030 15:45:37.659" level="INFO">${pipeline} = 5425cff8-2cad-406b-aff8-91d3fc251508</msg>
<status status="PASS" starttime="20231030 15:45:37.648" endtime="20231030 15:45:37.659"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${PIPELINE}</arg>
<arg>${pipeline}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:45:37.660" level="INFO">${PIPELINE} = 5425cff8-2cad-406b-aff8-91d3fc251508</msg>
<status status="PASS" starttime="20231030 15:45:37.659" endtime="20231030 15:45:37.660"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:32.211" endtime="20231030 15:45:37.660"/>
</test>
<test id="s1-s2-s5-t2" name="List pipelines" line="35">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:37.666" level="INFO">Running command 'ozone admin pipeline list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:42.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:42.372" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:45:37.663" endtime="20231030 15:45:42.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:42.373" level="INFO">Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:43:13.499Z[UTC]]
Pipeline[ Id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:26.510Z[UTC]]
Pipeline[ Id: e1609aa3-ac22-4000-a776-79f120b72ad8, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:63bd6248-0496-4df7-85fb-88a822814e9a, CreationTimestamp2023-10-30T15:41:25.870Z[UTC]]
Pipeline[ Id: b03d95d2-e3ba-4536-b1c1-c5c963edeefd, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:26.301Z[UTC]]
Pipeline[ Id: 4861be6e-2958-4e23-8a04-d7599a21ef94, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:25.406Z[UTC]]
Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]
Pipeline[ Id: 8adc7836-3e2a-4c68-92a3-403225c0ab57, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:24.744Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:45:42.373" endtime="20231030 15:45:42.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:42.375" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:42.374" endtime="20231030 15:45:42.375"/>
</kw>
<status status="PASS" starttime="20231030 15:45:37.663" endtime="20231030 15:45:42.375"/>
</kw>
<msg timestamp="20231030 15:45:42.375" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:37.662" endtime="20231030 15:45:42.375"/>
</kw>
<msg timestamp="20231030 15:45:42.375" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:45:37.662" endtime="20231030 15:45:42.375"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:42.376" endtime="20231030 15:45:42.376"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:37.661" endtime="20231030 15:45:42.376"/>
</test>
<test id="s1-s2-s5-t3" name="List pipeline with json option" line="39">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:42.383" level="INFO">Running command 'ozone admin pipeline list --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:47.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:47.058" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231030 15:45:42.380" endtime="20231030 15:45:47.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:47.060" level="INFO">true</msg>
<status status="PASS" starttime="20231030 15:45:47.059" endtime="20231030 15:45:47.060"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:47.061" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:47.060" endtime="20231030 15:45:47.061"/>
</kw>
<status status="PASS" starttime="20231030 15:45:42.379" endtime="20231030 15:45:47.061"/>
</kw>
<msg timestamp="20231030 15:45:47.061" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:42.379" endtime="20231030 15:45:47.061"/>
</kw>
<msg timestamp="20231030 15:45:47.062" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231030 15:45:42.378" endtime="20231030 15:45:47.062"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>$output</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231030 15:45:47.062" endtime="20231030 15:45:47.069"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:42.377" endtime="20231030 15:45:47.069"/>
</test>
<test id="s1-s2-s5-t4" name="List pipelines with explicit host" line="44">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:47.075" level="INFO">Running command 'ozone admin pipeline list --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:51.915" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:51.915" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:45:47.073" endtime="20231030 15:45:51.915"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:51.916" level="INFO">Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:43:13.499Z[UTC]]
Pipeline[ Id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:26.510Z[UTC]]
Pipeline[ Id: e1609aa3-ac22-4000-a776-79f120b72ad8, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:63bd6248-0496-4df7-85fb-88a822814e9a, CreationTimestamp2023-10-30T15:41:25.870Z[UTC]]
Pipeline[ Id: b03d95d2-e3ba-4536-b1c1-c5c963edeefd, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:26.301Z[UTC]]
Pipeline[ Id: 4861be6e-2958-4e23-8a04-d7599a21ef94, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:25.406Z[UTC]]
Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]
Pipeline[ Id: 8adc7836-3e2a-4c68-92a3-403225c0ab57, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:24.744Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:45:51.916" endtime="20231030 15:45:51.917"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:51.917" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:51.917" endtime="20231030 15:45:51.917"/>
</kw>
<status status="PASS" starttime="20231030 15:45:47.072" endtime="20231030 15:45:51.918"/>
</kw>
<msg timestamp="20231030 15:45:51.918" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:47.072" endtime="20231030 15:45:51.918"/>
</kw>
<msg timestamp="20231030 15:45:51.918" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:45:47.071" endtime="20231030 15:45:51.918"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:45:51.918" endtime="20231030 15:45:51.919"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:47.071" endtime="20231030 15:45:51.919"/>
</test>
<test id="s1-s2-s5-t5" name="List pipelines with explicit host and json option" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --scm ${SCM} --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:51.925" level="INFO">Running command 'ozone admin pipeline list --scm scm1.org --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:45:57.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:45:57.020" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231030 15:45:51.922" endtime="20231030 15:45:57.020"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:45:57.022" level="INFO">true</msg>
<status status="PASS" starttime="20231030 15:45:57.021" endtime="20231030 15:45:57.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:45:57.023" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:45:57.022" endtime="20231030 15:45:57.023"/>
</kw>
<status status="PASS" starttime="20231030 15:45:51.922" endtime="20231030 15:45:57.023"/>
</kw>
<msg timestamp="20231030 15:45:57.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:51.922" endtime="20231030 15:45:57.026"/>
</kw>
<msg timestamp="20231030 15:45:57.026" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231030 15:45:51.921" endtime="20231030 15:45:57.027"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>$output</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231030 15:45:57.027" endtime="20231030 15:45:57.027"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:51.920" endtime="20231030 15:45:57.027"/>
</test>
<test id="s1-s2-s5-t6" name="Deactivate pipeline" line="53">
<kw name="Execute" library="os">
<arg>ozone admin pipeline deactivate "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:45:57.034" level="INFO">Running command 'ozone admin pipeline deactivate "5425cff8-2cad-406b-aff8-91d3fc251508" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:02.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:02.151" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:45:57.031" endtime="20231030 15:46:02.151"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:02.155" level="INFO"/>
<status status="PASS" starttime="20231030 15:46:02.153" endtime="20231030 15:46:02.155"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:02.157" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:02.156" endtime="20231030 15:46:02.157"/>
</kw>
<status status="PASS" starttime="20231030 15:45:57.030" endtime="20231030 15:46:02.157"/>
</kw>
<msg timestamp="20231030 15:46:02.157" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:45:57.030" endtime="20231030 15:46:02.157"/>
</kw>
<status status="PASS" starttime="20231030 15:45:57.029" endtime="20231030 15:46:02.157"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list | grep "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:02.163" level="INFO">Running command 'ozone admin pipeline list | grep "5425cff8-2cad-406b-aff8-91d3fc251508" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:07.186" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:07.186" level="INFO">${output} = Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:02.160" endtime="20231030 15:46:07.186"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:07.188" level="INFO">Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:DORMANT, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:46:07.187" endtime="20231030 15:46:07.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:07.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:07.188" endtime="20231030 15:46:07.189"/>
</kw>
<status status="PASS" starttime="20231030 15:46:02.159" endtime="20231030 15:46:07.189"/>
</kw>
<msg timestamp="20231030 15:46:07.189" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:02.158" endtime="20231030 15:46:07.189"/>
</kw>
<msg timestamp="20231030 15:46:07.190" level="INFO">${output} = Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:02.158" endtime="20231030 15:46:07.190"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>DORMANT</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:07.190" endtime="20231030 15:46:07.190"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:45:57.028" endtime="20231030 15:46:07.190"/>
</test>
<test id="s1-s2-s5-t7" name="Activate pipeline" line="58">
<kw name="Execute" library="os">
<arg>ozone admin pipeline activate "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:07.198" level="INFO">Running command 'ozone admin pipeline activate "5425cff8-2cad-406b-aff8-91d3fc251508" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:11.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:11.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:46:07.194" endtime="20231030 15:46:11.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:11.907" level="INFO"/>
<status status="PASS" starttime="20231030 15:46:11.906" endtime="20231030 15:46:11.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:11.908" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:11.907" endtime="20231030 15:46:11.908"/>
</kw>
<status status="PASS" starttime="20231030 15:46:07.194" endtime="20231030 15:46:11.908"/>
</kw>
<msg timestamp="20231030 15:46:11.908" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:07.194" endtime="20231030 15:46:11.908"/>
</kw>
<status status="PASS" starttime="20231030 15:46:07.193" endtime="20231030 15:46:11.909"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list | grep "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:11.914" level="INFO">Running command 'ozone admin pipeline list | grep "5425cff8-2cad-406b-aff8-91d3fc251508" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:16.949" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:16.949" level="INFO">${output} = Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:11.911" endtime="20231030 15:46:16.949"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:16.951" level="INFO">Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:46:16.950" endtime="20231030 15:46:16.951"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:16.952" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:16.951" endtime="20231030 15:46:16.952"/>
</kw>
<status status="PASS" starttime="20231030 15:46:11.910" endtime="20231030 15:46:16.952"/>
</kw>
<msg timestamp="20231030 15:46:16.952" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:11.910" endtime="20231030 15:46:16.952"/>
</kw>
<msg timestamp="20231030 15:46:16.952" level="INFO">${output} = Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:11.909" endtime="20231030 15:46:16.952"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:16.953" endtime="20231030 15:46:16.953"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:07.192" endtime="20231030 15:46:16.953"/>
</test>
<test id="s1-s2-s5-t8" name="Close pipeline" line="63">
<kw name="Execute" library="os">
<arg>ozone admin pipeline close "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:16.960" level="INFO">Running command 'ozone admin pipeline close "5425cff8-2cad-406b-aff8-91d3fc251508" 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:22.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:22.182" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:46:16.957" endtime="20231030 15:46:22.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:22.184" level="INFO"/>
<status status="PASS" starttime="20231030 15:46:22.183" endtime="20231030 15:46:22.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:22.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:22.184" endtime="20231030 15:46:22.185"/>
</kw>
<status status="PASS" starttime="20231030 15:46:16.956" endtime="20231030 15:46:22.185"/>
</kw>
<msg timestamp="20231030 15:46:22.185" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:16.956" endtime="20231030 15:46:22.185"/>
</kw>
<status status="PASS" starttime="20231030 15:46:16.955" endtime="20231030 15:46:22.186"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:22.192" level="INFO">Running command 'ozone admin pipeline list 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:27.234" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:27.234" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:22.189" endtime="20231030 15:46:27.234"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:27.235" level="INFO">Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-10-30T15:43:13.499Z[UTC]]
Pipeline[ Id: b4e1b4b7-f4a3-4fc8-9f63-489f1586237f, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:26.510Z[UTC]]
Pipeline[ Id: e1609aa3-ac22-4000-a776-79f120b72ad8, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:63bd6248-0496-4df7-85fb-88a822814e9a, CreationTimestamp2023-10-30T15:41:25.870Z[UTC]]
Pipeline[ Id: b03d95d2-e3ba-4536-b1c1-c5c963edeefd, Nodes: 63bd6248-0496-4df7-85fb-88a822814e9a(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:26.301Z[UTC]]
Pipeline[ Id: 4861be6e-2958-4e23-8a04-d7599a21ef94, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:15e05d9b-7ee3-482b-9d36-0e7f8016fa3f, CreationTimestamp2023-10-30T15:41:25.406Z[UTC]]
Pipeline[ Id: 5425cff8-2cad-406b-aff8-91d3fc251508, Nodes: 15e05d9b-7ee3-482b-9d36-0e7f8016fa3f(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:CLOSED, leaderId:, CreationTimestamp2023-10-30T15:45:37.250Z[UTC]]
Pipeline[ Id: 8adc7836-3e2a-4c68-92a3-403225c0ab57, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:d8c9300d-7bd1-4b10-80ed-4e6a6da75a64, CreationTimestamp2023-10-30T15:41:24.744Z[UTC]]</msg>
<status status="PASS" starttime="20231030 15:46:27.234" endtime="20231030 15:46:27.236"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:27.236" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:27.236" endtime="20231030 15:46:27.237"/>
</kw>
<status status="PASS" starttime="20231030 15:46:22.187" endtime="20231030 15:46:27.237"/>
</kw>
<msg timestamp="20231030 15:46:27.237" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:22.187" endtime="20231030 15:46:27.237"/>
</kw>
<msg timestamp="20231030 15:46:27.237" level="INFO">${output} = Pipeline[ Id: d8fa81cf-4379-4e15-afea-61cb404307ec, Nodes: d8c9300d-7bd1-4b10-80ed-4e6a6da75a64(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231030 15:46:22.186" endtime="20231030 15:46:27.237"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${PIPELINE}' not in '''${output}'''</arg>
<arg>Pipeline already scrubbed</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231030 15:46:27.238" endtime="20231030 15:46:27.238"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>${PIPELINE}.*CLOSED</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:46:27.238" endtime="20231030 15:46:27.239"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:16.954" endtime="20231030 15:46:27.239"/>
</test>
<test id="s1-s2-s5-t9" name="Incomplete command" line="69">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin pipeline</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:27.245" level="INFO">Running command 'ozone admin pipeline 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:30.380" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:46:30.380" level="INFO">${output} = Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231030 15:46:27.242" endtime="20231030 15:46:30.380"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:30.381" level="INFO">Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list        List all active pipelines
  activate    Activates the given Pipeline
  deactivate  Deactivates the given Pipeline
  create      create pipeline
  close       Close pipeline</msg>
<status status="PASS" starttime="20231030 15:46:30.381" endtime="20231030 15:46:30.381"/>
</kw>
<msg timestamp="20231030 15:46:30.382" level="INFO">${output} = Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231030 15:46:27.242" endtime="20231030 15:46:30.382"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:30.382" endtime="20231030 15:46:30.382"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>close</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:30.383" endtime="20231030 15:46:30.383"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>create</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:30.383" endtime="20231030 15:46:30.384"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>deactivate</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:30.384" endtime="20231030 15:46:30.384"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:30.384" endtime="20231030 15:46:30.385"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:27.241" endtime="20231030 15:46:30.385"/>
</test>
<doc>Test ozone admin pipeline command</doc>
<status status="PASS" starttime="20231030 15:45:32.114" endtime="20231030 15:46:30.386"/>
</suite>
<suite id="s1-s2-s6" name="printTopology" source="/opt/hadoop/smoketest/admincli/printTopology.robot">
<test id="s1-s2-s6-t1" name="Run printTopology" line="25">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin printTopology</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:30.400" level="INFO">Running command 'ozone admin printTopology 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:35.732" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:35.732" level="INFO">${output} = State = HEALTHY
 172.25.0.103(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDA...</msg>
<status status="PASS" starttime="20231030 15:46:30.397" endtime="20231030 15:46:35.732"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:35.734" level="INFO">State = HEALTHY
 172.25.0.103(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack
 172.25.0.102(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack
 172.25.0.104(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack</msg>
<status status="PASS" starttime="20231030 15:46:35.733" endtime="20231030 15:46:35.734"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:35.735" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:35.734" endtime="20231030 15:46:35.735"/>
</kw>
<status status="PASS" starttime="20231030 15:46:30.397" endtime="20231030 15:46:35.735"/>
</kw>
<msg timestamp="20231030 15:46:35.735" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:30.396" endtime="20231030 15:46:35.735"/>
</kw>
<msg timestamp="20231030 15:46:35.736" level="INFO">${output} = State = HEALTHY
 172.25.0.103(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDA...</msg>
<status status="PASS" starttime="20231030 15:46:30.396" endtime="20231030 15:46:35.736"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>State =</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:46:35.736" endtime="20231030 15:46:35.737"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:30.395" endtime="20231030 15:46:35.737"/>
</test>
<test id="s1-s2-s6-t2" name="Run printTopology as JSON" line="29">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin printTopology --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:35.744" level="INFO">Running command 'ozone admin printTopology --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:41.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:41.120" level="INFO">${output} = [ {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/defaul...</msg>
<status status="PASS" starttime="20231030 15:46:35.740" endtime="20231030 15:46:41.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:41.121" level="INFO">[ {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.104",
  "hostName" : "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
} ]</msg>
<status status="PASS" starttime="20231030 15:46:41.121" endtime="20231030 15:46:41.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:41.122" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:41.122" endtime="20231030 15:46:41.122"/>
</kw>
<status status="PASS" starttime="20231030 15:46:35.740" endtime="20231030 15:46:41.122"/>
</kw>
<msg timestamp="20231030 15:46:41.122" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:35.740" endtime="20231030 15:46:41.123"/>
</kw>
<msg timestamp="20231030 15:46:41.123" level="INFO">${output} = [ {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/defaul...</msg>
<status status="PASS" starttime="20231030 15:46:35.739" endtime="20231030 15:46:41.123"/>
</kw>
<kw name="Execute" library="os">
<var>${keys}</var>
<arg>echo '${output}' | jq -r '.[0] | keys'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:41.128" level="INFO">Running command 'echo '[ {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.104",
  "hostName" : "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
} ]' | jq -r '.[0] | keys' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:41.166" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:41.167" level="INFO">${output} = [
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231030 15:46:41.125" endtime="20231030 15:46:41.167"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:41.168" level="INFO">[
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231030 15:46:41.167" endtime="20231030 15:46:41.168"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:41.169" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:41.168" endtime="20231030 15:46:41.169"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.124" endtime="20231030 15:46:41.169"/>
</kw>
<msg timestamp="20231030 15:46:41.169" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:41.124" endtime="20231030 15:46:41.169"/>
</kw>
<msg timestamp="20231030 15:46:41.170" level="INFO">${keys} = [
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231030 15:46:41.123" endtime="20231030 15:46:41.170"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ipAddress</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:41.170" endtime="20231030 15:46:41.170"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:35.738" endtime="20231030 15:46:41.170"/>
</test>
<doc>Test ozone admin printTopology command</doc>
<status status="PASS" starttime="20231030 15:46:30.389" endtime="20231030 15:46:41.172"/>
</suite>
<suite id="s1-s2-s7" name="Replicationmanager" source="/opt/hadoop/smoketest/admincli/replicationmanager.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:41.185" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:41.190" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:41.190" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:46:41.182" endtime="20231030 15:46:41.190"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:41.191" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:46:41.191" endtime="20231030 15:46:41.191"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:41.192" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:41.192" endtime="20231030 15:46:41.193"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.182" endtime="20231030 15:46:41.193"/>
</kw>
<msg timestamp="20231030 15:46:41.193" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:41.182" endtime="20231030 15:46:41.193"/>
</kw>
<msg timestamp="20231030 15:46:41.193" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:46:41.181" endtime="20231030 15:46:41.193"/>
</kw>
<msg timestamp="20231030 15:46:41.194" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:46:41.181" endtime="20231030 15:46:41.194"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:46:41.195" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:46:41.194" endtime="20231030 15:46:41.195"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:41.201" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:41.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:41.248" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:46:41.197" endtime="20231030 15:46:41.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:41.250" level="INFO"/>
<status status="PASS" starttime="20231030 15:46:41.249" endtime="20231030 15:46:41.250"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:41.251" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:41.250" endtime="20231030 15:46:41.251"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.197" endtime="20231030 15:46:41.251"/>
</kw>
<msg timestamp="20231030 15:46:41.251" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:41.196" endtime="20231030 15:46:41.251"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.196" endtime="20231030 15:46:41.251"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.195" endtime="20231030 15:46:41.252"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.181" endtime="20231030 15:46:41.252"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.180" endtime="20231030 15:46:41.252"/>
</kw>
<test id="s1-s2-s7-t1" name="Check replicationmanager" line="27">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager status</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:41.258" level="INFO">Running command 'ozone admin replicationmanager status 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:46.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:46.245" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:41.255" endtime="20231030 15:46:46.245"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:46.246" level="INFO">ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:46.245" endtime="20231030 15:46:46.246"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:46.247" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:46.246" endtime="20231030 15:46:46.247"/>
</kw>
<status status="PASS" starttime="20231030 15:46:41.254" endtime="20231030 15:46:46.247"/>
</kw>
<msg timestamp="20231030 15:46:46.247" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:41.254" endtime="20231030 15:46:46.247"/>
</kw>
<msg timestamp="20231030 15:46:46.248" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:41.253" endtime="20231030 15:46:46.248"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:46.248" endtime="20231030 15:46:46.248"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Running</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:46.248" endtime="20231030 15:46:46.249"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:41.252" endtime="20231030 15:46:46.249"/>
</test>
<test id="s1-s2-s7-t2" name="Check replicationmanager with explicit host" line="32">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager status --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:46.255" level="INFO">Running command 'ozone admin replicationmanager status --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:51.142" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:51.142" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:46.252" endtime="20231030 15:46:51.142"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:51.143" level="INFO">ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:51.142" endtime="20231030 15:46:51.143"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:51.144" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:51.143" endtime="20231030 15:46:51.144"/>
</kw>
<status status="PASS" starttime="20231030 15:46:46.252" endtime="20231030 15:46:51.144"/>
</kw>
<msg timestamp="20231030 15:46:51.144" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:46.252" endtime="20231030 15:46:51.144"/>
</kw>
<msg timestamp="20231030 15:46:51.145" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231030 15:46:46.251" endtime="20231030 15:46:51.145"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:51.145" endtime="20231030 15:46:51.145"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Running</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:51.145" endtime="20231030 15:46:51.146"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:46.250" endtime="20231030 15:46:51.146"/>
</test>
<test id="s1-s2-s7-t3" name="Stop replicationmanager" line="37">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager stop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:51.154" level="INFO">Running command 'ozone admin replicationmanager stop 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:46:56.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:46:56.560" level="INFO">${output} = Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231030 15:46:51.151" endtime="20231030 15:46:56.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:46:56.562" level="INFO">Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231030 15:46:56.561" endtime="20231030 15:46:56.562"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:46:56.563" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:46:56.562" endtime="20231030 15:46:56.563"/>
</kw>
<status status="PASS" starttime="20231030 15:46:51.151" endtime="20231030 15:46:56.564"/>
</kw>
<msg timestamp="20231030 15:46:56.564" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:51.150" endtime="20231030 15:46:56.564"/>
</kw>
<msg timestamp="20231030 15:46:56.564" level="INFO">${output} = Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231030 15:46:51.150" endtime="20231030 15:46:56.564"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Stopping ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:46:56.565" endtime="20231030 15:46:56.565"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>30sec</arg>
<arg>5sec</arg>
<arg>Execute</arg>
<arg>ozone admin replicationmanager status | grep -q 'is Not Running'</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>ozone admin replicationmanager status | grep -q 'is Not Running'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:46:56.571" level="INFO">Running command 'ozone admin replicationmanager status | grep -q 'is Not Running' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:01.818" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:01.818" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:46:56.568" endtime="20231030 15:47:01.818"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:01.821" level="INFO"/>
<status status="PASS" starttime="20231030 15:47:01.820" endtime="20231030 15:47:01.821"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:01.822" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:01.821" endtime="20231030 15:47:01.822"/>
</kw>
<status status="PASS" starttime="20231030 15:46:56.568" endtime="20231030 15:47:01.822"/>
</kw>
<msg timestamp="20231030 15:47:01.823" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:46:56.567" endtime="20231030 15:47:01.823"/>
</kw>
<status status="PASS" starttime="20231030 15:46:56.566" endtime="20231030 15:47:01.823"/>
</kw>
<status status="PASS" starttime="20231030 15:46:56.565" endtime="20231030 15:47:01.823"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:46:51.148" endtime="20231030 15:47:01.823"/>
</test>
<test id="s1-s2-s7-t4" name="Start replicationmanager" line="42">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager start</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:01.831" level="INFO">Running command 'ozone admin replicationmanager start 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:07.706" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:07.706" level="INFO">${output} = Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231030 15:47:01.828" endtime="20231030 15:47:07.706"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:07.708" level="INFO">Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231030 15:47:07.707" endtime="20231030 15:47:07.708"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:07.709" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:07.708" endtime="20231030 15:47:07.709"/>
</kw>
<status status="PASS" starttime="20231030 15:47:01.827" endtime="20231030 15:47:07.709"/>
</kw>
<msg timestamp="20231030 15:47:07.709" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:01.827" endtime="20231030 15:47:07.709"/>
</kw>
<msg timestamp="20231030 15:47:07.710" level="INFO">${output} = Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231030 15:47:01.826" endtime="20231030 15:47:07.710"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Starting ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:07.710" endtime="20231030 15:47:07.710"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>30sec</arg>
<arg>5sec</arg>
<arg>Execute</arg>
<arg>ozone admin replicationmanager status | grep -q 'is Running'</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>ozone admin replicationmanager status | grep -q 'is Running'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:07.716" level="INFO">Running command 'ozone admin replicationmanager status | grep -q 'is Running' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:12.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:12.885" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:47:07.713" endtime="20231030 15:47:12.885"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:12.887" level="INFO"/>
<status status="PASS" starttime="20231030 15:47:12.886" endtime="20231030 15:47:12.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:12.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:12.887" endtime="20231030 15:47:12.888"/>
</kw>
<status status="PASS" starttime="20231030 15:47:07.712" endtime="20231030 15:47:12.888"/>
</kw>
<msg timestamp="20231030 15:47:12.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:07.712" endtime="20231030 15:47:12.889"/>
</kw>
<status status="PASS" starttime="20231030 15:47:07.711" endtime="20231030 15:47:12.889"/>
</kw>
<status status="PASS" starttime="20231030 15:47:07.711" endtime="20231030 15:47:12.889"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:01.825" endtime="20231030 15:47:12.889"/>
</test>
<test id="s1-s2-s7-t5" name="Incomplete command" line="47">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:12.895" level="INFO">Running command 'ozone admin replicationmanager 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:16.620" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:47:16.620" level="INFO">${output} = Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version infor...</msg>
<status status="PASS" starttime="20231030 15:47:12.892" endtime="20231030 15:47:16.620"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:16.622" level="INFO">Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  start   Start ReplicationManager
  stop    Stop ReplicationManager
  status  Check if ReplicationManager is running or not</msg>
<status status="PASS" starttime="20231030 15:47:16.621" endtime="20231030 15:47:16.622"/>
</kw>
<msg timestamp="20231030 15:47:16.622" level="INFO">${output} = Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version infor...</msg>
<status status="PASS" starttime="20231030 15:47:12.891" endtime="20231030 15:47:16.622"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:16.623" endtime="20231030 15:47:16.623"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>start</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:16.623" endtime="20231030 15:47:16.624"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>stop</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:16.624" endtime="20231030 15:47:16.624"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>status</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:16.624" endtime="20231030 15:47:16.625"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:12.890" endtime="20231030 15:47:16.625"/>
</test>
<doc>Test ozone admin replicationmanager command</doc>
<status status="PASS" starttime="20231030 15:46:41.173" endtime="20231030 15:47:16.626"/>
</suite>
<suite id="s1-s2-s8" name="Safemode" source="/opt/hadoop/smoketest/admincli/safemode.robot">
<test id="s1-s2-s8-t1" name="Check safemode" line="26">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode status</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:16.643" level="INFO">Running command 'ozone admin safemode status 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:21.625" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:21.625" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:16.639" endtime="20231030 15:47:21.625"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:21.627" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:21.626" endtime="20231030 15:47:21.627"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:21.628" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:21.627" endtime="20231030 15:47:21.628"/>
</kw>
<status status="PASS" starttime="20231030 15:47:16.638" endtime="20231030 15:47:21.628"/>
</kw>
<msg timestamp="20231030 15:47:21.628" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:16.638" endtime="20231030 15:47:21.628"/>
</kw>
<msg timestamp="20231030 15:47:21.629" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:16.637" endtime="20231030 15:47:21.629"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:21.629" endtime="20231030 15:47:21.629"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:16.637" endtime="20231030 15:47:21.629"/>
</test>
<test id="s1-s2-s8-t2" name="Check safemode with explicit host" line="30">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode status --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:21.637" level="INFO">Running command 'ozone admin safemode status --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:26.523" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:26.523" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:21.634" endtime="20231030 15:47:26.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:26.525" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:26.524" endtime="20231030 15:47:26.525"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:26.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:26.525" endtime="20231030 15:47:26.526"/>
</kw>
<status status="PASS" starttime="20231030 15:47:21.633" endtime="20231030 15:47:26.526"/>
</kw>
<msg timestamp="20231030 15:47:26.526" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:21.632" endtime="20231030 15:47:26.526"/>
</kw>
<msg timestamp="20231030 15:47:26.527" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:21.632" endtime="20231030 15:47:26.527"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:26.527" endtime="20231030 15:47:26.527"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:21.631" endtime="20231030 15:47:26.527"/>
</test>
<test id="s1-s2-s8-t3" name="Wait for safemode exit" line="34">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode wait -t 2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:26.535" level="INFO">Running command 'ozone admin safemode wait -t 2 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:31.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:31.336" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:26.531" endtime="20231030 15:47:31.336"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:31.337" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:31.336" endtime="20231030 15:47:31.337"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:31.338" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:31.337" endtime="20231030 15:47:31.338"/>
</kw>
<status status="PASS" starttime="20231030 15:47:26.531" endtime="20231030 15:47:31.338"/>
</kw>
<msg timestamp="20231030 15:47:31.339" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:26.531" endtime="20231030 15:47:31.339"/>
</kw>
<msg timestamp="20231030 15:47:31.339" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:26.530" endtime="20231030 15:47:31.339"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:31.339" endtime="20231030 15:47:31.340"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:26.529" endtime="20231030 15:47:31.340"/>
</test>
<test id="s1-s2-s8-t4" name="Incomplete command" line="38">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin safemode</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:31.345" level="INFO">Running command 'ozone admin safemode 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:35.197" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:47:35.197" level="INFO">${output} = Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Co...</msg>
<status status="PASS" starttime="20231030 15:47:31.342" endtime="20231030 15:47:35.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:35.199" level="INFO">Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  status  Check if SCM is in safe mode
  exit    Force SCM out of safe mode
  wait    Wait until the scm is out from the safe mode.</msg>
<status status="PASS" starttime="20231030 15:47:35.198" endtime="20231030 15:47:35.199"/>
</kw>
<msg timestamp="20231030 15:47:35.199" level="INFO">${output} = Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Co...</msg>
<status status="PASS" starttime="20231030 15:47:31.342" endtime="20231030 15:47:35.199"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:35.200" endtime="20231030 15:47:35.200"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>status</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:35.200" endtime="20231030 15:47:35.200"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>exit</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:35.201" endtime="20231030 15:47:35.201"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>wait</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:35.201" endtime="20231030 15:47:35.202"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:31.341" endtime="20231030 15:47:35.202"/>
</test>
<doc>Test ozone admin safemode command</doc>
<status status="PASS" starttime="20231030 15:47:16.629" endtime="20231030 15:47:35.203"/>
</suite>
<suite id="s1-s2-s9" name="Scmrole" source="/opt/hadoop/smoketest/admincli/scmrole.robot">
<test id="s1-s2-s9-t1" name="Run scm roles" line="26">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin scm roles</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:35.217" level="INFO">Running command 'ozone admin scm roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:39.777" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:39.777" level="INFO">${output} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:47:35.214" endtime="20231030 15:47:39.777"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:39.779" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:47:39.778" endtime="20231030 15:47:39.779"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:39.780" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:39.779" endtime="20231030 15:47:39.780"/>
</kw>
<status status="PASS" starttime="20231030 15:47:35.214" endtime="20231030 15:47:39.780"/>
</kw>
<msg timestamp="20231030 15:47:39.780" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:35.213" endtime="20231030 15:47:39.780"/>
</kw>
<msg timestamp="20231030 15:47:39.781" level="INFO">${output} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:47:35.213" endtime="20231030 15:47:39.781"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[scm:9894(:LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:47:39.781" endtime="20231030 15:47:39.781"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:35.212" endtime="20231030 15:47:39.782"/>
</test>
<test id="s1-s2-s9-t2" name="List scm roles as JSON" line="30">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin scm roles --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:39.790" level="INFO">Running command 'ozone admin scm roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:44.881" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:44.881" level="INFO">${output} = {
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "360d8b5e-737f-4d39-b751-1ab5b8709e43",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "addr...</msg>
<status status="PASS" starttime="20231030 15:47:39.785" endtime="20231030 15:47:44.881"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:44.883" level="INFO">{
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "360d8b5e-737f-4d39-b751-1ab5b8709e43",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "address" : "scm3.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "e4a04137-b873-4435-a837-9bd87f0b223d",
    "InetAddress" : "172.25.0.118"
  },
  "scm2.org" : {
    "address" : "scm2.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "0f3c01fc-c625-4d71-a3c3-fcdca449f622",
    "InetAddress" : "172.25.0.117"
  }
}</msg>
<status status="PASS" starttime="20231030 15:47:44.882" endtime="20231030 15:47:44.883"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:44.884" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:44.883" endtime="20231030 15:47:44.884"/>
</kw>
<status status="PASS" starttime="20231030 15:47:39.784" endtime="20231030 15:47:44.884"/>
</kw>
<msg timestamp="20231030 15:47:44.884" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:39.784" endtime="20231030 15:47:44.885"/>
</kw>
<msg timestamp="20231030 15:47:44.885" level="INFO">${output} = {
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "360d8b5e-737f-4d39-b751-1ab5b8709e43",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "addr...</msg>
<status status="PASS" starttime="20231030 15:47:39.783" endtime="20231030 15:47:44.885"/>
</kw>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq -r '.[] | select(.raftPeerRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:44.891" level="INFO">Running command 'echo '{
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "360d8b5e-737f-4d39-b751-1ab5b8709e43",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "address" : "scm3.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "e4a04137-b873-4435-a837-9bd87f0b223d",
    "InetAddress" : "172.25.0.118"
  },
  "scm2.org" : {
    "address" : "scm2.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "0f3c01fc-c625-4d71-a3c3-fcdca449f622",
    "InetAddress" : "172.25.0.117"
  }
}' | jq -r '.[] | select(.raftPeerRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:44.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:44.937" level="INFO">${output} = {
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "360d8b5e-737f-4d39-b751-1ab5b8709e43",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231030 15:47:44.887" endtime="20231030 15:47:44.937"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:44.939" level="INFO">{
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "360d8b5e-737f-4d39-b751-1ab5b8709e43",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231030 15:47:44.938" endtime="20231030 15:47:44.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:44.940" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:44.939" endtime="20231030 15:47:44.940"/>
</kw>
<status status="PASS" starttime="20231030 15:47:44.886" endtime="20231030 15:47:44.940"/>
</kw>
<msg timestamp="20231030 15:47:44.940" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:44.886" endtime="20231030 15:47:44.940"/>
</kw>
<msg timestamp="20231030 15:47:44.941" level="INFO">${leader} = {
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "360d8b5e-737f-4d39-b751-1ab5b8709e43",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231030 15:47:44.885" endtime="20231030 15:47:44.941"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:47:44.941" endtime="20231030 15:47:44.942"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:39.782" endtime="20231030 15:47:44.942"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231030 15:47:35.205" endtime="20231030 15:47:44.943"/>
</suite>
<status status="PASS" starttime="20231030 15:42:35.125" endtime="20231030 15:47:44.947"/>
</suite>
<suite id="s1-s3" name="Om-Fetch-Key" source="/opt/hadoop/smoketest/omha/om-fetch-key.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:49.412" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:49.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:49.416" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:47:49.408" endtime="20231030 15:47:49.416"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:49.417" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:47:49.416" endtime="20231030 15:47:49.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:49.421" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:49.421" endtime="20231030 15:47:49.421"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.407" endtime="20231030 15:47:49.422"/>
</kw>
<msg timestamp="20231030 15:47:49.422" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:49.407" endtime="20231030 15:47:49.422"/>
</kw>
<msg timestamp="20231030 15:47:49.422" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:47:49.407" endtime="20231030 15:47:49.422"/>
</kw>
<msg timestamp="20231030 15:47:49.423" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:47:49.406" endtime="20231030 15:47:49.423"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:47:49.423" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:47:49.423" endtime="20231030 15:47:49.423"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:49.429" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:49.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:49.471" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:47:49.426" endtime="20231030 15:47:49.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:49.473" level="INFO"/>
<status status="PASS" starttime="20231030 15:47:49.472" endtime="20231030 15:47:49.473"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:49.474" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:49.473" endtime="20231030 15:47:49.474"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.425" endtime="20231030 15:47:49.474"/>
</kw>
<msg timestamp="20231030 15:47:49.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:49.425" endtime="20231030 15:47:49.474"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.424" endtime="20231030 15:47:49.474"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.424" endtime="20231030 15:47:49.474"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.405" endtime="20231030 15:47:49.474"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.404" endtime="20231030 15:47:49.475"/>
</kw>
<test id="s1-s3-t1" name="Fetch Key with Valid ServiceID Specified" line="31">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om fetch-key --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:49.481" level="INFO">Running command 'ozone admin om fetch-key --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:47:55.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:47:55.053" level="INFO">${output} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:47:49.478" endtime="20231030 15:47:55.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:47:55.055" level="INFO">Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:47:55.054" endtime="20231030 15:47:55.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:47:55.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:47:55.055" endtime="20231030 15:47:55.056"/>
</kw>
<status status="PASS" starttime="20231030 15:47:49.477" endtime="20231030 15:47:55.056"/>
</kw>
<msg timestamp="20231030 15:47:55.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:49.477" endtime="20231030 15:47:55.056"/>
</kw>
<msg timestamp="20231030 15:47:55.056" level="INFO">${result} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:47:49.476" endtime="20231030 15:47:55.057"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:47:55.057" endtime="20231030 15:47:55.057"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:49.475" endtime="20231030 15:47:55.057"/>
</test>
<test id="s1-s3-t2" name="Fetch Key with Multiple ServiceIDs, Valid ServiceID Specified" line="35">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:47:55.063" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:00.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:00.239" level="INFO">${output} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:47:55.060" endtime="20231030 15:48:00.239"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:00.240" level="INFO">Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:48:00.240" endtime="20231030 15:48:00.241"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:00.241" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:00.241" endtime="20231030 15:48:00.241"/>
</kw>
<status status="PASS" starttime="20231030 15:47:55.060" endtime="20231030 15:48:00.242"/>
</kw>
<msg timestamp="20231030 15:48:00.242" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:47:55.060" endtime="20231030 15:48:00.242"/>
</kw>
<msg timestamp="20231030 15:48:00.242" level="INFO">${result} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:47:55.059" endtime="20231030 15:48:00.242"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:00.242" endtime="20231030 15:48:00.243"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:47:55.058" endtime="20231030 15:48:00.243"/>
</test>
<test id="s1-s3-t3" name="Fetch Key with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="39">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice3</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:00.249" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice3 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:03.622" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:48:03.622" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:48:00.245" endtime="20231030 15:48:03.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:03.624" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231030 15:48:03.622" endtime="20231030 15:48:03.624"/>
</kw>
<msg timestamp="20231030 15:48:03.625" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:48:00.245" endtime="20231030 15:48:03.625"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:03.625" endtime="20231030 15:48:03.625"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:00.243" endtime="20231030 15:48:03.626"/>
</test>
<test id="s1-s3-t4" name="Fetch Key with Multiple ServiceIDs, Invalid ServiceID Specified" line="43">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:03.633" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice2 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:08.091" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:48:08.091" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:48:03.629" endtime="20231030 15:48:08.091"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:08.093" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:48:08.092" endtime="20231030 15:48:08.093"/>
</kw>
<msg timestamp="20231030 15:48:08.093" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:48:03.628" endtime="20231030 15:48:08.093"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:08.093" endtime="20231030 15:48:08.094"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:03.627" endtime="20231030 15:48:08.094"/>
</test>
<test id="s1-s3-t5" name="Fetch Key without OM Service ID" line="47">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om fetch-key</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:08.101" level="INFO">Running command 'ozone admin om fetch-key 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:13.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:13.837" level="INFO">${output} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:48:08.098" endtime="20231030 15:48:13.837"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:13.839" level="INFO">Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:48:13.837" endtime="20231030 15:48:13.839"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:13.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:13.839" endtime="20231030 15:48:13.840"/>
</kw>
<status status="PASS" starttime="20231030 15:48:08.097" endtime="20231030 15:48:13.840"/>
</kw>
<msg timestamp="20231030 15:48:13.840" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:08.097" endtime="20231030 15:48:13.840"/>
</kw>
<msg timestamp="20231030 15:48:13.840" level="INFO">${result} = Current Secret Key ID: e5d492ba-ee91-4270-b934-43eb5a6d8440</msg>
<status status="PASS" starttime="20231030 15:48:08.096" endtime="20231030 15:48:13.841"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:13.841" endtime="20231030 15:48:13.841"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:08.095" endtime="20231030 15:48:13.842"/>
</test>
<test id="s1-s3-t6" name="Fetch Key with Multiple ServiceIDs, No ServiceID Specified" line="51">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om fetch-key</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:13.848" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om fetch-key 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:17.064" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:48:17.064" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:13.844" endtime="20231030 15:48:17.064"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:17.066" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:17.065" endtime="20231030 15:48:17.066"/>
</kw>
<msg timestamp="20231030 15:48:17.066" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:13.844" endtime="20231030 15:48:17.066"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:17.067" endtime="20231030 15:48:17.067"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:13.842" endtime="20231030 15:48:17.067"/>
</test>
<doc>Smoke test for om fetch-key</doc>
<status status="PASS" starttime="20231030 15:47:49.331" endtime="20231030 15:48:17.074"/>
</suite>
<suite id="s1-s4" name="Om-Roles" source="/opt/hadoop/smoketest/omha/om-roles.robot">
<test id="s1-s4-t1" name="List om roles with OM service ID passed" line="33">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:21.619" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:21.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:21.623" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:21.616" endtime="20231030 15:48:21.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:21.625" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:48:21.624" endtime="20231030 15:48:21.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:21.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:21.625" endtime="20231030 15:48:21.626"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.615" endtime="20231030 15:48:21.626"/>
</kw>
<msg timestamp="20231030 15:48:21.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:21.615" endtime="20231030 15:48:21.626"/>
</kw>
<msg timestamp="20231030 15:48:21.626" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:21.614" endtime="20231030 15:48:21.626"/>
</kw>
<msg timestamp="20231030 15:48:21.627" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:21.614" endtime="20231030 15:48:21.627"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:48:21.627" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:21.627" endtime="20231030 15:48:21.627"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:21.632" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:21.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:21.681" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:48:21.629" endtime="20231030 15:48:21.681"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:21.683" level="INFO"/>
<status status="PASS" starttime="20231030 15:48:21.682" endtime="20231030 15:48:21.683"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:21.684" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:21.683" endtime="20231030 15:48:21.684"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.629" endtime="20231030 15:48:21.684"/>
</kw>
<msg timestamp="20231030 15:48:21.684" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:21.628" endtime="20231030 15:48:21.685"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.628" endtime="20231030 15:48:21.685"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.627" endtime="20231030 15:48:21.685"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.613" endtime="20231030 15:48:21.685"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.612" endtime="20231030 15:48:21.685"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin om roles --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:21.690" level="INFO">Running command 'ozone admin om roles --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:26.915" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:26.915" level="INFO">${output} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:21.687" endtime="20231030 15:48:26.915"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:26.917" level="INFO">om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:26.916" endtime="20231030 15:48:26.917"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:26.918" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:26.917" endtime="20231030 15:48:26.918"/>
</kw>
<status status="PASS" starttime="20231030 15:48:21.686" endtime="20231030 15:48:26.918"/>
</kw>
<msg timestamp="20231030 15:48:26.918" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:21.686" endtime="20231030 15:48:26.918"/>
</kw>
<msg timestamp="20231030 15:48:26.918" level="INFO">${output_with_id_passed} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:21.685" endtime="20231030 15:48:26.919"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_with_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:48:26.920" endtime="20231030 15:48:26.920"/>
</kw>
<status status="PASS" starttime="20231030 15:48:26.919" endtime="20231030 15:48:26.920"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:26.925" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:32.065" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:32.065" level="INFO">${output} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:26.922" endtime="20231030 15:48:32.065"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:32.066" level="INFO">om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:32.065" endtime="20231030 15:48:32.067"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:32.067" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:32.067" endtime="20231030 15:48:32.067"/>
</kw>
<status status="PASS" starttime="20231030 15:48:26.921" endtime="20231030 15:48:32.068"/>
</kw>
<msg timestamp="20231030 15:48:32.068" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:26.921" endtime="20231030 15:48:32.068"/>
</kw>
<msg timestamp="20231030 15:48:32.068" level="INFO">${output_with_id_passed} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:26.921" endtime="20231030 15:48:32.068"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_with_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:48:32.069" endtime="20231030 15:48:32.069"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.068" endtime="20231030 15:48:32.069"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:21.611" endtime="20231030 15:48:32.070"/>
</test>
<test id="s1-s4-t2" name="List om roles without OM service ID passed" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:32.077" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:32.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:32.082" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:32.074" endtime="20231030 15:48:32.082"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:32.083" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:48:32.083" endtime="20231030 15:48:32.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:32.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:32.084" endtime="20231030 15:48:32.084"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.074" endtime="20231030 15:48:32.084"/>
</kw>
<msg timestamp="20231030 15:48:32.084" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:32.073" endtime="20231030 15:48:32.085"/>
</kw>
<msg timestamp="20231030 15:48:32.085" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:32.073" endtime="20231030 15:48:32.085"/>
</kw>
<msg timestamp="20231030 15:48:32.085" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:32.072" endtime="20231030 15:48:32.085"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:48:32.086" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:32.085" endtime="20231030 15:48:32.086"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:32.092" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:32.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:32.122" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:48:32.089" endtime="20231030 15:48:32.122"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:32.124" level="INFO"/>
<status status="PASS" starttime="20231030 15:48:32.123" endtime="20231030 15:48:32.124"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:32.125" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:32.124" endtime="20231030 15:48:32.125"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.088" endtime="20231030 15:48:32.125"/>
</kw>
<msg timestamp="20231030 15:48:32.125" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:32.087" endtime="20231030 15:48:32.126"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.086" endtime="20231030 15:48:32.126"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.086" endtime="20231030 15:48:32.126"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.072" endtime="20231030 15:48:32.126"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.071" endtime="20231030 15:48:32.126"/>
</kw>
<kw name="Execute" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin om roles</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:32.131" level="INFO">Running command 'ozone admin om roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:37.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:37.908" level="INFO">${output} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:32.128" endtime="20231030 15:48:37.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:37.910" level="INFO">om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:37.909" endtime="20231030 15:48:37.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:37.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:37.910" endtime="20231030 15:48:37.911"/>
</kw>
<status status="PASS" starttime="20231030 15:48:32.127" endtime="20231030 15:48:37.911"/>
</kw>
<msg timestamp="20231030 15:48:37.911" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:32.127" endtime="20231030 15:48:37.911"/>
</kw>
<msg timestamp="20231030 15:48:37.911" level="INFO">${output_without_id_passed} = om1 : FOLLOWER (om1)
om3 : FOLLOWER (om3)
om2 : LEADER (om2)</msg>
<status status="PASS" starttime="20231030 15:48:32.126" endtime="20231030 15:48:37.911"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_without_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231030 15:48:37.912" endtime="20231030 15:48:37.912"/>
</kw>
<status status="PASS" starttime="20231030 15:48:37.911" endtime="20231030 15:48:37.913"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:37.916" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:41.739" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:48:41.739" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:37.913" endtime="20231030 15:48:41.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:41.741" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:41.740" endtime="20231030 15:48:41.741"/>
</kw>
<msg timestamp="20231030 15:48:41.742" level="INFO">${output_without_id_passed} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:37.913" endtime="20231030 15:48:41.742"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output_without_id_passed}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:48:41.742" endtime="20231030 15:48:41.743"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:32.071" endtime="20231030 15:48:41.743"/>
</test>
<test id="s1-s4-t3" name="List om roles as JSON with OM service ID passed" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:41.756" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:41.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:41.762" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:41.751" endtime="20231030 15:48:41.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:41.764" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:48:41.763" endtime="20231030 15:48:41.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:41.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:41.764" endtime="20231030 15:48:41.765"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.750" endtime="20231030 15:48:41.765"/>
</kw>
<msg timestamp="20231030 15:48:41.765" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:41.749" endtime="20231030 15:48:41.765"/>
</kw>
<msg timestamp="20231030 15:48:41.766" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:41.749" endtime="20231030 15:48:41.766"/>
</kw>
<msg timestamp="20231030 15:48:41.766" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:41.748" endtime="20231030 15:48:41.766"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:48:41.767" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:41.766" endtime="20231030 15:48:41.767"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:41.772" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:41.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:41.811" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:48:41.769" endtime="20231030 15:48:41.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:41.812" level="INFO"/>
<status status="PASS" starttime="20231030 15:48:41.811" endtime="20231030 15:48:41.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:41.813" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:41.813" endtime="20231030 15:48:41.813"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.769" endtime="20231030 15:48:41.814"/>
</kw>
<msg timestamp="20231030 15:48:41.814" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:41.768" endtime="20231030 15:48:41.814"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.768" endtime="20231030 15:48:41.814"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.767" endtime="20231030 15:48:41.814"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.747" endtime="20231030 15:48:41.814"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.746" endtime="20231030 15:48:41.814"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin om roles --service-id=omservice --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:41.820" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:47.407" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:47.407" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:41.816" endtime="20231030 15:48:47.407"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:47.409" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]</msg>
<status status="PASS" starttime="20231030 15:48:47.408" endtime="20231030 15:48:47.409"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:47.410" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:47.409" endtime="20231030 15:48:47.410"/>
</kw>
<status status="PASS" starttime="20231030 15:48:41.816" endtime="20231030 15:48:47.410"/>
</kw>
<msg timestamp="20231030 15:48:47.410" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:41.815" endtime="20231030 15:48:47.410"/>
</kw>
<msg timestamp="20231030 15:48:47.410" level="INFO">${output_with_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:41.815" endtime="20231030 15:48:47.410"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_with_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:47.420" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:47.464" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:47.464" level="INFO">${output} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:47.413" endtime="20231030 15:48:47.464"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:47.466" level="INFO">{
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:47.465" endtime="20231030 15:48:47.466"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:47.467" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:47.466" endtime="20231030 15:48:47.467"/>
</kw>
<status status="PASS" starttime="20231030 15:48:47.412" endtime="20231030 15:48:47.467"/>
</kw>
<msg timestamp="20231030 15:48:47.468" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:47.412" endtime="20231030 15:48:47.468"/>
</kw>
<msg timestamp="20231030 15:48:47.468" level="INFO">${leader} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:47.411" endtime="20231030 15:48:47.468"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:48:47.468" endtime="20231030 15:48:47.470"/>
</kw>
<status status="PASS" starttime="20231030 15:48:47.411" endtime="20231030 15:48:47.470"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:47.475" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:52.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:52.951" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:47.471" endtime="20231030 15:48:52.951"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:52.953" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]</msg>
<status status="PASS" starttime="20231030 15:48:52.952" endtime="20231030 15:48:52.953"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:52.955" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:52.953" endtime="20231030 15:48:52.955"/>
</kw>
<status status="PASS" starttime="20231030 15:48:47.471" endtime="20231030 15:48:52.955"/>
</kw>
<msg timestamp="20231030 15:48:52.955" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:47.471" endtime="20231030 15:48:52.955"/>
</kw>
<msg timestamp="20231030 15:48:52.955" level="INFO">${output_with_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:47.470" endtime="20231030 15:48:52.955"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_with_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:52.961" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:53.007" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:53.007" level="INFO">${output} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:52.958" endtime="20231030 15:48:53.008"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:53.009" level="INFO">{
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:53.008" endtime="20231030 15:48:53.009"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:53.010" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:53.009" endtime="20231030 15:48:53.010"/>
</kw>
<status status="PASS" starttime="20231030 15:48:52.957" endtime="20231030 15:48:53.010"/>
</kw>
<msg timestamp="20231030 15:48:53.010" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:52.957" endtime="20231030 15:48:53.011"/>
</kw>
<msg timestamp="20231030 15:48:53.011" level="INFO">${leader} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:52.956" endtime="20231030 15:48:53.011"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:48:53.011" endtime="20231030 15:48:53.012"/>
</kw>
<status status="PASS" starttime="20231030 15:48:52.956" endtime="20231030 15:48:53.012"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:41.745" endtime="20231030 15:48:53.013"/>
</test>
<test id="s1-s4-t4" name="List om roles as JSON without OM service ID passed" line="51">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:53.021" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:53.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:53.026" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:53.018" endtime="20231030 15:48:53.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:53.028" level="INFO">s3g</msg>
<status status="PASS" starttime="20231030 15:48:53.027" endtime="20231030 15:48:53.028"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:53.028" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:53.028" endtime="20231030 15:48:53.029"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.017" endtime="20231030 15:48:53.029"/>
</kw>
<msg timestamp="20231030 15:48:53.029" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:53.017" endtime="20231030 15:48:53.029"/>
</kw>
<msg timestamp="20231030 15:48:53.029" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231030 15:48:53.017" endtime="20231030 15:48:53.029"/>
</kw>
<msg timestamp="20231030 15:48:53.030" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:53.016" endtime="20231030 15:48:53.030"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231030 15:48:53.030" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231030 15:48:53.030" endtime="20231030 15:48:53.030"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:53.035" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:53.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:53.081" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231030 15:48:53.032" endtime="20231030 15:48:53.081"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:53.083" level="INFO"/>
<status status="PASS" starttime="20231030 15:48:53.082" endtime="20231030 15:48:53.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:53.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:53.083" endtime="20231030 15:48:53.084"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.032" endtime="20231030 15:48:53.084"/>
</kw>
<msg timestamp="20231030 15:48:53.084" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:53.032" endtime="20231030 15:48:53.084"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.031" endtime="20231030 15:48:53.084"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.030" endtime="20231030 15:48:53.084"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.016" endtime="20231030 15:48:53.085"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.015" endtime="20231030 15:48:53.085"/>
</kw>
<kw name="Execute" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin om roles --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:53.090" level="INFO">Running command 'ozone admin om roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:58.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:58.603" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:53.086" endtime="20231030 15:48:58.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:58.605" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]</msg>
<status status="PASS" starttime="20231030 15:48:58.604" endtime="20231030 15:48:58.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:58.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:58.605" endtime="20231030 15:48:58.606"/>
</kw>
<status status="PASS" starttime="20231030 15:48:53.086" endtime="20231030 15:48:58.606"/>
</kw>
<msg timestamp="20231030 15:48:58.606" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:53.086" endtime="20231030 15:48:58.606"/>
</kw>
<msg timestamp="20231030 15:48:58.607" level="INFO">${output_without_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231030 15:48:53.085" endtime="20231030 15:48:58.607"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_without_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:58.612" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om3" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om3"
  }
}, {
  "om2" : {
    "serverRole" : "LEADER",
    "hostname" : "om2"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:48:58.653" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:48:58.653" level="INFO">${output} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:58.609" endtime="20231030 15:48:58.653"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:48:58.655" level="INFO">{
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:58.654" endtime="20231030 15:48:58.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:48:58.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:48:58.656" endtime="20231030 15:48:58.657"/>
</kw>
<status status="PASS" starttime="20231030 15:48:58.608" endtime="20231030 15:48:58.657"/>
</kw>
<msg timestamp="20231030 15:48:58.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:48:58.608" endtime="20231030 15:48:58.657"/>
</kw>
<msg timestamp="20231030 15:48:58.657" level="INFO">${leader} = {
  "om2": {
    "serverRole": "LEADER",
    "hostname": "om2"
  }
}</msg>
<status status="PASS" starttime="20231030 15:48:58.608" endtime="20231030 15:48:58.657"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:48:58.657" endtime="20231030 15:48:58.659"/>
</kw>
<status status="PASS" starttime="20231030 15:48:58.607" endtime="20231030 15:48:58.659"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --json</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:48:58.663" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:02.627" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:49:02.627" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:58.660" endtime="20231030 15:49:02.627"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:02.628" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:49:02.627" endtime="20231030 15:49:02.628"/>
</kw>
<msg timestamp="20231030 15:49:02.629" level="INFO">${output_without_id_passed} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:48:58.659" endtime="20231030 15:49:02.629"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output_without_id_passed}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:49:02.629" endtime="20231030 15:49:02.630"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:48:53.014" endtime="20231030 15:49:02.630"/>
</test>
<doc>Smoke test for listing om roles.</doc>
<status status="PASS" starttime="20231030 15:48:21.557" endtime="20231030 15:49:02.631"/>
</suite>
<suite id="s1-s5" name="Om-Leader-Transfer" source="/opt/hadoop/smoketest/omha/om-leader-transfer.robot">
<test id="s1-s5-t1" name="Transfer Leadership for OM with Valid ServiceID Specified" line="52">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:07.267" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:13.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:13.174" level="INFO">${output} = om2
om1
om3</msg>
<status status="PASS" starttime="20231030 15:49:07.263" endtime="20231030 15:49:13.174"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:13.176" level="INFO">om2
om1
om3</msg>
<status status="PASS" starttime="20231030 15:49:13.175" endtime="20231030 15:49:13.176"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:13.176" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:13.176" endtime="20231030 15:49:13.177"/>
</kw>
<status status="PASS" starttime="20231030 15:49:07.262" endtime="20231030 15:49:13.177"/>
</kw>
<msg timestamp="20231030 15:49:13.177" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:07.261" endtime="20231030 15:49:13.177"/>
</kw>
<msg timestamp="20231030 15:49:13.177" level="INFO">${result} = om2
om1
om3</msg>
<status status="PASS" starttime="20231030 15:49:07.261" endtime="20231030 15:49:13.177"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:13.178" level="INFO">${leader} = om2</msg>
<status status="PASS" starttime="20231030 15:49:13.177" endtime="20231030 15:49:13.178"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:13.178" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:49:13.178" endtime="20231030 15:49:13.179"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:13.179" level="INFO">${follower2} = om3</msg>
<status status="PASS" starttime="20231030 15:49:13.179" endtime="20231030 15:49:13.179"/>
</kw>
<msg timestamp="20231030 15:49:13.179" level="INFO">${result} = ['om2', 'om1', 'om3']</msg>
<status status="PASS" starttime="20231030 15:49:07.260" endtime="20231030 15:49:13.179"/>
</kw>
<msg timestamp="20231030 15:49:13.180" level="INFO">${leaderOM} = om2</msg>
<msg timestamp="20231030 15:49:13.180" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231030 15:49:07.260" endtime="20231030 15:49:13.180"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer --service-id=omservice -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:13.185" level="INFO">Running command 'ozone admin om transfer --service-id=omservice -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:24.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:24.871" level="INFO">${output} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:49:13.182" endtime="20231030 15:49:24.871"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:24.872" level="INFO">Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:49:24.871" endtime="20231030 15:49:24.872"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:24.873" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:24.872" endtime="20231030 15:49:24.873"/>
</kw>
<status status="PASS" starttime="20231030 15:49:13.182" endtime="20231030 15:49:24.873"/>
</kw>
<msg timestamp="20231030 15:49:24.873" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:13.181" endtime="20231030 15:49:24.874"/>
</kw>
<msg timestamp="20231030 15:49:24.874" level="INFO">${result} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:49:13.181" endtime="20231030 15:49:24.874"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:49:24.874" endtime="20231030 15:49:24.874"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:24.881" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:31.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:31.082" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:24.877" endtime="20231030 15:49:31.083"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:31.084" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:31.083" endtime="20231030 15:49:31.084"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:31.085" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:31.085" endtime="20231030 15:49:31.085"/>
</kw>
<status status="PASS" starttime="20231030 15:49:24.877" endtime="20231030 15:49:31.086"/>
</kw>
<msg timestamp="20231030 15:49:31.086" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:24.877" endtime="20231030 15:49:31.086"/>
</kw>
<msg timestamp="20231030 15:49:31.086" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:24.876" endtime="20231030 15:49:31.086"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:31.087" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:49:31.087" endtime="20231030 15:49:31.087"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:31.088" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:49:31.087" endtime="20231030 15:49:31.088"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:31.089" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:49:31.088" endtime="20231030 15:49:31.089"/>
</kw>
<msg timestamp="20231030 15:49:31.089" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:49:24.876" endtime="20231030 15:49:31.089"/>
</kw>
<msg timestamp="20231030 15:49:31.090" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231030 15:49:24.875" endtime="20231030 15:49:31.090"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:49:31.090" endtime="20231030 15:49:31.091"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231030 15:49:31.094" endtime="20231030 15:49:31.095"/>
</kw>
<status status="PASS" starttime="20231030 15:49:31.093" endtime="20231030 15:49:31.095"/>
</kw>
<status status="PASS" starttime="20231030 15:49:24.875" endtime="20231030 15:49:31.095"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:49:07.258" endtime="20231030 15:49:31.095"/>
</test>
<test id="s1-s5-t2" name="Transfer Leadership for OM with Multiple ServiceIDs, Valid ServiceID Specified" line="62">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:31.104" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:36.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:36.662" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:31.100" endtime="20231030 15:49:36.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:36.664" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:36.663" endtime="20231030 15:49:36.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:36.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:36.664" endtime="20231030 15:49:36.665"/>
</kw>
<status status="PASS" starttime="20231030 15:49:31.100" endtime="20231030 15:49:36.665"/>
</kw>
<msg timestamp="20231030 15:49:36.665" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:31.099" endtime="20231030 15:49:36.666"/>
</kw>
<msg timestamp="20231030 15:49:36.666" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:49:31.099" endtime="20231030 15:49:36.666"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:36.666" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:49:36.666" endtime="20231030 15:49:36.666"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:36.667" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:49:36.667" endtime="20231030 15:49:36.667"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:36.668" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:49:36.667" endtime="20231030 15:49:36.669"/>
</kw>
<msg timestamp="20231030 15:49:36.669" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:49:31.098" endtime="20231030 15:49:36.669"/>
</kw>
<msg timestamp="20231030 15:49:36.669" level="INFO">${leaderOM} = om1</msg>
<msg timestamp="20231030 15:49:36.669" level="INFO">${followerOM} = om3</msg>
<status status="PASS" starttime="20231030 15:49:31.097" endtime="20231030 15:49:36.669"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:36.675" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -n om3 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:43.256" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:43.256" level="INFO">${output} = Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231030 15:49:36.671" endtime="20231030 15:49:43.257"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:43.259" level="INFO">Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231030 15:49:43.257" endtime="20231030 15:49:43.259"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:43.260" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:43.259" endtime="20231030 15:49:43.261"/>
</kw>
<status status="PASS" starttime="20231030 15:49:36.670" endtime="20231030 15:49:43.261"/>
</kw>
<msg timestamp="20231030 15:49:43.261" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:36.670" endtime="20231030 15:49:43.261"/>
</kw>
<msg timestamp="20231030 15:49:43.261" level="INFO">${result} = Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231030 15:49:36.669" endtime="20231030 15:49:43.261"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:49:43.262" endtime="20231030 15:49:43.262"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:43.271" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:48.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:48.923" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:43.267" endtime="20231030 15:49:48.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:48.925" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:48.924" endtime="20231030 15:49:48.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:48.926" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:48.925" endtime="20231030 15:49:48.926"/>
</kw>
<status status="PASS" starttime="20231030 15:49:43.266" endtime="20231030 15:49:48.926"/>
</kw>
<msg timestamp="20231030 15:49:48.926" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:43.266" endtime="20231030 15:49:48.926"/>
</kw>
<msg timestamp="20231030 15:49:48.927" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:43.266" endtime="20231030 15:49:48.927"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:48.927" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:49:48.927" endtime="20231030 15:49:48.927"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:48.928" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:49:48.927" endtime="20231030 15:49:48.928"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:48.929" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:49:48.928" endtime="20231030 15:49:48.929"/>
</kw>
<msg timestamp="20231030 15:49:48.929" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:49:43.264" endtime="20231030 15:49:48.929"/>
</kw>
<msg timestamp="20231030 15:49:48.929" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231030 15:49:43.263" endtime="20231030 15:49:48.929"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:49:48.929" endtime="20231030 15:49:48.930"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231030 15:49:48.931" endtime="20231030 15:49:48.931"/>
</kw>
<status status="PASS" starttime="20231030 15:49:48.930" endtime="20231030 15:49:48.931"/>
</kw>
<status status="PASS" starttime="20231030 15:49:43.262" endtime="20231030 15:49:48.931"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:49:31.096" endtime="20231030 15:49:48.932"/>
</test>
<test id="s1-s5-t3" name="Transfer Leadership for OM with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="72">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:48.939" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:54.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:49:54.564" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:48.936" endtime="20231030 15:49:54.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:54.565" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:54.565" endtime="20231030 15:49:54.566"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:49:54.566" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:49:54.566" endtime="20231030 15:49:54.566"/>
</kw>
<status status="PASS" starttime="20231030 15:49:48.935" endtime="20231030 15:49:54.567"/>
</kw>
<msg timestamp="20231030 15:49:54.567" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:48.935" endtime="20231030 15:49:54.567"/>
</kw>
<msg timestamp="20231030 15:49:54.567" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:48.935" endtime="20231030 15:49:54.567"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:54.567" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:49:54.567" endtime="20231030 15:49:54.568"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:54.568" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:49:54.568" endtime="20231030 15:49:54.568"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:49:54.569" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:49:54.568" endtime="20231030 15:49:54.569"/>
</kw>
<msg timestamp="20231030 15:49:54.569" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:49:48.934" endtime="20231030 15:49:54.569"/>
</kw>
<msg timestamp="20231030 15:49:54.569" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231030 15:49:48.934" endtime="20231030 15:49:54.569"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:54.575" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:49:58.344" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:49:58.344" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:49:54.570" endtime="20231030 15:49:58.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:49:58.345" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231030 15:49:58.344" endtime="20231030 15:49:58.346"/>
</kw>
<msg timestamp="20231030 15:49:58.346" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:49:54.570" endtime="20231030 15:49:58.346"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:49:58.346" endtime="20231030 15:49:58.347"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:49:48.933" endtime="20231030 15:49:58.347"/>
</test>
<test id="s1-s5-t4" name="Transfer Leadership for OM with Multiple ServiceIDs, Invalid ServiceID Specified" line="80">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:49:58.356" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:03.608" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:03.608" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:58.352" endtime="20231030 15:50:03.608"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:03.610" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:03.609" endtime="20231030 15:50:03.610"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:03.610" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:03.610" endtime="20231030 15:50:03.611"/>
</kw>
<status status="PASS" starttime="20231030 15:49:58.351" endtime="20231030 15:50:03.611"/>
</kw>
<msg timestamp="20231030 15:50:03.611" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:49:58.351" endtime="20231030 15:50:03.611"/>
</kw>
<msg timestamp="20231030 15:50:03.611" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:49:58.351" endtime="20231030 15:50:03.611"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:03.612" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:50:03.611" endtime="20231030 15:50:03.612"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:03.613" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:50:03.612" endtime="20231030 15:50:03.613"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:03.613" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:03.613" endtime="20231030 15:50:03.614"/>
</kw>
<msg timestamp="20231030 15:50:03.614" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:49:58.350" endtime="20231030 15:50:03.614"/>
</kw>
<msg timestamp="20231030 15:50:03.614" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231030 15:49:58.349" endtime="20231030 15:50:03.614"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:03.619" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:07.902" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:50:07.902" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:50:03.615" endtime="20231030 15:50:07.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:07.904" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:50:07.903" endtime="20231030 15:50:07.904"/>
</kw>
<msg timestamp="20231030 15:50:07.904" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:50:03.614" endtime="20231030 15:50:07.905"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:50:07.905" endtime="20231030 15:50:07.905"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:49:58.348" endtime="20231030 15:50:07.905"/>
</test>
<test id="s1-s5-t5" name="Transfer Leadership for OM without ServiceID specified" line="88">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:07.913" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:14.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:14.130" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:07.910" endtime="20231030 15:50:14.130"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:14.132" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:14.131" endtime="20231030 15:50:14.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:14.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:14.133" endtime="20231030 15:50:14.134"/>
</kw>
<status status="PASS" starttime="20231030 15:50:07.910" endtime="20231030 15:50:14.135"/>
</kw>
<msg timestamp="20231030 15:50:14.135" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:07.909" endtime="20231030 15:50:14.135"/>
</kw>
<msg timestamp="20231030 15:50:14.135" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:07.909" endtime="20231030 15:50:14.135"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:14.136" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:50:14.136" endtime="20231030 15:50:14.136"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:14.137" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:50:14.137" endtime="20231030 15:50:14.137"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:14.139" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:14.138" endtime="20231030 15:50:14.139"/>
</kw>
<msg timestamp="20231030 15:50:14.139" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:07.908" endtime="20231030 15:50:14.139"/>
</kw>
<msg timestamp="20231030 15:50:14.140" level="INFO">${leaderOM} = om3</msg>
<msg timestamp="20231030 15:50:14.140" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231030 15:50:07.908" endtime="20231030 15:50:14.140"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:14.147" level="INFO">Running command 'ozone admin om transfer -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:20.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:20.634" level="INFO">${output} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:50:14.142" endtime="20231030 15:50:20.635"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:20.636" level="INFO">Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:50:20.635" endtime="20231030 15:50:20.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:20.637" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:20.637" endtime="20231030 15:50:20.637"/>
</kw>
<status status="PASS" starttime="20231030 15:50:14.141" endtime="20231030 15:50:20.637"/>
</kw>
<msg timestamp="20231030 15:50:20.638" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:14.141" endtime="20231030 15:50:20.638"/>
</kw>
<msg timestamp="20231030 15:50:20.638" level="INFO">${result} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231030 15:50:14.140" endtime="20231030 15:50:20.638"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:50:20.638" endtime="20231030 15:50:20.639"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:20.645" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:26.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:26.054" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:20.641" endtime="20231030 15:50:26.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:26.056" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:26.055" endtime="20231030 15:50:26.056"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:26.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:26.056" endtime="20231030 15:50:26.057"/>
</kw>
<status status="PASS" starttime="20231030 15:50:20.641" endtime="20231030 15:50:26.057"/>
</kw>
<msg timestamp="20231030 15:50:26.057" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:20.641" endtime="20231030 15:50:26.057"/>
</kw>
<msg timestamp="20231030 15:50:26.057" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:20.640" endtime="20231030 15:50:26.057"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:26.058" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:50:26.057" endtime="20231030 15:50:26.058"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:26.058" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:50:26.058" endtime="20231030 15:50:26.059"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:26.059" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:26.059" endtime="20231030 15:50:26.059"/>
</kw>
<msg timestamp="20231030 15:50:26.059" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:20.640" endtime="20231030 15:50:26.059"/>
</kw>
<msg timestamp="20231030 15:50:26.060" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231030 15:50:20.639" endtime="20231030 15:50:26.060"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:50:26.060" endtime="20231030 15:50:26.060"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231030 15:50:26.061" endtime="20231030 15:50:26.062"/>
</kw>
<status status="PASS" starttime="20231030 15:50:26.061" endtime="20231030 15:50:26.062"/>
</kw>
<status status="PASS" starttime="20231030 15:50:20.639" endtime="20231030 15:50:26.062"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:50:07.907" endtime="20231030 15:50:26.062"/>
</test>
<test id="s1-s5-t6" name="Transfer Leadership for OM with Multiple ServiceIDs, No ServiceID Specified" line="98">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:26.070" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:31.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:31.716" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:26.066" endtime="20231030 15:50:31.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:31.718" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:31.717" endtime="20231030 15:50:31.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:31.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:31.720" endtime="20231030 15:50:31.721"/>
</kw>
<status status="PASS" starttime="20231030 15:50:26.066" endtime="20231030 15:50:31.721"/>
</kw>
<msg timestamp="20231030 15:50:31.722" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:26.065" endtime="20231030 15:50:31.722"/>
</kw>
<msg timestamp="20231030 15:50:31.722" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:26.065" endtime="20231030 15:50:31.722"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:31.723" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:50:31.722" endtime="20231030 15:50:31.723"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:31.724" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:50:31.723" endtime="20231030 15:50:31.724"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:31.724" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:31.724" endtime="20231030 15:50:31.724"/>
</kw>
<msg timestamp="20231030 15:50:31.725" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:26.065" endtime="20231030 15:50:31.725"/>
</kw>
<msg timestamp="20231030 15:50:31.725" level="INFO">${followerOM} = om3</msg>
<status status="PASS" starttime="20231030 15:50:26.064" endtime="20231030 15:50:31.725"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:31.729" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -n om3 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:35.411" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:50:35.412" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:50:31.726" endtime="20231030 15:50:35.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:35.413" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:50:35.412" endtime="20231030 15:50:35.413"/>
</kw>
<msg timestamp="20231030 15:50:35.414" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:50:31.725" endtime="20231030 15:50:35.414"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:50:35.414" endtime="20231030 15:50:35.414"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:50:26.063" endtime="20231030 15:50:35.415"/>
</test>
<test id="s1-s5-t7" name="Transfer Leadership for OM randomly with Valid ServiceID Specified" line="106">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:35.423" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:40.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:40.811" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:35.419" endtime="20231030 15:50:40.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:40.813" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:40.812" endtime="20231030 15:50:40.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:40.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:40.813" endtime="20231030 15:50:40.814"/>
</kw>
<status status="PASS" starttime="20231030 15:50:35.419" endtime="20231030 15:50:40.814"/>
</kw>
<msg timestamp="20231030 15:50:40.814" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:35.418" endtime="20231030 15:50:40.814"/>
</kw>
<msg timestamp="20231030 15:50:40.815" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:50:35.418" endtime="20231030 15:50:40.815"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:40.815" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:50:40.815" endtime="20231030 15:50:40.815"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:40.816" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:50:40.815" endtime="20231030 15:50:40.816"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:40.816" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:40.816" endtime="20231030 15:50:40.816"/>
</kw>
<msg timestamp="20231030 15:50:40.817" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:35.418" endtime="20231030 15:50:40.817"/>
</kw>
<msg timestamp="20231030 15:50:40.817" level="INFO">${leaderOM} = om1</msg>
<status status="PASS" starttime="20231030 15:50:35.417" endtime="20231030 15:50:40.817"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer --service-id=omservice -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:40.822" level="INFO">Running command 'ozone admin om transfer --service-id=omservice -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:46.723" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:46.723" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:50:40.819" endtime="20231030 15:50:46.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:46.725" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:50:46.724" endtime="20231030 15:50:46.725"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:46.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:46.725" endtime="20231030 15:50:46.726"/>
</kw>
<status status="PASS" starttime="20231030 15:50:40.818" endtime="20231030 15:50:46.726"/>
</kw>
<msg timestamp="20231030 15:50:46.726" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:40.818" endtime="20231030 15:50:46.727"/>
</kw>
<msg timestamp="20231030 15:50:46.727" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:50:40.817" endtime="20231030 15:50:46.727"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:50:46.727" endtime="20231030 15:50:46.727"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:46.734" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:52.073" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:52.073" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:46.731" endtime="20231030 15:50:52.073"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:52.074" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:52.073" endtime="20231030 15:50:52.074"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:52.075" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:52.075" endtime="20231030 15:50:52.075"/>
</kw>
<status status="PASS" starttime="20231030 15:50:46.730" endtime="20231030 15:50:52.075"/>
</kw>
<msg timestamp="20231030 15:50:52.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:46.730" endtime="20231030 15:50:52.076"/>
</kw>
<msg timestamp="20231030 15:50:52.076" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:46.729" endtime="20231030 15:50:52.076"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:52.076" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:50:52.076" endtime="20231030 15:50:52.077"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:52.077" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:50:52.077" endtime="20231030 15:50:52.077"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:52.078" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:52.077" endtime="20231030 15:50:52.078"/>
</kw>
<msg timestamp="20231030 15:50:52.078" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:46.729" endtime="20231030 15:50:52.078"/>
</kw>
<msg timestamp="20231030 15:50:52.078" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231030 15:50:46.728" endtime="20231030 15:50:52.078"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:50:52.079" endtime="20231030 15:50:52.079"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231030 15:50:52.079" endtime="20231030 15:50:52.080"/>
</kw>
<status status="PASS" starttime="20231030 15:50:46.728" endtime="20231030 15:50:52.080"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:50:35.416" endtime="20231030 15:50:52.080"/>
</test>
<test id="s1-s5-t8" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Valid ServiceID Specified" line="115">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:52.092" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:50:57.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:50:57.320" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:52.087" endtime="20231030 15:50:57.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:50:57.322" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:57.321" endtime="20231030 15:50:57.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:50:57.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:50:57.322" endtime="20231030 15:50:57.323"/>
</kw>
<status status="PASS" starttime="20231030 15:50:52.084" endtime="20231030 15:50:57.323"/>
</kw>
<msg timestamp="20231030 15:50:57.323" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:52.084" endtime="20231030 15:50:57.323"/>
</kw>
<msg timestamp="20231030 15:50:57.324" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:50:52.083" endtime="20231030 15:50:57.324"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:57.324" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:50:57.324" endtime="20231030 15:50:57.324"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:57.325" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:50:57.325" endtime="20231030 15:50:57.325"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:50:57.326" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:50:57.325" endtime="20231030 15:50:57.326"/>
</kw>
<msg timestamp="20231030 15:50:57.326" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:50:52.083" endtime="20231030 15:50:57.326"/>
</kw>
<msg timestamp="20231030 15:50:57.326" level="INFO">${leaderOM} = om3</msg>
<status status="PASS" starttime="20231030 15:50:52.083" endtime="20231030 15:50:57.326"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:50:57.332" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:03.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:03.253" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:50:57.328" endtime="20231030 15:51:03.253"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:03.255" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:51:03.254" endtime="20231030 15:51:03.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:03.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:03.256" endtime="20231030 15:51:03.256"/>
</kw>
<status status="PASS" starttime="20231030 15:50:57.328" endtime="20231030 15:51:03.257"/>
</kw>
<msg timestamp="20231030 15:51:03.257" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:50:57.327" endtime="20231030 15:51:03.257"/>
</kw>
<msg timestamp="20231030 15:51:03.257" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:50:57.327" endtime="20231030 15:51:03.257"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:03.257" endtime="20231030 15:51:03.258"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:03.264" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:08.849" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:08.850" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:03.261" endtime="20231030 15:51:08.850"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:08.852" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:08.851" endtime="20231030 15:51:08.852"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:08.852" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:08.852" endtime="20231030 15:51:08.853"/>
</kw>
<status status="PASS" starttime="20231030 15:51:03.260" endtime="20231030 15:51:08.853"/>
</kw>
<msg timestamp="20231030 15:51:08.853" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:03.260" endtime="20231030 15:51:08.853"/>
</kw>
<msg timestamp="20231030 15:51:08.853" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:03.260" endtime="20231030 15:51:08.853"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:08.854" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:51:08.853" endtime="20231030 15:51:08.854"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:08.855" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:51:08.854" endtime="20231030 15:51:08.855"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:08.856" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:51:08.855" endtime="20231030 15:51:08.856"/>
</kw>
<msg timestamp="20231030 15:51:08.856" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:51:03.259" endtime="20231030 15:51:08.856"/>
</kw>
<msg timestamp="20231030 15:51:08.856" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231030 15:51:03.259" endtime="20231030 15:51:08.856"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:51:08.857" endtime="20231030 15:51:08.857"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231030 15:51:08.857" endtime="20231030 15:51:08.858"/>
</kw>
<status status="PASS" starttime="20231030 15:51:03.258" endtime="20231030 15:51:08.858"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:50:52.081" endtime="20231030 15:51:08.858"/>
</test>
<test id="s1-s5-t9" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="125">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:08.867" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:12.949" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:51:12.949" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:51:08.863" endtime="20231030 15:51:12.949"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:12.951" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231030 15:51:12.950" endtime="20231030 15:51:12.951"/>
</kw>
<msg timestamp="20231030 15:51:12.951" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231030 15:51:08.862" endtime="20231030 15:51:12.951"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:12.951" endtime="20231030 15:51:12.952"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:51:08.861" endtime="20231030 15:51:12.952"/>
</test>
<test id="s1-s5-t10" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Invalid ServiceID Specified" line="130">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:12.958" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:16.958" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:51:16.958" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:51:12.954" endtime="20231030 15:51:16.958"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:16.960" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:51:16.959" endtime="20231030 15:51:16.960"/>
</kw>
<msg timestamp="20231030 15:51:16.960" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231030 15:51:12.954" endtime="20231030 15:51:16.960"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:16.961" endtime="20231030 15:51:16.961"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:51:12.953" endtime="20231030 15:51:16.961"/>
</test>
<test id="s1-s5-t11" name="Transfer Leadership for OM randomly without ServiceID specified" line="136">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:16.970" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:22.764" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:22.764" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:16.967" endtime="20231030 15:51:22.764"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:22.766" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:22.765" endtime="20231030 15:51:22.766"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:22.767" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:22.766" endtime="20231030 15:51:22.767"/>
</kw>
<status status="PASS" starttime="20231030 15:51:16.966" endtime="20231030 15:51:22.767"/>
</kw>
<msg timestamp="20231030 15:51:22.767" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:16.965" endtime="20231030 15:51:22.767"/>
</kw>
<msg timestamp="20231030 15:51:22.767" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231030 15:51:16.965" endtime="20231030 15:51:22.767"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:22.768" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231030 15:51:22.767" endtime="20231030 15:51:22.768"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:22.769" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231030 15:51:22.768" endtime="20231030 15:51:22.769"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:22.769" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:51:22.769" endtime="20231030 15:51:22.769"/>
</kw>
<msg timestamp="20231030 15:51:22.769" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231030 15:51:16.964" endtime="20231030 15:51:22.769"/>
</kw>
<msg timestamp="20231030 15:51:22.770" level="INFO">${leaderOM} = om1</msg>
<status status="PASS" starttime="20231030 15:51:16.964" endtime="20231030 15:51:22.770"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:22.774" level="INFO">Running command 'ozone admin om transfer -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:28.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:28.662" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:51:22.771" endtime="20231030 15:51:28.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:28.663" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:51:28.662" endtime="20231030 15:51:28.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:28.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:28.664" endtime="20231030 15:51:28.664"/>
</kw>
<status status="PASS" starttime="20231030 15:51:22.771" endtime="20231030 15:51:28.664"/>
</kw>
<msg timestamp="20231030 15:51:28.665" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:22.771" endtime="20231030 15:51:28.665"/>
</kw>
<msg timestamp="20231030 15:51:28.665" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231030 15:51:22.770" endtime="20231030 15:51:28.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:28.665" endtime="20231030 15:51:28.665"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:28.672" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:34.277" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:34.277" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:51:28.668" endtime="20231030 15:51:34.277"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:34.279" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:51:34.278" endtime="20231030 15:51:34.279"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:34.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:34.280" endtime="20231030 15:51:34.280"/>
</kw>
<status status="PASS" starttime="20231030 15:51:28.668" endtime="20231030 15:51:34.281"/>
</kw>
<msg timestamp="20231030 15:51:34.281" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:28.667" endtime="20231030 15:51:34.281"/>
</kw>
<msg timestamp="20231030 15:51:34.281" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231030 15:51:28.667" endtime="20231030 15:51:34.281"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:34.282" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231030 15:51:34.281" endtime="20231030 15:51:34.282"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:34.282" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231030 15:51:34.282" endtime="20231030 15:51:34.282"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231030 15:51:34.283" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231030 15:51:34.282" endtime="20231030 15:51:34.283"/>
</kw>
<msg timestamp="20231030 15:51:34.283" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231030 15:51:28.667" endtime="20231030 15:51:34.283"/>
</kw>
<msg timestamp="20231030 15:51:34.284" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231030 15:51:28.666" endtime="20231030 15:51:34.284"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:51:34.284" endtime="20231030 15:51:34.284"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231030 15:51:34.284" endtime="20231030 15:51:34.285"/>
</kw>
<status status="PASS" starttime="20231030 15:51:28.666" endtime="20231030 15:51:34.285"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:51:16.963" endtime="20231030 15:51:34.285"/>
</test>
<test id="s1-s5-t12" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, No ServiceID Specified" line="146">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:34.292" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:38.194" level="INFO">${rc} = 255</msg>
<msg timestamp="20231030 15:51:38.194" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:51:34.288" endtime="20231030 15:51:38.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:38.196" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:51:38.195" endtime="20231030 15:51:38.196"/>
</kw>
<msg timestamp="20231030 15:51:38.196" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231030 15:51:34.288" endtime="20231030 15:51:38.196"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:38.196" endtime="20231030 15:51:38.197"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:51:34.287" endtime="20231030 15:51:38.197"/>
</test>
<doc>Smoketest for OM leader transfer</doc>
<status status="PASS" starttime="20231030 15:49:07.200" endtime="20231030 15:51:38.199"/>
</suite>
<suite id="s1-s6" name="Scm-Leader-Transfer" source="/opt/hadoop/smoketest/scmha/scm-leader-transfer.robot">
<test id="s1-s6-t1" name="Transfer Leadership" line="47">
<kw name="Get SCM Leader Node">
<var>${leaderSCM}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:42.925" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:47.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:47.940" level="INFO">${output} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:51:42.911" endtime="20231030 15:51:47.940"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:47.942" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:51:47.941" endtime="20231030 15:51:47.942"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:47.943" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:47.942" endtime="20231030 15:51:47.943"/>
</kw>
<status status="PASS" starttime="20231030 15:51:42.911" endtime="20231030 15:51:47.943"/>
</kw>
<msg timestamp="20231030 15:51:47.943" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:42.910" endtime="20231030 15:51:47.943"/>
</kw>
<msg timestamp="20231030 15:51:47.944" level="INFO">${result} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:51:42.910" endtime="20231030 15:51:47.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:47.944" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:51:47.944" endtime="20231030 15:51:47.944"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>LEADER</arg>
<arg>1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:47.945" endtime="20231030 15:51:47.945"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>FOLLOWER</arg>
<arg>2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:51:47.945" endtime="20231030 15:51:47.945"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scmLine}</var>
<arg>${result}</arg>
<arg>LEADER</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:51:47.946" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231030 15:51:47.946" level="INFO">${scmLine} = scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:51:47.946" endtime="20231030 15:51:47.946"/>
</kw>
<kw name="Split String" library="String">
<var>${splits}</var>
<arg>${scmLine}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231030 15:51:47.947" level="INFO">${splits} = ['scm1.org', '9894', 'LEADER', '360d8b5e-737f-4d39-b751-1ab5b8709e43', '172.25.0.116']</msg>
<status status="PASS" starttime="20231030 15:51:47.946" endtime="20231030 15:51:47.947"/>
</kw>
<kw name="Strip String" library="String">
<var>${leaderSCM}</var>
<arg>${splits[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231030 15:51:47.948" level="INFO">${leaderSCM} = 360d8b5e-737f-4d39-b751-1ab5b8709e43</msg>
<status status="PASS" starttime="20231030 15:51:47.947" endtime="20231030 15:51:47.948"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:47.949" level="INFO">Leader SCM: 360d8b5e-737f-4d39-b751-1ab5b8709e43</msg>
<status status="PASS" starttime="20231030 15:51:47.949" endtime="20231030 15:51:47.949"/>
</kw>
<msg timestamp="20231030 15:51:47.949" level="INFO">${leaderSCM} = 360d8b5e-737f-4d39-b751-1ab5b8709e43</msg>
<status status="PASS" starttime="20231030 15:51:42.909" endtime="20231030 15:51:47.949"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:47.950" level="INFO">Leader SCM: 360d8b5e-737f-4d39-b751-1ab5b8709e43</msg>
<status status="PASS" starttime="20231030 15:51:47.950" endtime="20231030 15:51:47.950"/>
</kw>
<kw name="Get SCM UUID">
<var>${target_scm_uuid}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:47.956" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:51:52.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:51:52.382" level="INFO">${output} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:51:47.952" endtime="20231030 15:51:52.382"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:52.384" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:51:52.383" endtime="20231030 15:51:52.384"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:51:52.384" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:51:52.384" endtime="20231030 15:51:52.385"/>
</kw>
<status status="PASS" starttime="20231030 15:51:47.952" endtime="20231030 15:51:52.385"/>
</kw>
<msg timestamp="20231030 15:51:52.385" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:47.951" endtime="20231030 15:51:52.385"/>
</kw>
<msg timestamp="20231030 15:51:52.385" level="INFO">${result} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:51:47.951" endtime="20231030 15:51:52.385"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:51:52.386" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:LEADER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:51:52.385" endtime="20231030 15:51:52.386"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scm_line}</var>
<arg>${result}</arg>
<arg>${TARGET_SCM}</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:51:52.386" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231030 15:51:52.387" level="INFO">${scm_line} = scm2.org:9894:FOLLOWER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117</msg>
<status status="PASS" starttime="20231030 15:51:52.386" endtime="20231030 15:51:52.387"/>
</kw>
<kw name="Split String" library="String">
<var>${scm_split}</var>
<arg>${scm_line}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231030 15:51:52.387" level="INFO">${scm_split} = ['scm2.org', '9894', 'FOLLOWER', '0f3c01fc-c625-4d71-a3c3-fcdca449f622', '172.25.0.117']</msg>
<status status="PASS" starttime="20231030 15:51:52.387" endtime="20231030 15:51:52.387"/>
</kw>
<kw name="Strip String" library="String">
<var>${scm_uuid}</var>
<arg>${scm_split[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231030 15:51:52.389" level="INFO">${scm_uuid} = 0f3c01fc-c625-4d71-a3c3-fcdca449f622</msg>
<status status="PASS" starttime="20231030 15:51:52.387" endtime="20231030 15:51:52.389"/>
</kw>
<msg timestamp="20231030 15:51:52.389" level="INFO">${target_scm_uuid} = 0f3c01fc-c625-4d71-a3c3-fcdca449f622</msg>
<status status="PASS" starttime="20231030 15:51:47.951" endtime="20231030 15:51:52.389"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm transfer --service-id=scmservice -n ${target_scm_uuid}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:51:52.395" level="INFO">Running command 'ozone admin scm transfer --service-id=scmservice -n 0f3c01fc-c625-4d71-a3c3-fcdca449f622 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:52:04.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:52:04.923" level="INFO">${output} = Transfer leadership successfully to 0f3c01fc-c625-4d71-a3c3-fcdca449f622.</msg>
<status status="PASS" starttime="20231030 15:51:52.391" endtime="20231030 15:52:04.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:52:04.924" level="INFO">Transfer leadership successfully to 0f3c01fc-c625-4d71-a3c3-fcdca449f622.</msg>
<status status="PASS" starttime="20231030 15:52:04.923" endtime="20231030 15:52:04.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:52:04.925" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:52:04.925" endtime="20231030 15:52:04.925"/>
</kw>
<status status="PASS" starttime="20231030 15:51:52.390" endtime="20231030 15:52:04.926"/>
</kw>
<msg timestamp="20231030 15:52:04.926" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:51:52.390" endtime="20231030 15:52:04.926"/>
</kw>
<msg timestamp="20231030 15:52:04.926" level="INFO">${result} = Transfer leadership successfully to 0f3c01fc-c625-4d71-a3c3-fcdca449f622.</msg>
<status status="PASS" starttime="20231030 15:51:52.389" endtime="20231030 15:52:04.926"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:52:04.927" level="INFO">Transfer leadership successfully to 0f3c01fc-c625-4d71-a3c3-fcdca449f622.</msg>
<status status="PASS" starttime="20231030 15:52:04.926" endtime="20231030 15:52:04.927"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:52:04.927" endtime="20231030 15:52:04.927"/>
</kw>
<kw name="Get SCM Leader Node">
<var>${newLeaderSCM}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231030 15:52:04.933" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231030 15:52:12.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20231030 15:52:12.040" level="INFO">${output} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:LEADER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:FOLLOWER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:52:04.929" endtime="20231030 15:52:12.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:52:12.042" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:LEADER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:FOLLOWER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:52:12.041" endtime="20231030 15:52:12.042"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231030 15:52:12.043" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231030 15:52:12.042" endtime="20231030 15:52:12.043"/>
</kw>
<status status="PASS" starttime="20231030 15:52:04.929" endtime="20231030 15:52:12.043"/>
</kw>
<msg timestamp="20231030 15:52:12.043" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231030 15:52:04.929" endtime="20231030 15:52:12.043"/>
</kw>
<msg timestamp="20231030 15:52:12.044" level="INFO">${result} = scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:LEADER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:FOLLOWER:360d8b5e-737f-4d39-b751-1ab5b8709...</msg>
<status status="PASS" starttime="20231030 15:52:04.928" endtime="20231030 15:52:12.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:52:12.044" level="INFO">scm3.org:9894:FOLLOWER:e4a04137-b873-4435-a837-9bd87f0b223d:172.25.0.118
scm2.org:9894:LEADER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117
scm1.org:9894:FOLLOWER:360d8b5e-737f-4d39-b751-1ab5b8709e43:172.25.0.116</msg>
<status status="PASS" starttime="20231030 15:52:12.044" endtime="20231030 15:52:12.044"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>LEADER</arg>
<arg>1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:52:12.045" endtime="20231030 15:52:12.045"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>FOLLOWER</arg>
<arg>2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231030 15:52:12.045" endtime="20231030 15:52:12.046"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scmLine}</var>
<arg>${result}</arg>
<arg>LEADER</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231030 15:52:12.046" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231030 15:52:12.046" level="INFO">${scmLine} = scm2.org:9894:LEADER:0f3c01fc-c625-4d71-a3c3-fcdca449f622:172.25.0.117</msg>
<status status="PASS" starttime="20231030 15:52:12.046" endtime="20231030 15:52:12.047"/>
</kw>
<kw name="Split String" library="String">
<var>${splits}</var>
<arg>${scmLine}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231030 15:52:12.047" level="INFO">${splits} = ['scm2.org', '9894', 'LEADER', '0f3c01fc-c625-4d71-a3c3-fcdca449f622', '172.25.0.117']</msg>
<status status="PASS" starttime="20231030 15:52:12.047" endtime="20231030 15:52:12.047"/>
</kw>
<kw name="Strip String" library="String">
<var>${leaderSCM}</var>
<arg>${splits[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231030 15:52:12.049" level="INFO">${leaderSCM} = 0f3c01fc-c625-4d71-a3c3-fcdca449f622</msg>
<status status="PASS" starttime="20231030 15:52:12.047" endtime="20231030 15:52:12.049"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231030 15:52:12.049" level="INFO">Leader SCM: 0f3c01fc-c625-4d71-a3c3-fcdca449f622</msg>
<status status="PASS" starttime="20231030 15:52:12.049" endtime="20231030 15:52:12.049"/>
</kw>
<msg timestamp="20231030 15:52:12.049" level="INFO">${newLeaderSCM} = 0f3c01fc-c625-4d71-a3c3-fcdca449f622</msg>
<status status="PASS" starttime="20231030 15:52:04.928" endtime="20231030 15:52:12.049"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderSCM}</arg>
<arg>${newLeaderSCM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231030 15:52:12.050" endtime="20231030 15:52:12.050"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231030 15:51:42.908" endtime="20231030 15:52:12.051"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231030 15:51:42.844" endtime="20231030 15:52:12.052"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="558994"/>
</suite>
<statistics>
<total>
<stat pass="68" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="68" fail="0" skip="0" id="s1" name="ozonesecure-ha-leadership">ozonesecure-ha-leadership</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1" name="Kinit">ozonesecure-ha-leadership.Kinit</stat>
<stat pass="44" fail="0" skip="0" id="s1-s2" name="Admincli">ozonesecure-ha-leadership.Admincli</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s1" name="Admin">ozonesecure-ha-leadership.Admincli.Admin</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s2" name="Cert">ozonesecure-ha-leadership.Admincli.Cert</stat>
<stat pass="13" fail="0" skip="0" id="s1-s2-s3" name="Container">ozonesecure-ha-leadership.Admincli.Container</stat>
<stat pass="6" fail="0" skip="0" id="s1-s2-s4" name="Datanode">ozonesecure-ha-leadership.Admincli.Datanode</stat>
<stat pass="9" fail="0" skip="0" id="s1-s2-s5" name="Pipeline">ozonesecure-ha-leadership.Admincli.Pipeline</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s6" name="printTopology">ozonesecure-ha-leadership.Admincli.printTopology</stat>
<stat pass="5" fail="0" skip="0" id="s1-s2-s7" name="Replicationmanager">ozonesecure-ha-leadership.Admincli.Replicationmanager</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2-s8" name="Safemode">ozonesecure-ha-leadership.Admincli.Safemode</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s9" name="Scmrole">ozonesecure-ha-leadership.Admincli.Scmrole</stat>
<stat pass="6" fail="0" skip="0" id="s1-s3" name="Om-Fetch-Key">ozonesecure-ha-leadership.Om-Fetch-Key</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Om-Roles">ozonesecure-ha-leadership.Om-Roles</stat>
<stat pass="12" fail="0" skip="0" id="s1-s5" name="Om-Leader-Transfer">ozonesecure-ha-leadership.Om-Leader-Transfer</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Scm-Leader-Transfer">ozonesecure-ha-leadership.Scm-Leader-Transfer</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
