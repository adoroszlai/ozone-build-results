<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20231018 18:20:23.302" rpa="false" schemaversion="4">
<suite id="s1" name="ozonesecure-ha-s3g-virtual-host" source="/opt/hadoop/smoketest/s3/awss3virtualhost.robot">
<kw name="Setup s3 tests" library="commonawslib" type="SETUP">
<kw name="Return From Keyword If" library="BuiltIn">
<arg>${OZONE_S3_TESTS_SET_UP}</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:32.609" endtime="20231018 18:19:32.609"/>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<arg>Generate random prefix</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Generate random prefix" library="commonawslib">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231018 18:19:32.610" level="INFO">${randStr} = 0895323612</msg>
<status status="PASS" starttime="20231018 18:19:32.610" endtime="20231018 18:19:32.610"/>
</kw>
<msg timestamp="20231018 18:19:32.611" level="INFO">${random} = ozone-test-0895323612</msg>
<status status="PASS" starttime="20231018 18:19:32.610" endtime="20231018 18:19:32.611"/>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${PREFIX}</arg>
<arg>${random}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20231018 18:19:32.612" level="INFO">${PREFIX} = ozone-test-0895323612</msg>
<status status="PASS" starttime="20231018 18:19:32.611" endtime="20231018 18:19:32.612"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.609" endtime="20231018 18:19:32.612"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.609" endtime="20231018 18:19:32.612"/>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<arg>Install aws cli</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Install aws cli" library="commonawslib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>which aws</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:32.617" level="INFO">Running command 'which aws 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:32.620" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:32.620" level="INFO">${output} = /usr/local/bin/aws</msg>
<status status="PASS" starttime="20231018 18:19:32.613" endtime="20231018 18:19:32.620"/>
</kw>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${rc}' == '0'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<msg timestamp="20231018 18:19:32.621" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:32.620" endtime="20231018 18:19:32.621"/>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>which apt-get</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="NOT RUN" starttime="20231018 18:19:32.621" endtime="20231018 18:19:32.621"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="NOT RUN" starttime="20231018 18:19:32.621" endtime="20231018 18:19:32.621"/>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>yum --help</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="NOT RUN" starttime="20231018 18:19:32.621" endtime="20231018 18:19:32.622"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="NOT RUN" starttime="20231018 18:19:32.622" endtime="20231018 18:19:32.622"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.613" endtime="20231018 18:19:32.622"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.613" endtime="20231018 18:19:32.622"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:32.628" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:32.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:32.632" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231018 18:19:32.625" endtime="20231018 18:19:32.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:32.634" level="INFO">s3g</msg>
<status status="PASS" starttime="20231018 18:19:32.633" endtime="20231018 18:19:32.634"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:32.634" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:32.634" endtime="20231018 18:19:32.635"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.625" endtime="20231018 18:19:32.635"/>
</kw>
<msg timestamp="20231018 18:19:32.635" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:32.624" endtime="20231018 18:19:32.635"/>
</kw>
<msg timestamp="20231018 18:19:32.636" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231018 18:19:32.624" endtime="20231018 18:19:32.636"/>
</kw>
<msg timestamp="20231018 18:19:32.636" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231018 18:19:32.624" endtime="20231018 18:19:32.636"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231018 18:19:32.637" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231018 18:19:32.636" endtime="20231018 18:19:32.637"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:32.644" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:32.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:32.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:32.640" endtime="20231018 18:19:32.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:32.697" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:32.696" endtime="20231018 18:19:32.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:32.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:32.697" endtime="20231018 18:19:32.697"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.639" endtime="20231018 18:19:32.698"/>
</kw>
<msg timestamp="20231018 18:19:32.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:32.639" endtime="20231018 18:19:32.698"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.638" endtime="20231018 18:19:32.698"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.637" endtime="20231018 18:19:32.698"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.623" endtime="20231018 18:19:32.698"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.623" endtime="20231018 18:19:32.698"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Setup secure v4 headers" library="commonawslib">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:32.704" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:38.965" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:38.965" level="INFO">${output} = awsAccessKey=testuser/s3g@EXAMPLE.COM
awsSecret=7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8</msg>
<status status="PASS" starttime="20231018 18:19:32.700" endtime="20231018 18:19:38.965"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:38.966" level="INFO">awsAccessKey=testuser/s3g@EXAMPLE.COM
awsSecret=7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8</msg>
<status status="PASS" starttime="20231018 18:19:38.965" endtime="20231018 18:19:38.966"/>
</kw>
<msg timestamp="20231018 18:19:38.966" level="INFO">${result} = awsAccessKey=testuser/s3g@EXAMPLE.COM
awsSecret=7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8</msg>
<status status="PASS" starttime="20231018 18:19:32.700" endtime="20231018 18:19:38.966"/>
</kw>
<kw name="Run Keyword And Return Status" library="BuiltIn">
<var>${output}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20231018 18:19:38.967" level="FAIL">'awsAccessKey=testuser/s3g@EXAMPLE.COM
awsSecret=7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8' does not contain 'S3_SECRET_ALREADY_EXISTS'</msg>
<status status="FAIL" starttime="20231018 18:19:38.967" endtime="20231018 18:19:38.968"/>
</kw>
<msg timestamp="20231018 18:19:38.968" level="INFO">${output} = False</msg>
<status status="PASS" starttime="20231018 18:19:38.967" endtime="20231018 18:19:38.968"/>
</kw>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>${output}</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:38.969" endtime="20231018 18:19:38.969"/>
</kw>
<kw name="Get Regexp Matches" library="String">
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<msg timestamp="20231018 18:19:38.970" level="INFO">${accessKey} = ['testuser/s3g@EXAMPLE.COM']</msg>
<status status="PASS" starttime="20231018 18:19:38.969" endtime="20231018 18:19:38.970"/>
</kw>
<kw name="Get Variable Value" library="BuiltIn">
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<msg timestamp="20231018 18:19:38.971" level="INFO">${accessKey} = ['testuser/s3g@EXAMPLE.COM']</msg>
<status status="PASS" starttime="20231018 18:19:38.970" endtime="20231018 18:19:38.971"/>
</kw>
<kw name="Get Regexp Matches" library="String">
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<msg timestamp="20231018 18:19:38.971" level="INFO">${secret} = ['7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8']</msg>
<status status="PASS" starttime="20231018 18:19:38.971" endtime="20231018 18:19:38.971"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231018 18:19:38.973" level="INFO">${accessKey} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231018 18:19:38.972" endtime="20231018 18:19:38.973"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231018 18:19:38.974" level="INFO">${secret} = 7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8</msg>
<status status="PASS" starttime="20231018 18:19:38.973" endtime="20231018 18:19:38.974"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:38.979" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:39.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:39.845" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:38.976" endtime="20231018 18:19:39.845"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:39.847" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:39.846" endtime="20231018 18:19:39.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:39.848" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:39.848" endtime="20231018 18:19:39.848"/>
</kw>
<status status="PASS" starttime="20231018 18:19:38.975" endtime="20231018 18:19:39.849"/>
</kw>
<msg timestamp="20231018 18:19:39.849" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:38.975" endtime="20231018 18:19:39.849"/>
</kw>
<status status="PASS" starttime="20231018 18:19:38.974" endtime="20231018 18:19:39.849"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:39.855" level="INFO">Running command 'aws configure set aws_access_key_id testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:40.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:40.566" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:39.851" endtime="20231018 18:19:40.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:40.568" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:40.567" endtime="20231018 18:19:40.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:40.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:40.568" endtime="20231018 18:19:40.569"/>
</kw>
<status status="PASS" starttime="20231018 18:19:39.851" endtime="20231018 18:19:40.569"/>
</kw>
<msg timestamp="20231018 18:19:40.569" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:39.850" endtime="20231018 18:19:40.569"/>
</kw>
<status status="PASS" starttime="20231018 18:19:39.849" endtime="20231018 18:19:40.569"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:40.583" level="INFO">Running command 'aws configure set aws_secret_access_key 7c6a04fd205be39ffb69fb45a33c14cd7cb564161107dd3c9cb405c4d02702d8 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:41.203" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:41.203" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:40.572" endtime="20231018 18:19:41.203"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:41.205" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:41.204" endtime="20231018 18:19:41.205"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:41.206" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:41.205" endtime="20231018 18:19:41.206"/>
</kw>
<status status="PASS" starttime="20231018 18:19:40.571" endtime="20231018 18:19:41.206"/>
</kw>
<msg timestamp="20231018 18:19:41.206" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:40.571" endtime="20231018 18:19:41.207"/>
</kw>
<status status="PASS" starttime="20231018 18:19:40.570" endtime="20231018 18:19:41.207"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:41.213" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:41.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:41.866" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:41.209" endtime="20231018 18:19:41.866"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:41.868" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:41.867" endtime="20231018 18:19:41.868"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:41.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:41.869" endtime="20231018 18:19:41.869"/>
</kw>
<status status="PASS" starttime="20231018 18:19:41.208" endtime="20231018 18:19:41.870"/>
</kw>
<msg timestamp="20231018 18:19:41.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:41.208" endtime="20231018 18:19:41.870"/>
</kw>
<status status="PASS" starttime="20231018 18:19:41.207" endtime="20231018 18:19:41.870"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:41.875" level="INFO">Running command 'aws configure set default.s3.addressing_style virtual 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:42.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:42.443" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:41.872" endtime="20231018 18:19:42.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:42.445" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:42.444" endtime="20231018 18:19:42.445"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:42.446" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:42.445" endtime="20231018 18:19:42.446"/>
</kw>
<status status="PASS" starttime="20231018 18:19:41.871" endtime="20231018 18:19:42.446"/>
</kw>
<msg timestamp="20231018 18:19:42.446" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:41.871" endtime="20231018 18:19:42.447"/>
</kw>
<status status="PASS" starttime="20231018 18:19:41.870" endtime="20231018 18:19:42.447"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.699" endtime="20231018 18:19:42.447"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.698" endtime="20231018 18:19:42.447"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:42.447" endtime="20231018 18:19:42.448"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.622" endtime="20231018 18:19:42.448"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.622" endtime="20231018 18:19:42.448"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create generated bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:42.448" endtime="20231018 18:19:42.448"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${BUCKET}' == 'link'</arg>
<arg>Setup links for S3 tests</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:42.449" endtime="20231018 18:19:42.449"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${BUCKET}' == 'encrypted'</arg>
<arg>Create encrypted bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:42.449" endtime="20231018 18:19:42.450"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${BUCKET}' == 'erasure'</arg>
<arg>Create EC bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231018 18:19:42.450" endtime="20231018 18:19:42.450"/>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${OZONE_S3_TESTS_SET_UP}</arg>
<arg>${TRUE}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20231018 18:19:42.451" level="INFO">${OZONE_S3_TESTS_SET_UP} = True</msg>
<status status="PASS" starttime="20231018 18:19:42.450" endtime="20231018 18:19:42.451"/>
</kw>
<status status="PASS" starttime="20231018 18:19:32.608" endtime="20231018 18:19:42.451"/>
</kw>
<test id="s1-t1" name="File upload and directory list with virtual style addressing" line="33">
<kw name="Create bucket with name" library="commonawslib">
<arg>${BUCKET}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:42.459" level="INFO">Running command 'aws s3api --endpoint-url http://s3g.internal:9878 create-bucket --bucket bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:49.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:49.987" level="INFO">${output} = {
    "Location": "http://bucket1.s3g.internal:9878/bucket1"
}</msg>
<status status="PASS" starttime="20231018 18:19:42.456" endtime="20231018 18:19:49.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:49.989" level="INFO">{
    "Location": "http://bucket1.s3g.internal:9878/bucket1"
}</msg>
<status status="PASS" starttime="20231018 18:19:49.988" endtime="20231018 18:19:49.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:49.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:49.989" endtime="20231018 18:19:49.990"/>
</kw>
<status status="PASS" starttime="20231018 18:19:42.455" endtime="20231018 18:19:49.991"/>
</kw>
<msg timestamp="20231018 18:19:49.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:42.454" endtime="20231018 18:19:49.991"/>
</kw>
<msg timestamp="20231018 18:19:49.991" level="INFO">${output} = {
    "Location": "http://bucket1.s3g.internal:9878/bucket1"
}</msg>
<status status="PASS" starttime="20231018 18:19:42.454" endtime="20231018 18:19:49.991"/>
</kw>
<msg timestamp="20231018 18:19:49.991" level="INFO">${result} = {
    "Location": "http://bucket1.s3g.internal:9878/bucket1"
}</msg>
<status status="PASS" starttime="20231018 18:19:42.453" endtime="20231018 18:19:49.991"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:19:49.992" endtime="20231018 18:19:49.992"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:19:49.992" endtime="20231018 18:19:49.993"/>
</kw>
<status status="PASS" starttime="20231018 18:19:42.453" endtime="20231018 18:19:49.993"/>
</kw>
<kw name="Execute" library="os">
<arg>date &gt; /tmp/testfile</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:49.998" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20231018 18:19:50.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:50.004" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231018 18:19:49.995" endtime="20231018 18:19:50.004"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:50.006" level="INFO"/>
<status status="PASS" starttime="20231018 18:19:50.005" endtime="20231018 18:19:50.006"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:50.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:50.006" endtime="20231018 18:19:50.007"/>
</kw>
<status status="PASS" starttime="20231018 18:19:49.994" endtime="20231018 18:19:50.007"/>
</kw>
<msg timestamp="20231018 18:19:50.007" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:49.994" endtime="20231018 18:19:50.007"/>
</kw>
<status status="PASS" starttime="20231018 18:19:49.993" endtime="20231018 18:19:50.007"/>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<var>${result}</var>
<arg>cp /tmp/testfile s3://${BUCKET} --debug</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:50.013" level="INFO">Running command 'aws s3 --endpoint-url http://s3g.internal:9878 cp /tmp/testfile s3://bucket1 --debug 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:19:59.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:19:59.409" level="INFO">${output} = 2023-10-18 18:19:50,631 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:19:50,632 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:50.010" endtime="20231018 18:19:59.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:19:59.410" level="INFO">2023-10-18 18:19:50,631 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:19:50,632 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', '--endpoint-url', 'http://s3g.internal:9878', 'cp', '/tmp/testfile', 's3://bucket1', '--debug']
2023-10-18 18:19:50,633 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function add_scalar_parsers at 0x7fa299d489d8&gt;
2023-10-18 18:19:50,633 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function register_uri_param_handler at 0x7fa29ab3c730&gt;
2023-10-18 18:19:50,633 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function inject_assume_role_provider_cache at 0x7fa29ab6aae8&gt;
2023-10-18 18:19:50,634 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/
2023-10-18 18:19:50,641 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function attach_history_handler at 0x7fa299e74400&gt;
2023-10-18 18:19:50,642 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler &lt;function add_waiters at 0x7fa299d56048&gt;
2023-10-18 18:19:50,643 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,643 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cp: calling handler &lt;function add_waiters at 0x7fa299d56048&gt;
2023-10-18 18:19:50,646 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.paths: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,646 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.dryrun: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,646 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.quiet: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.acl: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.follow-symlinks: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,647 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,648 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,648 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,648 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,648 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-key: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,648 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-kms-key-id: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,649 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,649 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source-key: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,649 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.storage-class: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,649 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.grants: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,649 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.website-redirect: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,650 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-type: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,650 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.cache-control: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,650 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-disposition: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,650 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-encoding: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,650 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-language: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expires: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.source-region: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.only-show-errors: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,651 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.page-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,652 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.ignore-glacier-warnings: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,652 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,652 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,652 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa29ab3d550&gt;
2023-10-18 18:19:50,652 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.request-payer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,653 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,653 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata-directive: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,653 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expected-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,653 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa2a1a55978&gt;
2023-10-18 18:19:50,654 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env
2023-10-18 18:19:50,654 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role
2023-10-18 18:19:50,654 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity
2023-10-18 18:19:50,654 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso
2023-10-18 18:19:50,654 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file
2023-10-18 18:19:50,655 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2023-10-18 18:19:50,660 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/endpoints.json
2023-10-18 18:19:50,688 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/sdk-default-configuration.json
2023-10-18 18:19:50,689 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa29b802378&gt;
2023-10-18 18:19:50,692 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-10-18 18:19:50,712 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa29bad82f0&gt;
2023-10-18 18:19:50,712 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa29bad80d0&gt;
2023-10-18 18:19:50,713 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,719 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:19:50,720 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/_retry.json
2023-10-18 18:19:50,721 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:19:50,722 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,723 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa29b802378&gt;
2023-10-18 18:19:50,724 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa29bad82f0&gt;
2023-10-18 18:19:50,725 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa29bad80d0&gt;
2023-10-18 18:19:50,725 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,730 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:19:50,731 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:19:50,733 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,734 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa29b802378&gt;
2023-10-18 18:19:50,737 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa29bad82f0&gt;
2023-10-18 18:19:50,737 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa29bad80d0&gt;
2023-10-18 18:19:50,737 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,742 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:19:50,743 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:19:50,745 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:19:50,745 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608
2023-10-18 18:19:50,747 - MainThread - s3transfer.utils - DEBUG - Acquiring 0
2023-10-18 18:19:50,749 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa2995f6d30&gt;}) about to wait for the following futures []
2023-10-18 18:19:50,749 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa2995f6d30&gt;}) done waiting for dependent futures
2023-10-18 18:19:50,749 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa2995f6d30&gt;}) with kwargs {'client': &lt;botocore.client.S3 object at 0x7fa2996b5b70&gt;, 'config': &lt;s3transfer.manager.TransferConfig object at 0x7fa299628d30&gt;, 'osutil': &lt;s3transfer.utils.OSUtils object at 0x7fa299628da0&gt;, 'request_executor': &lt;s3transfer.futures.BoundedExecutor object at 0x7fa299628f28&gt;, 'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa2995f6d30&gt;}
2023-10-18 18:19:50,757 - ThreadPoolExecutor-1_0 - s3transfer.futures - DEBUG - Submitting task PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'testfile', 'extra_args': {}}) to executor &lt;s3transfer.futures.BoundedExecutor object at 0x7fa299628f28&gt; for transfer request: 0.
2023-10-18 18:19:50,757 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Acquiring 0
2023-10-18 18:19:50,757 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'testfile', 'extra_args': {}}) about to wait for the following futures []
2023-10-18 18:19:50,758 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None
2023-10-18 18:19:50,758 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'testfile', 'extra_args': {}}) done waiting for dependent futures
2023-10-18 18:19:50,758 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - Executing task PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'testfile', 'extra_args': {}}) with kwargs {'client': &lt;botocore.client.S3 object at 0x7fa2996b5b70&gt;, 'fileobj': &lt;s3transfer.utils.ReadFileChunk object at 0x7fa29960a1d0&gt;, 'bucket': 'bucket1', 'key': 'testfile', 'extra_args': {}}
2023-10-18 18:19:50,759 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function validate_ascii_metadata at 0x7fa29b81c6a8&gt;
2023-10-18 18:19:50,759 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function sse_md5 at 0x7fa29b818ae8&gt;
2023-10-18 18:19:50,760 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function convert_body_to_file_like_object at 0x7fa29b81cf28&gt;
2023-10-18 18:19:50,760 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function validate_bucket_name at 0x7fa29b818a60&gt;
2023-10-18 18:19:50,760 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.redirect_from_cache of &lt;botocore.utils.S3RegionRedirector object at 0x7fa299688128&gt;&gt;
2023-10-18 18:19:50,760 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;bound method S3ArnParamHandler.handle_arn of &lt;botocore.utils.S3ArnParamHandler object at 0x7fa2996884e0&gt;&gt;
2023-10-18 18:19:50,760 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function generate_idempotent_uuid at 0x7fa29b8188c8&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function conditionally_calculate_md5 at 0x7fa29c1bf0d0&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function add_expect_header at 0x7fa29b818d90&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.handlers - DEBUG - Adding expect 100 continue header to request.
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.set_request_url of &lt;botocore.utils.S3RegionRedirector object at 0x7fa299688128&gt;&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function add_recursion_detection_header at 0x7fa29b818598&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function inject_api_version_header_if_needed at 0x7fa29b79f0d0&gt;
2023-10-18 18:19:50,761 - ThreadPoolExecutor-0_0 - botocore.endpoint - DEBUG - Making request for OperationModel(name=PutObject) with params: {'url_path': '/bucket1/testfile', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'Content-MD5': 'yQ+5AM2/pucLnfwwGZ2uLw==', 'Expect': '100-continue'}, 'body': &lt;s3transfer.utils.ReadFileChunk object at 0x7fa29960a1d0&gt;, 'url': 'http://s3g.internal:9878/bucket1/testfile', 'context': {'client_region': 'us-west-1', 'client_config': &lt;botocore.config.Config object at 0x7fa2996b5d68&gt;, 'has_streaming_input': True, 'auth_type': None, 'signing': {'bucket': 'bucket1'}}}
2023-10-18 18:19:50,762 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function signal_not_transferring at 0x7fa29dd41158&gt;
2023-10-18 18:19:50,762 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;bound method RequestSigner.handler of &lt;botocore.signers.RequestSigner object at 0x7fa2996b5d30&gt;&gt;
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event choose-signer.s3.PutObject: calling handler &lt;bound method S3EndpointSetter.set_signer of &lt;botocore.utils.S3EndpointSetter object at 0x7fa299688550&gt;&gt;
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event choose-signer.s3.PutObject: calling handler &lt;function set_operation_specific_signer at 0x7fa29b8187b8&gt;
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-sign.s3.PutObject: calling handler &lt;bound method S3EndpointSetter.set_endpoint of &lt;botocore.utils.S3EndpointSetter object at 0x7fa299688550&gt;&gt;
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - Using S3 virtual host style addressing.
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - Checking for DNS compatible bucket for: http://s3g.internal:9878/bucket1/testfile
2023-10-18 18:19:50,763 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - URI updated to: http://bucket1.s3g.internal:9878/testfile
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - CanonicalRequest:
PUT
/testfile

content-md5:yQ+5AM2/pucLnfwwGZ2uLw==
host:bucket1.s3g.internal:9878
x-amz-content-sha256:2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990
x-amz-date:20231018T181950Z

content-md5;host;x-amz-content-sha256;x-amz-date
2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20231018T181950Z
20231018/us-west-1/s3/aws4_request
fdd3efdee7010da855122cb918f7c545619442b8fcdd267bd452213ad5468323
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - Signature:
9fde9bcd0f303f4ebbd9c64aaf2e9a81d8012c926a3d081f7127d5f42d6b5a97
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function signal_transferring at 0x7fa29dd411e0&gt;
2023-10-18 18:19:50,764 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function add_retry_headers at 0x7fa29b79f730&gt;
2023-10-18 18:19:50,765 - ThreadPoolExecutor-0_0 - botocore.endpoint - DEBUG - Sending http request: &lt;AWSPreparedRequest stream_output=False, method=PUT, url=http://bucket1.s3g.internal:9878/testfile, headers={'User-Agent': b'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'Content-MD5': b'yQ+5AM2/pucLnfwwGZ2uLw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231018T181950Z', 'X-Amz-Content-SHA256': b'2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990', 'Authorization': b'AWS4-HMAC-SHA256 Credential=testuser/s3g@EXAMPLE.COM/20231018/us-west-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=9fde9bcd0f303f4ebbd9c64aaf2e9a81d8012c926a3d081f7127d5f42d6b5a97', 'amz-sdk-invocation-id': b'72797161-c752-4001-96b4-fe7d17e6c43d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '29'}&gt;
2023-10-18 18:19:50,767 - ThreadPoolExecutor-0_0 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): bucket1.s3g.internal:9878
2023-10-18 18:19:50,770 - ThreadPoolExecutor-0_0 - botocore.awsrequest - DEBUG - Waiting for 100 Continue response.
2023-10-18 18:19:50,781 - ThreadPoolExecutor-0_0 - botocore.awsrequest - DEBUG - 100 Continue response seen, now sending request body.
2023-10-18 18:19:59,243 - ThreadPoolExecutor-0_0 - urllib3.connectionpool - DEBUG - http://bucket1.s3g.internal:9878 "PUT /testfile HTTP/1.1" 200 0
2023-10-18 18:19:59,244 - ThreadPoolExecutor-0_0 - botocore.parsers - DEBUG - Response headers: {'Date': 'Wed, 18 Oct 2023 18:19:50 GMT', 'Cache-Control': 'no-cache', 'Expires': 'Wed, 18 Oct 2023 18:19:50 GMT', 'Pragma': 'no-cache', 'Content-Type': 'text/plain;charset=utf-8', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Server': 'Ozone', 'x-amz-id-2': 'xeaSxSu9EZAfi', 'x-amz-request-id': '5eb99a01-fa6f-4348-aa38-97356423d3ee', 'Content-Length': '0'}
2023-10-18 18:19:59,244 - ThreadPoolExecutor-0_0 - botocore.parsers - DEBUG - Response body:
b''
2023-10-18 18:19:59,245 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event needs-retry.s3.PutObject: calling handler &lt;botocore.retryhandler.RetryHandler object at 0x7fa299688160&gt;
2023-10-18 18:19:59,246 - ThreadPoolExecutor-0_0 - botocore.retryhandler - DEBUG - No retry needed.
2023-10-18 18:19:59,246 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event needs-retry.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.redirect_from_error of &lt;botocore.utils.S3RegionRedirector object at 0x7fa299688128&gt;&gt;
2023-10-18 18:19:59,246 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event after-call.s3.PutObject: calling handler &lt;function enhance_error_msg at 0x7fa299d48598&gt;
Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remaining
upload: ../../tmp/testfile to s3://bucket1/testfile             
2023-10-18 18:19:59,247 - ThreadPoolExecutor-0_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None
2023-10-18 18:19:59,247 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.</msg>
<status status="PASS" starttime="20231018 18:19:59.409" endtime="20231018 18:19:59.411"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:19:59.412" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:19:59.411" endtime="20231018 18:19:59.412"/>
</kw>
<status status="PASS" starttime="20231018 18:19:50.009" endtime="20231018 18:19:59.412"/>
</kw>
<msg timestamp="20231018 18:19:59.412" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:50.009" endtime="20231018 18:19:59.412"/>
</kw>
<msg timestamp="20231018 18:19:59.413" level="INFO">${output} = 2023-10-18 18:19:50,631 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:19:50,632 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:50.008" endtime="20231018 18:19:59.413"/>
</kw>
<msg timestamp="20231018 18:19:59.415" level="INFO">${result} = 2023-10-18 18:19:50,631 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:19:50,632 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:50.008" endtime="20231018 18:19:59.415"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>url=http://bucket1.s3g.internal:9878/</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:19:59.415" endtime="20231018 18:19:59.416"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>upload</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:19:59.416" endtime="20231018 18:19:59.416"/>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<var>${result}</var>
<arg>cp /tmp/testfile s3://${BUCKET}/dir1/dir2/file --debug</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:19:59.423" level="INFO">Running command 'aws s3 --endpoint-url http://s3g.internal:9878 cp /tmp/testfile s3://bucket1/dir1/dir2/file --debug 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:20:00.763" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:20:00.763" level="INFO">${output} = 2023-10-18 18:20:00,014 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:00,016 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:59.419" endtime="20231018 18:20:00.763"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:20:00.765" level="INFO">2023-10-18 18:20:00,014 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:00,016 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', '--endpoint-url', 'http://s3g.internal:9878', 'cp', '/tmp/testfile', 's3://bucket1/dir1/dir2/file', '--debug']
2023-10-18 18:20:00,016 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function add_scalar_parsers at 0x7fa4953119d8&gt;
2023-10-18 18:20:00,016 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function register_uri_param_handler at 0x7fa496105730&gt;
2023-10-18 18:20:00,017 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function inject_assume_role_provider_cache at 0x7fa496133ae8&gt;
2023-10-18 18:20:00,019 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/
2023-10-18 18:20:00,031 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function attach_history_handler at 0x7fa49543d400&gt;
2023-10-18 18:20:00,033 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler &lt;function add_waiters at 0x7fa49531f048&gt;
2023-10-18 18:20:00,034 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,035 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cp: calling handler &lt;function add_waiters at 0x7fa49531f048&gt;
2023-10-18 18:20:00,040 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.paths: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,040 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.dryrun: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,040 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,041 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.quiet: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,041 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,041 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,041 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.acl: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,041 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.follow-symlinks: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,043 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,043 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,043 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,043 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,043 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-key: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,045 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-kms-key-id: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,045 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,045 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source-key: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,045 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.storage-class: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.grants: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.website-redirect: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-type: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.cache-control: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-disposition: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,046 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-encoding: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,048 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-language: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,048 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expires: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,048 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.source-region: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.only-show-errors: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.page-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.ignore-glacier-warnings: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,049 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,050 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,050 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7fa4961065c0&gt;
2023-10-18 18:20:00,050 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.request-payer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,051 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,051 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata-directive: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,051 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expected-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,052 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7fa49d01e9b0&gt;
2023-10-18 18:20:00,053 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env
2023-10-18 18:20:00,053 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role
2023-10-18 18:20:00,053 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity
2023-10-18 18:20:00,053 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso
2023-10-18 18:20:00,053 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file
2023-10-18 18:20:00,054 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2023-10-18 18:20:00,056 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/endpoints.json
2023-10-18 18:20:00,099 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/sdk-default-configuration.json
2023-10-18 18:20:00,100 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa496dcb378&gt;
2023-10-18 18:20:00,103 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-10-18 18:20:00,123 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa4970a12f0&gt;
2023-10-18 18:20:00,123 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa4970a10d0&gt;
2023-10-18 18:20:00,124 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,130 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:20:00,131 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/_retry.json
2023-10-18 18:20:00,132 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:20:00,133 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,134 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa496dcb378&gt;
2023-10-18 18:20:00,143 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa4970a12f0&gt;
2023-10-18 18:20:00,144 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa4970a10d0&gt;
2023-10-18 18:20:00,145 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,157 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:20:00,158 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:20:00,160 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,160 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7fa496dcb378&gt;
2023-10-18 18:20:00,163 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7fa4970a12f0&gt;
2023-10-18 18:20:00,164 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7fa4970a10d0&gt;
2023-10-18 18:20:00,164 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,169 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:20:00,171 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:20:00,172 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:00,173 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608
2023-10-18 18:20:00,175 - MainThread - s3transfer.utils - DEBUG - Acquiring 0
2023-10-18 18:20:00,176 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa494bbfd68&gt;}) about to wait for the following futures []
2023-10-18 18:20:00,176 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa494bbfd68&gt;}) done waiting for dependent futures
2023-10-18 18:20:00,177 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa494bbfd68&gt;}) with kwargs {'client': &lt;botocore.client.S3 object at 0x7fa494c7eba8&gt;, 'config': &lt;s3transfer.manager.TransferConfig object at 0x7fa494bf0d68&gt;, 'osutil': &lt;s3transfer.utils.OSUtils object at 0x7fa494bf0dd8&gt;, 'request_executor': &lt;s3transfer.futures.BoundedExecutor object at 0x7fa494bf0f60&gt;, 'transfer_future': &lt;s3transfer.futures.TransferFuture object at 0x7fa494bbfd68&gt;}
2023-10-18 18:20:00,178 - ThreadPoolExecutor-1_0 - s3transfer.futures - DEBUG - Submitting task PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'dir1/dir2/file', 'extra_args': {}}) to executor &lt;s3transfer.futures.BoundedExecutor object at 0x7fa494bf0f60&gt; for transfer request: 0.
2023-10-18 18:20:00,178 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Acquiring 0
2023-10-18 18:20:00,178 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'dir1/dir2/file', 'extra_args': {}}) about to wait for the following futures []
2023-10-18 18:20:00,178 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None
2023-10-18 18:20:00,178 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'dir1/dir2/file', 'extra_args': {}}) done waiting for dependent futures
2023-10-18 18:20:00,179 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - Executing task PutObjectTask(transfer_id=0, {'bucket': 'bucket1', 'key': 'dir1/dir2/file', 'extra_args': {}}) with kwargs {'client': &lt;botocore.client.S3 object at 0x7fa494c7eba8&gt;, 'fileobj': &lt;s3transfer.utils.ReadFileChunk object at 0x7fa494bd1240&gt;, 'bucket': 'bucket1', 'key': 'dir1/dir2/file', 'extra_args': {}}
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function validate_ascii_metadata at 0x7fa496de46a8&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function sse_md5 at 0x7fa496de1ae8&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function convert_body_to_file_like_object at 0x7fa496de4f28&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function validate_bucket_name at 0x7fa496de1a60&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.redirect_from_cache of &lt;botocore.utils.S3RegionRedirector object at 0x7fa494c50160&gt;&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;bound method S3ArnParamHandler.handle_arn of &lt;botocore.utils.S3ArnParamHandler object at 0x7fa494c50518&gt;&gt;
2023-10-18 18:20:00,180 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.PutObject: calling handler &lt;function generate_idempotent_uuid at 0x7fa496de18c8&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function conditionally_calculate_md5 at 0x7fa4977880d0&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function add_expect_header at 0x7fa496de1d90&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.handlers - DEBUG - Adding expect 100 continue header to request.
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.set_request_url of &lt;botocore.utils.S3RegionRedirector object at 0x7fa494c50160&gt;&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function add_recursion_detection_header at 0x7fa496de1598&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-call.s3.PutObject: calling handler &lt;function inject_api_version_header_if_needed at 0x7fa496d680d0&gt;
2023-10-18 18:20:00,181 - ThreadPoolExecutor-0_0 - botocore.endpoint - DEBUG - Making request for OperationModel(name=PutObject) with params: {'url_path': '/bucket1/dir1/dir2/file', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'Content-MD5': 'yQ+5AM2/pucLnfwwGZ2uLw==', 'Expect': '100-continue'}, 'body': &lt;s3transfer.utils.ReadFileChunk object at 0x7fa494bd1240&gt;, 'url': 'http://s3g.internal:9878/bucket1/dir1/dir2/file', 'context': {'client_region': 'us-west-1', 'client_config': &lt;botocore.config.Config object at 0x7fa494c7eda0&gt;, 'has_streaming_input': True, 'auth_type': None, 'signing': {'bucket': 'bucket1'}}}
2023-10-18 18:20:00,182 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function signal_not_transferring at 0x7fa49930a158&gt;
2023-10-18 18:20:00,182 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;bound method RequestSigner.handler of &lt;botocore.signers.RequestSigner object at 0x7fa494c7ed68&gt;&gt;
2023-10-18 18:20:00,182 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event choose-signer.s3.PutObject: calling handler &lt;bound method S3EndpointSetter.set_signer of &lt;botocore.utils.S3EndpointSetter object at 0x7fa494c50588&gt;&gt;
2023-10-18 18:20:00,183 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event choose-signer.s3.PutObject: calling handler &lt;function set_operation_specific_signer at 0x7fa496de17b8&gt;
2023-10-18 18:20:00,183 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event before-sign.s3.PutObject: calling handler &lt;bound method S3EndpointSetter.set_endpoint of &lt;botocore.utils.S3EndpointSetter object at 0x7fa494c50588&gt;&gt;
2023-10-18 18:20:00,183 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - Using S3 virtual host style addressing.
2023-10-18 18:20:00,183 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - Checking for DNS compatible bucket for: http://s3g.internal:9878/bucket1/dir1/dir2/file
2023-10-18 18:20:00,183 - ThreadPoolExecutor-0_0 - botocore.utils - DEBUG - URI updated to: http://bucket1.s3g.internal:9878/dir1/dir2/file
2023-10-18 18:20:00,184 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2023-10-18 18:20:00,184 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - CanonicalRequest:
PUT
/dir1/dir2/file

content-md5:yQ+5AM2/pucLnfwwGZ2uLw==
host:bucket1.s3g.internal:9878
x-amz-content-sha256:2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990
x-amz-date:20231018T182000Z

content-md5;host;x-amz-content-sha256;x-amz-date
2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990
2023-10-18 18:20:00,185 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20231018T182000Z
20231018/us-west-1/s3/aws4_request
4c7134b4ecac450fd2190169c80e2b12bd72df985cb7d6349ee53865c47c8616
2023-10-18 18:20:00,185 - ThreadPoolExecutor-0_0 - botocore.auth - DEBUG - Signature:
cb595a42b394d0661ac10d4b7fd795b6f7edf9ed8f610991c647e29cb412f314
2023-10-18 18:20:00,185 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function signal_transferring at 0x7fa49930a1e0&gt;
2023-10-18 18:20:00,185 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler &lt;function add_retry_headers at 0x7fa496d68730&gt;
2023-10-18 18:20:00,185 - ThreadPoolExecutor-0_0 - botocore.endpoint - DEBUG - Sending http request: &lt;AWSPreparedRequest stream_output=False, method=PUT, url=http://bucket1.s3g.internal:9878/dir1/dir2/file, headers={'User-Agent': b'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'Content-MD5': b'yQ+5AM2/pucLnfwwGZ2uLw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231018T182000Z', 'X-Amz-Content-SHA256': b'2d0453017fedc75f8463ed671f042f58fe1f741e6408d8ccfe040dad58cff990', 'Authorization': b'AWS4-HMAC-SHA256 Credential=testuser/s3g@EXAMPLE.COM/20231018/us-west-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=cb595a42b394d0661ac10d4b7fd795b6f7edf9ed8f610991c647e29cb412f314', 'amz-sdk-invocation-id': b'd4b1bb94-816e-4c77-9e6e-cf8e404c493c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '29'}&gt;
2023-10-18 18:20:00,187 - ThreadPoolExecutor-0_0 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): bucket1.s3g.internal:9878
2023-10-18 18:20:00,189 - ThreadPoolExecutor-0_0 - botocore.awsrequest - DEBUG - Waiting for 100 Continue response.
2023-10-18 18:20:00,199 - ThreadPoolExecutor-0_0 - botocore.awsrequest - DEBUG - 100 Continue response seen, now sending request body.
2023-10-18 18:20:00,647 - ThreadPoolExecutor-0_0 - urllib3.connectionpool - DEBUG - http://bucket1.s3g.internal:9878 "PUT /dir1/dir2/file HTTP/1.1" 200 0
2023-10-18 18:20:00,648 - ThreadPoolExecutor-0_0 - botocore.parsers - DEBUG - Response headers: {'Date': 'Wed, 18 Oct 2023 18:20:00 GMT', 'Cache-Control': 'no-cache', 'Expires': 'Wed, 18 Oct 2023 18:20:00 GMT', 'Pragma': 'no-cache', 'Content-Type': 'text/plain;charset=utf-8', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Server': 'Ozone', 'x-amz-id-2': 'lb5VlT3eO', 'x-amz-request-id': '1972e1e2-61d8-45b0-9be3-c895cdcde2c6', 'Content-Length': '0'}
2023-10-18 18:20:00,648 - ThreadPoolExecutor-0_0 - botocore.parsers - DEBUG - Response body:
b''
2023-10-18 18:20:00,649 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event needs-retry.s3.PutObject: calling handler &lt;botocore.retryhandler.RetryHandler object at 0x7fa494c50198&gt;
2023-10-18 18:20:00,649 - ThreadPoolExecutor-0_0 - botocore.retryhandler - DEBUG - No retry needed.
2023-10-18 18:20:00,649 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event needs-retry.s3.PutObject: calling handler &lt;bound method S3RegionRedirector.redirect_from_error of &lt;botocore.utils.S3RegionRedirector object at 0x7fa494c50160&gt;&gt;
2023-10-18 18:20:00,649 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event after-call.s3.PutObject: calling handler &lt;function enhance_error_msg at 0x7fa495311598&gt;
2023-10-18 18:20:00,649 - ThreadPoolExecutor-0_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None
Completed 29 Bytes/29 Bytes (62 Bytes/s) with 1 file(s) remaining
upload: ../../tmp/testfile to s3://bucket1/dir1/dir2/file        
2023-10-18 18:20:00,654 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.</msg>
<status status="PASS" starttime="20231018 18:20:00.764" endtime="20231018 18:20:00.765"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:20:00.766" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:20:00.765" endtime="20231018 18:20:00.766"/>
</kw>
<status status="PASS" starttime="20231018 18:19:59.418" endtime="20231018 18:20:00.767"/>
</kw>
<msg timestamp="20231018 18:20:00.768" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:19:59.418" endtime="20231018 18:20:00.768"/>
</kw>
<msg timestamp="20231018 18:20:00.769" level="INFO">${output} = 2023-10-18 18:20:00,014 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:00,016 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:59.417" endtime="20231018 18:20:00.769"/>
</kw>
<msg timestamp="20231018 18:20:00.769" level="INFO">${result} = 2023-10-18 18:20:00,014 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:00,016 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:19:59.417" endtime="20231018 18:20:00.769"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>url=http://bucket1.s3g.internal:9878/dir1/dir2/file</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:00.769" endtime="20231018 18:20:00.770"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>upload</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:00.770" endtime="20231018 18:20:00.770"/>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<var>${result}</var>
<arg>ls s3://${BUCKET} --debug</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:20:00.776" level="INFO">Running command 'aws s3 --endpoint-url http://s3g.internal:9878 ls s3://bucket1 --debug 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:20:02.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:20:02.218" level="INFO">${output} = 2023-10-18 18:20:01,369 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:01,369 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:00.773" endtime="20231018 18:20:02.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:20:02.220" level="INFO">2023-10-18 18:20:01,369 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:01,369 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', '--endpoint-url', 'http://s3g.internal:9878', 'ls', 's3://bucket1', '--debug']
2023-10-18 18:20:01,370 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function add_scalar_parsers at 0x7f4fb4eb49d8&gt;
2023-10-18 18:20:01,370 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function register_uri_param_handler at 0x7f4fb5ca8730&gt;
2023-10-18 18:20:01,370 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function inject_assume_role_provider_cache at 0x7f4fb5cd6ae8&gt;
2023-10-18 18:20:01,372 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/
2023-10-18 18:20:01,379 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function attach_history_handler at 0x7f4fb4fe0400&gt;
2023-10-18 18:20:01,379 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler &lt;function add_waiters at 0x7f4fb4ec2048&gt;
2023-10-18 18:20:01,380 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,380 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ls: calling handler &lt;function add_waiters at 0x7f4fb4ec2048&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.human-readable: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7f4fb5ca9588&gt;
2023-10-18 18:20:01,381 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.summarize: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,382 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7f4fb5ca9588&gt;
2023-10-18 18:20:01,382 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.request-payer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f4fbcbc1978&gt;
2023-10-18 18:20:01,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env
2023-10-18 18:20:01,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role
2023-10-18 18:20:01,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity
2023-10-18 18:20:01,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso
2023-10-18 18:20:01,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file
2023-10-18 18:20:01,383 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2023-10-18 18:20:01,384 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/endpoints.json
2023-10-18 18:20:01,404 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/sdk-default-configuration.json
2023-10-18 18:20:01,405 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7f4fb696e378&gt;
2023-10-18 18:20:01,407 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-10-18 18:20:01,421 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7f4fb6c442f0&gt;
2023-10-18 18:20:01,421 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7f4fb6c440d0&gt;
2023-10-18 18:20:01,421 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:01,425 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:20:01,426 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/_retry.json
2023-10-18 18:20:01,427 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:20:01,428 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:01,439 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/paginators-1.json
2023-10-18 18:20:01,440 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function set_list_objects_encoding_type_url at 0x7f4fb6988c80&gt;
2023-10-18 18:20:01,440 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function validate_bucket_name at 0x7f4fb6984a60&gt;
2023-10-18 18:20:01,440 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.redirect_from_cache of &lt;botocore.utils.S3RegionRedirector object at 0x7f4fb4893dd8&gt;&gt;
2023-10-18 18:20:01,440 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;bound method S3ArnParamHandler.handle_arn of &lt;botocore.utils.S3ArnParamHandler object at 0x7f4fb486e4a8&gt;&gt;
2023-10-18 18:20:01,440 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function generate_idempotent_uuid at 0x7f4fb69848c8&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function add_expect_header at 0x7f4fb6984d90&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.set_request_url of &lt;botocore.utils.S3RegionRedirector object at 0x7f4fb4893dd8&gt;&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function add_recursion_detection_header at 0x7f4fb6984598&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function inject_api_version_header_if_needed at 0x7f4fb690b0d0&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/bucket1?list-type=2', 'query_string': {'prefix': '', 'delimiter': '/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10'}, 'body': b'', 'url': 'http://s3g.internal:9878/bucket1?list-type=2&amp;prefix=&amp;delimiter=%2F&amp;encoding-type=url', 'context': {'client_region': 'us-west-1', 'client_config': &lt;botocore.config.Config object at 0x7f4fb48939e8&gt;, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'bucket1'}}}
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler &lt;bound method RequestSigner.handler of &lt;botocore.signers.RequestSigner object at 0x7f4fb48939b0&gt;&gt;
2023-10-18 18:20:01,441 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler &lt;bound method S3EndpointSetter.set_signer of &lt;botocore.utils.S3EndpointSetter object at 0x7f4fb486e518&gt;&gt;
2023-10-18 18:20:01,442 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler &lt;function set_operation_specific_signer at 0x7f4fb69847b8&gt;
2023-10-18 18:20:01,442 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler &lt;bound method S3EndpointSetter.set_endpoint of &lt;botocore.utils.S3EndpointSetter object at 0x7f4fb486e518&gt;&gt;
2023-10-18 18:20:01,442 - MainThread - botocore.utils - DEBUG - Using S3 virtual host style addressing.
2023-10-18 18:20:01,442 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: http://s3g.internal:9878/bucket1?list-type=2&amp;prefix=&amp;delimiter=%2F&amp;encoding-type=url
2023-10-18 18:20:01,442 - MainThread - botocore.utils - DEBUG - URI updated to: http://bucket1.s3g.internal:9878/?list-type=2&amp;prefix=&amp;delimiter=%2F&amp;encoding-type=url
2023-10-18 18:20:01,442 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2023-10-18 18:20:01,442 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
GET
/
delimiter=%2F&amp;encoding-type=url&amp;list-type=2&amp;prefix=
host:bucket1.s3g.internal:9878
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20231018T182001Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2023-10-18 18:20:01,442 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20231018T182001Z
20231018/us-west-1/s3/aws4_request
d05494d17012891b4caaa6cc2ec2f42aca4665d6c46a4ab952cb6b748c5b6cb1
2023-10-18 18:20:01,442 - MainThread - botocore.auth - DEBUG - Signature:
cc23921b9c271adbd0058d92f1a2620172d5a10f26052fc9c0e0b62996c9c0b6
2023-10-18 18:20:01,443 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler &lt;function add_retry_headers at 0x7f4fb690b730&gt;
2023-10-18 18:20:01,443 - MainThread - botocore.endpoint - DEBUG - Sending http request: &lt;AWSPreparedRequest stream_output=False, method=GET, url=http://bucket1.s3g.internal:9878/?list-type=2&amp;prefix=&amp;delimiter=%2F&amp;encoding-type=url, headers={'User-Agent': b'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'X-Amz-Date': b'20231018T182001Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=testuser/s3g@EXAMPLE.COM/20231018/us-west-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=cc23921b9c271adbd0058d92f1a2620172d5a10f26052fc9c0e0b62996c9c0b6', 'amz-sdk-invocation-id': b'898a7d71-2ccc-4999-b2b8-cb18b7d9fb18', 'amz-sdk-request': b'attempt=1'}&gt;
2023-10-18 18:20:01,446 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): bucket1.s3g.internal:9878
2023-10-18 18:20:02,114 - MainThread - urllib3.connectionpool - DEBUG - http://bucket1.s3g.internal:9878 "GET /?list-type=2&amp;prefix=&amp;delimiter=%2F&amp;encoding-type=url HTTP/1.1" 200 547
2023-10-18 18:20:02,114 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Wed, 18 Oct 2023 18:20:01 GMT', 'Cache-Control': 'no-cache', 'Expires': 'Wed, 18 Oct 2023 18:20:01 GMT', 'Pragma': 'no-cache', 'Content-Type': 'application/xml', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Server': 'Ozone', 'x-amz-id-2': 'QRzH3rD8SaJaw', 'x-amz-request-id': '6fee7b63-afce-4568-b863-c4cf46d5bfa5', 'Content-Length': '547'}
2023-10-18 18:20:02,114 - MainThread - botocore.parsers - DEBUG - Response body:
b'&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;&lt;ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"&gt;&lt;Name&gt;bucket1&lt;/Name&gt;&lt;Marker&gt;&lt;/Marker&gt;&lt;MaxKeys&gt;1000&lt;/MaxKeys&gt;&lt;KeyCount&gt;2&lt;/KeyCount&gt;&lt;Delimiter&gt;/&lt;/Delimiter&gt;&lt;EncodingType&gt;url&lt;/EncodingType&gt;&lt;IsTruncated&gt;false&lt;/IsTruncated&gt;&lt;Contents&gt;&lt;Key&gt;testfile&lt;/Key&gt;&lt;LastModified&gt;2023-10-18T18:19:59.107Z&lt;/LastModified&gt;&lt;ETag&gt;2023-10-18T18:19:59.107Z&lt;/ETag&gt;&lt;Size&gt;29&lt;/Size&gt;&lt;StorageClass&gt;STANDARD&lt;/StorageClass&gt;&lt;/Contents&gt;&lt;CommonPrefixes&gt;&lt;Prefix&gt;dir1/&lt;/Prefix&gt;&lt;/CommonPrefixes&gt;&lt;/ListBucketResult&gt;'
2023-10-18 18:20:02,117 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler &lt;botocore.retryhandler.RetryHandler object at 0x7f4fb4893d68&gt;
2023-10-18 18:20:02,117 - MainThread - botocore.retryhandler - DEBUG - No retry needed.
2023-10-18 18:20:02,117 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.redirect_from_error of &lt;botocore.utils.S3RegionRedirector object at 0x7f4fb4893dd8&gt;&gt;
2023-10-18 18:20:02,117 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler &lt;function decode_list_object_v2 at 0x7f4fb6988d90&gt;
2023-10-18 18:20:02,117 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler &lt;function enhance_error_msg at 0x7f4fb4eb4598&gt;
                           PRE dir1/
2023-10-18 18:19:59         29 testfile</msg>
<status status="PASS" starttime="20231018 18:20:02.219" endtime="20231018 18:20:02.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:20:02.221" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:20:02.221" endtime="20231018 18:20:02.221"/>
</kw>
<status status="PASS" starttime="20231018 18:20:00.772" endtime="20231018 18:20:02.222"/>
</kw>
<msg timestamp="20231018 18:20:02.222" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:20:00.772" endtime="20231018 18:20:02.222"/>
</kw>
<msg timestamp="20231018 18:20:02.223" level="INFO">${output} = 2023-10-18 18:20:01,369 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:01,369 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:00.771" endtime="20231018 18:20:02.223"/>
</kw>
<msg timestamp="20231018 18:20:02.223" level="INFO">${result} = 2023-10-18 18:20:01,369 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:01,369 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:00.770" endtime="20231018 18:20:02.223"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>url=http://bucket1.s3g.internal:9878/</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:02.223" endtime="20231018 18:20:02.224"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>testfile</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:02.224" endtime="20231018 18:20:02.225"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>dir1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:02.225" endtime="20231018 18:20:02.225"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>dir2</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:02.225" endtime="20231018 18:20:02.226"/>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<var>${result}</var>
<arg>ls s3://${BUCKET}/dir1/ --debug</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:20:02.231" level="INFO">Running command 'aws s3 --endpoint-url http://s3g.internal:9878 ls s3://bucket1/dir1/ --debug 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:20:03.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:20:03.020" level="INFO">${output} = 2023-10-18 18:20:02,731 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:02,732 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:02.228" endtime="20231018 18:20:03.020"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:20:03.021" level="INFO">2023-10-18 18:20:02,731 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:02,732 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', '--endpoint-url', 'http://s3g.internal:9878', 'ls', 's3://bucket1/dir1/', '--debug']
2023-10-18 18:20:02,732 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function add_scalar_parsers at 0x7f147f5669d8&gt;
2023-10-18 18:20:02,732 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function register_uri_param_handler at 0x7f148035a730&gt;
2023-10-18 18:20:02,733 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function inject_assume_role_provider_cache at 0x7f1480388ae8&gt;
2023-10-18 18:20:02,733 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/
2023-10-18 18:20:02,739 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler &lt;function attach_history_handler at 0x7f147f692400&gt;
2023-10-18 18:20:02,739 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler &lt;function add_waiters at 0x7f147f574048&gt;
2023-10-18 18:20:02,740 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,740 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ls: calling handler &lt;function add_waiters at 0x7f147f574048&gt;
2023-10-18 18:20:02,741 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,741 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,741 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,741 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.human-readable: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,741 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7f148035b630&gt;
2023-10-18 18:20:02,742 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.summarize: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,742 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler &lt;awscli.argprocess.ParamShorthandParser object at 0x7f148035b630&gt;
2023-10-18 18:20:02,742 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.request-payer: calling handler &lt;awscli.paramfile.URIArgumentHandler object at 0x7f14872739e8&gt;
2023-10-18 18:20:02,742 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env
2023-10-18 18:20:02,742 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role
2023-10-18 18:20:02,742 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity
2023-10-18 18:20:02,743 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso
2023-10-18 18:20:02,743 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file
2023-10-18 18:20:02,743 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2023-10-18 18:20:02,744 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/endpoints.json
2023-10-18 18:20:02,762 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/sdk-default-configuration.json
2023-10-18 18:20:02,763 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler &lt;function handle_service_name_alias at 0x7f1481020378&gt;
2023-10-18 18:20:02,765 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-10-18 18:20:02,782 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_post at 0x7f14812f62f0&gt;
2023-10-18 18:20:02,782 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler &lt;function add_generate_presigned_url at 0x7f14812f60d0&gt;
2023-10-18 18:20:02,783 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:02,787 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)
2023-10-18 18:20:02,788 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/_retry.json
2023-10-18 18:20:02,789 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3
2023-10-18 18:20:02,790 - MainThread - botocore.client - DEBUG - Switching signature version for service s3 to version s3v4 based on config file override.
2023-10-18 18:20:02,805 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/paginators-1.json
2023-10-18 18:20:02,805 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function set_list_objects_encoding_type_url at 0x7f1481039c80&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function validate_bucket_name at 0x7f1481036a60&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.redirect_from_cache of &lt;botocore.utils.S3RegionRedirector object at 0x7f147ef45e80&gt;&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;bound method S3ArnParamHandler.handle_arn of &lt;botocore.utils.S3ArnParamHandler object at 0x7f147ef1d550&gt;&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler &lt;function generate_idempotent_uuid at 0x7f14810368c8&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function add_expect_header at 0x7f1481036d90&gt;
2023-10-18 18:20:02,806 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.set_request_url of &lt;botocore.utils.S3RegionRedirector object at 0x7f147ef45e80&gt;&gt;
2023-10-18 18:20:02,807 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function add_recursion_detection_header at 0x7f1481036598&gt;
2023-10-18 18:20:02,807 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler &lt;function inject_api_version_header_if_needed at 0x7f1480fbd0d0&gt;
2023-10-18 18:20:02,807 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/bucket1?list-type=2', 'query_string': {'prefix': 'dir1/', 'delimiter': '/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10'}, 'body': b'', 'url': 'http://s3g.internal:9878/bucket1?list-type=2&amp;prefix=dir1%2F&amp;delimiter=%2F&amp;encoding-type=url', 'context': {'client_region': 'us-west-1', 'client_config': &lt;botocore.config.Config object at 0x7f147ef45a90&gt;, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'bucket1'}}}
2023-10-18 18:20:02,807 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler &lt;bound method RequestSigner.handler of &lt;botocore.signers.RequestSigner object at 0x7f147ef45a58&gt;&gt;
2023-10-18 18:20:02,807 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler &lt;bound method S3EndpointSetter.set_signer of &lt;botocore.utils.S3EndpointSetter object at 0x7f147ef1d5c0&gt;&gt;
2023-10-18 18:20:02,807 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler &lt;function set_operation_specific_signer at 0x7f14810367b8&gt;
2023-10-18 18:20:02,808 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler &lt;bound method S3EndpointSetter.set_endpoint of &lt;botocore.utils.S3EndpointSetter object at 0x7f147ef1d5c0&gt;&gt;
2023-10-18 18:20:02,808 - MainThread - botocore.utils - DEBUG - Using S3 virtual host style addressing.
2023-10-18 18:20:02,808 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: http://s3g.internal:9878/bucket1?list-type=2&amp;prefix=dir1%2F&amp;delimiter=%2F&amp;encoding-type=url
2023-10-18 18:20:02,808 - MainThread - botocore.utils - DEBUG - URI updated to: http://bucket1.s3g.internal:9878/?list-type=2&amp;prefix=dir1%2F&amp;delimiter=%2F&amp;encoding-type=url
2023-10-18 18:20:02,808 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.
2023-10-18 18:20:02,808 - MainThread - botocore.auth - DEBUG - CanonicalRequest:
GET
/
delimiter=%2F&amp;encoding-type=url&amp;list-type=2&amp;prefix=dir1%2F
host:bucket1.s3g.internal:9878
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20231018T182002Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2023-10-18 18:20:02,808 - MainThread - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20231018T182002Z
20231018/us-west-1/s3/aws4_request
6fc19b952820100265af427904e57d90dc1579d06a0ea670542ee1020a513b9e
2023-10-18 18:20:02,808 - MainThread - botocore.auth - DEBUG - Signature:
93f0bce913a9df50078166ae5d4fa0bddaf8f76fbca0ea42c00233be36667229
2023-10-18 18:20:02,809 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler &lt;function add_retry_headers at 0x7f1480fbd730&gt;
2023-10-18 18:20:02,809 - MainThread - botocore.endpoint - DEBUG - Sending http request: &lt;AWSPreparedRequest stream_output=False, method=GET, url=http://bucket1.s3g.internal:9878/?list-type=2&amp;prefix=dir1%2F&amp;delimiter=%2F&amp;encoding-type=url, headers={'User-Agent': b'aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10', 'X-Amz-Date': b'20231018T182002Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=testuser/s3g@EXAMPLE.COM/20231018/us-west-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=93f0bce913a9df50078166ae5d4fa0bddaf8f76fbca0ea42c00233be36667229', 'amz-sdk-invocation-id': b'58d16e96-66ad-4bbd-b456-f7661650e001', 'amz-sdk-request': b'attempt=1'}&gt;
2023-10-18 18:20:02,810 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): bucket1.s3g.internal:9878
2023-10-18 18:20:02,935 - MainThread - urllib3.connectionpool - DEBUG - http://bucket1.s3g.internal:9878 "GET /?list-type=2&amp;prefix=dir1%2F&amp;delimiter=%2F&amp;encoding-type=url HTTP/1.1" 200 392
2023-10-18 18:20:02,935 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Wed, 18 Oct 2023 18:20:02 GMT', 'Cache-Control': 'no-cache', 'Expires': 'Wed, 18 Oct 2023 18:20:02 GMT', 'Pragma': 'no-cache', 'Content-Type': 'application/xml', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Server': 'Ozone', 'x-amz-id-2': 'APJFzYOoV26', 'x-amz-request-id': 'ae3b7503-6494-464b-aa2c-57ad89e797c8', 'Content-Length': '392'}
2023-10-18 18:20:02,936 - MainThread - botocore.parsers - DEBUG - Response body:
b'&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;&lt;ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"&gt;&lt;Name&gt;bucket1&lt;/Name&gt;&lt;Prefix&gt;dir1/&lt;/Prefix&gt;&lt;Marker&gt;&lt;/Marker&gt;&lt;MaxKeys&gt;1000&lt;/MaxKeys&gt;&lt;KeyCount&gt;1&lt;/KeyCount&gt;&lt;Delimiter&gt;/&lt;/Delimiter&gt;&lt;EncodingType&gt;url&lt;/EncodingType&gt;&lt;IsTruncated&gt;false&lt;/IsTruncated&gt;&lt;CommonPrefixes&gt;&lt;Prefix&gt;dir1/dir2/&lt;/Prefix&gt;&lt;/CommonPrefixes&gt;&lt;/ListBucketResult&gt;'
2023-10-18 18:20:02,937 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler &lt;botocore.retryhandler.RetryHandler object at 0x7f147ef45e10&gt;
2023-10-18 18:20:02,937 - MainThread - botocore.retryhandler - DEBUG - No retry needed.
2023-10-18 18:20:02,937 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler &lt;bound method S3RegionRedirector.redirect_from_error of &lt;botocore.utils.S3RegionRedirector object at 0x7f147ef45e80&gt;&gt;
2023-10-18 18:20:02,937 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler &lt;function decode_list_object_v2 at 0x7f1481039d90&gt;
2023-10-18 18:20:02,937 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler &lt;function enhance_error_msg at 0x7f147f566598&gt;
                           PRE dir2/</msg>
<status status="PASS" starttime="20231018 18:20:03.020" endtime="20231018 18:20:03.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:20:03.022" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:20:03.022" endtime="20231018 18:20:03.022"/>
</kw>
<status status="PASS" starttime="20231018 18:20:02.228" endtime="20231018 18:20:03.023"/>
</kw>
<msg timestamp="20231018 18:20:03.023" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:20:02.227" endtime="20231018 18:20:03.023"/>
</kw>
<msg timestamp="20231018 18:20:03.024" level="INFO">${output} = 2023-10-18 18:20:02,731 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:02,732 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:02.227" endtime="20231018 18:20:03.024"/>
</kw>
<msg timestamp="20231018 18:20:03.024" level="INFO">${result} = 2023-10-18 18:20:02,731 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.24.10 Python/3.6.8 Linux/5.15.0-1049-azure botocore/1.26.10
2023-10-18 18:20:02,732 - MainThread - awscli.clidr...</msg>
<status status="PASS" starttime="20231018 18:20:02.226" endtime="20231018 18:20:03.024"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>url=http://bucket1.s3g.internal:9878/</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.024" endtime="20231018 18:20:03.024"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>prefix=dir1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.025" endtime="20231018 18:20:03.025"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>testfile</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.025" endtime="20231018 18:20:03.025"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>dir2/</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.026" endtime="20231018 18:20:03.026"/>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<var>${result}</var>
<arg>ls s3://${BUCKET}/dir1/dir2/file</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231018 18:20:03.032" level="INFO">Running command 'aws s3 --endpoint-url http://s3g.internal:9878 ls s3://bucket1/dir1/dir2/file 2&gt;&amp;1'.</msg>
<msg timestamp="20231018 18:20:03.831" level="INFO">${rc} = 0</msg>
<msg timestamp="20231018 18:20:03.831" level="INFO">${output} = 2023-10-18 18:20:00         29 file</msg>
<status status="PASS" starttime="20231018 18:20:03.029" endtime="20231018 18:20:03.831"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231018 18:20:03.833" level="INFO">2023-10-18 18:20:00         29 file</msg>
<status status="PASS" starttime="20231018 18:20:03.832" endtime="20231018 18:20:03.833"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231018 18:20:03.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231018 18:20:03.834" endtime="20231018 18:20:03.835"/>
</kw>
<status status="PASS" starttime="20231018 18:20:03.028" endtime="20231018 18:20:03.835"/>
</kw>
<msg timestamp="20231018 18:20:03.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231018 18:20:03.028" endtime="20231018 18:20:03.835"/>
</kw>
<msg timestamp="20231018 18:20:03.836" level="INFO">${output} = 2023-10-18 18:20:00         29 file</msg>
<status status="PASS" starttime="20231018 18:20:03.027" endtime="20231018 18:20:03.836"/>
</kw>
<msg timestamp="20231018 18:20:03.836" level="INFO">${result} = 2023-10-18 18:20:00         29 file</msg>
<status status="PASS" starttime="20231018 18:20:03.026" endtime="20231018 18:20:03.836"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>testfile</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.836" endtime="20231018 18:20:03.837"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>dir1</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.837" endtime="20231018 18:20:03.838"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>dir2</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.838" endtime="20231018 18:20:03.839"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>file</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231018 18:20:03.839" endtime="20231018 18:20:03.839"/>
</kw>
<tag>virtual-host</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231018 18:19:42.451" endtime="20231018 18:20:03.840"/>
</test>
<doc>S3 gateway test with aws cli using virtual host style address</doc>
<status status="PASS" starttime="20231018 18:19:32.509" endtime="20231018 18:20:03.842"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0" skip="0">virtual-host</stat>
</tag>
<suite>
<stat pass="1" fail="0" skip="0" id="s1" name="ozonesecure-ha-s3g-virtual-host">ozonesecure-ha-s3g-virtual-host</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
