<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20231004 16:10:10.812" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:57:35.441" endtime="20231004 15:57:35.442"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:35.453" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:35.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:35.457" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e42b5a2d126b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 15:57:35.443" endtime="20231004 15:57:35.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:35.458" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e42b5a2d126b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 15:57:35.458" endtime="20231004 15:57:35.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:35.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:35.459" endtime="20231004 15:57:35.460"/>
</kw>
<status status="PASS" starttime="20231004 15:57:35.443" endtime="20231004 15:57:35.461"/>
</kw>
<msg timestamp="20231004 15:57:35.461" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:35.442" endtime="20231004 15:57:35.462"/>
</kw>
<msg timestamp="20231004 15:57:35.462" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e42b5a2d126b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 15:57:35.442" endtime="20231004 15:57:35.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:35.463" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e42b5a2d126b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 15:57:35.462" endtime="20231004 15:57:35.463"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:57:35.463" endtime="20231004 15:57:35.463"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:35.467" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:39.386" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:39.386" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:57:35.465" endtime="20231004 15:57:39.386"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:39.387" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:57:39.386" endtime="20231004 15:57:39.387"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:39.389" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:39.388" endtime="20231004 15:57:39.389"/>
</kw>
<status status="PASS" starttime="20231004 15:57:35.465" endtime="20231004 15:57:39.389"/>
</kw>
<msg timestamp="20231004 15:57:39.389" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:35.464" endtime="20231004 15:57:39.390"/>
</kw>
<msg timestamp="20231004 15:57:39.390" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:57:35.464" endtime="20231004 15:57:39.390"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:39.391" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:57:39.390" endtime="20231004 15:57:39.391"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:57:39.391" endtime="20231004 15:57:39.391"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:57:35.437" endtime="20231004 15:57:39.392"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:57:39.394" endtime="20231004 15:57:39.395"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:57:39.395" endtime="20231004 15:57:39.396"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:39.400" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:43.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:43.329" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:57:39.398" endtime="20231004 15:57:43.329"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:43.330" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:57:43.329" endtime="20231004 15:57:43.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:43.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:43.331" endtime="20231004 15:57:43.331"/>
</kw>
<status status="PASS" starttime="20231004 15:57:39.397" endtime="20231004 15:57:43.332"/>
</kw>
<msg timestamp="20231004 15:57:43.332" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:39.396" endtime="20231004 15:57:43.332"/>
</kw>
<msg timestamp="20231004 15:57:43.333" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:57:39.396" endtime="20231004 15:57:43.333"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:43.333" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:57:43.333" endtime="20231004 15:57:43.333"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:57:43.333" endtime="20231004 15:57:43.334"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:57:39.393" endtime="20231004 15:57:43.334"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 15:57:35.366" endtime="20231004 15:57:43.336"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:57:47.299" level="INFO">${random} = 73979</msg>
<status status="PASS" starttime="20231004 15:57:47.299" endtime="20231004 15:57:47.299"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:47.307" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-73979 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:53.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:53.946" level="INFO">${output} = 2023-10-04 15:57:52,102 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:57:52,239 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:57:47.303" endtime="20231004 15:57:53.946"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:53.948" level="INFO">2023-10-04 15:57:52,102 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:57:52,239 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:57:52,239 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20231004 15:57:53.947" endtime="20231004 15:57:53.948"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:53.949" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:53.948" endtime="20231004 15:57:53.949"/>
</kw>
<status status="PASS" starttime="20231004 15:57:47.302" endtime="20231004 15:57:53.949"/>
</kw>
<msg timestamp="20231004 15:57:53.949" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:47.300" endtime="20231004 15:57:53.951"/>
</kw>
<msg timestamp="20231004 15:57:53.951" level="INFO">${output} = 2023-10-04 15:57:52,102 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:57:52,239 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:57:47.300" endtime="20231004 15:57:53.951"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:57:53.951" endtime="20231004 15:57:53.952"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:53.955" level="INFO">Running command 'cat /tmp/key-73979 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:53.959" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:53.959" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:57:53.952" endtime="20231004 15:57:53.959"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:53.961" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:57:53.960" endtime="20231004 15:57:53.961"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:53.962" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:53.961" endtime="20231004 15:57:53.962"/>
</kw>
<msg timestamp="20231004 15:57:53.962" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:57:53.952" endtime="20231004 15:57:53.962"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:57:53.962" endtime="20231004 15:57:53.963"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:53.967" level="INFO">Running command 'rm /tmp/key-73979 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:53.970" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:53.970" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:57:53.964" endtime="20231004 15:57:53.970"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:53.972" level="INFO"/>
<status status="PASS" starttime="20231004 15:57:53.971" endtime="20231004 15:57:53.972"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:53.973" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:53.972" endtime="20231004 15:57:53.973"/>
</kw>
<status status="PASS" starttime="20231004 15:57:53.963" endtime="20231004 15:57:53.973"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:57:47.297" endtime="20231004 15:57:53.974"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:53.982" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:55.067" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:55.067" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:57:53.979" endtime="20231004 15:57:55.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:55.068" level="INFO"/>
<status status="PASS" starttime="20231004 15:57:55.067" endtime="20231004 15:57:55.068"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:55.069" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:55.069" endtime="20231004 15:57:55.069"/>
</kw>
<status status="PASS" starttime="20231004 15:57:53.978" endtime="20231004 15:57:55.070"/>
</kw>
<msg timestamp="20231004 15:57:55.070" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:53.978" endtime="20231004 15:57:55.070"/>
</kw>
<status status="PASS" starttime="20231004 15:57:53.977" endtime="20231004 15:57:55.070"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:55.075" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:55.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:55.797" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:57:55.072" endtime="20231004 15:57:55.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:55.798" level="INFO"/>
<status status="PASS" starttime="20231004 15:57:55.797" endtime="20231004 15:57:55.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:55.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:55.798" endtime="20231004 15:57:55.799"/>
</kw>
<status status="PASS" starttime="20231004 15:57:55.071" endtime="20231004 15:57:55.799"/>
</kw>
<msg timestamp="20231004 15:57:55.799" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:55.071" endtime="20231004 15:57:55.800"/>
</kw>
<status status="PASS" starttime="20231004 15:57:55.071" endtime="20231004 15:57:55.800"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:55.806" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:56.469" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:56.470" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:57:55.802" endtime="20231004 15:57:56.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:56.472" level="INFO"/>
<status status="PASS" starttime="20231004 15:57:56.470" endtime="20231004 15:57:56.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:56.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:56.472" endtime="20231004 15:57:56.473"/>
</kw>
<status status="PASS" starttime="20231004 15:57:55.802" endtime="20231004 15:57:56.473"/>
</kw>
<msg timestamp="20231004 15:57:56.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:55.801" endtime="20231004 15:57:56.474"/>
</kw>
<status status="PASS" starttime="20231004 15:57:55.801" endtime="20231004 15:57:56.475"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:56.480" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:57:57.087" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:57:57.087" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:57:56.477" endtime="20231004 15:57:57.087"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:57:57.088" level="INFO"/>
<status status="PASS" starttime="20231004 15:57:57.088" endtime="20231004 15:57:57.089"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:57:57.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:57:57.089" endtime="20231004 15:57:57.090"/>
</kw>
<status status="PASS" starttime="20231004 15:57:56.476" endtime="20231004 15:57:57.090"/>
</kw>
<msg timestamp="20231004 15:57:57.090" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:57:56.476" endtime="20231004 15:57:57.090"/>
</kw>
<status status="PASS" starttime="20231004 15:57:56.475" endtime="20231004 15:57:57.091"/>
</kw>
<status status="PASS" starttime="20231004 15:57:53.976" endtime="20231004 15:57:57.091"/>
</kw>
<status status="PASS" starttime="20231004 15:57:53.976" endtime="20231004 15:57:57.091"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:57:53.975" endtime="20231004 15:57:57.091"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:57:57.099" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:00.574" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:00.574" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:57:57.095" endtime="20231004 15:58:00.574"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:00.576" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:57:58 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:58:00.575" endtime="20231004 15:58:00.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:00.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:00.576" endtime="20231004 15:58:00.577"/>
</kw>
<msg timestamp="20231004 15:58:00.577" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:57:57.094" endtime="20231004 15:58:00.577"/>
</kw>
<msg timestamp="20231004 15:58:00.578" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:57:57.093" endtime="20231004 15:58:00.578"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:00.578" endtime="20231004 15:58:00.579"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:00.582" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:00.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:00.586" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:00.580" endtime="20231004 15:58:00.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:00.587" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:00.586" endtime="20231004 15:58:00.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:00.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:00.587" endtime="20231004 15:58:00.588"/>
</kw>
<msg timestamp="20231004 15:58:00.589" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:00.579" endtime="20231004 15:58:00.589"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:00.589" endtime="20231004 15:58:00.590"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:00.592" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:00.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:00.595" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:00.590" endtime="20231004 15:58:00.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:00.596" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:00.595" endtime="20231004 15:58:00.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:00.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:00.597" endtime="20231004 15:58:00.597"/>
</kw>
<status status="PASS" starttime="20231004 15:58:00.590" endtime="20231004 15:58:00.598"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:57:57.092" endtime="20231004 15:58:00.598"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:00.605" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:01.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:01.403" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:00.602" endtime="20231004 15:58:01.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:01.405" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:58:01 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:58:01.404" endtime="20231004 15:58:01.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:01.406" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:01.405" endtime="20231004 15:58:01.406"/>
</kw>
<msg timestamp="20231004 15:58:01.406" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:00.601" endtime="20231004 15:58:01.406"/>
</kw>
<msg timestamp="20231004 15:58:01.407" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:52:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:00.600" endtime="20231004 15:58:01.407"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:01.407" endtime="20231004 15:58:01.407"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:01.410" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:01.413" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:01.413" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:01.408" endtime="20231004 15:58:01.413"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:01.415" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:01.414" endtime="20231004 15:58:01.415"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:01.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:01.415" endtime="20231004 15:58:01.416"/>
</kw>
<msg timestamp="20231004 15:58:01.416" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:01.408" endtime="20231004 15:58:01.416"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:01.416" endtime="20231004 15:58:01.417"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:01.420" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:01.423" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:01.423" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:01.418" endtime="20231004 15:58:01.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:01.424" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:01.423" endtime="20231004 15:58:01.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:01.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:01.425" endtime="20231004 15:58:01.425"/>
</kw>
<status status="PASS" starttime="20231004 15:58:01.417" endtime="20231004 15:58:01.426"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:00.599" endtime="20231004 15:58:01.426"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:57:47.159" endtime="20231004 15:58:01.428"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:58:05.019" level="INFO">${random} = 06535</msg>
<status status="PASS" starttime="20231004 15:58:05.018" endtime="20231004 15:58:05.019"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:05.026" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-06535 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:10.430" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:10.430" level="INFO">${output} = 2023-10-04 15:58:08,777 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:08,956 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:05.022" endtime="20231004 15:58:10.431"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:10.432" level="INFO">2023-10-04 15:58:08,777 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:08,956 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:58:08,956 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20231004 15:58:10.431" endtime="20231004 15:58:10.432"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:10.433" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:10.433" endtime="20231004 15:58:10.433"/>
</kw>
<status status="PASS" starttime="20231004 15:58:05.021" endtime="20231004 15:58:10.434"/>
</kw>
<msg timestamp="20231004 15:58:10.434" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:05.020" endtime="20231004 15:58:10.435"/>
</kw>
<msg timestamp="20231004 15:58:10.436" level="INFO">${output} = 2023-10-04 15:58:08,777 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:08,956 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:05.019" endtime="20231004 15:58:10.436"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:10.436" endtime="20231004 15:58:10.437"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:10.441" level="INFO">Running command 'cat /tmp/key-06535 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:10.444" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:10.444" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:10.438" endtime="20231004 15:58:10.444"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:10.446" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:10.445" endtime="20231004 15:58:10.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:10.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:10.446" endtime="20231004 15:58:10.447"/>
</kw>
<msg timestamp="20231004 15:58:10.447" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:10.437" endtime="20231004 15:58:10.447"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:10.447" endtime="20231004 15:58:10.448"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:10.452" level="INFO">Running command 'rm /tmp/key-06535 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:10.455" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:10.455" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:10.450" endtime="20231004 15:58:10.455"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:10.457" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:10.456" endtime="20231004 15:58:10.457"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:10.458" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:10.457" endtime="20231004 15:58:10.458"/>
</kw>
<status status="PASS" starttime="20231004 15:58:10.448" endtime="20231004 15:58:10.459"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:05.017" endtime="20231004 15:58:10.459"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:10.468" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:11.145" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:11.145" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:10.466" endtime="20231004 15:58:11.145"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:11.146" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:11.146" endtime="20231004 15:58:11.146"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:11.147" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:11.147" endtime="20231004 15:58:11.147"/>
</kw>
<status status="PASS" starttime="20231004 15:58:10.465" endtime="20231004 15:58:11.148"/>
</kw>
<msg timestamp="20231004 15:58:11.148" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:10.465" endtime="20231004 15:58:11.148"/>
</kw>
<status status="PASS" starttime="20231004 15:58:10.464" endtime="20231004 15:58:11.149"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:11.153" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:11.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:11.731" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:11.150" endtime="20231004 15:58:11.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:11.733" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:11.731" endtime="20231004 15:58:11.733"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:11.734" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:11.733" endtime="20231004 15:58:11.734"/>
</kw>
<status status="PASS" starttime="20231004 15:58:11.150" endtime="20231004 15:58:11.734"/>
</kw>
<msg timestamp="20231004 15:58:11.734" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:11.150" endtime="20231004 15:58:11.735"/>
</kw>
<status status="PASS" starttime="20231004 15:58:11.149" endtime="20231004 15:58:11.735"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:11.740" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:12.772" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:12.772" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:11.737" endtime="20231004 15:58:12.772"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:12.784" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:12.773" endtime="20231004 15:58:12.784"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:12.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:12.785" endtime="20231004 15:58:12.786"/>
</kw>
<status status="PASS" starttime="20231004 15:58:11.737" endtime="20231004 15:58:12.786"/>
</kw>
<msg timestamp="20231004 15:58:12.786" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:11.736" endtime="20231004 15:58:12.789"/>
</kw>
<status status="PASS" starttime="20231004 15:58:11.736" endtime="20231004 15:58:12.789"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:12.807" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:13.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:13.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:12.791" endtime="20231004 15:58:13.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:13.571" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:13.570" endtime="20231004 15:58:13.571"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:13.572" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:13.571" endtime="20231004 15:58:13.572"/>
</kw>
<status status="PASS" starttime="20231004 15:58:12.790" endtime="20231004 15:58:13.572"/>
</kw>
<msg timestamp="20231004 15:58:13.573" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:12.790" endtime="20231004 15:58:13.573"/>
</kw>
<status status="PASS" starttime="20231004 15:58:12.789" endtime="20231004 15:58:13.574"/>
</kw>
<status status="PASS" starttime="20231004 15:58:10.464" endtime="20231004 15:58:13.574"/>
</kw>
<status status="PASS" starttime="20231004 15:58:10.463" endtime="20231004 15:58:13.574"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:10.462" endtime="20231004 15:58:13.574"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:13.580" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:14.415" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:14.415" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:13.577" endtime="20231004 15:58:14.415"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:14.417" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:58:14 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:58:14.416" endtime="20231004 15:58:14.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:14.418" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:14.417" endtime="20231004 15:58:14.418"/>
</kw>
<msg timestamp="20231004 15:58:14.419" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:13.576" endtime="20231004 15:58:14.419"/>
</kw>
<msg timestamp="20231004 15:58:14.419" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:13.576" endtime="20231004 15:58:14.419"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:14.419" endtime="20231004 15:58:14.420"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:14.424" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:14.427" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:14.427" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:14.421" endtime="20231004 15:58:14.427"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:14.428" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:14.427" endtime="20231004 15:58:14.429"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:14.429" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:14.429" endtime="20231004 15:58:14.429"/>
</kw>
<msg timestamp="20231004 15:58:14.430" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:14.420" endtime="20231004 15:58:14.430"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:14.430" endtime="20231004 15:58:14.431"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:14.434" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:14.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:14.437" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:14.431" endtime="20231004 15:58:14.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:14.438" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:14.438" endtime="20231004 15:58:14.438"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:14.439" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:14.439" endtime="20231004 15:58:14.439"/>
</kw>
<status status="PASS" starttime="20231004 15:58:14.431" endtime="20231004 15:58:14.440"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:13.575" endtime="20231004 15:58:14.440"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:14.446" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:15.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:15.198" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:14.443" endtime="20231004 15:58:15.198"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:15.199" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:58:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:58:15.199" endtime="20231004 15:58:15.200"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:15.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:15.200" endtime="20231004 15:58:15.200"/>
</kw>
<msg timestamp="20231004 15:58:15.201" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:14.442" endtime="20231004 15:58:15.201"/>
</kw>
<msg timestamp="20231004 15:58:15.201" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:14.442" endtime="20231004 15:58:15.201"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:15.201" endtime="20231004 15:58:15.202"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:15.205" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:15.209" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:15.209" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:15.203" endtime="20231004 15:58:15.209"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:15.210" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:15.209" endtime="20231004 15:58:15.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:15.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:15.210" endtime="20231004 15:58:15.211"/>
</kw>
<msg timestamp="20231004 15:58:15.211" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:58:15.202" endtime="20231004 15:58:15.212"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:15.212" endtime="20231004 15:58:15.212"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:15.215" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:15.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:15.218" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:15.213" endtime="20231004 15:58:15.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:15.219" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:15.218" endtime="20231004 15:58:15.219"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:15.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:15.219" endtime="20231004 15:58:15.220"/>
</kw>
<status status="PASS" starttime="20231004 15:58:15.212" endtime="20231004 15:58:15.220"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:14.441" endtime="20231004 15:58:15.221"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:58:04.910" endtime="20231004 15:58:15.222"/>
</suite>
<suite id="s1-s4" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s4-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:18.908" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:22.297" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:22.297" level="INFO">${output} = 2023-10-04 15:58:22,193 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:58:18.902" endtime="20231004 15:58:22.297"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:22.302" level="INFO">2023-10-04 15:58:22,193 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:58:22.299" endtime="20231004 15:58:22.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:22.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:22.303" endtime="20231004 15:58:22.304"/>
</kw>
<status status="PASS" starttime="20231004 15:58:18.901" endtime="20231004 15:58:22.305"/>
</kw>
<msg timestamp="20231004 15:58:22.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:18.901" endtime="20231004 15:58:22.312"/>
</kw>
<msg timestamp="20231004 15:58:22.312" level="INFO">${output} = 2023-10-04 15:58:22,193 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:58:18.900" endtime="20231004 15:58:22.312"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:22.312" endtime="20231004 15:58:22.313"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:22.323" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:25.891" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:25.891" level="INFO">${output} = 2023-10-04 15:58:25,787 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20231004 15:58:22.319" endtime="20231004 15:58:25.891"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:25.892" level="INFO">2023-10-04 15:58:25,787 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20231004 15:58:25.891" endtime="20231004 15:58:25.893"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:25.893" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:25.893" endtime="20231004 15:58:25.893"/>
</kw>
<status status="PASS" starttime="20231004 15:58:22.314" endtime="20231004 15:58:25.894"/>
</kw>
<msg timestamp="20231004 15:58:25.894" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:22.314" endtime="20231004 15:58:25.894"/>
</kw>
<msg timestamp="20231004 15:58:25.895" level="INFO">${output} = 2023-10-04 15:58:25,787 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20231004 15:58:22.313" endtime="20231004 15:58:25.895"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:25.895" endtime="20231004 15:58:25.896"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:18.899" endtime="20231004 15:58:25.896"/>
</test>
<test id="s1-s4-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:25.902" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:58:25.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:25.904" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:25.900" endtime="20231004 15:58:25.904"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:25.905" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:25.905" endtime="20231004 15:58:25.906"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:25.906" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:25.906" endtime="20231004 15:58:25.907"/>
</kw>
<status status="PASS" starttime="20231004 15:58:25.899" endtime="20231004 15:58:25.907"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:25.912" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:33.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:33.291" level="INFO">${output} = 2023-10-04 15:58:30,775 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:30,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:25.910" endtime="20231004 15:58:33.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:33.292" level="INFO">2023-10-04 15:58:30,775 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:30,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:58:30,994 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:58:31,355 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:58:33.291" endtime="20231004 15:58:33.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:33.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:33.293" endtime="20231004 15:58:33.294"/>
</kw>
<status status="PASS" starttime="20231004 15:58:25.909" endtime="20231004 15:58:33.294"/>
</kw>
<msg timestamp="20231004 15:58:33.294" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:25.908" endtime="20231004 15:58:33.295"/>
</kw>
<msg timestamp="20231004 15:58:33.295" level="INFO">${output} = 2023-10-04 15:58:30,775 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:30,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:25.908" endtime="20231004 15:58:33.295"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:33.295" endtime="20231004 15:58:33.296"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:33.299" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:33.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:33.303" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:33.297" endtime="20231004 15:58:33.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:33.304" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:33.303" endtime="20231004 15:58:33.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:33.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:33.304" endtime="20231004 15:58:33.305"/>
</kw>
<status status="PASS" starttime="20231004 15:58:33.296" endtime="20231004 15:58:33.305"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:25.898" endtime="20231004 15:58:33.306"/>
</test>
<test id="s1-s4-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:33.312" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:36.544" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:36.544" level="INFO">${output} = 2023-10-04 15:58:36,491 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20231004 15:58:33.310" endtime="20231004 15:58:36.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:36.546" level="INFO">2023-10-04 15:58:36,491 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20231004 15:58:36.545" endtime="20231004 15:58:36.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:36.547" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:36.546" endtime="20231004 15:58:36.547"/>
</kw>
<status status="PASS" starttime="20231004 15:58:33.309" endtime="20231004 15:58:36.547"/>
</kw>
<msg timestamp="20231004 15:58:36.547" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:33.309" endtime="20231004 15:58:36.548"/>
</kw>
<msg timestamp="20231004 15:58:36.550" level="INFO">${output} = 2023-10-04 15:58:36,491 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20231004 15:58:33.308" endtime="20231004 15:58:36.550"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:36.550" endtime="20231004 15:58:36.551"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:33.307" endtime="20231004 15:58:36.551"/>
</test>
<test id="s1-s4-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:36.557" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:58:36.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:36.559" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:36.554" endtime="20231004 15:58:36.559"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:36.560" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:36.560" endtime="20231004 15:58:36.560"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:36.561" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:36.560" endtime="20231004 15:58:36.561"/>
</kw>
<status status="PASS" starttime="20231004 15:58:36.553" endtime="20231004 15:58:36.561"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:36.566" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:42.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:42.559" level="INFO">${output} = 2023-10-04 15:58:40,452 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:40,549 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:36.564" endtime="20231004 15:58:42.559"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:42.560" level="INFO">2023-10-04 15:58:40,452 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:40,549 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:58:40,549 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:58:40,831 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:58:42.559" endtime="20231004 15:58:42.560"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:42.561" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:42.561" endtime="20231004 15:58:42.561"/>
</kw>
<status status="PASS" starttime="20231004 15:58:36.563" endtime="20231004 15:58:42.562"/>
</kw>
<msg timestamp="20231004 15:58:42.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:36.563" endtime="20231004 15:58:42.562"/>
</kw>
<msg timestamp="20231004 15:58:42.563" level="INFO">${output} = 2023-10-04 15:58:40,452 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:40,549 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:36.562" endtime="20231004 15:58:42.563"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:42.563" endtime="20231004 15:58:42.563"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:42.567" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:42.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:42.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:42.564" endtime="20231004 15:58:42.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:42.572" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:42.571" endtime="20231004 15:58:42.572"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:42.572" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:42.572" endtime="20231004 15:58:42.573"/>
</kw>
<status status="PASS" starttime="20231004 15:58:42.564" endtime="20231004 15:58:42.573"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:36.552" endtime="20231004 15:58:42.573"/>
</test>
<test id="s1-s4-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:42.581" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:43.240" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:43.240" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:42.578" endtime="20231004 15:58:43.240"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:43.242" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:43.241" endtime="20231004 15:58:43.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:43.242" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:43.242" endtime="20231004 15:58:43.243"/>
</kw>
<status status="PASS" starttime="20231004 15:58:42.577" endtime="20231004 15:58:43.243"/>
</kw>
<msg timestamp="20231004 15:58:43.243" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:42.576" endtime="20231004 15:58:43.244"/>
</kw>
<status status="PASS" starttime="20231004 15:58:42.575" endtime="20231004 15:58:43.244"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:43.251" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:43.994" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:43.994" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:43.248" endtime="20231004 15:58:43.995"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:43.996" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:43.995" endtime="20231004 15:58:43.996"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:43.997" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:43.996" endtime="20231004 15:58:43.997"/>
</kw>
<status status="PASS" starttime="20231004 15:58:43.247" endtime="20231004 15:58:43.997"/>
</kw>
<msg timestamp="20231004 15:58:43.997" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:43.246" endtime="20231004 15:58:43.998"/>
</kw>
<status status="PASS" starttime="20231004 15:58:43.246" endtime="20231004 15:58:43.998"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:44.003" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:44.561" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:44.561" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:44.000" endtime="20231004 15:58:44.561"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:44.563" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:44.562" endtime="20231004 15:58:44.563"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:44.563" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:44.563" endtime="20231004 15:58:44.564"/>
</kw>
<status status="PASS" starttime="20231004 15:58:43.999" endtime="20231004 15:58:44.564"/>
</kw>
<msg timestamp="20231004 15:58:44.564" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:43.999" endtime="20231004 15:58:44.565"/>
</kw>
<status status="PASS" starttime="20231004 15:58:43.998" endtime="20231004 15:58:44.565"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:44.571" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:45.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:45.182" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:44.568" endtime="20231004 15:58:45.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:45.184" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:45.183" endtime="20231004 15:58:45.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:45.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:45.184" endtime="20231004 15:58:45.185"/>
</kw>
<status status="PASS" starttime="20231004 15:58:44.567" endtime="20231004 15:58:45.185"/>
</kw>
<msg timestamp="20231004 15:58:45.185" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:44.566" endtime="20231004 15:58:45.186"/>
</kw>
<status status="PASS" starttime="20231004 15:58:44.565" endtime="20231004 15:58:45.186"/>
</kw>
<status status="PASS" starttime="20231004 15:58:42.575" endtime="20231004 15:58:45.187"/>
</kw>
<status status="PASS" starttime="20231004 15:58:42.575" endtime="20231004 15:58:45.187"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:42.574" endtime="20231004 15:58:45.187"/>
</test>
<test id="s1-s4-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:58:45.191" level="INFO">${randStr} = 4320141012</msg>
<status status="PASS" starttime="20231004 15:58:45.191" endtime="20231004 15:58:45.191"/>
</kw>
<msg timestamp="20231004 15:58:45.192" level="INFO">${random} = ozone-test-4320141012</msg>
<status status="PASS" starttime="20231004 15:58:45.190" endtime="20231004 15:58:45.192"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:45.197" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket-ozone-test-4320141012 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:45.965" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:45.965" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-4320141012"
}</msg>
<status status="PASS" starttime="20231004 15:58:45.195" endtime="20231004 15:58:45.965"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:45.967" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket-ozone-test-4320141012"
}</msg>
<status status="PASS" starttime="20231004 15:58:45.966" endtime="20231004 15:58:45.967"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:45.968" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:45.967" endtime="20231004 15:58:45.968"/>
</kw>
<status status="PASS" starttime="20231004 15:58:45.194" endtime="20231004 15:58:45.968"/>
</kw>
<msg timestamp="20231004 15:58:45.969" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:45.194" endtime="20231004 15:58:45.969"/>
</kw>
<msg timestamp="20231004 15:58:45.970" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-4320141012"
}</msg>
<status status="PASS" starttime="20231004 15:58:45.193" endtime="20231004 15:58:45.970"/>
</kw>
<msg timestamp="20231004 15:58:45.970" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-4320141012"
}</msg>
<status status="PASS" starttime="20231004 15:58:45.193" endtime="20231004 15:58:45.970"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:45.970" endtime="20231004 15:58:45.971"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:45.971" endtime="20231004 15:58:45.972"/>
</kw>
<msg timestamp="20231004 15:58:45.972" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 15:58:45.192" endtime="20231004 15:58:45.972"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 15:58:45.972" endtime="20231004 15:58:45.973"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:45.188" endtime="20231004 15:58:45.973"/>
</test>
<test id="s1-s4-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:45.979" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:58:45.981" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:45.981" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:45.976" endtime="20231004 15:58:45.982"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:45.983" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:45.982" endtime="20231004 15:58:45.983"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:45.984" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:45.983" endtime="20231004 15:58:45.984"/>
</kw>
<status status="PASS" starttime="20231004 15:58:45.976" endtime="20231004 15:58:45.984"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:45.991" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:47.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:47.305" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:45.988" endtime="20231004 15:58:47.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:47.306" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:47.305" endtime="20231004 15:58:47.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:47.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:47.307" endtime="20231004 15:58:47.307"/>
</kw>
<msg timestamp="20231004 15:58:47.308" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:45.986" endtime="20231004 15:58:47.308"/>
</kw>
<msg timestamp="20231004 15:58:47.309" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:45.985" endtime="20231004 15:58:47.309"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:47.309" endtime="20231004 15:58:47.309"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:47.313" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:47.315" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:47.315" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:47.310" endtime="20231004 15:58:47.315"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:47.317" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:47.316" endtime="20231004 15:58:47.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:47.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:47.317" endtime="20231004 15:58:47.318"/>
</kw>
<status status="PASS" starttime="20231004 15:58:47.310" endtime="20231004 15:58:47.319"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:45.975" endtime="20231004 15:58:47.319"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 15:58:18.787" endtime="20231004 15:58:47.321"/>
</suite>
<suite id="s1-s5" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s5-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:58:50.939" level="INFO">${random} = 85567</msg>
<status status="PASS" starttime="20231004 15:58:50.938" endtime="20231004 15:58:50.939"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:50.946" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-85567 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:56.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:56.916" level="INFO">${output} = 2023-10-04 15:58:55,356 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:55,493 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:50.941" endtime="20231004 15:58:56.916"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:56.918" level="INFO">2023-10-04 15:58:55,356 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:55,493 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:58:55,493 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20231004 15:58:56.917" endtime="20231004 15:58:56.918"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:56.919" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:56.918" endtime="20231004 15:58:56.919"/>
</kw>
<status status="PASS" starttime="20231004 15:58:50.941" endtime="20231004 15:58:56.919"/>
</kw>
<msg timestamp="20231004 15:58:56.919" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:50.940" endtime="20231004 15:58:56.921"/>
</kw>
<msg timestamp="20231004 15:58:56.921" level="INFO">${output} = 2023-10-04 15:58:55,356 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:58:55,493 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:58:50.939" endtime="20231004 15:58:56.921"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:56.922" endtime="20231004 15:58:56.922"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:56.925" level="INFO">Running command 'cat /tmp/key-85567 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:56.928" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:56.929" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:56.923" endtime="20231004 15:58:56.929"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:56.930" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:56.929" endtime="20231004 15:58:56.930"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:56.931" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:56.930" endtime="20231004 15:58:56.931"/>
</kw>
<msg timestamp="20231004 15:58:56.931" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:58:56.922" endtime="20231004 15:58:56.932"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:58:56.932" endtime="20231004 15:58:56.932"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:56.936" level="INFO">Running command 'rm /tmp/key-85567 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:56.939" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:56.939" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:56.934" endtime="20231004 15:58:56.939"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:56.940" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:56.939" endtime="20231004 15:58:56.940"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:56.941" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:56.941" endtime="20231004 15:58:56.941"/>
</kw>
<status status="PASS" starttime="20231004 15:58:56.933" endtime="20231004 15:58:56.942"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:50.936" endtime="20231004 15:58:56.942"/>
</test>
<test id="s1-s5-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:56.949" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:57.529" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:57.529" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:56.947" endtime="20231004 15:58:57.529"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:57.531" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:57.530" endtime="20231004 15:58:57.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:57.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:57.531" endtime="20231004 15:58:57.532"/>
</kw>
<status status="PASS" starttime="20231004 15:58:56.946" endtime="20231004 15:58:57.532"/>
</kw>
<msg timestamp="20231004 15:58:57.532" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:56.946" endtime="20231004 15:58:57.533"/>
</kw>
<status status="PASS" starttime="20231004 15:58:56.945" endtime="20231004 15:58:57.533"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:57.538" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:58.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:58.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:57.535" endtime="20231004 15:58:58.113"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:58.114" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:58.113" endtime="20231004 15:58:58.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:58.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:58.114" endtime="20231004 15:58:58.115"/>
</kw>
<status status="PASS" starttime="20231004 15:58:57.535" endtime="20231004 15:58:58.115"/>
</kw>
<msg timestamp="20231004 15:58:58.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:57.534" endtime="20231004 15:58:58.116"/>
</kw>
<status status="PASS" starttime="20231004 15:58:57.533" endtime="20231004 15:58:58.116"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:58.121" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:58.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:58.693" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:58.117" endtime="20231004 15:58:58.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:58.694" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:58.693" endtime="20231004 15:58:58.694"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:58.696" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:58.695" endtime="20231004 15:58:58.696"/>
</kw>
<status status="PASS" starttime="20231004 15:58:58.117" endtime="20231004 15:58:58.696"/>
</kw>
<msg timestamp="20231004 15:58:58.696" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:58.117" endtime="20231004 15:58:58.697"/>
</kw>
<status status="PASS" starttime="20231004 15:58:58.116" endtime="20231004 15:58:58.697"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:58.702" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:58:59.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:58:59.281" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:58:58.699" endtime="20231004 15:58:59.281"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:58:59.282" level="INFO"/>
<status status="PASS" starttime="20231004 15:58:59.281" endtime="20231004 15:58:59.282"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:58:59.283" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:58:59.282" endtime="20231004 15:58:59.283"/>
</kw>
<status status="PASS" starttime="20231004 15:58:58.698" endtime="20231004 15:58:59.283"/>
</kw>
<msg timestamp="20231004 15:58:59.283" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:58:58.698" endtime="20231004 15:58:59.284"/>
</kw>
<status status="PASS" starttime="20231004 15:58:58.697" endtime="20231004 15:58:59.284"/>
</kw>
<status status="PASS" starttime="20231004 15:58:56.945" endtime="20231004 15:58:59.284"/>
</kw>
<status status="PASS" starttime="20231004 15:58:56.944" endtime="20231004 15:58:59.284"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:56.943" endtime="20231004 15:58:59.285"/>
</test>
<test id="s1-s5-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:58:59.290" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.038" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:59.288" endtime="20231004 15:59:00.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.040" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:58:59 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:59:00.039" endtime="20231004 15:59:00.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.040" endtime="20231004 15:59:00.041"/>
</kw>
<msg timestamp="20231004 15:59:00.041" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:59.287" endtime="20231004 15:59:00.041"/>
</kw>
<msg timestamp="20231004 15:59:00.042" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:58:59.287" endtime="20231004 15:59:00.042"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:00.042" endtime="20231004 15:59:00.042"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:00.045" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.048" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:59:00.043" endtime="20231004 15:59:00.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.049" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:59:00.049" endtime="20231004 15:59:00.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.050" endtime="20231004 15:59:00.050"/>
</kw>
<msg timestamp="20231004 15:59:00.051" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:59:00.042" endtime="20231004 15:59:00.051"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:00.051" endtime="20231004 15:59:00.051"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:00.054" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.057" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:00.052" endtime="20231004 15:59:00.057"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.058" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:00.057" endtime="20231004 15:59:00.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.061" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.060" endtime="20231004 15:59:00.061"/>
</kw>
<status status="PASS" starttime="20231004 15:59:00.052" endtime="20231004 15:59:00.062"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:58:59.286" endtime="20231004 15:59:00.062"/>
</test>
<test id="s1-s5-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:00.069" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.813" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:59:00.066" endtime="20231004 15:59:00.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.814" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:59:00 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:59:00.813" endtime="20231004 15:59:00.815"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.815" endtime="20231004 15:59:00.816"/>
</kw>
<msg timestamp="20231004 15:59:00.816" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:59:00.066" endtime="20231004 15:59:00.816"/>
</kw>
<msg timestamp="20231004 15:59:00.817" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:59:00.065" endtime="20231004 15:59:00.817"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:00.817" endtime="20231004 15:59:00.818"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:00.821" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.824" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.824" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:59:00.819" endtime="20231004 15:59:00.824"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.825" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:59:00.824" endtime="20231004 15:59:00.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.826" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.825" endtime="20231004 15:59:00.826"/>
</kw>
<msg timestamp="20231004 15:59:00.827" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:59:00.818" endtime="20231004 15:59:00.827"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:00.827" endtime="20231004 15:59:00.827"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:00.831" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:00.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:00.834" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:00.829" endtime="20231004 15:59:00.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:00.835" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:00.834" endtime="20231004 15:59:00.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:00.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:00.835" endtime="20231004 15:59:00.836"/>
</kw>
<status status="PASS" starttime="20231004 15:59:00.828" endtime="20231004 15:59:00.836"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:00.064" endtime="20231004 15:59:00.837"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:58:50.834" endtime="20231004 15:59:00.838"/>
</suite>
<suite id="s1-s6" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s6-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:04.432" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:59:04.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:04.434" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:04.427" endtime="20231004 15:59:04.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:04.435" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:04.434" endtime="20231004 15:59:04.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:04.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:04.435" endtime="20231004 15:59:04.436"/>
</kw>
<status status="PASS" starttime="20231004 15:59:04.426" endtime="20231004 15:59:04.436"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:04.441" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:10.785" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:10.785" level="INFO">${output} = 2023-10-04 15:59:08,680 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:08,820 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:59:04.438" endtime="20231004 15:59:10.785"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:10.787" level="INFO">2023-10-04 15:59:08,680 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:08,820 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:59:08,820 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:59:09,136 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:59:10.786" endtime="20231004 15:59:10.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:10.787" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:10.787" endtime="20231004 15:59:10.787"/>
</kw>
<status status="PASS" starttime="20231004 15:59:04.437" endtime="20231004 15:59:10.788"/>
</kw>
<msg timestamp="20231004 15:59:10.788" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:04.437" endtime="20231004 15:59:10.789"/>
</kw>
<msg timestamp="20231004 15:59:10.789" level="INFO">${output} = 2023-10-04 15:59:08,680 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:08,820 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:59:04.436" endtime="20231004 15:59:10.790"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:10.790" endtime="20231004 15:59:10.790"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:10.794" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:10.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:10.797" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:10.791" endtime="20231004 15:59:10.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:10.798" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:10.797" endtime="20231004 15:59:10.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:10.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:10.798" endtime="20231004 15:59:10.799"/>
</kw>
<status status="PASS" starttime="20231004 15:59:10.790" endtime="20231004 15:59:10.799"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:04.425" endtime="20231004 15:59:10.800"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:10.805" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:59:10.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:10.807" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:10.802" endtime="20231004 15:59:10.807"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:10.809" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:10.807" endtime="20231004 15:59:10.809"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:10.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:10.809" endtime="20231004 15:59:10.810"/>
</kw>
<status status="PASS" starttime="20231004 15:59:10.802" endtime="20231004 15:59:10.810"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:10.815" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:17.258" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:17.259" level="INFO">${output} = 2023-10-04 15:59:15,319 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:15,434 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:59:10.812" endtime="20231004 15:59:17.259"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:17.260" level="INFO">2023-10-04 15:59:15,319 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:15,434 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:59:15,434 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:59:15,825 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:59:17.259" endtime="20231004 15:59:17.260"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:17.261" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:17.260" endtime="20231004 15:59:17.261"/>
</kw>
<status status="PASS" starttime="20231004 15:59:10.812" endtime="20231004 15:59:17.261"/>
</kw>
<msg timestamp="20231004 15:59:17.261" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:10.811" endtime="20231004 15:59:17.262"/>
</kw>
<msg timestamp="20231004 15:59:17.262" level="INFO">${output} = 2023-10-04 15:59:15,319 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:59:15,434 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:59:10.811" endtime="20231004 15:59:17.262"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:17.262" endtime="20231004 15:59:17.263"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:17.268" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:17.271" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:17.271" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:17.265" endtime="20231004 15:59:17.271"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:17.272" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:17.271" endtime="20231004 15:59:17.272"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:17.273" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:17.273" endtime="20231004 15:59:17.273"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.264" endtime="20231004 15:59:17.274"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:10.801" endtime="20231004 15:59:17.274"/>
</test>
<test id="s1-s6-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:17.282" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:17.879" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:17.879" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:17.279" endtime="20231004 15:59:17.879"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:17.881" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:17.879" endtime="20231004 15:59:17.881"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:17.882" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:17.881" endtime="20231004 15:59:17.882"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.279" endtime="20231004 15:59:17.882"/>
</kw>
<msg timestamp="20231004 15:59:17.883" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:17.278" endtime="20231004 15:59:17.883"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.278" endtime="20231004 15:59:17.883"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:17.888" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:18.508" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:18.508" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:17.885" endtime="20231004 15:59:18.508"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:18.509" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:18.508" endtime="20231004 15:59:18.509"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:18.510" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:18.509" endtime="20231004 15:59:18.510"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.885" endtime="20231004 15:59:18.510"/>
</kw>
<msg timestamp="20231004 15:59:18.510" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:17.884" endtime="20231004 15:59:18.511"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.884" endtime="20231004 15:59:18.511"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:18.517" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:19.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:19.141" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:18.513" endtime="20231004 15:59:19.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:19.142" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:19.142" endtime="20231004 15:59:19.143"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:19.143" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:19.143" endtime="20231004 15:59:19.144"/>
</kw>
<status status="PASS" starttime="20231004 15:59:18.512" endtime="20231004 15:59:19.144"/>
</kw>
<msg timestamp="20231004 15:59:19.144" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:18.512" endtime="20231004 15:59:19.145"/>
</kw>
<status status="PASS" starttime="20231004 15:59:18.512" endtime="20231004 15:59:19.145"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:19.151" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:19.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:19.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:19.148" endtime="20231004 15:59:19.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:19.754" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:19.753" endtime="20231004 15:59:19.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:19.755" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:19.754" endtime="20231004 15:59:19.755"/>
</kw>
<status status="PASS" starttime="20231004 15:59:19.147" endtime="20231004 15:59:19.756"/>
</kw>
<msg timestamp="20231004 15:59:19.756" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:19.147" endtime="20231004 15:59:19.756"/>
</kw>
<status status="PASS" starttime="20231004 15:59:19.146" endtime="20231004 15:59:19.757"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.277" endtime="20231004 15:59:19.757"/>
</kw>
<status status="PASS" starttime="20231004 15:59:17.277" endtime="20231004 15:59:19.757"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:17.276" endtime="20231004 15:59:19.757"/>
</test>
<test id="s1-s6-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:59:19.761" level="INFO">${randStr} = 4993604952</msg>
<status status="PASS" starttime="20231004 15:59:19.760" endtime="20231004 15:59:19.761"/>
</kw>
<msg timestamp="20231004 15:59:19.762" level="INFO">${random} = ozone-test-4993604952</msg>
<status status="PASS" starttime="20231004 15:59:19.760" endtime="20231004 15:59:19.762"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:19.768" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-4993604952 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:20.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:20.528" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-4993604952"
}</msg>
<status status="PASS" starttime="20231004 15:59:19.765" endtime="20231004 15:59:20.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:20.529" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-4993604952"
}</msg>
<status status="PASS" starttime="20231004 15:59:20.528" endtime="20231004 15:59:20.530"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:20.531" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:20.530" endtime="20231004 15:59:20.531"/>
</kw>
<status status="PASS" starttime="20231004 15:59:19.764" endtime="20231004 15:59:20.531"/>
</kw>
<msg timestamp="20231004 15:59:20.531" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:19.764" endtime="20231004 15:59:20.532"/>
</kw>
<msg timestamp="20231004 15:59:20.532" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-4993604952"
}</msg>
<status status="PASS" starttime="20231004 15:59:19.763" endtime="20231004 15:59:20.532"/>
</kw>
<msg timestamp="20231004 15:59:20.533" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-4993604952"
}</msg>
<status status="PASS" starttime="20231004 15:59:19.763" endtime="20231004 15:59:20.533"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:20.533" endtime="20231004 15:59:20.533"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:20.533" endtime="20231004 15:59:20.534"/>
</kw>
<msg timestamp="20231004 15:59:20.534" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 15:59:19.762" endtime="20231004 15:59:20.534"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 15:59:20.534" endtime="20231004 15:59:20.536"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:19.759" endtime="20231004 15:59:20.536"/>
</test>
<test id="s1-s6-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:20.541" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:59:20.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:20.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:20.538" endtime="20231004 15:59:20.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:20.544" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:20.543" endtime="20231004 15:59:20.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:20.546" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:20.545" endtime="20231004 15:59:20.546"/>
</kw>
<status status="PASS" starttime="20231004 15:59:20.538" endtime="20231004 15:59:20.546"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:20.550" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:21.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:21.528" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:20.548" endtime="20231004 15:59:21.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:21.530" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:21.529" endtime="20231004 15:59:21.530"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:21.531" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:21.530" endtime="20231004 15:59:21.531"/>
</kw>
<msg timestamp="20231004 15:59:21.532" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:20.547" endtime="20231004 15:59:21.532"/>
</kw>
<msg timestamp="20231004 15:59:21.532" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:20.546" endtime="20231004 15:59:21.532"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:21.532" endtime="20231004 15:59:21.533"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:21.537" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:21.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:21.542" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:59:21.534" endtime="20231004 15:59:21.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:21.543" level="INFO"/>
<status status="PASS" starttime="20231004 15:59:21.542" endtime="20231004 15:59:21.543"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:21.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:21.543" endtime="20231004 15:59:21.544"/>
</kw>
<status status="PASS" starttime="20231004 15:59:21.533" endtime="20231004 15:59:21.545"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:20.537" endtime="20231004 15:59:21.545"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 15:59:04.325" endtime="20231004 15:59:21.547"/>
</suite>
<suite id="s1-s7" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s7-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:59:25.082" endtime="20231004 15:59:25.083"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:59:25.083" endtime="20231004 15:59:25.083"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:59:25.089" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:59:33.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:59:33.601" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20231004 15:59:25.085" endtime="20231004 15:59:33.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:59:33.603" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20231004 15:59:33.602" endtime="20231004 15:59:33.603"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:59:33.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:59:33.603" endtime="20231004 15:59:33.603"/>
</kw>
<status status="PASS" starttime="20231004 15:59:25.084" endtime="20231004 15:59:33.604"/>
</kw>
<msg timestamp="20231004 15:59:33.604" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:59:25.084" endtime="20231004 15:59:33.605"/>
</kw>
<msg timestamp="20231004 15:59:33.605" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20231004 15:59:25.083" endtime="20231004 15:59:33.605"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:59:33.606" endtime="20231004 15:59:33.607"/>
</kw>
<status status="PASS" starttime="20231004 15:59:33.606" endtime="20231004 15:59:33.607"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:59:25.081" endtime="20231004 15:59:33.607"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20231004 15:59:25.016" endtime="20231004 15:59:33.609"/>
</suite>
<suite id="s1-s8" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s8-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:47:23.957" endtime="20231004 15:47:23.958"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:23.967" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:23.970" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:23.970" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9dbcb9151119
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 15:47:23.962" endtime="20231004 15:47:23.970"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:23.971" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9dbcb9151119
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 15:47:23.971" endtime="20231004 15:47:23.971"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:23.972" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:23.972" endtime="20231004 15:47:23.972"/>
</kw>
<status status="PASS" starttime="20231004 15:47:23.959" endtime="20231004 15:47:23.973"/>
</kw>
<msg timestamp="20231004 15:47:23.973" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:23.959" endtime="20231004 15:47:23.974"/>
</kw>
<msg timestamp="20231004 15:47:23.975" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9dbcb9151119
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 15:47:23.958" endtime="20231004 15:47:23.975"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:23.976" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9dbcb9151119
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 15:47:23.975" endtime="20231004 15:47:23.976"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:47:23.976" endtime="20231004 15:47:23.979"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:23.983" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:27.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:27.463" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:47:23.981" endtime="20231004 15:47:27.464"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:27.465" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:47:27.464" endtime="20231004 15:47:27.465"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:27.466" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:27.465" endtime="20231004 15:47:27.466"/>
</kw>
<status status="PASS" starttime="20231004 15:47:23.980" endtime="20231004 15:47:27.467"/>
</kw>
<msg timestamp="20231004 15:47:27.467" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:23.980" endtime="20231004 15:47:27.468"/>
</kw>
<msg timestamp="20231004 15:47:27.468" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:47:23.979" endtime="20231004 15:47:27.468"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:27.468" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20231004 15:47:27.468" endtime="20231004 15:47:27.469"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:47:27.469" endtime="20231004 15:47:27.469"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:47:23.956" endtime="20231004 15:47:27.470"/>
</test>
<test id="s1-s8-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:47:27.472" endtime="20231004 15:47:27.472"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:47:27.473" endtime="20231004 15:47:27.473"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:27.481" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:31.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:31.528" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:47:27.475" endtime="20231004 15:47:31.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:31.529" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:47:31.529" endtime="20231004 15:47:31.529"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:31.530" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:31.530" endtime="20231004 15:47:31.530"/>
</kw>
<status status="PASS" starttime="20231004 15:47:27.474" endtime="20231004 15:47:31.531"/>
</kw>
<msg timestamp="20231004 15:47:31.531" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:27.474" endtime="20231004 15:47:31.532"/>
</kw>
<msg timestamp="20231004 15:47:31.532" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:47:27.473" endtime="20231004 15:47:31.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:31.533" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 15:47:31.532" endtime="20231004 15:47:31.533"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:47:31.533" endtime="20231004 15:47:31.534"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:47:27.471" endtime="20231004 15:47:31.534"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 15:47:23.886" endtime="20231004 15:47:31.536"/>
</suite>
<suite id="s1-s9" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s9-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:35.255" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:38.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:38.933" level="INFO">${output} = 2023-10-04 15:47:38,713 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:47:35.250" endtime="20231004 15:47:38.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:38.934" level="INFO">2023-10-04 15:47:38,713 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:47:38.933" endtime="20231004 15:47:38.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:38.950" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:38.939" endtime="20231004 15:47:38.950"/>
</kw>
<status status="PASS" starttime="20231004 15:47:35.249" endtime="20231004 15:47:38.951"/>
</kw>
<msg timestamp="20231004 15:47:38.951" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:35.249" endtime="20231004 15:47:38.958"/>
</kw>
<msg timestamp="20231004 15:47:38.958" level="INFO">${output} = 2023-10-04 15:47:38,713 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20231004 15:47:35.248" endtime="20231004 15:47:38.958"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:47:38.958" endtime="20231004 15:47:38.959"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:38.972" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:42.637" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:42.637" level="INFO">${output} = 2023-10-04 15:47:42,531 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20231004 15:47:38.963" endtime="20231004 15:47:42.637"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:42.639" level="INFO">2023-10-04 15:47:42,531 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20231004 15:47:42.638" endtime="20231004 15:47:42.639"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:42.641" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:42.639" endtime="20231004 15:47:42.641"/>
</kw>
<status status="PASS" starttime="20231004 15:47:38.963" endtime="20231004 15:47:42.641"/>
</kw>
<msg timestamp="20231004 15:47:42.642" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:38.962" endtime="20231004 15:47:42.642"/>
</kw>
<msg timestamp="20231004 15:47:42.642" level="INFO">${output} = 2023-10-04 15:47:42,531 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20231004 15:47:38.959" endtime="20231004 15:47:42.643"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:47:42.643" endtime="20231004 15:47:42.643"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:47:35.247" endtime="20231004 15:47:42.644"/>
</test>
<test id="s1-s9-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:42.652" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:47:42.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:42.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:47:42.650" endtime="20231004 15:47:42.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:42.655" level="INFO"/>
<status status="PASS" starttime="20231004 15:47:42.654" endtime="20231004 15:47:42.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:42.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:42.656" endtime="20231004 15:47:42.656"/>
</kw>
<status status="PASS" starttime="20231004 15:47:42.648" endtime="20231004 15:47:42.657"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:42.661" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:50.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:50.411" level="INFO">${output} = 2023-10-04 15:47:47,479 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:47,645 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:47:42.659" endtime="20231004 15:47:50.411"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:50.412" level="INFO">2023-10-04 15:47:47,479 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:47,645 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:47:47,645 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:47:48,143 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:47:50.411" endtime="20231004 15:47:50.412"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:50.413" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:50.413" endtime="20231004 15:47:50.413"/>
</kw>
<status status="PASS" starttime="20231004 15:47:42.659" endtime="20231004 15:47:50.414"/>
</kw>
<msg timestamp="20231004 15:47:50.414" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:42.658" endtime="20231004 15:47:50.414"/>
</kw>
<msg timestamp="20231004 15:47:50.415" level="INFO">${output} = 2023-10-04 15:47:47,479 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:47,645 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:47:42.657" endtime="20231004 15:47:50.415"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:47:50.415" endtime="20231004 15:47:50.416"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:50.420" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:50.423" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:50.423" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:47:50.417" endtime="20231004 15:47:50.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:50.424" level="INFO"/>
<status status="PASS" starttime="20231004 15:47:50.423" endtime="20231004 15:47:50.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:50.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:50.424" endtime="20231004 15:47:50.425"/>
</kw>
<status status="PASS" starttime="20231004 15:47:50.416" endtime="20231004 15:47:50.426"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:47:42.647" endtime="20231004 15:47:50.426"/>
</test>
<test id="s1-s9-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:50.432" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:47:53.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:53.879" level="INFO">${output} = 2023-10-04 15:47:53,816 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20231004 15:47:50.430" endtime="20231004 15:47:53.879"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:53.880" level="INFO">2023-10-04 15:47:53,816 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20231004 15:47:53.879" endtime="20231004 15:47:53.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:53.881" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:53.880" endtime="20231004 15:47:53.881"/>
</kw>
<status status="PASS" starttime="20231004 15:47:50.429" endtime="20231004 15:47:53.881"/>
</kw>
<msg timestamp="20231004 15:47:53.882" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:50.429" endtime="20231004 15:47:53.882"/>
</kw>
<msg timestamp="20231004 15:47:53.882" level="INFO">${output} = 2023-10-04 15:47:53,816 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20231004 15:47:50.428" endtime="20231004 15:47:53.882"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:47:53.883" endtime="20231004 15:47:53.883"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:47:50.427" endtime="20231004 15:47:53.883"/>
</test>
<test id="s1-s9-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:53.889" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:47:53.890" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:47:53.890" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:47:53.886" endtime="20231004 15:47:53.890"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:47:53.891" level="INFO"/>
<status status="PASS" starttime="20231004 15:47:53.891" endtime="20231004 15:47:53.892"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:47:53.892" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:47:53.892" endtime="20231004 15:47:53.892"/>
</kw>
<status status="PASS" starttime="20231004 15:47:53.885" endtime="20231004 15:47:53.893"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:47:53.897" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:00.217" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:00.217" level="INFO">${output} = 2023-10-04 15:47:58,177 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:58,386 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:47:53.895" endtime="20231004 15:48:00.217"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:00.218" level="INFO">2023-10-04 15:47:58,177 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:58,386 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:47:58,386 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-10-04 15:47:58,735 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20231004 15:48:00.217" endtime="20231004 15:48:00.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:00.221" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:00.221" endtime="20231004 15:48:00.221"/>
</kw>
<status status="PASS" starttime="20231004 15:47:53.894" endtime="20231004 15:48:00.222"/>
</kw>
<msg timestamp="20231004 15:48:00.222" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:47:53.894" endtime="20231004 15:48:00.223"/>
</kw>
<msg timestamp="20231004 15:48:00.223" level="INFO">${output} = 2023-10-04 15:47:58,177 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:47:58,386 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:47:53.893" endtime="20231004 15:48:00.224"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:00.224" endtime="20231004 15:48:00.224"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:00.228" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:00.231" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:00.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:00.225" endtime="20231004 15:48:00.231"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:00.232" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:00.231" endtime="20231004 15:48:00.232"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:00.233" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:00.233" endtime="20231004 15:48:00.233"/>
</kw>
<status status="PASS" starttime="20231004 15:48:00.224" endtime="20231004 15:48:00.234"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:47:53.884" endtime="20231004 15:48:00.234"/>
</test>
<test id="s1-s9-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:00.240" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:01.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:01.095" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:00.238" endtime="20231004 15:48:01.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:01.097" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:01.096" endtime="20231004 15:48:01.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:01.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:01.097" endtime="20231004 15:48:01.098"/>
</kw>
<status status="PASS" starttime="20231004 15:48:00.237" endtime="20231004 15:48:01.098"/>
</kw>
<msg timestamp="20231004 15:48:01.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:00.237" endtime="20231004 15:48:01.099"/>
</kw>
<status status="PASS" starttime="20231004 15:48:00.236" endtime="20231004 15:48:01.099"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:01.103" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:01.713" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:01.713" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:01.101" endtime="20231004 15:48:01.713"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:01.715" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:01.714" endtime="20231004 15:48:01.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:01.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:01.715" endtime="20231004 15:48:01.716"/>
</kw>
<status status="PASS" starttime="20231004 15:48:01.100" endtime="20231004 15:48:01.717"/>
</kw>
<msg timestamp="20231004 15:48:01.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:01.100" endtime="20231004 15:48:01.717"/>
</kw>
<status status="PASS" starttime="20231004 15:48:01.099" endtime="20231004 15:48:01.718"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:01.722" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:02.305" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:02.305" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:01.720" endtime="20231004 15:48:02.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:02.307" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:02.306" endtime="20231004 15:48:02.307"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:02.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:02.307" endtime="20231004 15:48:02.307"/>
</kw>
<status status="PASS" starttime="20231004 15:48:01.719" endtime="20231004 15:48:02.308"/>
</kw>
<msg timestamp="20231004 15:48:02.308" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:01.719" endtime="20231004 15:48:02.309"/>
</kw>
<status status="PASS" starttime="20231004 15:48:01.718" endtime="20231004 15:48:02.309"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:02.314" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:02.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:02.944" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:02.311" endtime="20231004 15:48:02.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:02.946" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:02.945" endtime="20231004 15:48:02.946"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:02.947" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:02.946" endtime="20231004 15:48:02.947"/>
</kw>
<status status="PASS" starttime="20231004 15:48:02.310" endtime="20231004 15:48:02.947"/>
</kw>
<msg timestamp="20231004 15:48:02.948" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:02.310" endtime="20231004 15:48:02.948"/>
</kw>
<status status="PASS" starttime="20231004 15:48:02.309" endtime="20231004 15:48:02.949"/>
</kw>
<status status="PASS" starttime="20231004 15:48:00.236" endtime="20231004 15:48:02.949"/>
</kw>
<status status="PASS" starttime="20231004 15:48:00.236" endtime="20231004 15:48:02.949"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:00.235" endtime="20231004 15:48:02.949"/>
</test>
<test id="s1-s9-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:48:02.953" level="INFO">${randStr} = 1514621619</msg>
<status status="PASS" starttime="20231004 15:48:02.952" endtime="20231004 15:48:02.953"/>
</kw>
<msg timestamp="20231004 15:48:02.953" level="INFO">${random} = ozone-test-1514621619</msg>
<status status="PASS" starttime="20231004 15:48:02.952" endtime="20231004 15:48:02.953"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:02.959" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-1514621619 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:05.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:05.377" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1514621619"
}</msg>
<status status="PASS" starttime="20231004 15:48:02.956" endtime="20231004 15:48:05.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:05.379" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1514621619"
}</msg>
<status status="PASS" starttime="20231004 15:48:05.378" endtime="20231004 15:48:05.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:05.380" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:05.379" endtime="20231004 15:48:05.380"/>
</kw>
<status status="PASS" starttime="20231004 15:48:02.955" endtime="20231004 15:48:05.380"/>
</kw>
<msg timestamp="20231004 15:48:05.380" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:02.955" endtime="20231004 15:48:05.381"/>
</kw>
<msg timestamp="20231004 15:48:05.381" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1514621619"
}</msg>
<status status="PASS" starttime="20231004 15:48:02.954" endtime="20231004 15:48:05.381"/>
</kw>
<msg timestamp="20231004 15:48:05.382" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1514621619"
}</msg>
<status status="PASS" starttime="20231004 15:48:02.954" endtime="20231004 15:48:05.382"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:05.382" endtime="20231004 15:48:05.382"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:05.383" endtime="20231004 15:48:05.383"/>
</kw>
<msg timestamp="20231004 15:48:05.383" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 15:48:02.953" endtime="20231004 15:48:05.383"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 15:48:05.384" endtime="20231004 15:48:05.384"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:02.951" endtime="20231004 15:48:05.384"/>
</test>
<test id="s1-s9-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:05.390" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:48:05.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:05.391" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:05.387" endtime="20231004 15:48:05.391"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:05.393" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:05.392" endtime="20231004 15:48:05.393"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:05.393" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:05.393" endtime="20231004 15:48:05.394"/>
</kw>
<status status="PASS" starttime="20231004 15:48:05.386" endtime="20231004 15:48:05.394"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:05.398" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:08.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:08.151" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:05.396" endtime="20231004 15:48:08.151"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:08.152" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:08.151" endtime="20231004 15:48:08.153"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:08.153" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:08.153" endtime="20231004 15:48:08.153"/>
</kw>
<msg timestamp="20231004 15:48:08.154" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:05.395" endtime="20231004 15:48:08.154"/>
</kw>
<msg timestamp="20231004 15:48:08.154" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:05.394" endtime="20231004 15:48:08.154"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:08.155" endtime="20231004 15:48:08.155"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:08.160" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:08.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:08.169" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:08.156" endtime="20231004 15:48:08.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:08.171" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:08.170" endtime="20231004 15:48:08.171"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:08.173" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:08.171" endtime="20231004 15:48:08.173"/>
</kw>
<status status="PASS" starttime="20231004 15:48:08.155" endtime="20231004 15:48:08.173"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:05.385" endtime="20231004 15:48:08.174"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 15:47:35.129" endtime="20231004 15:48:08.178"/>
</suite>
<suite id="s1-s10" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s10-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:48:11.917" level="INFO">${random} = 78436</msg>
<status status="PASS" starttime="20231004 15:48:11.916" endtime="20231004 15:48:11.917"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:11.925" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-78436 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:17.900" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:17.901" level="INFO">${output} = 2023-10-04 15:48:16,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:48:16,388 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:48:11.920" endtime="20231004 15:48:17.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:17.902" level="INFO">2023-10-04 15:48:16,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:48:16,388 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-10-04 15:48:16,388 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20231004 15:48:17.901" endtime="20231004 15:48:17.902"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:17.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:17.902" endtime="20231004 15:48:17.903"/>
</kw>
<status status="PASS" starttime="20231004 15:48:11.920" endtime="20231004 15:48:17.904"/>
</kw>
<msg timestamp="20231004 15:48:17.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:11.919" endtime="20231004 15:48:17.905"/>
</kw>
<msg timestamp="20231004 15:48:17.906" level="INFO">${output} = 2023-10-04 15:48:16,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-10-04 15:48:16,388 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231004 15:48:11.917" endtime="20231004 15:48:17.906"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:17.906" endtime="20231004 15:48:17.906"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:17.910" level="INFO">Running command 'cat /tmp/key-78436 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:17.912" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:17.913" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:17.907" endtime="20231004 15:48:17.913"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:17.914" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:17.913" endtime="20231004 15:48:17.914"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:17.915" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:17.914" endtime="20231004 15:48:17.915"/>
</kw>
<msg timestamp="20231004 15:48:17.915" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:17.907" endtime="20231004 15:48:17.915"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:17.916" endtime="20231004 15:48:17.917"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:17.920" level="INFO">Running command 'rm /tmp/key-78436 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:17.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:17.923" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:17.918" endtime="20231004 15:48:17.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:17.924" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:17.924" endtime="20231004 15:48:17.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:17.925" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:17.925" endtime="20231004 15:48:17.926"/>
</kw>
<status status="PASS" starttime="20231004 15:48:17.917" endtime="20231004 15:48:17.926"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:11.915" endtime="20231004 15:48:17.926"/>
</test>
<test id="s1-s10-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:17.934" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:18.554" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:18.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:17.931" endtime="20231004 15:48:18.554"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:18.555" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:18.555" endtime="20231004 15:48:18.555"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:18.556" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:18.556" endtime="20231004 15:48:18.556"/>
</kw>
<status status="PASS" starttime="20231004 15:48:17.930" endtime="20231004 15:48:18.557"/>
</kw>
<msg timestamp="20231004 15:48:18.557" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:17.930" endtime="20231004 15:48:18.558"/>
</kw>
<status status="PASS" starttime="20231004 15:48:17.930" endtime="20231004 15:48:18.558"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:18.562" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:19.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:19.199" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:18.560" endtime="20231004 15:48:19.199"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:19.200" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:19.199" endtime="20231004 15:48:19.200"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:19.201" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:19.200" endtime="20231004 15:48:19.201"/>
</kw>
<status status="PASS" starttime="20231004 15:48:18.559" endtime="20231004 15:48:19.202"/>
</kw>
<msg timestamp="20231004 15:48:19.202" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:18.559" endtime="20231004 15:48:19.202"/>
</kw>
<status status="PASS" starttime="20231004 15:48:18.558" endtime="20231004 15:48:19.202"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:19.207" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:19.960" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:19.961" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:19.204" endtime="20231004 15:48:19.961"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:19.962" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:19.961" endtime="20231004 15:48:19.962"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:19.963" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:19.962" endtime="20231004 15:48:19.963"/>
</kw>
<status status="PASS" starttime="20231004 15:48:19.204" endtime="20231004 15:48:19.963"/>
</kw>
<msg timestamp="20231004 15:48:19.963" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:19.203" endtime="20231004 15:48:19.964"/>
</kw>
<status status="PASS" starttime="20231004 15:48:19.203" endtime="20231004 15:48:19.964"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:19.969" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:20.584" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:20.585" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:19.966" endtime="20231004 15:48:20.585"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:20.586" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:20.585" endtime="20231004 15:48:20.586"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:20.587" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:20.586" endtime="20231004 15:48:20.587"/>
</kw>
<status status="PASS" starttime="20231004 15:48:19.965" endtime="20231004 15:48:20.587"/>
</kw>
<msg timestamp="20231004 15:48:20.587" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:19.965" endtime="20231004 15:48:20.588"/>
</kw>
<status status="PASS" starttime="20231004 15:48:19.964" endtime="20231004 15:48:20.588"/>
</kw>
<status status="PASS" starttime="20231004 15:48:17.929" endtime="20231004 15:48:20.589"/>
</kw>
<status status="PASS" starttime="20231004 15:48:17.929" endtime="20231004 15:48:20.589"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:17.928" endtime="20231004 15:48:20.589"/>
</test>
<test id="s1-s10-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:20.596" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:21.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:21.660" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:20.594" endtime="20231004 15:48:21.660"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:21.662" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:48:21 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:48:21.661" endtime="20231004 15:48:21.662"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:21.663" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:21.662" endtime="20231004 15:48:21.663"/>
</kw>
<msg timestamp="20231004 15:48:21.663" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:20.593" endtime="20231004 15:48:21.663"/>
</kw>
<msg timestamp="20231004 15:48:21.664" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:20.592" endtime="20231004 15:48:21.664"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:21.665" endtime="20231004 15:48:21.665"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:21.670" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:21.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:21.681" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:21.667" endtime="20231004 15:48:21.681"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:21.682" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:21.682" endtime="20231004 15:48:21.682"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:21.683" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:21.682" endtime="20231004 15:48:21.683"/>
</kw>
<msg timestamp="20231004 15:48:21.684" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:48:21.665" endtime="20231004 15:48:21.684"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:21.684" endtime="20231004 15:48:21.685"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:21.694" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:21.697" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:21.697" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:21.686" endtime="20231004 15:48:21.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:21.698" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:21.697" endtime="20231004 15:48:21.699"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:21.699" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:21.699" endtime="20231004 15:48:21.700"/>
</kw>
<status status="PASS" starttime="20231004 15:48:21.685" endtime="20231004 15:48:21.700"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:20.591" endtime="20231004 15:48:21.700"/>
</test>
<test id="s1-s10-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:21.718" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:22.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:22.588" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:21.710" endtime="20231004 15:48:22.588"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:22.590" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:48:22 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:48:22.589" endtime="20231004 15:48:22.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:22.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:22.590" endtime="20231004 15:48:22.591"/>
</kw>
<msg timestamp="20231004 15:48:22.592" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:21.707" endtime="20231004 15:48:22.592"/>
</kw>
<msg timestamp="20231004 15:48:22.592" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:48:21.706" endtime="20231004 15:48:22.592"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:22.593" endtime="20231004 15:48:22.593"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:22.597" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:22.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:22.601" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:48:22.594" endtime="20231004 15:48:22.602"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:22.603" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:48:22.603" endtime="20231004 15:48:22.604"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:22.605" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:22.604" endtime="20231004 15:48:22.605"/>
</kw>
<msg timestamp="20231004 15:48:22.606" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:48:22.593" endtime="20231004 15:48:22.606"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:22.606" endtime="20231004 15:48:22.606"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:22.610" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:22.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:22.614" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:48:22.608" endtime="20231004 15:48:22.614"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:22.616" level="INFO"/>
<status status="PASS" starttime="20231004 15:48:22.615" endtime="20231004 15:48:22.616"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:22.616" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:22.616" endtime="20231004 15:48:22.617"/>
</kw>
<status status="PASS" starttime="20231004 15:48:22.607" endtime="20231004 15:48:22.617"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:21.705" endtime="20231004 15:48:22.617"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:48:11.813" endtime="20231004 15:48:22.619"/>
</suite>
<suite id="s1-s11" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s11-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:48:26.438" endtime="20231004 15:48:26.439"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:48:26.439" endtime="20231004 15:48:26.440"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:48:26.446" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:48:35.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:48:35.323" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20231004 15:48:26.441" endtime="20231004 15:48:35.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:48:35.324" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20231004 15:48:35.323" endtime="20231004 15:48:35.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:48:35.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:48:35.325" endtime="20231004 15:48:35.325"/>
</kw>
<status status="PASS" starttime="20231004 15:48:26.441" endtime="20231004 15:48:35.326"/>
</kw>
<msg timestamp="20231004 15:48:35.326" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:48:26.440" endtime="20231004 15:48:35.327"/>
</kw>
<msg timestamp="20231004 15:48:35.327" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20231004 15:48:26.440" endtime="20231004 15:48:35.328"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:48:35.328" endtime="20231004 15:48:35.329"/>
</kw>
<status status="PASS" starttime="20231004 15:48:35.328" endtime="20231004 15:48:35.329"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:48:26.437" endtime="20231004 15:48:35.329"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20231004 15:48:26.372" endtime="20231004 15:48:35.331"/>
</suite>
<suite id="s1-s12" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s12-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:02:39.809" endtime="20231004 16:02:39.810"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:02:39.817" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:04:40.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:04:40.194" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20231004 16:02:39.813" endtime="20231004 16:04:40.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:40.196" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20231004 16:04:40.195" endtime="20231004 16:04:40.196"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:04:40.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:04:40.196" endtime="20231004 16:04:40.197"/>
</kw>
<status status="PASS" starttime="20231004 16:02:39.812" endtime="20231004 16:04:40.197"/>
</kw>
<msg timestamp="20231004 16:04:40.197" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:02:39.811" endtime="20231004 16:04:40.198"/>
</kw>
<msg timestamp="20231004 16:04:40.198" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20231004 16:02:39.811" endtime="20231004 16:04:40.198"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:40.199" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20231004 16:04:40.198" endtime="20231004 16:04:40.199"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:02:39.807" endtime="20231004 16:04:40.199"/>
</test>
<test id="s1-s12-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:04:40.202" endtime="20231004 16:04:40.203"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:04:40.209" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:04:48.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:04:48.034" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20231004 16:04:40.206" endtime="20231004 16:04:48.034"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:48.035" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20231004 16:04:48.034" endtime="20231004 16:04:48.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:04:48.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:04:48.036" endtime="20231004 16:04:48.036"/>
</kw>
<status status="PASS" starttime="20231004 16:04:40.205" endtime="20231004 16:04:48.037"/>
</kw>
<msg timestamp="20231004 16:04:48.037" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:04:40.205" endtime="20231004 16:04:48.037"/>
</kw>
<msg timestamp="20231004 16:04:48.037" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20231004 16:04:40.203" endtime="20231004 16:04:48.037"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:48.038" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20231004 16:04:48.037" endtime="20231004 16:04:48.038"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:04:40.200" endtime="20231004 16:04:48.038"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 16:02:39.694" endtime="20231004 16:04:48.040"/>
</suite>
<suite id="s1-s13" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s13-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:04:52.339" endtime="20231004 16:04:52.340"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:04:52.346" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:04:52.350" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:04:52.350" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 16:04:52.342" endtime="20231004 16:04:52.350"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:52.351" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 16:04:52.350" endtime="20231004 16:04:52.351"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:04:52.353" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:04:52.352" endtime="20231004 16:04:52.353"/>
</kw>
<status status="PASS" starttime="20231004 16:04:52.341" endtime="20231004 16:04:52.353"/>
</kw>
<msg timestamp="20231004 16:04:52.353" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:04:52.341" endtime="20231004 16:04:52.353"/>
</kw>
<msg timestamp="20231004 16:04:52.354" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 16:04:52.340" endtime="20231004 16:04:52.354"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:52.355" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 16:04:52.354" endtime="20231004 16:04:52.355"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 16:04:52.355" endtime="20231004 16:04:52.356"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:04:52.361" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:04:59.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:04:59.560" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:52.358" endtime="20231004 16:04:59.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:59.562" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:59.561" endtime="20231004 16:04:59.562"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:04:59.563" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:04:59.562" endtime="20231004 16:04:59.563"/>
</kw>
<status status="PASS" starttime="20231004 16:04:52.357" endtime="20231004 16:04:59.563"/>
</kw>
<msg timestamp="20231004 16:04:59.563" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:04:52.357" endtime="20231004 16:04:59.564"/>
</kw>
<msg timestamp="20231004 16:04:59.564" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:52.356" endtime="20231004 16:04:59.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:04:59.565" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:59.564" endtime="20231004 16:04:59.565"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 16:04:59.565" endtime="20231004 16:04:59.566"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:04:52.337" endtime="20231004 16:04:59.566"/>
</test>
<test id="s1-s13-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:04:59.569" endtime="20231004 16:04:59.569"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 16:04:59.570" endtime="20231004 16:04:59.570"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:04:59.575" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:07.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:07.872" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:59.572" endtime="20231004 16:05:07.872"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:07.874" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:05:07.873" endtime="20231004 16:05:07.875"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:07.876" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:07.875" endtime="20231004 16:05:07.876"/>
</kw>
<status status="PASS" starttime="20231004 16:04:59.571" endtime="20231004 16:05:07.877"/>
</kw>
<msg timestamp="20231004 16:05:07.877" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:04:59.571" endtime="20231004 16:05:07.877"/>
</kw>
<msg timestamp="20231004 16:05:07.877" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:04:59.570" endtime="20231004 16:05:07.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:07.878" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:05:07.878" endtime="20231004 16:05:07.878"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 16:05:07.879" endtime="20231004 16:05:07.880"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:04:59.568" endtime="20231004 16:05:07.880"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 16:04:52.244" endtime="20231004 16:05:07.883"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:05:12.045" level="INFO">${random} = 11088</msg>
<status status="PASS" starttime="20231004 16:05:12.043" endtime="20231004 16:05:12.045"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:12.053" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-11088 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:24.490" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:24.490" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:12.047" endtime="20231004 16:05:24.490"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:24.491" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:24.491" endtime="20231004 16:05:24.492"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:24.495" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:24.494" endtime="20231004 16:05:24.495"/>
</kw>
<status status="PASS" starttime="20231004 16:05:12.046" endtime="20231004 16:05:24.496"/>
</kw>
<msg timestamp="20231004 16:05:24.496" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:12.046" endtime="20231004 16:05:24.496"/>
</kw>
<msg timestamp="20231004 16:05:24.496" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:12.045" endtime="20231004 16:05:24.496"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:24.497" endtime="20231004 16:05:24.498"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:24.507" level="INFO">Running command 'cat /tmp/key-11088 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:24.517" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:24.517" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:24.499" endtime="20231004 16:05:24.517"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:24.520" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:24.518" endtime="20231004 16:05:24.520"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:24.521" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:24.521" endtime="20231004 16:05:24.522"/>
</kw>
<msg timestamp="20231004 16:05:24.522" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:24.498" endtime="20231004 16:05:24.522"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:24.522" endtime="20231004 16:05:24.524"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:24.531" level="INFO">Running command 'rm /tmp/key-11088 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:24.537" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:24.537" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:24.525" endtime="20231004 16:05:24.537"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:24.541" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:24.538" endtime="20231004 16:05:24.541"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:24.542" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:24.542" endtime="20231004 16:05:24.543"/>
</kw>
<status status="PASS" starttime="20231004 16:05:24.524" endtime="20231004 16:05:24.543"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:12.042" endtime="20231004 16:05:24.543"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:24.555" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:26.113" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:26.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:24.551" endtime="20231004 16:05:26.113"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:26.115" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:26.114" endtime="20231004 16:05:26.115"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:26.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:26.115" endtime="20231004 16:05:26.116"/>
</kw>
<status status="PASS" starttime="20231004 16:05:24.550" endtime="20231004 16:05:26.116"/>
</kw>
<msg timestamp="20231004 16:05:26.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:24.549" endtime="20231004 16:05:26.116"/>
</kw>
<status status="PASS" starttime="20231004 16:05:24.548" endtime="20231004 16:05:26.116"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:26.122" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:27.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:27.040" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:26.119" endtime="20231004 16:05:27.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:27.042" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:27.041" endtime="20231004 16:05:27.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:27.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:27.043" endtime="20231004 16:05:27.044"/>
</kw>
<status status="PASS" starttime="20231004 16:05:26.118" endtime="20231004 16:05:27.044"/>
</kw>
<msg timestamp="20231004 16:05:27.044" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:26.117" endtime="20231004 16:05:27.045"/>
</kw>
<status status="PASS" starttime="20231004 16:05:26.117" endtime="20231004 16:05:27.045"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:27.051" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:27.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:27.987" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:27.047" endtime="20231004 16:05:27.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:27.990" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:27.988" endtime="20231004 16:05:27.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:27.991" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:27.990" endtime="20231004 16:05:27.991"/>
</kw>
<status status="PASS" starttime="20231004 16:05:27.046" endtime="20231004 16:05:27.991"/>
</kw>
<msg timestamp="20231004 16:05:27.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:27.046" endtime="20231004 16:05:27.991"/>
</kw>
<status status="PASS" starttime="20231004 16:05:27.045" endtime="20231004 16:05:27.991"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:27.997" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:28.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:28.981" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:27.994" endtime="20231004 16:05:28.981"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:28.983" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:28.982" endtime="20231004 16:05:28.983"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:28.984" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:28.983" endtime="20231004 16:05:28.984"/>
</kw>
<status status="PASS" starttime="20231004 16:05:27.993" endtime="20231004 16:05:28.985"/>
</kw>
<msg timestamp="20231004 16:05:28.985" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:27.993" endtime="20231004 16:05:28.985"/>
</kw>
<status status="PASS" starttime="20231004 16:05:27.992" endtime="20231004 16:05:28.985"/>
</kw>
<status status="PASS" starttime="20231004 16:05:24.548" endtime="20231004 16:05:28.985"/>
</kw>
<status status="PASS" starttime="20231004 16:05:24.547" endtime="20231004 16:05:28.985"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:24.545" endtime="20231004 16:05:28.986"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:28.993" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:37.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:37.799" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:28.990" endtime="20231004 16:05:37.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:37.802" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:05:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:05:37.800" endtime="20231004 16:05:37.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:37.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:37.802" endtime="20231004 16:05:37.803"/>
</kw>
<msg timestamp="20231004 16:05:37.803" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:28.990" endtime="20231004 16:05:37.803"/>
</kw>
<msg timestamp="20231004 16:05:37.803" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:28.989" endtime="20231004 16:05:37.803"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:37.804" endtime="20231004 16:05:37.804"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:37.808" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:37.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:37.811" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:37.805" endtime="20231004 16:05:37.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:37.813" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:37.812" endtime="20231004 16:05:37.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:37.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:37.813" endtime="20231004 16:05:37.814"/>
</kw>
<msg timestamp="20231004 16:05:37.814" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:37.804" endtime="20231004 16:05:37.814"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:37.815" endtime="20231004 16:05:37.815"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:37.820" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:37.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:37.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:37.816" endtime="20231004 16:05:37.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:37.825" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:37.824" endtime="20231004 16:05:37.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:37.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:37.825" endtime="20231004 16:05:37.825"/>
</kw>
<status status="PASS" starttime="20231004 16:05:37.816" endtime="20231004 16:05:37.826"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:28.987" endtime="20231004 16:05:37.826"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:37.834" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:39.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:39.378" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:37.831" endtime="20231004 16:05:39.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:39.380" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:05:38 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:05:39.379" endtime="20231004 16:05:39.380"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:39.381" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:39.381" endtime="20231004 16:05:39.382"/>
</kw>
<msg timestamp="20231004 16:05:39.382" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:37.830" endtime="20231004 16:05:39.382"/>
</kw>
<msg timestamp="20231004 16:05:39.383" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:59:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:37.829" endtime="20231004 16:05:39.383"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:39.383" endtime="20231004 16:05:39.384"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:39.390" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:39.394" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:39.394" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:05:39.385" endtime="20231004 16:05:39.394"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:39.397" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:05:39.395" endtime="20231004 16:05:39.397"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:39.398" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:39.397" endtime="20231004 16:05:39.398"/>
</kw>
<msg timestamp="20231004 16:05:39.399" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:05:39.384" endtime="20231004 16:05:39.399"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:39.399" endtime="20231004 16:05:39.401"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:39.407" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:39.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:39.411" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:39.402" endtime="20231004 16:05:39.411"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:39.413" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:39.412" endtime="20231004 16:05:39.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:39.421" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:39.413" endtime="20231004 16:05:39.421"/>
</kw>
<status status="PASS" starttime="20231004 16:05:39.401" endtime="20231004 16:05:39.422"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:37.827" endtime="20231004 16:05:39.422"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 16:05:11.841" endtime="20231004 16:05:39.426"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:05:44.052" level="INFO">${random} = 06740</msg>
<status status="PASS" starttime="20231004 16:05:44.051" endtime="20231004 16:05:44.052"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:44.062" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-06740 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:54.581" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:54.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:44.056" endtime="20231004 16:05:54.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:54.583" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:54.582" endtime="20231004 16:05:54.583"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:54.584" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:54.584" endtime="20231004 16:05:54.584"/>
</kw>
<status status="PASS" starttime="20231004 16:05:44.055" endtime="20231004 16:05:54.585"/>
</kw>
<msg timestamp="20231004 16:05:54.585" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:44.055" endtime="20231004 16:05:54.585"/>
</kw>
<msg timestamp="20231004 16:05:54.585" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:44.052" endtime="20231004 16:05:54.585"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:54.585" endtime="20231004 16:05:54.586"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:54.591" level="INFO">Running command 'cat /tmp/key-06740 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:54.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:54.595" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:54.587" endtime="20231004 16:05:54.596"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:54.598" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:54.596" endtime="20231004 16:05:54.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:54.599" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:54.598" endtime="20231004 16:05:54.599"/>
</kw>
<msg timestamp="20231004 16:05:54.600" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:54.586" endtime="20231004 16:05:54.600"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:54.600" endtime="20231004 16:05:54.601"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:54.606" level="INFO">Running command 'rm /tmp/key-06740 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:54.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:54.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:54.602" endtime="20231004 16:05:54.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:54.613" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:54.612" endtime="20231004 16:05:54.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:54.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:54.613" endtime="20231004 16:05:54.614"/>
</kw>
<status status="PASS" starttime="20231004 16:05:54.601" endtime="20231004 16:05:54.614"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:44.050" endtime="20231004 16:05:54.615"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:54.625" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:55.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:55.440" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:54.621" endtime="20231004 16:05:55.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:55.442" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:55.441" endtime="20231004 16:05:55.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:55.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:55.443" endtime="20231004 16:05:55.444"/>
</kw>
<status status="PASS" starttime="20231004 16:05:54.621" endtime="20231004 16:05:55.444"/>
</kw>
<msg timestamp="20231004 16:05:55.445" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:54.620" endtime="20231004 16:05:55.445"/>
</kw>
<status status="PASS" starttime="20231004 16:05:54.619" endtime="20231004 16:05:55.445"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:55.452" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:56.390" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:56.390" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:55.448" endtime="20231004 16:05:56.390"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:56.391" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:56.390" endtime="20231004 16:05:56.392"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:56.392" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:56.392" endtime="20231004 16:05:56.393"/>
</kw>
<status status="PASS" starttime="20231004 16:05:55.447" endtime="20231004 16:05:56.393"/>
</kw>
<msg timestamp="20231004 16:05:56.393" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:55.447" endtime="20231004 16:05:56.393"/>
</kw>
<status status="PASS" starttime="20231004 16:05:55.446" endtime="20231004 16:05:56.393"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:56.399" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:57.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:57.424" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:56.396" endtime="20231004 16:05:57.425"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:57.427" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:57.425" endtime="20231004 16:05:57.427"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:57.428" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:57.427" endtime="20231004 16:05:57.429"/>
</kw>
<status status="PASS" starttime="20231004 16:05:56.395" endtime="20231004 16:05:57.429"/>
</kw>
<msg timestamp="20231004 16:05:57.429" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:56.394" endtime="20231004 16:05:57.430"/>
</kw>
<status status="PASS" starttime="20231004 16:05:56.394" endtime="20231004 16:05:57.430"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:57.436" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:58.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:58.376" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:57.433" endtime="20231004 16:05:58.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:58.379" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:58.378" endtime="20231004 16:05:58.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:58.385" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:58.380" endtime="20231004 16:05:58.385"/>
</kw>
<status status="PASS" starttime="20231004 16:05:57.432" endtime="20231004 16:05:58.385"/>
</kw>
<msg timestamp="20231004 16:05:58.385" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:05:57.431" endtime="20231004 16:05:58.385"/>
</kw>
<status status="PASS" starttime="20231004 16:05:57.430" endtime="20231004 16:05:58.386"/>
</kw>
<status status="PASS" starttime="20231004 16:05:54.619" endtime="20231004 16:05:58.386"/>
</kw>
<status status="PASS" starttime="20231004 16:05:54.618" endtime="20231004 16:05:58.386"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:54.617" endtime="20231004 16:05:58.386"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:58.407" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:59.544" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:59.544" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:58.397" endtime="20231004 16:05:59.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:59.546" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:05:59 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:05:59.545" endtime="20231004 16:05:59.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:59.547" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:59.547" endtime="20231004 16:05:59.548"/>
</kw>
<msg timestamp="20231004 16:05:59.548" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:58.394" endtime="20231004 16:05:59.548"/>
</kw>
<msg timestamp="20231004 16:05:59.548" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:58.393" endtime="20231004 16:05:59.548"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:59.549" endtime="20231004 16:05:59.550"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:59.555" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:59.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:59.559" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:59.551" endtime="20231004 16:05:59.559"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:59.561" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:59.560" endtime="20231004 16:05:59.561"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:59.562" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:59.562" endtime="20231004 16:05:59.563"/>
</kw>
<msg timestamp="20231004 16:05:59.563" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:05:59.550" endtime="20231004 16:05:59.563"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:05:59.563" endtime="20231004 16:05:59.564"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:59.568" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:05:59.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:05:59.572" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:05:59.565" endtime="20231004 16:05:59.572"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:05:59.574" level="INFO"/>
<status status="PASS" starttime="20231004 16:05:59.573" endtime="20231004 16:05:59.574"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:05:59.575" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:05:59.574" endtime="20231004 16:05:59.575"/>
</kw>
<status status="PASS" starttime="20231004 16:05:59.564" endtime="20231004 16:05:59.575"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:58.390" endtime="20231004 16:05:59.576"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:05:59.585" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:00.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:00.674" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:59.582" endtime="20231004 16:06:00.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:00.677" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:06:00 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:06:00.675" endtime="20231004 16:06:00.677"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:00.678" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:00.677" endtime="20231004 16:06:00.678"/>
</kw>
<msg timestamp="20231004 16:06:00.678" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:59.581" endtime="20231004 16:06:00.679"/>
</kw>
<msg timestamp="20231004 16:06:00.679" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:05:59.579" endtime="20231004 16:06:00.679"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:00.679" endtime="20231004 16:06:00.681"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:00.686" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:00.690" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:00.690" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:00.682" endtime="20231004 16:06:00.690"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:00.692" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:00.691" endtime="20231004 16:06:00.692"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:00.693" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:00.693" endtime="20231004 16:06:00.694"/>
</kw>
<msg timestamp="20231004 16:06:00.694" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:00.681" endtime="20231004 16:06:00.694"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:00.695" endtime="20231004 16:06:00.695"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:00.699" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:00.703" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:00.703" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:00.696" endtime="20231004 16:06:00.703"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:00.704" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:00.703" endtime="20231004 16:06:00.704"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:00.705" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:00.704" endtime="20231004 16:06:00.705"/>
</kw>
<status status="PASS" starttime="20231004 16:06:00.695" endtime="20231004 16:06:00.706"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:05:59.578" endtime="20231004 16:06:00.706"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 16:05:43.776" endtime="20231004 16:06:00.709"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:06:04.872" level="INFO">${random} = 55167</msg>
<status status="PASS" starttime="20231004 16:06:04.871" endtime="20231004 16:06:04.872"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:04.878" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-55167 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:15.016" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:15.016" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:04.874" endtime="20231004 16:06:15.016"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:15.018" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:15.017" endtime="20231004 16:06:15.018"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:15.019" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:15.018" endtime="20231004 16:06:15.019"/>
</kw>
<status status="PASS" starttime="20231004 16:06:04.873" endtime="20231004 16:06:15.020"/>
</kw>
<msg timestamp="20231004 16:06:15.020" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:04.873" endtime="20231004 16:06:15.020"/>
</kw>
<msg timestamp="20231004 16:06:15.020" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:04.872" endtime="20231004 16:06:15.020"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:15.021" endtime="20231004 16:06:15.022"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:15.027" level="INFO">Running command 'cat /tmp/key-55167 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:15.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:15.031" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:15.023" endtime="20231004 16:06:15.031"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:15.033" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:15.032" endtime="20231004 16:06:15.033"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:15.034" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:15.033" endtime="20231004 16:06:15.034"/>
</kw>
<msg timestamp="20231004 16:06:15.034" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:15.022" endtime="20231004 16:06:15.035"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:15.035" endtime="20231004 16:06:15.035"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:15.040" level="INFO">Running command 'rm /tmp/key-55167 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:15.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:15.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:15.037" endtime="20231004 16:06:15.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:15.045" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:15.045" endtime="20231004 16:06:15.046"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:15.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:15.046" endtime="20231004 16:06:15.047"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.036" endtime="20231004 16:06:15.047"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:04.870" endtime="20231004 16:06:15.047"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:15.056" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:15.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:15.907" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:15.053" endtime="20231004 16:06:15.907"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:15.909" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:15.908" endtime="20231004 16:06:15.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:15.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:15.910" endtime="20231004 16:06:15.911"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.052" endtime="20231004 16:06:15.911"/>
</kw>
<msg timestamp="20231004 16:06:15.911" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:15.052" endtime="20231004 16:06:15.912"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.051" endtime="20231004 16:06:15.912"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:15.919" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:16.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:16.876" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:15.916" endtime="20231004 16:06:16.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:16.881" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:16.877" endtime="20231004 16:06:16.881"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:16.885" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:16.881" endtime="20231004 16:06:16.885"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.915" endtime="20231004 16:06:16.885"/>
</kw>
<msg timestamp="20231004 16:06:16.885" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:15.914" endtime="20231004 16:06:16.885"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.913" endtime="20231004 16:06:16.885"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:16.904" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:17.918" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:17.918" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:16.887" endtime="20231004 16:06:17.918"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:17.930" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:17.919" endtime="20231004 16:06:17.930"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:17.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:17.930" endtime="20231004 16:06:17.935"/>
</kw>
<status status="PASS" starttime="20231004 16:06:16.887" endtime="20231004 16:06:17.937"/>
</kw>
<msg timestamp="20231004 16:06:17.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:16.886" endtime="20231004 16:06:17.937"/>
</kw>
<status status="PASS" starttime="20231004 16:06:16.886" endtime="20231004 16:06:17.937"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:17.945" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:19.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:19.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:17.941" endtime="20231004 16:06:19.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:19.030" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:19.029" endtime="20231004 16:06:19.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:19.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:19.030" endtime="20231004 16:06:19.032"/>
</kw>
<status status="PASS" starttime="20231004 16:06:17.940" endtime="20231004 16:06:19.032"/>
</kw>
<msg timestamp="20231004 16:06:19.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:17.939" endtime="20231004 16:06:19.032"/>
</kw>
<status status="PASS" starttime="20231004 16:06:17.938" endtime="20231004 16:06:19.032"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.051" endtime="20231004 16:06:19.032"/>
</kw>
<status status="PASS" starttime="20231004 16:06:15.050" endtime="20231004 16:06:19.032"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:15.049" endtime="20231004 16:06:19.033"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:19.042" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:20.452" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:20.453" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:19.038" endtime="20231004 16:06:20.453"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:20.455" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:06:20 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:06:20.453" endtime="20231004 16:06:20.455"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:20.456" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:20.455" endtime="20231004 16:06:20.457"/>
</kw>
<msg timestamp="20231004 16:06:20.457" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:19.037" endtime="20231004 16:06:20.457"/>
</kw>
<msg timestamp="20231004 16:06:20.457" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:19.036" endtime="20231004 16:06:20.458"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:20.458" endtime="20231004 16:06:20.459"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:20.465" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:20.469" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:20.469" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:20.460" endtime="20231004 16:06:20.469"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:20.471" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:20.470" endtime="20231004 16:06:20.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:20.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:20.472" endtime="20231004 16:06:20.473"/>
</kw>
<msg timestamp="20231004 16:06:20.473" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:06:20.459" endtime="20231004 16:06:20.473"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:20.474" endtime="20231004 16:06:20.474"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:20.480" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:20.484" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:20.484" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:20.475" endtime="20231004 16:06:20.484"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:20.487" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:20.484" endtime="20231004 16:06:20.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:20.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:20.487" endtime="20231004 16:06:20.488"/>
</kw>
<status status="PASS" starttime="20231004 16:06:20.475" endtime="20231004 16:06:20.488"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:19.034" endtime="20231004 16:06:20.489"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:20.497" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:22.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:22.069" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:20.494" endtime="20231004 16:06:22.069"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:22.071" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:06:21 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:06:22.070" endtime="20231004 16:06:22.072"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:22.073" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:22.072" endtime="20231004 16:06:22.073"/>
</kw>
<msg timestamp="20231004 16:06:22.074" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:20.493" endtime="20231004 16:06:22.074"/>
</kw>
<msg timestamp="20231004 16:06:22.074" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:58:47 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:06:20.492" endtime="20231004 16:06:22.074"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:22.074" endtime="20231004 16:06:22.075"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:22.082" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:22.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:22.090" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:22.077" endtime="20231004 16:06:22.090"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:22.092" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:22.090" endtime="20231004 16:06:22.092"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:22.096" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:22.092" endtime="20231004 16:06:22.096"/>
</kw>
<msg timestamp="20231004 16:06:22.097" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:06:22.076" endtime="20231004 16:06:22.097"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:22.099" endtime="20231004 16:06:22.100"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:22.106" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:22.111" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:22.111" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:22.102" endtime="20231004 16:06:22.111"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:22.113" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:22.112" endtime="20231004 16:06:22.113"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:22.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:22.113" endtime="20231004 16:06:22.115"/>
</kw>
<status status="PASS" starttime="20231004 16:06:22.101" endtime="20231004 16:06:22.115"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:20.490" endtime="20231004 16:06:22.116"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 16:06:04.723" endtime="20231004 16:06:22.120"/>
</suite>
<suite id="s1-s17" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s17-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:26.813" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:34.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:34.136" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:26.807" endtime="20231004 16:06:34.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:34.140" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:34.137" endtime="20231004 16:06:34.140"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:34.141" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:34.140" endtime="20231004 16:06:34.141"/>
</kw>
<status status="PASS" starttime="20231004 16:06:26.807" endtime="20231004 16:06:34.142"/>
</kw>
<msg timestamp="20231004 16:06:34.142" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:26.805" endtime="20231004 16:06:34.142"/>
</kw>
<msg timestamp="20231004 16:06:34.143" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:26.803" endtime="20231004 16:06:34.143"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:34.143" endtime="20231004 16:06:34.144"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:34.153" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:40.857" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:40.857" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:34.148" endtime="20231004 16:06:40.857"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:40.859" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:40.858" endtime="20231004 16:06:40.859"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:40.860" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:40.860" endtime="20231004 16:06:40.861"/>
</kw>
<status status="PASS" starttime="20231004 16:06:34.147" endtime="20231004 16:06:40.861"/>
</kw>
<msg timestamp="20231004 16:06:40.861" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:34.146" endtime="20231004 16:06:40.861"/>
</kw>
<msg timestamp="20231004 16:06:40.861" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:34.145" endtime="20231004 16:06:40.861"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:40.862" endtime="20231004 16:06:40.863"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:26.801" endtime="20231004 16:06:40.863"/>
</test>
<test id="s1-s17-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:40.872" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 16:06:40.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:40.876" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:40.868" endtime="20231004 16:06:40.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:40.878" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:40.877" endtime="20231004 16:06:40.878"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:40.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:40.878" endtime="20231004 16:06:40.879"/>
</kw>
<status status="PASS" starttime="20231004 16:06:40.867" endtime="20231004 16:06:40.880"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:40.886" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:53.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:53.063" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:40.883" endtime="20231004 16:06:53.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:53.065" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:53.064" endtime="20231004 16:06:53.065"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:53.066" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:53.066" endtime="20231004 16:06:53.067"/>
</kw>
<status status="PASS" starttime="20231004 16:06:40.882" endtime="20231004 16:06:53.067"/>
</kw>
<msg timestamp="20231004 16:06:53.067" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:40.881" endtime="20231004 16:06:53.067"/>
</kw>
<msg timestamp="20231004 16:06:53.068" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:40.880" endtime="20231004 16:06:53.068"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:53.068" endtime="20231004 16:06:53.069"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:53.073" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:53.078" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:53.078" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:53.070" endtime="20231004 16:06:53.078"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:53.081" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:53.079" endtime="20231004 16:06:53.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:53.083" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:53.082" endtime="20231004 16:06:53.083"/>
</kw>
<status status="PASS" starttime="20231004 16:06:53.069" endtime="20231004 16:06:53.084"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:40.866" endtime="20231004 16:06:53.085"/>
</test>
<test id="s1-s17-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:53.095" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:06:59.232" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:59.232" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:53.092" endtime="20231004 16:06:59.232"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:59.234" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:59.233" endtime="20231004 16:06:59.234"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:59.235" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:59.235" endtime="20231004 16:06:59.235"/>
</kw>
<status status="PASS" starttime="20231004 16:06:53.091" endtime="20231004 16:06:59.236"/>
</kw>
<msg timestamp="20231004 16:06:59.236" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:53.090" endtime="20231004 16:06:59.236"/>
</kw>
<msg timestamp="20231004 16:06:59.237" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:53.089" endtime="20231004 16:06:59.237"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:06:59.237" endtime="20231004 16:06:59.238"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:53.088" endtime="20231004 16:06:59.238"/>
</test>
<test id="s1-s17-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:59.248" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 16:06:59.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:06:59.251" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:59.243" endtime="20231004 16:06:59.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:06:59.253" level="INFO"/>
<status status="PASS" starttime="20231004 16:06:59.252" endtime="20231004 16:06:59.253"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:06:59.254" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:06:59.254" endtime="20231004 16:06:59.255"/>
</kw>
<status status="PASS" starttime="20231004 16:06:59.242" endtime="20231004 16:06:59.255"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:06:59.270" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:09.761" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:09.761" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:59.259" endtime="20231004 16:07:09.761"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:09.763" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:09.762" endtime="20231004 16:07:09.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:09.764" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:09.763" endtime="20231004 16:07:09.764"/>
</kw>
<status status="PASS" starttime="20231004 16:06:59.258" endtime="20231004 16:07:09.764"/>
</kw>
<msg timestamp="20231004 16:07:09.764" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:06:59.257" endtime="20231004 16:07:09.765"/>
</kw>
<msg timestamp="20231004 16:07:09.765" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:06:59.256" endtime="20231004 16:07:09.765"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:09.765" endtime="20231004 16:07:09.766"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:09.770" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:09.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:09.774" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:09.767" endtime="20231004 16:07:09.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:09.776" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:09.775" endtime="20231004 16:07:09.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:09.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:09.776" endtime="20231004 16:07:09.777"/>
</kw>
<status status="PASS" starttime="20231004 16:07:09.766" endtime="20231004 16:07:09.777"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:06:59.241" endtime="20231004 16:07:09.777"/>
</test>
<test id="s1-s17-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:09.786" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:10.656" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:10.657" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:09.783" endtime="20231004 16:07:10.657"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:10.659" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:10.657" endtime="20231004 16:07:10.659"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:10.660" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:10.659" endtime="20231004 16:07:10.660"/>
</kw>
<status status="PASS" starttime="20231004 16:07:09.782" endtime="20231004 16:07:10.660"/>
</kw>
<msg timestamp="20231004 16:07:10.660" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:09.782" endtime="20231004 16:07:10.661"/>
</kw>
<status status="PASS" starttime="20231004 16:07:09.781" endtime="20231004 16:07:10.661"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:10.666" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:11.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:11.411" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:10.663" endtime="20231004 16:07:11.411"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:11.413" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:11.412" endtime="20231004 16:07:11.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:11.414" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:11.414" endtime="20231004 16:07:11.415"/>
</kw>
<status status="PASS" starttime="20231004 16:07:10.662" endtime="20231004 16:07:11.415"/>
</kw>
<msg timestamp="20231004 16:07:11.415" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:10.662" endtime="20231004 16:07:11.415"/>
</kw>
<status status="PASS" starttime="20231004 16:07:10.661" endtime="20231004 16:07:11.415"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:11.422" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:12.266" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:12.267" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:11.418" endtime="20231004 16:07:12.267"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:12.270" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:12.268" endtime="20231004 16:07:12.270"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:12.271" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:12.270" endtime="20231004 16:07:12.272"/>
</kw>
<status status="PASS" starttime="20231004 16:07:11.417" endtime="20231004 16:07:12.272"/>
</kw>
<msg timestamp="20231004 16:07:12.272" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:11.417" endtime="20231004 16:07:12.273"/>
</kw>
<status status="PASS" starttime="20231004 16:07:11.416" endtime="20231004 16:07:12.274"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:12.281" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:13.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:13.068" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:12.277" endtime="20231004 16:07:13.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:13.070" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:13.069" endtime="20231004 16:07:13.070"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:13.071" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:13.070" endtime="20231004 16:07:13.071"/>
</kw>
<status status="PASS" starttime="20231004 16:07:12.275" endtime="20231004 16:07:13.071"/>
</kw>
<msg timestamp="20231004 16:07:13.071" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:12.275" endtime="20231004 16:07:13.071"/>
</kw>
<status status="PASS" starttime="20231004 16:07:12.274" endtime="20231004 16:07:13.072"/>
</kw>
<status status="PASS" starttime="20231004 16:07:09.780" endtime="20231004 16:07:13.072"/>
</kw>
<status status="PASS" starttime="20231004 16:07:09.780" endtime="20231004 16:07:13.072"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:09.779" endtime="20231004 16:07:13.072"/>
</test>
<test id="s1-s17-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:07:13.075" level="INFO">${randStr} = 9169105225</msg>
<status status="PASS" starttime="20231004 16:07:13.075" endtime="20231004 16:07:13.075"/>
</kw>
<msg timestamp="20231004 16:07:13.076" level="INFO">${random} = ozone-test-9169105225</msg>
<status status="PASS" starttime="20231004 16:07:13.074" endtime="20231004 16:07:13.076"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:13.084" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket-ozone-test-9169105225 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:14.264" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:14.264" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9169105225"
}</msg>
<status status="PASS" starttime="20231004 16:07:13.081" endtime="20231004 16:07:14.265"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:14.267" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9169105225"
}</msg>
<status status="PASS" starttime="20231004 16:07:14.266" endtime="20231004 16:07:14.267"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:14.268" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:14.267" endtime="20231004 16:07:14.268"/>
</kw>
<status status="PASS" starttime="20231004 16:07:13.080" endtime="20231004 16:07:14.269"/>
</kw>
<msg timestamp="20231004 16:07:14.269" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:13.080" endtime="20231004 16:07:14.269"/>
</kw>
<msg timestamp="20231004 16:07:14.269" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9169105225"
}</msg>
<status status="PASS" starttime="20231004 16:07:13.078" endtime="20231004 16:07:14.269"/>
</kw>
<msg timestamp="20231004 16:07:14.270" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9169105225"
}</msg>
<status status="PASS" starttime="20231004 16:07:13.077" endtime="20231004 16:07:14.270"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:14.270" endtime="20231004 16:07:14.271"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:14.271" endtime="20231004 16:07:14.272"/>
</kw>
<msg timestamp="20231004 16:07:14.272" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 16:07:13.076" endtime="20231004 16:07:14.272"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 16:07:14.272" endtime="20231004 16:07:14.273"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:13.073" endtime="20231004 16:07:14.273"/>
</test>
<test id="s1-s17-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:14.281" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 16:07:14.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:14.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:14.278" endtime="20231004 16:07:14.285"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:14.286" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:14.285" endtime="20231004 16:07:14.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:14.287" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:14.287" endtime="20231004 16:07:14.287"/>
</kw>
<status status="PASS" starttime="20231004 16:07:14.277" endtime="20231004 16:07:14.288"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:14.294" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:16.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:16.124" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:14.290" endtime="20231004 16:07:16.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:16.126" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:16.125" endtime="20231004 16:07:16.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:16.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:16.127" endtime="20231004 16:07:16.128"/>
</kw>
<msg timestamp="20231004 16:07:16.128" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:14.290" endtime="20231004 16:07:16.128"/>
</kw>
<msg timestamp="20231004 16:07:16.129" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:14.289" endtime="20231004 16:07:16.129"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:16.129" endtime="20231004 16:07:16.130"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:16.134" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:16.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:16.138" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:16.131" endtime="20231004 16:07:16.138"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:16.140" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:16.139" endtime="20231004 16:07:16.140"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:16.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:16.141" endtime="20231004 16:07:16.142"/>
</kw>
<status status="PASS" starttime="20231004 16:07:16.130" endtime="20231004 16:07:16.142"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:14.276" endtime="20231004 16:07:16.142"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 16:06:26.558" endtime="20231004 16:07:16.144"/>
</suite>
<suite id="s1-s18" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s18-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:07:20.348" level="INFO">${random} = 05953</msg>
<status status="PASS" starttime="20231004 16:07:20.347" endtime="20231004 16:07:20.348"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:20.355" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-05953 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:29.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:29.442" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:20.350" endtime="20231004 16:07:29.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:29.449" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:29.447" endtime="20231004 16:07:29.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:29.450" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:29.449" endtime="20231004 16:07:29.451"/>
</kw>
<status status="PASS" starttime="20231004 16:07:20.350" endtime="20231004 16:07:29.453"/>
</kw>
<msg timestamp="20231004 16:07:29.453" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:20.349" endtime="20231004 16:07:29.454"/>
</kw>
<msg timestamp="20231004 16:07:29.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:20.348" endtime="20231004 16:07:29.454"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:29.455" endtime="20231004 16:07:29.456"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:29.461" level="INFO">Running command 'cat /tmp/key-05953 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:29.465" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:29.465" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:29.458" endtime="20231004 16:07:29.465"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:29.466" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:29.466" endtime="20231004 16:07:29.467"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:29.467" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:29.467" endtime="20231004 16:07:29.467"/>
</kw>
<msg timestamp="20231004 16:07:29.468" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:29.456" endtime="20231004 16:07:29.468"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:29.468" endtime="20231004 16:07:29.469"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:29.473" level="INFO">Running command 'rm /tmp/key-05953 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:29.476" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:29.476" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:29.470" endtime="20231004 16:07:29.476"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:29.478" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:29.477" endtime="20231004 16:07:29.478"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:29.479" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:29.478" endtime="20231004 16:07:29.479"/>
</kw>
<status status="PASS" starttime="20231004 16:07:29.469" endtime="20231004 16:07:29.479"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:20.346" endtime="20231004 16:07:29.480"/>
</test>
<test id="s1-s18-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:29.489" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:30.505" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:30.505" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:29.486" endtime="20231004 16:07:30.506"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:30.508" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:30.506" endtime="20231004 16:07:30.508"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:30.509" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:30.508" endtime="20231004 16:07:30.509"/>
</kw>
<status status="PASS" starttime="20231004 16:07:29.485" endtime="20231004 16:07:30.509"/>
</kw>
<msg timestamp="20231004 16:07:30.509" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:29.484" endtime="20231004 16:07:30.509"/>
</kw>
<status status="PASS" starttime="20231004 16:07:29.484" endtime="20231004 16:07:30.510"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:30.516" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:31.321" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:31.321" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:30.513" endtime="20231004 16:07:31.322"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:31.324" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:31.322" endtime="20231004 16:07:31.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:31.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:31.325" endtime="20231004 16:07:31.326"/>
</kw>
<status status="PASS" starttime="20231004 16:07:30.512" endtime="20231004 16:07:31.326"/>
</kw>
<msg timestamp="20231004 16:07:31.327" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:30.511" endtime="20231004 16:07:31.327"/>
</kw>
<status status="PASS" starttime="20231004 16:07:30.510" endtime="20231004 16:07:31.327"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:31.333" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:32.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:32.182" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:31.330" endtime="20231004 16:07:32.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:32.184" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:32.183" endtime="20231004 16:07:32.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:32.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:32.185" endtime="20231004 16:07:32.185"/>
</kw>
<status status="PASS" starttime="20231004 16:07:31.329" endtime="20231004 16:07:32.186"/>
</kw>
<msg timestamp="20231004 16:07:32.186" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:31.328" endtime="20231004 16:07:32.186"/>
</kw>
<status status="PASS" starttime="20231004 16:07:31.327" endtime="20231004 16:07:32.186"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:32.192" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:32.958" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:32.958" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:32.189" endtime="20231004 16:07:32.958"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:32.960" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:32.959" endtime="20231004 16:07:32.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:32.960" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:32.960" endtime="20231004 16:07:32.961"/>
</kw>
<status status="PASS" starttime="20231004 16:07:32.188" endtime="20231004 16:07:32.961"/>
</kw>
<msg timestamp="20231004 16:07:32.961" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:32.187" endtime="20231004 16:07:32.961"/>
</kw>
<status status="PASS" starttime="20231004 16:07:32.187" endtime="20231004 16:07:32.962"/>
</kw>
<status status="PASS" starttime="20231004 16:07:29.483" endtime="20231004 16:07:32.962"/>
</kw>
<status status="PASS" starttime="20231004 16:07:29.483" endtime="20231004 16:07:32.962"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:29.481" endtime="20231004 16:07:32.962"/>
</test>
<test id="s1-s18-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:32.970" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:34.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:34.026" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:32.967" endtime="20231004 16:07:34.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:34.028" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:07:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:07:34.027" endtime="20231004 16:07:34.029"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:34.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:34.029" endtime="20231004 16:07:34.030"/>
</kw>
<msg timestamp="20231004 16:07:34.030" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:32.966" endtime="20231004 16:07:34.030"/>
</kw>
<msg timestamp="20231004 16:07:34.031" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:32.965" endtime="20231004 16:07:34.031"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:34.031" endtime="20231004 16:07:34.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:34.036" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:34.041" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:34.041" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:34.033" endtime="20231004 16:07:34.041"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:34.044" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:34.042" endtime="20231004 16:07:34.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:34.045" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:34.044" endtime="20231004 16:07:34.045"/>
</kw>
<msg timestamp="20231004 16:07:34.045" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 16:07:34.032" endtime="20231004 16:07:34.046"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:34.046" endtime="20231004 16:07:34.047"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:34.052" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:34.056" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:34.056" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:34.048" endtime="20231004 16:07:34.056"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:34.059" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:34.057" endtime="20231004 16:07:34.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:34.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:34.059" endtime="20231004 16:07:34.060"/>
</kw>
<status status="PASS" starttime="20231004 16:07:34.047" endtime="20231004 16:07:34.061"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:32.964" endtime="20231004 16:07:34.061"/>
</test>
<test id="s1-s18-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:34.070" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:34.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:34.979" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:34.066" endtime="20231004 16:07:34.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:34.981" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 16:07:34 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 16:07:34.980" endtime="20231004 16:07:34.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:34.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:34.981" endtime="20231004 16:07:34.982"/>
</kw>
<msg timestamp="20231004 16:07:34.982" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:34.065" endtime="20231004 16:07:34.982"/>
</kw>
<msg timestamp="20231004 16:07:34.983" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 16:07:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 16:07:34.064" endtime="20231004 16:07:34.983"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:34.983" endtime="20231004 16:07:34.984"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:34.988" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:34.993" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:34.993" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:07:34.985" endtime="20231004 16:07:34.993"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:34.995" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:07:34.994" endtime="20231004 16:07:34.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:34.996" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:34.995" endtime="20231004 16:07:34.997"/>
</kw>
<msg timestamp="20231004 16:07:34.997" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20231004 16:07:34.984" endtime="20231004 16:07:34.997"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:07:34.997" endtime="20231004 16:07:34.998"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:35.002" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:35.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:35.008" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:34.999" endtime="20231004 16:07:35.008"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:35.010" level="INFO"/>
<status status="PASS" starttime="20231004 16:07:35.009" endtime="20231004 16:07:35.010"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:35.011" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:35.010" endtime="20231004 16:07:35.011"/>
</kw>
<status status="PASS" starttime="20231004 16:07:34.998" endtime="20231004 16:07:35.012"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 16:07:34.062" endtime="20231004 16:07:35.012"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 16:07:20.208" endtime="20231004 16:07:35.015"/>
</suite>
<suite id="s1-s19" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s19-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:07:39.485" endtime="20231004 16:07:39.486"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:39.494" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:39.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:39.499" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 16:07:39.489" endtime="20231004 16:07:39.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:39.502" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 16:07:39.500" endtime="20231004 16:07:39.502"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:39.504" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:39.503" endtime="20231004 16:07:39.504"/>
</kw>
<status status="PASS" starttime="20231004 16:07:39.488" endtime="20231004 16:07:39.504"/>
</kw>
<msg timestamp="20231004 16:07:39.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:39.488" endtime="20231004 16:07:39.505"/>
</kw>
<msg timestamp="20231004 16:07:39.505" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20231004 16:07:39.487" endtime="20231004 16:07:39.505"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:39.506" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c07db1860322
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
_=/usr/bin/env</msg>
<status status="PASS" starttime="20231004 16:07:39.505" endtime="20231004 16:07:39.506"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 16:07:39.506" endtime="20231004 16:07:39.507"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:39.513" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:45.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:45.191" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:39.510" endtime="20231004 16:07:45.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:45.194" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:45.192" endtime="20231004 16:07:45.194"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:45.195" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:45.195" endtime="20231004 16:07:45.196"/>
</kw>
<status status="PASS" starttime="20231004 16:07:39.509" endtime="20231004 16:07:45.196"/>
</kw>
<msg timestamp="20231004 16:07:45.196" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:39.508" endtime="20231004 16:07:45.196"/>
</kw>
<msg timestamp="20231004 16:07:45.197" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:39.508" endtime="20231004 16:07:45.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:45.198" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:45.197" endtime="20231004 16:07:45.198"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 16:07:45.198" endtime="20231004 16:07:45.199"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:07:39.484" endtime="20231004 16:07:45.199"/>
</test>
<test id="s1-s19-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 16:07:45.202" endtime="20231004 16:07:45.202"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 16:07:45.203" endtime="20231004 16:07:45.203"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:45.209" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:07:53.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:07:53.347" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:45.206" endtime="20231004 16:07:53.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:53.349" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:53.348" endtime="20231004 16:07:53.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:07:53.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:07:53.350" endtime="20231004 16:07:53.351"/>
</kw>
<status status="PASS" starttime="20231004 16:07:45.205" endtime="20231004 16:07:53.351"/>
</kw>
<msg timestamp="20231004 16:07:53.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:45.205" endtime="20231004 16:07:53.351"/>
</kw>
<msg timestamp="20231004 16:07:53.352" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:45.203" endtime="20231004 16:07:53.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:07:53.352" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20231004 16:07:53.352" endtime="20231004 16:07:53.352"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 16:07:53.353" endtime="20231004 16:07:53.353"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:07:45.201" endtime="20231004 16:07:53.354"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 16:07:39.377" endtime="20231004 16:07:53.356"/>
</suite>
<suite id="s1-s20" name="Snapshot-Sh" source="/opt/hadoop/smoketest/snapshot/snapshot-sh.robot">
<test id="s1-s20-t1" name="Snapshot Creation" line="31">
<kw name="Setup volume and bucket" library="snapshot-setup">
<kw name="Create volume" library="snapshot-setup">
<var>${volume}</var>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:07:57.657" level="INFO">${random} = rigdw</msg>
<status status="PASS" starttime="20231004 16:07:57.656" endtime="20231004 16:07:57.657"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${volume}</var>
<arg>vol-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:07:57.659" level="INFO">${volume} = vol-rigdw</msg>
<status status="PASS" starttime="20231004 16:07:57.657" endtime="20231004 16:07:57.659"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:07:57.667" level="INFO">Running command 'ozone sh volume create /vol-rigdw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:03.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:03.512" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:07:57.661" endtime="20231004 16:08:03.512"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:03.514" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:03.513" endtime="20231004 16:08:03.514"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:03.515" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:03.514" endtime="20231004 16:08:03.515"/>
</kw>
<status status="PASS" starttime="20231004 16:07:57.660" endtime="20231004 16:08:03.516"/>
</kw>
<msg timestamp="20231004 16:08:03.517" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:07:57.660" endtime="20231004 16:08:03.517"/>
</kw>
<msg timestamp="20231004 16:08:03.517" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:07:57.659" endtime="20231004 16:08:03.517"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:03.518" endtime="20231004 16:08:03.518"/>
</kw>
<msg timestamp="20231004 16:08:03.519" level="INFO">${volume} = vol-rigdw</msg>
<status status="PASS" starttime="20231004 16:07:57.655" endtime="20231004 16:08:03.519"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${VOLUME}</arg>
<arg>${volume}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:03.520" level="INFO">${VOLUME} = vol-rigdw</msg>
<status status="PASS" starttime="20231004 16:08:03.519" endtime="20231004 16:08:03.520"/>
</kw>
<kw name="Create bucket" library="snapshot-setup">
<var>${bucket}</var>
<arg>${VOLUME}</arg>
<arg>FILE_SYSTEM_OPTIMIZED</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:03.522" level="INFO">${random} = uxplw</msg>
<status status="PASS" starttime="20231004 16:08:03.522" endtime="20231004 16:08:03.522"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${bucket}</var>
<arg>buc-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:03.524" level="INFO">${bucket} = buc-uxplw</msg>
<status status="PASS" starttime="20231004 16:08:03.523" endtime="20231004 16:08:03.524"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket create -l ${bucket_layout} /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:03.530" level="INFO">Running command 'ozone sh bucket create -l FILE_SYSTEM_OPTIMIZED /vol-rigdw/buc-uxplw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:09.258" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:09.258" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:03.527" endtime="20231004 16:08:09.258"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:09.261" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:09.259" endtime="20231004 16:08:09.261"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:09.262" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:09.261" endtime="20231004 16:08:09.262"/>
</kw>
<status status="PASS" starttime="20231004 16:08:03.526" endtime="20231004 16:08:09.262"/>
</kw>
<msg timestamp="20231004 16:08:09.262" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:03.525" endtime="20231004 16:08:09.262"/>
</kw>
<msg timestamp="20231004 16:08:09.263" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:03.524" endtime="20231004 16:08:09.263"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:09.263" endtime="20231004 16:08:09.264"/>
</kw>
<msg timestamp="20231004 16:08:09.264" level="INFO">${bucket} = buc-uxplw</msg>
<status status="PASS" starttime="20231004 16:08:03.521" endtime="20231004 16:08:09.264"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${BUCKET}</arg>
<arg>${bucket}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:09.266" level="INFO">${BUCKET} = buc-uxplw</msg>
<status status="PASS" starttime="20231004 16:08:09.265" endtime="20231004 16:08:09.266"/>
</kw>
<status status="PASS" starttime="20231004 16:07:57.654" endtime="20231004 16:08:09.266"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/hosts</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:09.269" level="INFO">${random} = ssmap</msg>
<status status="PASS" starttime="20231004 16:08:09.268" endtime="20231004 16:08:09.269"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:09.270" level="INFO">${key} = key-ssmap</msg>
<status status="PASS" starttime="20231004 16:08:09.270" endtime="20231004 16:08:09.270"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:09.278" level="INFO">Running command 'ozone sh key put /vol-rigdw/buc-uxplw/key-ssmap /etc/hosts 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:19.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:19.193" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:09.274" endtime="20231004 16:08:19.193"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:19.195" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:19.194" endtime="20231004 16:08:19.195"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:19.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:19.196" endtime="20231004 16:08:19.197"/>
</kw>
<status status="PASS" starttime="20231004 16:08:09.272" endtime="20231004 16:08:19.197"/>
</kw>
<msg timestamp="20231004 16:08:19.197" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:09.272" endtime="20231004 16:08:19.198"/>
</kw>
<msg timestamp="20231004 16:08:19.198" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:09.270" endtime="20231004 16:08:19.198"/>
</kw>
<msg timestamp="20231004 16:08:19.198" level="INFO">${key_one} = key-ssmap</msg>
<status status="PASS" starttime="20231004 16:08:09.266" endtime="20231004 16:08:19.198"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_ONE}</arg>
<arg>${key_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:19.199" level="INFO">${KEY_ONE} = key-ssmap</msg>
<status status="PASS" starttime="20231004 16:08:19.198" endtime="20231004 16:08:19.199"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:19.201" level="INFO">${random} = twzbc</msg>
<status status="PASS" starttime="20231004 16:08:19.200" endtime="20231004 16:08:19.201"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:19.202" level="INFO">${snapshot} = snap-twzbc</msg>
<status status="PASS" starttime="20231004 16:08:19.202" endtime="20231004 16:08:19.202"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:19.208" level="INFO">Running command 'ozone sh snapshot create /vol-rigdw/buc-uxplw snap-twzbc 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:25.381" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:25.381" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:19.205" endtime="20231004 16:08:25.381"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:25.403" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:25.391" endtime="20231004 16:08:25.409"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:25.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:25.409" endtime="20231004 16:08:25.426"/>
</kw>
<status status="PASS" starttime="20231004 16:08:19.204" endtime="20231004 16:08:25.426"/>
</kw>
<msg timestamp="20231004 16:08:25.426" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:19.203" endtime="20231004 16:08:25.427"/>
</kw>
<msg timestamp="20231004 16:08:25.427" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:19.202" endtime="20231004 16:08:25.428"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:25.428" endtime="20231004 16:08:25.429"/>
</kw>
<msg timestamp="20231004 16:08:25.443" level="INFO">${snapshot_one} = snap-twzbc</msg>
<status status="PASS" starttime="20231004 16:08:19.199" endtime="20231004 16:08:25.443"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_ONE}</arg>
<arg>${snapshot_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:25.449" level="INFO">${SNAPSHOT_ONE} = snap-twzbc</msg>
<status status="PASS" starttime="20231004 16:08:25.443" endtime="20231004 16:08:25.449"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:07:57.652" endtime="20231004 16:08:25.450"/>
</test>
<test id="s1-s20-t2" name="Snapshot List" line="38">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:25.489" level="INFO">Running command 'ozone sh snapshot ls /vol-rigdw/buc-uxplw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:32.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:32.058" level="INFO">${output} = [ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "name" : "snap-twzbc",
  "creationTime" : 1696435705080,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "eb77d945-d24a-44ef-...</msg>
<status status="PASS" starttime="20231004 16:08:25.469" endtime="20231004 16:08:32.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:32.060" level="INFO">[ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "name" : "snap-twzbc",
  "creationTime" : 1696435705080,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "eb77d945-d24a-44ef-8b4d-7797bfb945c7",
  "snapshotPath" : "vol-rigdw/buc-uxplw",
  "checkpointDir" : "-eb77d945-d24a-44ef-8b4d-7797bfb945c7",
  "referencedSize" : 173,
  "referencedReplicatedSize" : 519,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]</msg>
<status status="PASS" starttime="20231004 16:08:32.059" endtime="20231004 16:08:32.062"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:32.064" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:32.063" endtime="20231004 16:08:32.065"/>
</kw>
<status status="PASS" starttime="20231004 16:08:25.467" endtime="20231004 16:08:32.065"/>
</kw>
<msg timestamp="20231004 16:08:32.065" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:25.465" endtime="20231004 16:08:32.065"/>
</kw>
<msg timestamp="20231004 16:08:32.066" level="INFO">${result} = [ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "name" : "snap-twzbc",
  "creationTime" : 1696435705080,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "eb77d945-d24a-44ef-...</msg>
<status status="PASS" starttime="20231004 16:08:25.461" endtime="20231004 16:08:32.066"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:32.066" endtime="20231004 16:08:32.067"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:32.067" endtime="20231004 16:08:32.067"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:08:25.460" endtime="20231004 16:08:32.068"/>
</test>
<test id="s1-s20-t3" name="Snapshot Diff" line="43">
<kw name="Create key" library="snapshot-setup">
<var>${key_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/passwd</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:32.071" level="INFO">${random} = thjdw</msg>
<status status="PASS" starttime="20231004 16:08:32.071" endtime="20231004 16:08:32.071"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:32.072" level="INFO">${key} = key-thjdw</msg>
<status status="PASS" starttime="20231004 16:08:32.072" endtime="20231004 16:08:32.072"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:32.077" level="INFO">Running command 'ozone sh key put /vol-rigdw/buc-uxplw/key-thjdw /etc/passwd 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:40.635" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:40.635" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:32.074" endtime="20231004 16:08:40.635"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:40.637" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:40.636" endtime="20231004 16:08:40.637"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:40.638" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:40.638" endtime="20231004 16:08:40.638"/>
</kw>
<status status="PASS" starttime="20231004 16:08:32.073" endtime="20231004 16:08:40.639"/>
</kw>
<msg timestamp="20231004 16:08:40.639" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:32.073" endtime="20231004 16:08:40.639"/>
</kw>
<msg timestamp="20231004 16:08:40.639" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:32.072" endtime="20231004 16:08:40.639"/>
</kw>
<msg timestamp="20231004 16:08:40.640" level="INFO">${key_two} = key-thjdw</msg>
<status status="PASS" starttime="20231004 16:08:32.070" endtime="20231004 16:08:40.640"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_TWO}</arg>
<arg>${key_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:40.641" level="INFO">${KEY_TWO} = key-thjdw</msg>
<status status="PASS" starttime="20231004 16:08:40.640" endtime="20231004 16:08:40.641"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_three}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/group</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:40.642" level="INFO">${random} = vnckm</msg>
<status status="PASS" starttime="20231004 16:08:40.642" endtime="20231004 16:08:40.642"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:40.643" level="INFO">${key} = key-vnckm</msg>
<status status="PASS" starttime="20231004 16:08:40.643" endtime="20231004 16:08:40.643"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:40.649" level="INFO">Running command 'ozone sh key put /vol-rigdw/buc-uxplw/key-vnckm /etc/group 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:50.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:50.216" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:40.645" endtime="20231004 16:08:50.216"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:50.219" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:50.217" endtime="20231004 16:08:50.219"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:50.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:50.219" endtime="20231004 16:08:50.221"/>
</kw>
<status status="PASS" starttime="20231004 16:08:40.645" endtime="20231004 16:08:50.221"/>
</kw>
<msg timestamp="20231004 16:08:50.221" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:40.644" endtime="20231004 16:08:50.221"/>
</kw>
<msg timestamp="20231004 16:08:50.222" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:40.644" endtime="20231004 16:08:50.222"/>
</kw>
<msg timestamp="20231004 16:08:50.222" level="INFO">${key_three} = key-vnckm</msg>
<status status="PASS" starttime="20231004 16:08:40.641" endtime="20231004 16:08:50.222"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_THREE}</arg>
<arg>${key_three}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:50.223" level="INFO">${KEY_THREE} = key-vnckm</msg>
<status status="PASS" starttime="20231004 16:08:50.222" endtime="20231004 16:08:50.223"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:08:50.225" level="INFO">${random} = mdcxw</msg>
<status status="PASS" starttime="20231004 16:08:50.224" endtime="20231004 16:08:50.225"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:08:50.226" level="INFO">${snapshot} = snap-mdcxw</msg>
<status status="PASS" starttime="20231004 16:08:50.225" endtime="20231004 16:08:50.226"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:50.233" level="INFO">Running command 'ozone sh snapshot create /vol-rigdw/buc-uxplw snap-mdcxw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:08:56.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:08:56.377" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:08:50.229" endtime="20231004 16:08:56.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:08:56.379" level="INFO"/>
<status status="PASS" starttime="20231004 16:08:56.378" endtime="20231004 16:08:56.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:08:56.380" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:08:56.379" endtime="20231004 16:08:56.380"/>
</kw>
<status status="PASS" starttime="20231004 16:08:50.228" endtime="20231004 16:08:56.380"/>
</kw>
<msg timestamp="20231004 16:08:56.380" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:50.227" endtime="20231004 16:08:56.381"/>
</kw>
<msg timestamp="20231004 16:08:56.381" level="INFO">${result} = </msg>
<status status="PASS" starttime="20231004 16:08:50.226" endtime="20231004 16:08:56.381"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:08:56.381" endtime="20231004 16:08:56.382"/>
</kw>
<msg timestamp="20231004 16:08:56.382" level="INFO">${snapshot_two} = snap-mdcxw</msg>
<status status="PASS" starttime="20231004 16:08:50.224" endtime="20231004 16:08:56.382"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_TWO}</arg>
<arg>${snapshot_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231004 16:08:56.383" level="INFO">${SNAPSHOT_TWO} = snap-mdcxw</msg>
<status status="PASS" starttime="20231004 16:08:56.382" endtime="20231004 16:08:56.384"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:08:56.390" level="INFO">Running command 'ozone sh snapshot diff /vol-rigdw/buc-uxplw snap-twzbc snap-mdcxw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:01.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:01.712" level="INFO">${output} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20231004 16:08:56.386" endtime="20231004 16:09:01.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:01.714" level="INFO">Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20231004 16:09:01.713" endtime="20231004 16:09:01.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:01.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:01.715" endtime="20231004 16:09:01.716"/>
</kw>
<status status="PASS" starttime="20231004 16:08:56.385" endtime="20231004 16:09:01.717"/>
</kw>
<msg timestamp="20231004 16:09:01.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:08:56.385" endtime="20231004 16:09:01.717"/>
</kw>
<msg timestamp="20231004 16:09:01.718" level="INFO">${result} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20231004 16:08:56.384" endtime="20231004 16:09:01.718"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Snapshot diff job is IN_PROGRESS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:01.718" endtime="20231004 16:09:01.719"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:01.727" level="INFO">Running command 'ozone sh snapshot diff /vol-rigdw/buc-uxplw snap-twzbc snap-mdcxw 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:08.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:08.325" level="INFO">${output} = Difference between snapshot: snap-twzbc and snapshot: snap-mdcxw
+	./key-thjdw
+	./key-vnckm
</msg>
<status status="PASS" starttime="20231004 16:09:01.723" endtime="20231004 16:09:08.326"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:08.328" level="INFO">Difference between snapshot: snap-twzbc and snapshot: snap-mdcxw
+	./key-thjdw
+	./key-vnckm
</msg>
<status status="PASS" starttime="20231004 16:09:08.326" endtime="20231004 16:09:08.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:08.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:08.328" endtime="20231004 16:09:08.329"/>
</kw>
<status status="PASS" starttime="20231004 16:09:01.722" endtime="20231004 16:09:08.329"/>
</kw>
<msg timestamp="20231004 16:09:08.329" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:01.721" endtime="20231004 16:09:08.330"/>
</kw>
<msg timestamp="20231004 16:09:08.330" level="INFO">${result} = Difference between snapshot: snap-twzbc and snapshot: snap-mdcxw
+	./key-thjdw
+	./key-vnckm
</msg>
<status status="PASS" starttime="20231004 16:09:01.720" endtime="20231004 16:09:08.330"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:08.331" endtime="20231004 16:09:08.331"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_THREE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:08.332" endtime="20231004 16:09:08.333"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:08:32.069" endtime="20231004 16:09:08.333"/>
</test>
<test id="s1-s20-t4" name="List Snapshot Diff Jobs" line="56">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot listDiff /${VOLUME}/${BUCKET} --all</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:08.343" level="INFO">Running command 'ozone sh snapshot listDiff /vol-rigdw/buc-uxplw --all 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:14.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:14.447" level="INFO">${output} = [ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "fromSnapshot" : "snap-twzbc",
  "toSnapshot" : "snap-mdcxw",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20231004 16:09:08.339" endtime="20231004 16:09:14.447"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:14.449" level="INFO">[ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "fromSnapshot" : "snap-twzbc",
  "toSnapshot" : "snap-mdcxw",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20231004 16:09:14.448" endtime="20231004 16:09:14.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:14.450" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:14.449" endtime="20231004 16:09:14.450"/>
</kw>
<status status="PASS" starttime="20231004 16:09:08.338" endtime="20231004 16:09:14.450"/>
</kw>
<msg timestamp="20231004 16:09:14.451" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:08.337" endtime="20231004 16:09:14.451"/>
</kw>
<msg timestamp="20231004 16:09:14.451" level="INFO">${result} = [ {
  "volumeName" : "vol-rigdw",
  "bucketName" : "buc-uxplw",
  "fromSnapshot" : "snap-twzbc",
  "toSnapshot" : "snap-mdcxw",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20231004 16:09:08.336" endtime="20231004 16:09:14.451"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${VOLUME}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:14.451" endtime="20231004 16:09:14.452"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${BUCKET}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:14.453" endtime="20231004 16:09:14.453"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:14.453" endtime="20231004 16:09:14.454"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:14.454" endtime="20231004 16:09:14.455"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:09:08.335" endtime="20231004 16:09:14.455"/>
</test>
<test id="s1-s20-t5" name="Read Snapshot" line="63">
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_ONE}/${KEY_ONE}</arg>
<arg>/etc/hosts</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:09:14.460" level="INFO">${postfix} = 17375</msg>
<status status="PASS" starttime="20231004 16:09:14.460" endtime="20231004 16:09:14.460"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:09:14.461" level="INFO">${tmpfile} = /tmp/tempkey-17375</msg>
<status status="PASS" starttime="20231004 16:09:14.461" endtime="20231004 16:09:14.461"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:14.468" level="INFO">Running command 'ozone sh key get /vol-rigdw/buc-uxplw/.snapshot/snap-twzbc/key-ssmap /tmp/tempkey-17375 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:23.266" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:23.266" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:14.463" endtime="20231004 16:09:23.266"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:23.268" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:23.267" endtime="20231004 16:09:23.268"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:23.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:23.269" endtime="20231004 16:09:23.269"/>
</kw>
<status status="PASS" starttime="20231004 16:09:14.463" endtime="20231004 16:09:23.270"/>
</kw>
<msg timestamp="20231004 16:09:23.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:14.462" endtime="20231004 16:09:23.270"/>
</kw>
<status status="PASS" starttime="20231004 16:09:14.462" endtime="20231004 16:09:23.270"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20231004 16:09:23.274" level="INFO">Running command 'diff -q /etc/hosts /tmp/tempkey-17375 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:23.282" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20231004 16:09:23.271" endtime="20231004 16:09:23.282"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:23.291" level="INFO">Running command 'rm -f /tmp/tempkey-17375 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:23.296" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:23.296" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:23.286" endtime="20231004 16:09:23.296"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:23.298" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:23.297" endtime="20231004 16:09:23.299"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:23.300" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:23.299" endtime="20231004 16:09:23.300"/>
</kw>
<status status="PASS" starttime="20231004 16:09:23.285" endtime="20231004 16:09:23.300"/>
</kw>
<msg timestamp="20231004 16:09:23.300" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:23.284" endtime="20231004 16:09:23.301"/>
</kw>
<status status="PASS" starttime="20231004 16:09:23.283" endtime="20231004 16:09:23.301"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20231004 16:09:23.304" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20231004 16:09:23.302" endtime="20231004 16:09:23.304"/>
</kw>
<msg timestamp="20231004 16:09:23.305" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20231004 16:09:14.459" endtime="20231004 16:09:23.305"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231004 16:09:23.305" endtime="20231004 16:09:23.306"/>
</kw>
<status status="PASS" starttime="20231004 16:09:14.458" endtime="20231004 16:09:23.306"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_TWO}</arg>
<arg>/etc/passwd</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:09:23.309" level="INFO">${postfix} = 64135</msg>
<status status="PASS" starttime="20231004 16:09:23.309" endtime="20231004 16:09:23.309"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:09:23.310" level="INFO">${tmpfile} = /tmp/tempkey-64135</msg>
<status status="PASS" starttime="20231004 16:09:23.309" endtime="20231004 16:09:23.310"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:23.317" level="INFO">Running command 'ozone sh key get /vol-rigdw/buc-uxplw/.snapshot/snap-mdcxw/key-thjdw /tmp/tempkey-64135 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:32.753" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:32.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:23.313" endtime="20231004 16:09:32.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:32.755" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:32.754" endtime="20231004 16:09:32.755"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:32.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:32.755" endtime="20231004 16:09:32.756"/>
</kw>
<status status="PASS" starttime="20231004 16:09:23.312" endtime="20231004 16:09:32.756"/>
</kw>
<msg timestamp="20231004 16:09:32.756" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:23.312" endtime="20231004 16:09:32.756"/>
</kw>
<status status="PASS" starttime="20231004 16:09:23.311" endtime="20231004 16:09:32.757"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20231004 16:09:32.760" level="INFO">Running command 'diff -q /etc/passwd /tmp/tempkey-64135 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:32.764" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20231004 16:09:32.757" endtime="20231004 16:09:32.764"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:32.770" level="INFO">Running command 'rm -f /tmp/tempkey-64135 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:32.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:32.774" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:32.767" endtime="20231004 16:09:32.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:32.775" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:32.775" endtime="20231004 16:09:32.775"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:32.776" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:32.776" endtime="20231004 16:09:32.776"/>
</kw>
<status status="PASS" starttime="20231004 16:09:32.766" endtime="20231004 16:09:32.777"/>
</kw>
<msg timestamp="20231004 16:09:32.777" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:32.766" endtime="20231004 16:09:32.777"/>
</kw>
<status status="PASS" starttime="20231004 16:09:32.765" endtime="20231004 16:09:32.777"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20231004 16:09:32.779" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20231004 16:09:32.778" endtime="20231004 16:09:32.779"/>
</kw>
<msg timestamp="20231004 16:09:32.779" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20231004 16:09:23.308" endtime="20231004 16:09:32.779"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231004 16:09:32.779" endtime="20231004 16:09:32.780"/>
</kw>
<status status="PASS" starttime="20231004 16:09:23.306" endtime="20231004 16:09:32.780"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_THREE}</arg>
<arg>/etc/group</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 16:09:32.783" level="INFO">${postfix} = 39813</msg>
<status status="PASS" starttime="20231004 16:09:32.782" endtime="20231004 16:09:32.783"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231004 16:09:32.784" level="INFO">${tmpfile} = /tmp/tempkey-39813</msg>
<status status="PASS" starttime="20231004 16:09:32.783" endtime="20231004 16:09:32.784"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:32.789" level="INFO">Running command 'ozone sh key get /vol-rigdw/buc-uxplw/.snapshot/snap-mdcxw/key-vnckm /tmp/tempkey-39813 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:41.860" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:41.860" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:32.785" endtime="20231004 16:09:41.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:41.862" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:41.861" endtime="20231004 16:09:41.862"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:41.863" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:41.862" endtime="20231004 16:09:41.863"/>
</kw>
<status status="PASS" starttime="20231004 16:09:32.785" endtime="20231004 16:09:41.863"/>
</kw>
<msg timestamp="20231004 16:09:41.864" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:32.784" endtime="20231004 16:09:41.864"/>
</kw>
<status status="PASS" starttime="20231004 16:09:32.784" endtime="20231004 16:09:41.864"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20231004 16:09:41.871" level="INFO">Running command 'diff -q /etc/group /tmp/tempkey-39813 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:41.875" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20231004 16:09:41.864" endtime="20231004 16:09:41.875"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:41.897" level="INFO">Running command 'rm -f /tmp/tempkey-39813 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:41.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:41.902" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:41.888" endtime="20231004 16:09:41.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:41.904" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:41.903" endtime="20231004 16:09:41.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:41.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:41.904" endtime="20231004 16:09:41.905"/>
</kw>
<status status="PASS" starttime="20231004 16:09:41.883" endtime="20231004 16:09:41.905"/>
</kw>
<msg timestamp="20231004 16:09:41.905" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:41.882" endtime="20231004 16:09:41.905"/>
</kw>
<status status="PASS" starttime="20231004 16:09:41.875" endtime="20231004 16:09:41.905"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20231004 16:09:41.906" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20231004 16:09:41.906" endtime="20231004 16:09:41.906"/>
</kw>
<msg timestamp="20231004 16:09:41.907" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20231004 16:09:32.782" endtime="20231004 16:09:41.907"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231004 16:09:41.907" endtime="20231004 16:09:41.907"/>
</kw>
<status status="PASS" starttime="20231004 16:09:32.780" endtime="20231004 16:09:41.907"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:09:14.457" endtime="20231004 16:09:41.908"/>
</test>
<test id="s1-s20-t6" name="Delete snapshot" line="68">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:41.919" level="INFO">Running command 'ozone sh snapshot delete /vol-rigdw/buc-uxplw snap-twzbc 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 16:09:47.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:47.440" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:41.915" endtime="20231004 16:09:47.441"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:47.442" level="INFO"/>
<status status="PASS" starttime="20231004 16:09:47.441" endtime="20231004 16:09:47.442"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:47.443" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:47.443" endtime="20231004 16:09:47.443"/>
</kw>
<status status="PASS" starttime="20231004 16:09:41.914" endtime="20231004 16:09:47.444"/>
</kw>
<msg timestamp="20231004 16:09:47.444" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:41.914" endtime="20231004 16:09:47.444"/>
</kw>
<msg timestamp="20231004 16:09:47.444" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 16:09:41.913" endtime="20231004 16:09:47.445"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:47.445" endtime="20231004 16:09:47.445"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET} | jq '[.[] | select(.name == "${SNAPSHOT_ONE}") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 16:09:47.451" level="INFO">Running command 'ozone sh snapshot ls /vol-rigdw/buc-uxplw | jq '[.[] | select(.name == "snap-twzbc") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end''.</msg>
<msg timestamp="20231004 16:09:52.929" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 16:09:52.930" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20231004 16:09:47.448" endtime="20231004 16:09:52.930"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 16:09:52.932" level="INFO">"SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20231004 16:09:52.930" endtime="20231004 16:09:52.932"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 16:09:52.932" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 16:09:52.932" endtime="20231004 16:09:52.933"/>
</kw>
<status status="PASS" starttime="20231004 16:09:47.447" endtime="20231004 16:09:52.933"/>
</kw>
<msg timestamp="20231004 16:09:52.933" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 16:09:47.447" endtime="20231004 16:09:52.933"/>
</kw>
<msg timestamp="20231004 16:09:52.933" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20231004 16:09:47.446" endtime="20231004 16:09:52.934"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 16:09:52.934" endtime="20231004 16:09:52.934"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 16:09:41.912" endtime="20231004 16:09:52.935"/>
</test>
<doc>Test for using sh commands with snapshots.</doc>
<status status="PASS" starttime="20231004 16:07:57.510" endtime="20231004 16:09:52.938"/>
</suite>
<suite id="s1-s21" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s21-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:51:46.606" level="INFO">${random} = 09906</msg>
<status status="PASS" starttime="20231004 15:51:46.605" endtime="20231004 15:51:46.606"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:46.612" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-09906 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:56.962" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:56.962" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:46.608" endtime="20231004 15:51:56.962"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:56.963" level="INFO"/>
<status status="PASS" starttime="20231004 15:51:56.962" endtime="20231004 15:51:56.963"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:56.965" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:56.964" endtime="20231004 15:51:56.965"/>
</kw>
<status status="PASS" starttime="20231004 15:51:46.608" endtime="20231004 15:51:56.965"/>
</kw>
<msg timestamp="20231004 15:51:56.965" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:51:46.607" endtime="20231004 15:51:56.966"/>
</kw>
<msg timestamp="20231004 15:51:56.966" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:46.606" endtime="20231004 15:51:56.966"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:51:56.966" endtime="20231004 15:51:56.967"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:56.971" level="INFO">Running command 'cat /tmp/key-09906 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:56.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:56.976" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:51:56.968" endtime="20231004 15:51:56.976"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:56.978" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:51:56.977" endtime="20231004 15:51:56.978"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:56.978" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:56.978" endtime="20231004 15:51:56.979"/>
</kw>
<msg timestamp="20231004 15:51:56.979" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:51:56.967" endtime="20231004 15:51:56.979"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:51:56.979" endtime="20231004 15:51:56.980"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:56.983" level="INFO">Running command 'rm /tmp/key-09906 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:56.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:56.989" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:56.981" endtime="20231004 15:51:56.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:56.990" level="INFO"/>
<status status="PASS" starttime="20231004 15:51:56.989" endtime="20231004 15:51:56.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:56.991" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:56.990" endtime="20231004 15:51:56.991"/>
</kw>
<status status="PASS" starttime="20231004 15:51:56.980" endtime="20231004 15:51:56.991"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:51:46.602" endtime="20231004 15:51:56.992"/>
</test>
<test id="s1-s21-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:57.002" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:58.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:58.382" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:56.999" endtime="20231004 15:51:58.382"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:58.385" level="INFO"/>
<status status="PASS" starttime="20231004 15:51:58.383" endtime="20231004 15:51:58.385"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:58.385" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:58.385" endtime="20231004 15:51:58.386"/>
</kw>
<status status="PASS" starttime="20231004 15:51:56.998" endtime="20231004 15:51:58.386"/>
</kw>
<msg timestamp="20231004 15:51:58.386" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:51:56.997" endtime="20231004 15:51:58.387"/>
</kw>
<status status="PASS" starttime="20231004 15:51:56.997" endtime="20231004 15:51:58.387"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:58.393" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:59.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:59.129" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:58.390" endtime="20231004 15:51:59.129"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:59.131" level="INFO"/>
<status status="PASS" starttime="20231004 15:51:59.129" endtime="20231004 15:51:59.131"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:59.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:59.131" endtime="20231004 15:51:59.132"/>
</kw>
<status status="PASS" starttime="20231004 15:51:58.389" endtime="20231004 15:51:59.133"/>
</kw>
<msg timestamp="20231004 15:51:59.133" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:51:58.388" endtime="20231004 15:51:59.133"/>
</kw>
<status status="PASS" starttime="20231004 15:51:58.387" endtime="20231004 15:51:59.133"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:59.138" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:51:59.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:51:59.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:59.135" endtime="20231004 15:51:59.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:51:59.936" level="INFO"/>
<status status="PASS" starttime="20231004 15:51:59.935" endtime="20231004 15:51:59.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:51:59.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:51:59.937" endtime="20231004 15:51:59.938"/>
</kw>
<status status="PASS" starttime="20231004 15:51:59.135" endtime="20231004 15:51:59.938"/>
</kw>
<msg timestamp="20231004 15:51:59.938" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:51:59.134" endtime="20231004 15:51:59.938"/>
</kw>
<status status="PASS" starttime="20231004 15:51:59.133" endtime="20231004 15:51:59.939"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:51:59.946" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:00.772" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:00.772" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:51:59.942" endtime="20231004 15:52:00.772"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:00.774" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:00.773" endtime="20231004 15:52:00.774"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:00.775" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:00.774" endtime="20231004 15:52:00.776"/>
</kw>
<status status="PASS" starttime="20231004 15:51:59.941" endtime="20231004 15:52:00.776"/>
</kw>
<msg timestamp="20231004 15:52:00.776" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:51:59.941" endtime="20231004 15:52:00.777"/>
</kw>
<status status="PASS" starttime="20231004 15:51:59.940" endtime="20231004 15:52:00.777"/>
</kw>
<status status="PASS" starttime="20231004 15:51:56.996" endtime="20231004 15:52:00.777"/>
</kw>
<status status="PASS" starttime="20231004 15:51:56.995" endtime="20231004 15:52:00.777"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:51:56.994" endtime="20231004 15:52:00.778"/>
</test>
<test id="s1-s21-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:00.789" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:07.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:07.528" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:00.785" endtime="20231004 15:52:07.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:07.531" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:52:01 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:52:07.529" endtime="20231004 15:52:07.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:07.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:07.531" endtime="20231004 15:52:07.532"/>
</kw>
<msg timestamp="20231004 15:52:07.532" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:00.784" endtime="20231004 15:52:07.532"/>
</kw>
<msg timestamp="20231004 15:52:07.532" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:47:59 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:00.782" endtime="20231004 15:52:07.533"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:07.533" endtime="20231004 15:52:07.533"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:07.538" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:07.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:07.542" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:52:07.534" endtime="20231004 15:52:07.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:07.544" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:52:07.543" endtime="20231004 15:52:07.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:07.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:07.544" endtime="20231004 15:52:07.545"/>
</kw>
<msg timestamp="20231004 15:52:07.545" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:52:07.534" endtime="20231004 15:52:07.545"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:07.545" endtime="20231004 15:52:07.546"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:07.550" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:07.554" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:07.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:07.547" endtime="20231004 15:52:07.554"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:07.556" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:07.555" endtime="20231004 15:52:07.557"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:07.557" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:07.557" endtime="20231004 15:52:07.558"/>
</kw>
<status status="PASS" starttime="20231004 15:52:07.546" endtime="20231004 15:52:07.558"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:00.780" endtime="20231004 15:52:07.558"/>
</test>
<test id="s1-s21-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:07.567" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:08.829" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:08.829" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:07.563" endtime="20231004 15:52:08.829"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:08.831" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:52:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:52:08.830" endtime="20231004 15:52:08.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:08.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:08.832" endtime="20231004 15:52:08.834"/>
</kw>
<msg timestamp="20231004 15:52:08.834" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:07.562" endtime="20231004 15:52:08.834"/>
</kw>
<msg timestamp="20231004 15:52:08.835" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:48:07 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:52:07.561" endtime="20231004 15:52:08.835"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:08.835" endtime="20231004 15:52:08.836"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:08.841" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:08.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:08.846" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:52:08.837" endtime="20231004 15:52:08.846"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:08.847" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:52:08.846" endtime="20231004 15:52:08.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:08.848" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:08.848" endtime="20231004 15:52:08.848"/>
</kw>
<msg timestamp="20231004 15:52:08.849" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:52:08.837" endtime="20231004 15:52:08.849"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:08.849" endtime="20231004 15:52:08.850"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:08.855" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:08.863" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:08.863" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:08.852" endtime="20231004 15:52:08.863"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:08.865" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:08.864" endtime="20231004 15:52:08.865"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:08.866" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:08.865" endtime="20231004 15:52:08.866"/>
</kw>
<status status="PASS" starttime="20231004 15:52:08.851" endtime="20231004 15:52:08.866"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:07.560" endtime="20231004 15:52:08.867"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:51:46.427" endtime="20231004 15:52:08.870"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:13.035" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:52:13.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:13.038" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:13.031" endtime="20231004 15:52:13.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:13.040" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:13.039" endtime="20231004 15:52:13.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:13.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:13.040" endtime="20231004 15:52:13.041"/>
</kw>
<status status="PASS" starttime="20231004 15:52:13.030" endtime="20231004 15:52:13.041"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:13.047" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:25.971" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:25.971" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:13.044" endtime="20231004 15:52:25.971"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:25.973" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:25.972" endtime="20231004 15:52:25.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:25.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:25.973" endtime="20231004 15:52:25.974"/>
</kw>
<status status="PASS" starttime="20231004 15:52:13.043" endtime="20231004 15:52:25.975"/>
</kw>
<msg timestamp="20231004 15:52:25.975" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:13.043" endtime="20231004 15:52:25.975"/>
</kw>
<msg timestamp="20231004 15:52:25.976" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:13.041" endtime="20231004 15:52:25.976"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:25.976" endtime="20231004 15:52:25.977"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:25.982" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:25.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:25.986" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:25.978" endtime="20231004 15:52:25.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:25.988" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:25.987" endtime="20231004 15:52:25.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:25.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:25.989" endtime="20231004 15:52:25.990"/>
</kw>
<status status="PASS" starttime="20231004 15:52:25.977" endtime="20231004 15:52:25.990"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:13.029" endtime="20231004 15:52:25.991"/>
</test>
<test id="s1-s22-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:25.999" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:52:26.002" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:26.002" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:25.996" endtime="20231004 15:52:26.002"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:26.004" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:26.003" endtime="20231004 15:52:26.005"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:26.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:26.005" endtime="20231004 15:52:26.006"/>
</kw>
<status status="PASS" starttime="20231004 15:52:25.995" endtime="20231004 15:52:26.007"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:26.014" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:36.643" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:36.643" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:26.011" endtime="20231004 15:52:36.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:36.647" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:36.645" endtime="20231004 15:52:36.647"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:36.649" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:36.648" endtime="20231004 15:52:36.649"/>
</kw>
<status status="PASS" starttime="20231004 15:52:26.010" endtime="20231004 15:52:36.650"/>
</kw>
<msg timestamp="20231004 15:52:36.650" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:26.009" endtime="20231004 15:52:36.650"/>
</kw>
<msg timestamp="20231004 15:52:36.650" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:26.007" endtime="20231004 15:52:36.650"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:36.651" endtime="20231004 15:52:36.652"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:36.657" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:36.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:36.661" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:36.653" endtime="20231004 15:52:36.661"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:36.663" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:36.662" endtime="20231004 15:52:36.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:36.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:36.664" endtime="20231004 15:52:36.665"/>
</kw>
<status status="PASS" starttime="20231004 15:52:36.652" endtime="20231004 15:52:36.665"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:25.992" endtime="20231004 15:52:36.666"/>
</test>
<test id="s1-s22-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:36.675" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:37.513" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:37.514" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:36.671" endtime="20231004 15:52:37.514"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:37.515" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:37.514" endtime="20231004 15:52:37.515"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:37.516" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:37.516" endtime="20231004 15:52:37.516"/>
</kw>
<status status="PASS" starttime="20231004 15:52:36.671" endtime="20231004 15:52:37.517"/>
</kw>
<msg timestamp="20231004 15:52:37.517" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:36.670" endtime="20231004 15:52:37.517"/>
</kw>
<status status="PASS" starttime="20231004 15:52:36.670" endtime="20231004 15:52:37.517"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:37.523" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:38.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:38.344" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:37.519" endtime="20231004 15:52:38.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:38.345" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:38.344" endtime="20231004 15:52:38.345"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:38.346" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:38.346" endtime="20231004 15:52:38.346"/>
</kw>
<status status="PASS" starttime="20231004 15:52:37.519" endtime="20231004 15:52:38.347"/>
</kw>
<msg timestamp="20231004 15:52:38.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:37.518" endtime="20231004 15:52:38.347"/>
</kw>
<status status="PASS" starttime="20231004 15:52:37.518" endtime="20231004 15:52:38.347"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:38.354" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:39.200" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:39.200" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:38.350" endtime="20231004 15:52:39.200"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:39.202" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:39.201" endtime="20231004 15:52:39.202"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:39.203" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:39.203" endtime="20231004 15:52:39.203"/>
</kw>
<status status="PASS" starttime="20231004 15:52:38.349" endtime="20231004 15:52:39.204"/>
</kw>
<msg timestamp="20231004 15:52:39.204" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:38.348" endtime="20231004 15:52:39.204"/>
</kw>
<status status="PASS" starttime="20231004 15:52:38.347" endtime="20231004 15:52:39.204"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:39.210" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:40.027" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:40.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:39.206" endtime="20231004 15:52:40.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:40.030" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:40.029" endtime="20231004 15:52:40.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:40.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:40.031" endtime="20231004 15:52:40.032"/>
</kw>
<status status="PASS" starttime="20231004 15:52:39.205" endtime="20231004 15:52:40.032"/>
</kw>
<msg timestamp="20231004 15:52:40.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:39.205" endtime="20231004 15:52:40.033"/>
</kw>
<status status="PASS" starttime="20231004 15:52:39.204" endtime="20231004 15:52:40.033"/>
</kw>
<status status="PASS" starttime="20231004 15:52:36.669" endtime="20231004 15:52:40.033"/>
</kw>
<status status="PASS" starttime="20231004 15:52:36.668" endtime="20231004 15:52:40.033"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:36.667" endtime="20231004 15:52:40.034"/>
</test>
<test id="s1-s22-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:52:40.037" level="INFO">${randStr} = 7141604721</msg>
<status status="PASS" starttime="20231004 15:52:40.037" endtime="20231004 15:52:40.037"/>
</kw>
<msg timestamp="20231004 15:52:40.038" level="INFO">${random} = ozone-test-7141604721</msg>
<status status="PASS" starttime="20231004 15:52:40.036" endtime="20231004 15:52:40.038"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:40.044" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-7141604721 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:41.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:41.310" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7141604721"
}</msg>
<status status="PASS" starttime="20231004 15:52:40.041" endtime="20231004 15:52:41.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:41.312" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7141604721"
}</msg>
<status status="PASS" starttime="20231004 15:52:41.310" endtime="20231004 15:52:41.312"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:41.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:41.312" endtime="20231004 15:52:41.313"/>
</kw>
<status status="PASS" starttime="20231004 15:52:40.041" endtime="20231004 15:52:41.314"/>
</kw>
<msg timestamp="20231004 15:52:41.314" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:40.040" endtime="20231004 15:52:41.314"/>
</kw>
<msg timestamp="20231004 15:52:41.314" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7141604721"
}</msg>
<status status="PASS" starttime="20231004 15:52:40.039" endtime="20231004 15:52:41.314"/>
</kw>
<msg timestamp="20231004 15:52:41.315" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7141604721"
}</msg>
<status status="PASS" starttime="20231004 15:52:40.039" endtime="20231004 15:52:41.315"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:41.315" endtime="20231004 15:52:41.316"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:41.316" endtime="20231004 15:52:41.316"/>
</kw>
<msg timestamp="20231004 15:52:41.317" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 15:52:40.038" endtime="20231004 15:52:41.317"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 15:52:41.317" endtime="20231004 15:52:41.318"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:40.035" endtime="20231004 15:52:41.318"/>
</test>
<test id="s1-s22-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:41.327" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:52:41.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:41.328" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:41.322" endtime="20231004 15:52:41.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:41.330" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:41.329" endtime="20231004 15:52:41.330"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:41.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:41.330" endtime="20231004 15:52:41.331"/>
</kw>
<status status="PASS" starttime="20231004 15:52:41.321" endtime="20231004 15:52:41.331"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:41.338" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:43.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:43.750" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:41.334" endtime="20231004 15:52:43.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:43.752" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:43.751" endtime="20231004 15:52:43.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:43.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:43.753" endtime="20231004 15:52:43.754"/>
</kw>
<msg timestamp="20231004 15:52:43.754" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:41.333" endtime="20231004 15:52:43.754"/>
</kw>
<msg timestamp="20231004 15:52:43.754" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:41.332" endtime="20231004 15:52:43.755"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:43.755" endtime="20231004 15:52:43.756"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:43.760" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:43.765" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:43.765" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:43.757" endtime="20231004 15:52:43.765"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:43.767" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:43.766" endtime="20231004 15:52:43.767"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:43.769" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:43.768" endtime="20231004 15:52:43.769"/>
</kw>
<status status="PASS" starttime="20231004 15:52:43.756" endtime="20231004 15:52:43.769"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:41.319" endtime="20231004 15:52:43.770"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 15:52:12.887" endtime="20231004 15:52:43.772"/>
</suite>
<suite id="s1-s23" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s23-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:47.914" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:54.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:54.328" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:47.910" endtime="20231004 15:52:54.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:54.332" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:54.329" endtime="20231004 15:52:54.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:54.333" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:54.332" endtime="20231004 15:52:54.333"/>
</kw>
<status status="PASS" starttime="20231004 15:52:47.910" endtime="20231004 15:52:54.334"/>
</kw>
<msg timestamp="20231004 15:52:54.334" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:47.909" endtime="20231004 15:52:54.334"/>
</kw>
<msg timestamp="20231004 15:52:54.335" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:47.908" endtime="20231004 15:52:54.335"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:54.336" endtime="20231004 15:52:54.339"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:54.347" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:52:59.849" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:59.850" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:54.343" endtime="20231004 15:52:59.850"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:59.851" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:59.850" endtime="20231004 15:52:59.851"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:59.852" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:59.851" endtime="20231004 15:52:59.852"/>
</kw>
<status status="PASS" starttime="20231004 15:52:54.342" endtime="20231004 15:52:59.853"/>
</kw>
<msg timestamp="20231004 15:52:59.853" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:54.341" endtime="20231004 15:52:59.853"/>
</kw>
<msg timestamp="20231004 15:52:59.853" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:54.340" endtime="20231004 15:52:59.853"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:52:59.854" endtime="20231004 15:52:59.854"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:47.908" endtime="20231004 15:52:59.855"/>
</test>
<test id="s1-s23-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:59.863" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:52:59.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:52:59.865" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:59.859" endtime="20231004 15:52:59.865"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:52:59.867" level="INFO"/>
<status status="PASS" starttime="20231004 15:52:59.866" endtime="20231004 15:52:59.867"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:52:59.868" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:52:59.867" endtime="20231004 15:52:59.868"/>
</kw>
<status status="PASS" starttime="20231004 15:52:59.858" endtime="20231004 15:52:59.868"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:52:59.874" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:09.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:09.458" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:59.870" endtime="20231004 15:53:09.458"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:09.460" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:09.459" endtime="20231004 15:53:09.460"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:09.461" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:09.460" endtime="20231004 15:53:09.461"/>
</kw>
<status status="PASS" starttime="20231004 15:52:59.869" endtime="20231004 15:53:09.462"/>
</kw>
<msg timestamp="20231004 15:53:09.462" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:52:59.869" endtime="20231004 15:53:09.462"/>
</kw>
<msg timestamp="20231004 15:53:09.462" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:52:59.868" endtime="20231004 15:53:09.462"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:09.462" endtime="20231004 15:53:09.463"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:09.468" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:09.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:09.472" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:09.464" endtime="20231004 15:53:09.472"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:09.475" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:09.473" endtime="20231004 15:53:09.475"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:09.476" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:09.475" endtime="20231004 15:53:09.476"/>
</kw>
<status status="PASS" starttime="20231004 15:53:09.463" endtime="20231004 15:53:09.477"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:52:59.857" endtime="20231004 15:53:09.478"/>
</test>
<test id="s1-s23-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:09.486" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:15.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:15.480" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:09.483" endtime="20231004 15:53:15.480"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:15.482" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:15.481" endtime="20231004 15:53:15.482"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:15.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:15.482" endtime="20231004 15:53:15.483"/>
</kw>
<status status="PASS" starttime="20231004 15:53:09.482" endtime="20231004 15:53:15.484"/>
</kw>
<msg timestamp="20231004 15:53:15.484" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:09.482" endtime="20231004 15:53:15.484"/>
</kw>
<msg timestamp="20231004 15:53:15.485" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:09.481" endtime="20231004 15:53:15.485"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:15.485" endtime="20231004 15:53:15.486"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:09.479" endtime="20231004 15:53:15.486"/>
</test>
<test id="s1-s23-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:15.494" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:53:15.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:15.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:15.490" endtime="20231004 15:53:15.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:15.498" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:15.497" endtime="20231004 15:53:15.499"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:15.499" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:15.499" endtime="20231004 15:53:15.500"/>
</kw>
<status status="PASS" starttime="20231004 15:53:15.489" endtime="20231004 15:53:15.500"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:15.505" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:25.809" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:25.810" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:15.502" endtime="20231004 15:53:25.810"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:25.812" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:25.810" endtime="20231004 15:53:25.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:25.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:25.814" endtime="20231004 15:53:25.816"/>
</kw>
<status status="PASS" starttime="20231004 15:53:15.502" endtime="20231004 15:53:25.817"/>
</kw>
<msg timestamp="20231004 15:53:25.817" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:15.501" endtime="20231004 15:53:25.818"/>
</kw>
<msg timestamp="20231004 15:53:25.819" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:15.500" endtime="20231004 15:53:25.819"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:25.820" endtime="20231004 15:53:25.822"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:25.833" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:25.844" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:25.844" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:25.824" endtime="20231004 15:53:25.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:25.847" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:25.845" endtime="20231004 15:53:25.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:25.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:25.847" endtime="20231004 15:53:25.849"/>
</kw>
<status status="PASS" starttime="20231004 15:53:25.822" endtime="20231004 15:53:25.851"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:15.488" endtime="20231004 15:53:25.851"/>
</test>
<test id="s1-s23-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:25.896" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:26.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:26.779" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:25.866" endtime="20231004 15:53:26.779"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:26.780" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:26.779" endtime="20231004 15:53:26.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:26.782" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:26.781" endtime="20231004 15:53:26.782"/>
</kw>
<status status="PASS" starttime="20231004 15:53:25.865" endtime="20231004 15:53:26.783"/>
</kw>
<msg timestamp="20231004 15:53:26.783" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:25.864" endtime="20231004 15:53:26.783"/>
</kw>
<status status="PASS" starttime="20231004 15:53:25.862" endtime="20231004 15:53:26.783"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:26.790" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:27.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:27.603" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:26.786" endtime="20231004 15:53:27.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:27.605" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:27.604" endtime="20231004 15:53:27.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:27.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:27.605" endtime="20231004 15:53:27.606"/>
</kw>
<status status="PASS" starttime="20231004 15:53:26.785" endtime="20231004 15:53:27.606"/>
</kw>
<msg timestamp="20231004 15:53:27.606" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:26.784" endtime="20231004 15:53:27.607"/>
</kw>
<status status="PASS" starttime="20231004 15:53:26.783" endtime="20231004 15:53:27.607"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:27.614" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:28.395" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:28.395" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:27.610" endtime="20231004 15:53:28.395"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:28.397" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:28.396" endtime="20231004 15:53:28.397"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:28.398" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:28.397" endtime="20231004 15:53:28.398"/>
</kw>
<status status="PASS" starttime="20231004 15:53:27.609" endtime="20231004 15:53:28.398"/>
</kw>
<msg timestamp="20231004 15:53:28.399" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:27.608" endtime="20231004 15:53:28.399"/>
</kw>
<status status="PASS" starttime="20231004 15:53:27.607" endtime="20231004 15:53:28.399"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:28.405" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:29.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:29.125" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:28.401" endtime="20231004 15:53:29.125"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:29.127" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:29.126" endtime="20231004 15:53:29.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:29.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:29.127" endtime="20231004 15:53:29.129"/>
</kw>
<status status="PASS" starttime="20231004 15:53:28.401" endtime="20231004 15:53:29.129"/>
</kw>
<msg timestamp="20231004 15:53:29.129" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:28.400" endtime="20231004 15:53:29.129"/>
</kw>
<status status="PASS" starttime="20231004 15:53:28.399" endtime="20231004 15:53:29.129"/>
</kw>
<status status="PASS" starttime="20231004 15:53:25.860" endtime="20231004 15:53:29.129"/>
</kw>
<status status="PASS" starttime="20231004 15:53:25.859" endtime="20231004 15:53:29.130"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:25.857" endtime="20231004 15:53:29.130"/>
</test>
<test id="s1-s23-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:53:29.134" level="INFO">${randStr} = 1576437785</msg>
<status status="PASS" starttime="20231004 15:53:29.134" endtime="20231004 15:53:29.134"/>
</kw>
<msg timestamp="20231004 15:53:29.135" level="INFO">${random} = ozone-test-1576437785</msg>
<status status="PASS" starttime="20231004 15:53:29.133" endtime="20231004 15:53:29.135"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:29.141" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-1576437785 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:30.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:30.071" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1576437785"
}</msg>
<status status="PASS" starttime="20231004 15:53:29.138" endtime="20231004 15:53:30.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:30.073" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1576437785"
}</msg>
<status status="PASS" starttime="20231004 15:53:30.072" endtime="20231004 15:53:30.073"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:30.074" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:30.073" endtime="20231004 15:53:30.074"/>
</kw>
<status status="PASS" starttime="20231004 15:53:29.137" endtime="20231004 15:53:30.075"/>
</kw>
<msg timestamp="20231004 15:53:30.075" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:29.137" endtime="20231004 15:53:30.075"/>
</kw>
<msg timestamp="20231004 15:53:30.075" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1576437785"
}</msg>
<status status="PASS" starttime="20231004 15:53:29.136" endtime="20231004 15:53:30.075"/>
</kw>
<msg timestamp="20231004 15:53:30.075" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1576437785"
}</msg>
<status status="PASS" starttime="20231004 15:53:29.135" endtime="20231004 15:53:30.076"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:30.076" endtime="20231004 15:53:30.076"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:30.077" endtime="20231004 15:53:30.077"/>
</kw>
<msg timestamp="20231004 15:53:30.077" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20231004 15:53:29.135" endtime="20231004 15:53:30.077"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231004 15:53:30.078" endtime="20231004 15:53:30.078"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:29.132" endtime="20231004 15:53:30.079"/>
</test>
<test id="s1-s23-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:30.087" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20231004 15:53:30.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:30.090" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:30.083" endtime="20231004 15:53:30.090"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:30.092" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:30.091" endtime="20231004 15:53:30.092"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:30.093" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:30.092" endtime="20231004 15:53:30.093"/>
</kw>
<status status="PASS" starttime="20231004 15:53:30.082" endtime="20231004 15:53:30.104"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:30.111" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:31.443" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:31.443" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:30.107" endtime="20231004 15:53:31.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:31.445" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:31.444" endtime="20231004 15:53:31.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:31.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:31.446" endtime="20231004 15:53:31.447"/>
</kw>
<msg timestamp="20231004 15:53:31.447" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:30.106" endtime="20231004 15:53:31.447"/>
</kw>
<msg timestamp="20231004 15:53:31.448" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:30.104" endtime="20231004 15:53:31.448"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:31.448" endtime="20231004 15:53:31.449"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:31.455" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:31.459" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:31.459" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:31.450" endtime="20231004 15:53:31.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:31.461" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:31.460" endtime="20231004 15:53:31.461"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:31.462" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:31.461" endtime="20231004 15:53:31.462"/>
</kw>
<status status="PASS" starttime="20231004 15:53:31.449" endtime="20231004 15:53:31.462"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:30.081" endtime="20231004 15:53:31.462"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20231004 15:52:47.763" endtime="20231004 15:53:31.465"/>
</suite>
<suite id="s1-s24" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s24-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20231004 15:53:35.469" level="INFO">${random} = 30576</msg>
<status status="PASS" starttime="20231004 15:53:35.468" endtime="20231004 15:53:35.469"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:35.474" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-30576 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:44.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:44.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:35.471" endtime="20231004 15:53:44.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:44.825" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:44.824" endtime="20231004 15:53:44.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:44.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:44.825" endtime="20231004 15:53:44.826"/>
</kw>
<status status="PASS" starttime="20231004 15:53:35.470" endtime="20231004 15:53:44.826"/>
</kw>
<msg timestamp="20231004 15:53:44.826" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:35.470" endtime="20231004 15:53:44.826"/>
</kw>
<msg timestamp="20231004 15:53:44.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:35.469" endtime="20231004 15:53:44.826"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:44.827" endtime="20231004 15:53:44.827"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:44.832" level="INFO">Running command 'cat /tmp/key-30576 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:44.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:44.837" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:44.828" endtime="20231004 15:53:44.837"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:44.838" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:44.838" endtime="20231004 15:53:44.839"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:44.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:44.839" endtime="20231004 15:53:44.840"/>
</kw>
<msg timestamp="20231004 15:53:44.840" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:44.828" endtime="20231004 15:53:44.840"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:44.840" endtime="20231004 15:53:44.841"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:44.846" level="INFO">Running command 'rm /tmp/key-30576 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:44.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:44.851" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:44.842" endtime="20231004 15:53:44.851"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:44.853" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:44.852" endtime="20231004 15:53:44.854"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:44.855" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:44.854" endtime="20231004 15:53:44.855"/>
</kw>
<status status="PASS" starttime="20231004 15:53:44.841" endtime="20231004 15:53:44.855"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:35.467" endtime="20231004 15:53:44.856"/>
</test>
<test id="s1-s24-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:44.867" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:45.770" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:45.770" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:44.864" endtime="20231004 15:53:45.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:45.773" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:45.772" endtime="20231004 15:53:45.773"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:45.774" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:45.773" endtime="20231004 15:53:45.775"/>
</kw>
<status status="PASS" starttime="20231004 15:53:44.863" endtime="20231004 15:53:45.775"/>
</kw>
<msg timestamp="20231004 15:53:45.776" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:44.862" endtime="20231004 15:53:45.776"/>
</kw>
<status status="PASS" starttime="20231004 15:53:44.861" endtime="20231004 15:53:45.776"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:45.783" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:46.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:46.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:45.779" endtime="20231004 15:53:46.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:46.676" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:46.675" endtime="20231004 15:53:46.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:46.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:46.676" endtime="20231004 15:53:46.677"/>
</kw>
<status status="PASS" starttime="20231004 15:53:45.778" endtime="20231004 15:53:46.678"/>
</kw>
<msg timestamp="20231004 15:53:46.678" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:45.777" endtime="20231004 15:53:46.678"/>
</kw>
<status status="PASS" starttime="20231004 15:53:45.776" endtime="20231004 15:53:46.678"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:46.684" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:47.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:47.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:46.681" endtime="20231004 15:53:47.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:47.589" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:47.588" endtime="20231004 15:53:47.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:47.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:47.590" endtime="20231004 15:53:47.591"/>
</kw>
<status status="PASS" starttime="20231004 15:53:46.680" endtime="20231004 15:53:47.591"/>
</kw>
<msg timestamp="20231004 15:53:47.592" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:46.679" endtime="20231004 15:53:47.592"/>
</kw>
<status status="PASS" starttime="20231004 15:53:46.678" endtime="20231004 15:53:47.592"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:47.598" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:48.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:48.345" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:47.595" endtime="20231004 15:53:48.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:48.348" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:48.346" endtime="20231004 15:53:48.348"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:48.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:48.348" endtime="20231004 15:53:48.349"/>
</kw>
<status status="PASS" starttime="20231004 15:53:47.594" endtime="20231004 15:53:48.349"/>
</kw>
<msg timestamp="20231004 15:53:48.349" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:47.593" endtime="20231004 15:53:48.350"/>
</kw>
<status status="PASS" starttime="20231004 15:53:47.592" endtime="20231004 15:53:48.350"/>
</kw>
<status status="PASS" starttime="20231004 15:53:44.860" endtime="20231004 15:53:48.350"/>
</kw>
<status status="PASS" starttime="20231004 15:53:44.859" endtime="20231004 15:53:48.350"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:44.858" endtime="20231004 15:53:48.350"/>
</test>
<test id="s1-s24-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:48.357" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:49.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:49.489" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:48.354" endtime="20231004 15:53:49.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:49.493" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:53:49 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:53:49.490" endtime="20231004 15:53:49.493"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:49.494" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:49.493" endtime="20231004 15:53:49.494"/>
</kw>
<msg timestamp="20231004 15:53:49.495" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:48.353" endtime="20231004 15:53:49.495"/>
</kw>
<msg timestamp="20231004 15:53:49.495" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:25 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:48.353" endtime="20231004 15:53:49.495"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:49.495" endtime="20231004 15:53:49.496"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:49.501" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:49.504" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:49.505" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:49.497" endtime="20231004 15:53:49.505"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:49.506" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:49.505" endtime="20231004 15:53:49.507"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:49.507" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:49.507" endtime="20231004 15:53:49.507"/>
</kw>
<msg timestamp="20231004 15:53:49.508" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20231004 15:53:49.497" endtime="20231004 15:53:49.508"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:49.508" endtime="20231004 15:53:49.509"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:49.525" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:49.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:49.531" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:49.510" endtime="20231004 15:53:49.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:49.533" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:49.532" endtime="20231004 15:53:49.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:49.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:49.534" endtime="20231004 15:53:49.535"/>
</kw>
<status status="PASS" starttime="20231004 15:53:49.509" endtime="20231004 15:53:49.535"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:48.351" endtime="20231004 15:53:49.536"/>
</test>
<test id="s1-s24-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:49.543" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:50.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:50.470" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:49.540" endtime="20231004 15:53:50.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:50.472" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 04 Oct 2023 15:53:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20231004 15:53:50.471" endtime="20231004 15:53:50.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:50.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:50.472" endtime="20231004 15:53:50.473"/>
</kw>
<msg timestamp="20231004 15:53:50.473" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:49.539" endtime="20231004 15:53:50.474"/>
</kw>
<msg timestamp="20231004 15:53:50.474" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 04 Oct 2023 15:53:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20231004 15:53:49.538" endtime="20231004 15:53:50.474"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:50.474" endtime="20231004 15:53:50.475"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:50.480" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:50.484" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:50.485" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:53:50.477" endtime="20231004 15:53:50.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:50.486" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:53:50.485" endtime="20231004 15:53:50.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:50.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:50.487" endtime="20231004 15:53:50.488"/>
</kw>
<msg timestamp="20231004 15:53:50.488" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20231004 15:53:50.476" endtime="20231004 15:53:50.489"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:53:50.489" endtime="20231004 15:53:50.489"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:50.493" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:53:50.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:53:50.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:53:50.490" endtime="20231004 15:53:50.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:53:50.498" level="INFO"/>
<status status="PASS" starttime="20231004 15:53:50.497" endtime="20231004 15:53:50.498"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:53:50.499" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:53:50.498" endtime="20231004 15:53:50.499"/>
</kw>
<status status="PASS" starttime="20231004 15:53:50.490" endtime="20231004 15:53:50.499"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:53:49.537" endtime="20231004 15:53:50.500"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231004 15:53:35.329" endtime="20231004 15:53:50.502"/>
</suite>
<suite id="s1-s25" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s25-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:53:54.890" endtime="20231004 15:53:54.891"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:53:54.898" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:00.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:54:00.692" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:53:54.894" endtime="20231004 15:54:00.692"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:00.694" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:00.693" endtime="20231004 15:54:00.694"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:00.695" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:00.694" endtime="20231004 15:54:00.695"/>
</kw>
<status status="PASS" starttime="20231004 15:53:54.893" endtime="20231004 15:54:00.696"/>
</kw>
<msg timestamp="20231004 15:54:00.696" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:53:54.892" endtime="20231004 15:54:00.696"/>
</kw>
<msg timestamp="20231004 15:54:00.696" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:53:54.891" endtime="20231004 15:54:00.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:00.697" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:00.697" endtime="20231004 15:54:00.697"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:54:00.698" endtime="20231004 15:54:00.698"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:53:54.888" endtime="20231004 15:54:00.698"/>
</test>
<test id="s1-s25-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:54:00.701" endtime="20231004 15:54:00.702"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:00.708" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:06.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:54:06.248" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:00.704" endtime="20231004 15:54:06.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:06.250" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:06.248" endtime="20231004 15:54:06.250"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:06.251" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:06.250" endtime="20231004 15:54:06.251"/>
</kw>
<status status="PASS" starttime="20231004 15:54:00.703" endtime="20231004 15:54:06.251"/>
</kw>
<msg timestamp="20231004 15:54:06.254" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:54:00.703" endtime="20231004 15:54:06.254"/>
</kw>
<msg timestamp="20231004 15:54:06.254" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:00.702" endtime="20231004 15:54:06.254"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:06.257" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20231004 15:54:06.254" endtime="20231004 15:54:06.257"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20231004 15:54:06.257" endtime="20231004 15:54:06.258"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20231004 15:54:00.700" endtime="20231004 15:54:06.261"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20231004 15:53:54.758" endtime="20231004 15:54:06.266"/>
</suite>
<suite id="s1-s26" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s26-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:10.652" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:16.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:54:16.436" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:54:10.648" endtime="20231004 15:54:16.436"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:16.441" level="INFO"/>
<status status="PASS" starttime="20231004 15:54:16.437" endtime="20231004 15:54:16.441"/>
</kw>
<msg timestamp="20231004 15:54:16.441" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:54:10.647" endtime="20231004 15:54:16.442"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:16.442" endtime="20231004 15:54:16.442"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:16.451" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:21.585" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:54:21.585" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:54:16.446" endtime="20231004 15:54:21.585"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:21.586" level="INFO"/>
<status status="PASS" starttime="20231004 15:54:21.586" endtime="20231004 15:54:21.587"/>
</kw>
<msg timestamp="20231004 15:54:21.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231004 15:54:16.443" endtime="20231004 15:54:21.587"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:21.587" endtime="20231004 15:54:21.588"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:21.593" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:26.808" level="INFO">${rc} = 255</msg>
<msg timestamp="20231004 15:54:26.808" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20231004 15:54:21.589" endtime="20231004 15:54:26.808"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:26.810" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20231004 15:54:26.809" endtime="20231004 15:54:26.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:26.811" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:26.811" endtime="20231004 15:54:26.811"/>
</kw>
<msg timestamp="20231004 15:54:26.812" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20231004 15:54:21.588" endtime="20231004 15:54:26.812"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:26.812" endtime="20231004 15:54:26.813"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:54:10.646" endtime="20231004 15:54:26.813"/>
</test>
<test id="s1-s26-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:26.820" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:32.164" level="INFO">${rc} = 255</msg>
<msg timestamp="20231004 15:54:32.164" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20231004 15:54:26.817" endtime="20231004 15:54:32.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:32.166" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20231004 15:54:32.165" endtime="20231004 15:54:32.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:32.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:32.167" endtime="20231004 15:54:32.168"/>
</kw>
<msg timestamp="20231004 15:54:32.168" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20231004 15:54:26.816" endtime="20231004 15:54:32.168"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:32.169" endtime="20231004 15:54:32.169"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:54:26.815" endtime="20231004 15:54:32.170"/>
</test>
<test id="s1-s26-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:32.177" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:37.639" level="INFO">${rc} = 255</msg>
<msg timestamp="20231004 15:54:37.639" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20231004 15:54:32.173" endtime="20231004 15:54:37.639"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:37.641" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20231004 15:54:37.640" endtime="20231004 15:54:37.641"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:37.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:37.642" endtime="20231004 15:54:37.643"/>
</kw>
<msg timestamp="20231004 15:54:37.643" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20231004 15:54:32.172" endtime="20231004 15:54:37.643"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:37.644" endtime="20231004 15:54:37.644"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:54:32.171" endtime="20231004 15:54:37.644"/>
</test>
<test id="s1-s26-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:37.651" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:42.835" level="INFO">${rc} = 255</msg>
<msg timestamp="20231004 15:54:42.835" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20231004 15:54:37.648" endtime="20231004 15:54:42.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:42.837" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20231004 15:54:42.835" endtime="20231004 15:54:42.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:42.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:42.837" endtime="20231004 15:54:42.838"/>
</kw>
<msg timestamp="20231004 15:54:42.838" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20231004 15:54:37.647" endtime="20231004 15:54:42.838"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:42.839" endtime="20231004 15:54:42.839"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:54:37.646" endtime="20231004 15:54:42.840"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20231004 15:54:10.563" endtime="20231004 15:54:42.842"/>
</suite>
<suite id="s1-s27" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s27-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231004 15:54:46.796" endtime="20231004 15:54:46.798"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231004 15:54:46.799" endtime="20231004 15:54:46.799"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231004 15:54:46.806" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231004 15:54:58.243" level="INFO">${rc} = 0</msg>
<msg timestamp="20231004 15:54:58.243" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20231004 15:54:46.801" endtime="20231004 15:54:58.243"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231004 15:54:58.246" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20231004 15:54:58.244" endtime="20231004 15:54:58.246"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231004 15:54:58.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231004 15:54:58.247" endtime="20231004 15:54:58.248"/>
</kw>
<status status="PASS" starttime="20231004 15:54:46.801" endtime="20231004 15:54:58.248"/>
</kw>
<msg timestamp="20231004 15:54:58.249" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231004 15:54:46.800" endtime="20231004 15:54:58.249"/>
</kw>
<msg timestamp="20231004 15:54:58.249" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20231004 15:54:46.799" endtime="20231004 15:54:58.249"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231004 15:54:58.250" endtime="20231004 15:54:58.251"/>
</kw>
<status status="PASS" starttime="20231004 15:54:58.250" endtime="20231004 15:54:58.251"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231004 15:54:46.795" endtime="20231004 15:54:58.251"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20231004 15:54:46.659" endtime="20231004 15:54:58.253"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="724652"/>
</suite>
<statistics>
<total>
<stat pass="103" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="103" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s4" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s5" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s6" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s8" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s9" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s10" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s11" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Finalize">upgrade.Finalize</stat>
<stat pass="2" fail="0" skip="0" id="s1-s13" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s17" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s18" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s19" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s20" name="Snapshot-Sh">upgrade.Snapshot-Sh</stat>
<stat pass="4" fail="0" skip="0" id="s1-s21" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s23" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s24" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s25" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s26" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s27" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
