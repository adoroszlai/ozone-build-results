<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230830 18:20:57.064" rpa="false" schemaversion="4">
<suite id="s1" name="restart">
<suite id="s1-s1" name="Generate" source="/opt/hadoop/smoketest/freon/generate.robot">
<test id="s1-s1-t1" name="Ozone Client Key Generator" line="25">
<kw name="Freon OCKG" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:17:35.419" level="INFO">Running command 'ozone freon ockg  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:17:45.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:17:45.726" level="INFO">${output} = 2023-08-30 18:17:37,922 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:38,097 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:35.414" endtime="20230830 18:17:45.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:17:45.727" level="INFO">2023-08-30 18:17:37,922 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:38,097 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:17:38,097 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:17:38,197 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-30 18:17:38,246 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:39,247 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:40,248 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:41,248 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:41,448 [main] INFO rpc.RpcClient: Creating Volume: vol1, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1
2023-08-30 18:17:41,571 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2023-08-30 18:17:42,248 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:42,435 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:17:42,735 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:17:43,249 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:44,249 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:45,250 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:17:45,347 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=2940.044249, max=2940.044249, mean=2940.044249, stddev=0.0, median=2940.044249, p75=2940.044249, p95=2940.044249, p98=2940.044249, p99=2940.044249, p999=2940.044249, mean_rate=0.2684708677882603, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:17:45,348 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 7
2023-08-30 18:17:45,349 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:17:45,349 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:17:45.727" endtime="20230830 18:17:45.727"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:17:45.728" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:17:45.727" endtime="20230830 18:17:45.728"/>
</kw>
<status status="PASS" starttime="20230830 18:17:35.412" endtime="20230830 18:17:45.728"/>
</kw>
<msg timestamp="20230830 18:17:45.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:17:35.412" endtime="20230830 18:17:45.728"/>
</kw>
<msg timestamp="20230830 18:17:45.729" level="INFO">${result} = 2023-08-30 18:17:37,922 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:38,097 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:35.410" endtime="20230830 18:17:45.729"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:17:45.729" endtime="20230830 18:17:45.729"/>
</kw>
<status status="PASS" starttime="20230830 18:17:35.409" endtime="20230830 18:17:45.729"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:17:35.408" endtime="20230830 18:17:45.729"/>
</test>
<test id="s1-s1-t2" name="OM Key Generator" line="28">
<kw name="Freon OMKG" library="freon">
<arg>prefix=omkg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon omkg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:17:45.736" level="INFO">Running command 'ozone freon omkg  -t 1 -n1 -p omkgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:17:50.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:17:50.107" level="INFO">${output} = 2023-08-30 18:17:47,833 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:48,042 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:45.734" endtime="20230830 18:17:50.107"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:17:50.108" level="INFO">2023-08-30 18:17:47,833 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:48,042 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:17:48,042 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:17:48,172 [main] INFO freon.BaseFreonGenerator: Executing test with prefix omkgpre and number-of-tests 1
2023-08-30 18:17:48,230 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:49,234 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:17:50,033 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=148.137196, max=148.137196, mean=148.137196, stddev=0.0, median=148.137196, p75=148.137196, p95=148.137196, p98=148.137196, p99=148.137196, p999=148.137196, mean_rate=0.9738415505690587, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:17:50,035 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-30 18:17:50,035 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:17:50,035 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:17:50.108" endtime="20230830 18:17:50.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:17:50.109" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:17:50.109" endtime="20230830 18:17:50.109"/>
</kw>
<status status="PASS" starttime="20230830 18:17:45.733" endtime="20230830 18:17:50.109"/>
</kw>
<msg timestamp="20230830 18:17:50.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:17:45.733" endtime="20230830 18:17:50.110"/>
</kw>
<msg timestamp="20230830 18:17:50.110" level="INFO">${result} = 2023-08-30 18:17:47,833 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:48,042 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:45.732" endtime="20230830 18:17:50.110"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:17:50.110" endtime="20230830 18:17:50.110"/>
</kw>
<status status="PASS" starttime="20230830 18:17:45.731" endtime="20230830 18:17:50.111"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:17:45.730" endtime="20230830 18:17:50.111"/>
</test>
<test id="s1-s1-t3" name="OM Bucket Generator" line="31">
<kw name="Freon OMBG" library="freon">
<arg>prefix=ombg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ombg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:17:50.118" level="INFO">Running command 'ozone freon ombg  -t 1 -n1 -p ombgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:17:54.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:17:54.414" level="INFO">${output} = 2023-08-30 18:17:52,205 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:52,406 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:50.116" endtime="20230830 18:17:54.414"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:17:54.416" level="INFO">2023-08-30 18:17:52,205 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:52,406 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:17:52,406 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:17:52,510 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ombgpre and number-of-tests 1
2023-08-30 18:17:52,562 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:17:53,567 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:17:54,359 [shutdown-hook-0] INFO metrics: type=TIMER, name=bucket-create, count=1, min=44.401078, max=44.401078, mean=44.401078, stddev=0.0, median=44.401078, p75=44.401078, p95=44.401078, p98=44.401078, p99=44.401078, p999=44.401078, mean_rate=0.9818787916249828, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:17:54,360 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-30 18:17:54,360 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:17:54,360 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:17:54.415" endtime="20230830 18:17:54.416"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:17:54.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:17:54.416" endtime="20230830 18:17:54.417"/>
</kw>
<status status="PASS" starttime="20230830 18:17:50.115" endtime="20230830 18:17:54.417"/>
</kw>
<msg timestamp="20230830 18:17:54.417" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:17:50.115" endtime="20230830 18:17:54.417"/>
</kw>
<msg timestamp="20230830 18:17:54.417" level="INFO">${result} = 2023-08-30 18:17:52,205 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:52,406 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:50.114" endtime="20230830 18:17:54.417"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:17:54.417" endtime="20230830 18:17:54.418"/>
</kw>
<status status="PASS" starttime="20230830 18:17:50.113" endtime="20230830 18:17:54.418"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:17:50.112" endtime="20230830 18:17:54.418"/>
</test>
<doc>Test freon data generation commands</doc>
<status status="PASS" starttime="20230830 18:17:35.278" endtime="20230830 18:17:54.419"/>
</suite>
<suite id="s1-s2" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s2-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230830 18:20:36.730" endtime="20230830 18:20:36.731"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:20:36.735" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:42.444" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:42.444" level="INFO">${output} = 2023-08-30 18:20:38,652 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:38,803 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:36.732" endtime="20230830 18:20:42.445"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:42.446" level="INFO">2023-08-30 18:20:38,652 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:38,803 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:38,803 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:38,883 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpost and number-of-tests 100
2023-08-30 18:20:38,945 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:20:39,556 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=66c1719d-d42f-495c-9931-86c181c42219
2023-08-30 18:20:39,947 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:20:39,993 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:20:40,251 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:20:40,947 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:20:41,948 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-30 18:20:42,088 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=2.105635, max=16.071368, mean=4.1678593500000005, stddev=2.7413065855506216, median=3.085852, p75=4.417176, p95=10.156969, p98=12.755612, p99=15.064358, p999=16.071368, mean_rate=94.50782883432704, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:42,088 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-30 18:20:42,088 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:42,089 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230830 18:20:42.445" endtime="20230830 18:20:42.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:42.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:42.446" endtime="20230830 18:20:42.447"/>
</kw>
<status status="PASS" starttime="20230830 18:20:36.732" endtime="20230830 18:20:42.447"/>
</kw>
<msg timestamp="20230830 18:20:42.447" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:20:36.731" endtime="20230830 18:20:42.447"/>
</kw>
<msg timestamp="20230830 18:20:42.447" level="INFO">${result} = 2023-08-30 18:20:38,652 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:38,803 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:36.731" endtime="20230830 18:20:42.448"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:42.448" endtime="20230830 18:20:42.448"/>
</kw>
<status status="PASS" starttime="20230830 18:20:36.729" endtime="20230830 18:20:42.448"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:20:36.728" endtime="20230830 18:20:42.448"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230830 18:20:36.678" endtime="20230830 18:20:42.450"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s3-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:17:57.045" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:18:03.096" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:18:03.096" level="INFO">${output} = 2023-08-30 18:17:58,986 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:59,172 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:57.042" endtime="20230830 18:18:03.096"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:18:03.097" level="INFO">2023-08-30 18:17:58,986 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:59,172 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:17:59,173 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:17:59,239 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-30 18:17:59,303 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:18:00,308 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:18:00,753 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:18:01,308 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:18:02,309 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:18:02,731 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=78.467964, max=78.467964, mean=78.467964, stddev=0.0, median=78.467964, p75=78.467964, p95=78.467964, p98=78.467964, p99=78.467964, p999=78.467964, mean_rate=0.9703295436398196, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:18:02,731 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-30 18:18:02,731 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:18:02,731 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:18:03.097" endtime="20230830 18:18:03.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:18:03.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:18:03.098" endtime="20230830 18:18:03.098"/>
</kw>
<status status="PASS" starttime="20230830 18:17:57.042" endtime="20230830 18:18:03.098"/>
</kw>
<msg timestamp="20230830 18:18:03.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:17:57.041" endtime="20230830 18:18:03.099"/>
</kw>
<msg timestamp="20230830 18:18:03.099" level="INFO">${result} = 2023-08-30 18:17:58,986 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:17:59,172 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:17:57.041" endtime="20230830 18:18:03.099"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:18:03.099" endtime="20230830 18:18:03.099"/>
</kw>
<status status="PASS" starttime="20230830 18:17:57.039" endtime="20230830 18:18:03.099"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:17:57.039" endtime="20230830 18:18:03.100"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230830 18:17:56.991" endtime="20230830 18:18:03.101"/>
</suite>
<suite id="s1-s4" name="Generate-Chunk" source="/opt/hadoop/smoketest/freon/generate-chunk.robot">
<test id="s1-s4-t1" name="DN Chunk Generator" line="25">
<kw name="Freon DCG" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230830 18:18:05.750" endtime="20230830 18:18:05.751"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcg -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:18:05.755" level="INFO">Running command 'ozone freon dcg -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:18:13.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:18:13.164" level="INFO">${output} = 2023-08-30 18:18:07,433 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:07,547 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:18:05.752" endtime="20230830 18:18:13.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:18:13.166" level="INFO">2023-08-30 18:18:07,433 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:07,547 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:18:07,547 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:18:08,180 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-30 18:18:08,213 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:18:08,564 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:18:08,834 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:18:09,217 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:18:10,218 [Thread-4] INFO freon.ProgressBar: Progress: 17.00 % (17 out of 100)
2023-08-30 18:18:11,218 [Thread-4] INFO freon.ProgressBar: Progress: 56.00 % (56 out of 100)
2023-08-30 18:18:12,218 [Thread-4] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-30 18:18:12,813 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-write, count=100, min=15.630171, max=931.693661, mean=33.89153741023527, stddev=89.38676186132608, median=23.879114, p75=27.771781, p95=36.502232, p98=39.929692, p99=45.01528, p999=931.693661, mean_rate=24.50655658058087, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:18:12,813 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2023-08-30 18:18:12,813 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:18:12,813 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230830 18:18:13.165" endtime="20230830 18:18:13.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:18:13.166" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:18:13.166" endtime="20230830 18:18:13.167"/>
</kw>
<status status="PASS" starttime="20230830 18:18:05.752" endtime="20230830 18:18:13.167"/>
</kw>
<msg timestamp="20230830 18:18:13.167" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:18:05.751" endtime="20230830 18:18:13.167"/>
</kw>
<msg timestamp="20230830 18:18:13.167" level="INFO">${result} = 2023-08-30 18:18:07,433 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:07,547 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:18:05.751" endtime="20230830 18:18:13.167"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:18:13.167" endtime="20230830 18:18:13.168"/>
</kw>
<status status="PASS" starttime="20230830 18:18:05.749" endtime="20230830 18:18:13.168"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:18:05.748" endtime="20230830 18:18:13.168"/>
</test>
<doc>Test freon chunk generation commands</doc>
<status status="PASS" starttime="20230830 18:18:05.702" endtime="20230830 18:18:13.169"/>
</suite>
<suite id="s1-s5" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s5-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230830 18:18:15.909" endtime="20230830 18:18:15.909"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:18:15.914" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:18:21.901" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:18:21.901" level="INFO">${output} = 2023-08-30 18:18:18,062 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:18,247 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:18:15.911" endtime="20230830 18:18:21.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:18:21.902" level="INFO">2023-08-30 18:18:18,062 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:18,247 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:18:18,248 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:18:18,336 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-30 18:18:18,394 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:18:18,928 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=66c1719d-d42f-495c-9931-86c181c42219
2023-08-30 18:18:19,395 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:18:19,483 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:18:19,773 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:18:20,396 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:18:21,396 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-30 18:18:21,549 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=1.895233, max=10.699683, mean=3.6118078800000006, stddev=1.8757639873176328, median=2.977551, p75=4.249873, p95=8.005837, p98=9.081956, p99=9.380761, p999=10.699683, mean_rate=95.4366085647544, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:18:21,550 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-30 18:18:21,550 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:18:21,550 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230830 18:18:21.901" endtime="20230830 18:18:21.902"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:18:21.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:18:21.902" endtime="20230830 18:18:21.903"/>
</kw>
<status status="PASS" starttime="20230830 18:18:15.910" endtime="20230830 18:18:21.903"/>
</kw>
<msg timestamp="20230830 18:18:21.903" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:18:15.910" endtime="20230830 18:18:21.903"/>
</kw>
<msg timestamp="20230830 18:18:21.904" level="INFO">${result} = 2023-08-30 18:18:18,062 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:18:18,247 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:18:15.909" endtime="20230830 18:18:21.904"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:18:21.904" endtime="20230830 18:18:21.904"/>
</kw>
<status status="PASS" starttime="20230830 18:18:15.907" endtime="20230830 18:18:21.905"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:18:15.906" endtime="20230830 18:18:21.905"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230830 18:18:15.840" endtime="20230830 18:18:21.906"/>
</suite>
<suite id="s1-s6" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s6-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:19:36.644" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:19:47.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:19:47.327" level="INFO">${output} = 2023-08-30 18:19:40,135 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:40,366 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:36.639" endtime="20230830 18:19:47.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:19:47.328" level="INFO">2023-08-30 18:19:40,135 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:40,366 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:19:40,366 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:19:40,475 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-30 18:19:40,539 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:41,543 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:42,545 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:43,545 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:44,546 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:44,870 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:19:45,546 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:19:46,547 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:19:46,960 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=62.127062, max=62.127062, mean=62.127062, stddev=0.0, median=62.127062, p75=62.127062, p95=62.127062, p98=62.127062, p99=62.127062, p999=62.127062, mean_rate=0.9497154989514143, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:19:46,962 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 6
2023-08-30 18:19:46,963 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:19:46,963 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:19:47.328" endtime="20230830 18:19:47.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:19:47.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:19:47.328" endtime="20230830 18:19:47.329"/>
</kw>
<status status="PASS" starttime="20230830 18:19:36.638" endtime="20230830 18:19:47.329"/>
</kw>
<msg timestamp="20230830 18:19:47.329" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:19:36.637" endtime="20230830 18:19:47.329"/>
</kw>
<msg timestamp="20230830 18:19:47.330" level="INFO">${result} = 2023-08-30 18:19:40,135 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:40,366 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:36.635" endtime="20230830 18:19:47.330"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:19:47.330" endtime="20230830 18:19:47.330"/>
</kw>
<status status="PASS" starttime="20230830 18:19:36.634" endtime="20230830 18:19:47.330"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:19:36.632" endtime="20230830 18:19:47.330"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230830 18:19:36.499" endtime="20230830 18:19:47.331"/>
</suite>
<suite id="s1-s7" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s7-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230830 18:19:50.034" endtime="20230830 18:19:50.034"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:19:50.039" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:19:56.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:19:56.136" level="INFO">${output} = 2023-08-30 18:19:52,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:52,485 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:50.037" endtime="20230830 18:19:56.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:19:56.137" level="INFO">2023-08-30 18:19:52,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:52,485 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:19:52,485 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:19:52,586 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-30 18:19:52,640 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:19:53,174 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=66c1719d-d42f-495c-9931-86c181c42219
2023-08-30 18:19:53,642 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:19:53,687 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:19:53,929 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:19:54,644 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:19:55,645 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-30 18:19:55,779 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=2.261939, max=12.86642, mean=4.657303984040653, stddev=1.9612344696642978, median=4.146871, p75=5.481994, p95=7.794333, p98=9.498062, p99=10.252375, p999=12.86642, mean_rate=92.45987312238292, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:19:55,780 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-30 18:19:55,780 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:19:55,780 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230830 18:19:56.136" endtime="20230830 18:19:56.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:19:56.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:19:56.137" endtime="20230830 18:19:56.138"/>
</kw>
<status status="PASS" starttime="20230830 18:19:50.036" endtime="20230830 18:19:56.138"/>
</kw>
<msg timestamp="20230830 18:19:56.138" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:19:50.035" endtime="20230830 18:19:56.138"/>
</kw>
<msg timestamp="20230830 18:19:56.139" level="INFO">${result} = 2023-08-30 18:19:52,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:19:52,485 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:50.035" endtime="20230830 18:19:56.139"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:19:56.139" endtime="20230830 18:19:56.139"/>
</kw>
<status status="PASS" starttime="20230830 18:19:50.033" endtime="20230830 18:19:56.139"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:19:50.032" endtime="20230830 18:19:56.139"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230830 18:19:49.984" endtime="20230830 18:19:56.141"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/hadoop/smoketest/freon/generate.robot">
<test id="s1-s8-t1" name="Ozone Client Key Generator" line="25">
<kw name="Freon OCKG" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:19:58.931" level="INFO">Running command 'ozone freon ockg  -t 1 -n1 -p ockgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:06.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:06.114" level="INFO">${output} = 2023-08-30 18:20:01,267 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:01,465 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:58.928" endtime="20230830 18:20:06.114"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:06.115" level="INFO">2023-08-30 18:20:01,267 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:01,465 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:01,465 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:01,629 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpost and number-of-tests 1
2023-08-30 18:20:01,698 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:02,706 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:03,559 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:20:03,706 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:03,860 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:20:04,707 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:05,707 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:20:05,756 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=2606.764748, max=2606.764748, mean=2606.764748, stddev=0.0, median=2606.764748, p75=2606.764748, p95=2606.764748, p98=2606.764748, p99=2606.764748, p999=2606.764748, mean_rate=0.3106106677105521, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:05,757 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 4
2023-08-30 18:20:05,757 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:05,757 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:20:06.114" endtime="20230830 18:20:06.115"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:06.116" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:06.116" endtime="20230830 18:20:06.116"/>
</kw>
<status status="PASS" starttime="20230830 18:19:58.928" endtime="20230830 18:20:06.116"/>
</kw>
<msg timestamp="20230830 18:20:06.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:19:58.927" endtime="20230830 18:20:06.116"/>
</kw>
<msg timestamp="20230830 18:20:06.117" level="INFO">${result} = 2023-08-30 18:20:01,267 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:01,465 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:19:58.927" endtime="20230830 18:20:06.117"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:06.117" endtime="20230830 18:20:06.117"/>
</kw>
<status status="PASS" starttime="20230830 18:19:58.925" endtime="20230830 18:20:06.117"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:19:58.924" endtime="20230830 18:20:06.118"/>
</test>
<test id="s1-s8-t2" name="OM Key Generator" line="28">
<kw name="Freon OMKG" library="freon">
<arg>prefix=omkg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon omkg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:20:06.125" level="INFO">Running command 'ozone freon omkg  -t 1 -n1 -p omkgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:10.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:10.030" level="INFO">${output} = 2023-08-30 18:20:07,992 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:08,103 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:06.122" endtime="20230830 18:20:10.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:10.031" level="INFO">2023-08-30 18:20:07,992 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:08,103 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:08,103 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:08,180 [main] INFO freon.BaseFreonGenerator: Executing test with prefix omkgpost and number-of-tests 1
2023-08-30 18:20:08,228 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:09,232 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:20:09,977 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=132.801975, max=132.801975, mean=132.801975, stddev=0.0, median=132.801975, p75=132.801975, p95=132.801975, p98=132.801975, p99=132.801975, p999=132.801975, mean_rate=0.9783584297663409, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:09,980 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-30 18:20:09,980 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:09,980 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:20:10.030" endtime="20230830 18:20:10.031"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:10.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:10.031" endtime="20230830 18:20:10.032"/>
</kw>
<status status="PASS" starttime="20230830 18:20:06.122" endtime="20230830 18:20:10.032"/>
</kw>
<msg timestamp="20230830 18:20:10.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:20:06.121" endtime="20230830 18:20:10.032"/>
</kw>
<msg timestamp="20230830 18:20:10.032" level="INFO">${result} = 2023-08-30 18:20:07,992 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:08,103 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:06.121" endtime="20230830 18:20:10.032"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:10.033" endtime="20230830 18:20:10.033"/>
</kw>
<status status="PASS" starttime="20230830 18:20:06.119" endtime="20230830 18:20:10.033"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:20:06.119" endtime="20230830 18:20:10.033"/>
</test>
<test id="s1-s8-t3" name="OM Bucket Generator" line="31">
<kw name="Freon OMBG" library="freon">
<arg>prefix=ombg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ombg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:20:10.041" level="INFO">Running command 'ozone freon ombg  -t 1 -n1 -p ombgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:14.097" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:14.098" level="INFO">${output} = 2023-08-30 18:20:11,972 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:12,166 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:10.038" endtime="20230830 18:20:14.098"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:14.100" level="INFO">2023-08-30 18:20:11,972 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:12,166 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:12,166 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:12,255 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ombgpost and number-of-tests 1
2023-08-30 18:20:12,310 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:13,312 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:20:14,046 [shutdown-hook-0] INFO metrics: type=TIMER, name=bucket-create, count=1, min=22.674388, max=22.674388, mean=22.674388, stddev=0.0, median=22.674388, p75=22.674388, p95=22.674388, p98=22.674388, p99=22.674388, p999=22.674388, mean_rate=0.9764297513239645, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:14,047 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-30 18:20:14,047 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:14,047 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:20:14.098" endtime="20230830 18:20:14.100"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:14.101" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:14.100" endtime="20230830 18:20:14.101"/>
</kw>
<status status="PASS" starttime="20230830 18:20:10.037" endtime="20230830 18:20:14.101"/>
</kw>
<msg timestamp="20230830 18:20:14.101" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:20:10.037" endtime="20230830 18:20:14.101"/>
</kw>
<msg timestamp="20230830 18:20:14.101" level="INFO">${result} = 2023-08-30 18:20:11,972 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:12,166 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:10.036" endtime="20230830 18:20:14.101"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:14.102" endtime="20230830 18:20:14.102"/>
</kw>
<status status="PASS" starttime="20230830 18:20:10.035" endtime="20230830 18:20:14.102"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:20:10.034" endtime="20230830 18:20:14.102"/>
</test>
<doc>Test freon data generation commands</doc>
<status status="PASS" starttime="20230830 18:19:58.876" endtime="20230830 18:20:14.104"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s9-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:20:16.750" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:22.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:22.662" level="INFO">${output} = 2023-08-30 18:20:18,709 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:18,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:16.747" endtime="20230830 18:20:22.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:22.663" level="INFO">2023-08-30 18:20:18,709 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:18,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:18,874 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:18,930 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpost and number-of-tests 1
2023-08-30 18:20:18,976 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:19,977 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:20,338 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:20:20,977 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-30 18:20:21,978 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-30 18:20:22,292 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=44.05035, max=44.05035, mean=44.05035, stddev=0.0, median=44.05035, p75=44.05035, p95=44.05035, p98=44.05035, p99=44.05035, p999=44.05035, mean_rate=0.9634058245637511, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:22,292 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-30 18:20:22,294 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:22,294 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230830 18:20:22.663" endtime="20230830 18:20:22.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:22.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:22.664" endtime="20230830 18:20:22.664"/>
</kw>
<status status="PASS" starttime="20230830 18:20:16.747" endtime="20230830 18:20:22.665"/>
</kw>
<msg timestamp="20230830 18:20:22.665" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:20:16.747" endtime="20230830 18:20:22.665"/>
</kw>
<msg timestamp="20230830 18:20:22.665" level="INFO">${result} = 2023-08-30 18:20:18,709 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:18,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:16.746" endtime="20230830 18:20:22.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:22.665" endtime="20230830 18:20:22.666"/>
</kw>
<status status="PASS" starttime="20230830 18:20:16.745" endtime="20230830 18:20:22.666"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:20:16.744" endtime="20230830 18:20:22.666"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230830 18:20:16.697" endtime="20230830 18:20:22.667"/>
</suite>
<suite id="s1-s10" name="Generate-Chunk" source="/opt/hadoop/smoketest/freon/generate-chunk.robot">
<test id="s1-s10-t1" name="DN Chunk Generator" line="25">
<kw name="Freon DCG" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230830 18:20:25.328" endtime="20230830 18:20:25.329"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcg -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230830 18:20:25.333" level="INFO">Running command 'ozone freon dcg -t 1 -n100 -p dcgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230830 18:20:34.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20230830 18:20:34.022" level="INFO">${output} = 2023-08-30 18:20:27,538 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:27,854 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:25.330" endtime="20230830 18:20:34.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230830 18:20:34.023" level="INFO">2023-08-30 18:20:27,538 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:27,854 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-30 18:20:27,855 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-30 18:20:28,582 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpost and number-of-tests 100
2023-08-30 18:20:28,633 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:20:29,103 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-30 18:20:29,420 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-30 18:20:29,639 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-30 18:20:30,639 [Thread-4] INFO freon.ProgressBar: Progress: 12.00 % (12 out of 100)
2023-08-30 18:20:31,641 [Thread-4] INFO freon.ProgressBar: Progress: 47.00 % (47 out of 100)
2023-08-30 18:20:32,642 [Thread-4] INFO freon.ProgressBar: Progress: 85.00 % (85 out of 100)
2023-08-30 18:20:33,642 [Thread-4] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-30 18:20:33,675 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-write, count=100, min=13.754534, max=941.661759, mean=36.14312818777683, stddev=90.48311229629799, median=25.633338, p75=31.515338, p95=40.46769, p98=46.106386, p99=49.602546, p999=941.661759, mean_rate=22.790330100314577, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-30 18:20:33,676 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2023-08-30 18:20:33,676 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-30 18:20:33,676 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230830 18:20:34.022" endtime="20230830 18:20:34.023"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230830 18:20:34.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230830 18:20:34.023" endtime="20230830 18:20:34.024"/>
</kw>
<status status="PASS" starttime="20230830 18:20:25.330" endtime="20230830 18:20:34.024"/>
</kw>
<msg timestamp="20230830 18:20:34.024" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230830 18:20:25.329" endtime="20230830 18:20:34.024"/>
</kw>
<msg timestamp="20230830 18:20:34.025" level="INFO">${result} = 2023-08-30 18:20:27,538 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-30 18:20:27,854 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230830 18:20:25.329" endtime="20230830 18:20:34.025"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230830 18:20:34.025" endtime="20230830 18:20:34.025"/>
</kw>
<status status="PASS" starttime="20230830 18:20:25.327" endtime="20230830 18:20:34.025"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230830 18:20:25.326" endtime="20230830 18:20:34.025"/>
</test>
<doc>Test freon chunk generation commands</doc>
<status status="PASS" starttime="20230830 18:20:25.279" endtime="20230830 18:20:34.027"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="91491"/>
</suite>
<statistics>
<total>
<stat pass="14" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="14" fail="0" skip="0" id="s1" name="restart">restart</stat>
<stat pass="3" fail="0" skip="0" id="s1-s1" name="Generate">restart.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s4" name="Generate-Chunk">restart.Generate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s5" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="3" fail="0" skip="0" id="s1-s8" name="Generate">restart.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s9" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Generate-Chunk">restart.Generate-Chunk</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
