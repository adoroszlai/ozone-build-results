<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230818 06:30:49.633" rpa="false" schemaversion="4">
<suite id="s1" name="restart">
<suite id="s1-s1" name="Generate" source="/opt/hadoop/smoketest/freon/generate.robot">
<test id="s1-s1-t1" name="Ozone Client Key Generator" line="25">
<kw name="Freon OCKG" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:26:08.373" level="INFO">Running command 'ozone freon ockg  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:26:30.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:26:30.017" level="INFO">${output} = 2023-08-18 06:26:14,516 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:15,142 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:08.366" endtime="20230818 06:26:30.017"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:26:30.019" level="INFO">2023-08-18 06:26:14,516 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:15,142 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:26:15,142 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:26:15,404 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-18 06:26:15,528 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:16,529 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:17,530 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:18,533 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:19,533 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:19,665 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:246)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:234)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:227)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:179)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:148)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:484)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:595)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)
, while invoking $Proxy24.submitRequest over nodeId=null,nodeAddress=om:9862 after 1 failover attempts. Trying to failover after sleeping for 4000ms. Current retry count: 1.
2023-08-18 06:26:20,534 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:21,536 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:22,536 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:23,537 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:24,030 [main] INFO rpc.RpcClient: Creating Volume: vol1, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1
2023-08-18 06:26:24,301 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2023-08-18 06:26:24,537 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:25,541 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:25,818 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:26:26,386 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:26:26,542 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:27,543 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:28,543 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:29,546 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:26:29,645 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=4870.852747, max=4870.852747, mean=4870.852747, stddev=0.0, median=4870.852747, p75=4870.852747, p95=4870.852747, p98=4870.852747, p99=4870.852747, p999=4870.852747, mean_rate=0.18923432858845657, m1=0.2, m5=0.2, m15=0.2, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:26:29,646 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 14
2023-08-18 06:26:29,647 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:26:29,647 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:26:30.017" endtime="20230818 06:26:30.019"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:26:30.020" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:26:30.019" endtime="20230818 06:26:30.020"/>
</kw>
<status status="PASS" starttime="20230818 06:26:08.365" endtime="20230818 06:26:30.020"/>
</kw>
<msg timestamp="20230818 06:26:30.020" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:26:08.364" endtime="20230818 06:26:30.020"/>
</kw>
<msg timestamp="20230818 06:26:30.021" level="INFO">${result} = 2023-08-18 06:26:14,516 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:15,142 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:08.362" endtime="20230818 06:26:30.021"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:26:30.021" endtime="20230818 06:26:30.022"/>
</kw>
<status status="PASS" starttime="20230818 06:26:08.359" endtime="20230818 06:26:30.022"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:26:08.357" endtime="20230818 06:26:30.025"/>
</test>
<test id="s1-s1-t2" name="OM Key Generator" line="28">
<kw name="Freon OMKG" library="freon">
<arg>prefix=omkg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon omkg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:26:30.040" level="INFO">Running command 'ozone freon omkg  -t 1 -n1 -p omkgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:26:36.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:26:36.623" level="INFO">${output} = 2023-08-18 06:26:33,648 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:33,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:30.037" endtime="20230818 06:26:36.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:26:36.625" level="INFO">2023-08-18 06:26:33,648 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:33,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:26:33,993 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:26:34,134 [main] INFO freon.BaseFreonGenerator: Executing test with prefix omkgpre and number-of-tests 1
2023-08-18 06:26:34,222 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:35,224 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:36,225 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:26:36,535 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=129.294925, max=129.294925, mean=129.294925, stddev=0.0, median=129.294925, p75=129.294925, p95=129.294925, p98=129.294925, p99=129.294925, p999=129.294925, mean_rate=0.9654643720176287, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:26:36,539 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-18 06:26:36,540 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:26:36,540 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:26:36.624" endtime="20230818 06:26:36.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:26:36.626" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:26:36.625" endtime="20230818 06:26:36.626"/>
</kw>
<status status="PASS" starttime="20230818 06:26:30.035" endtime="20230818 06:26:36.626"/>
</kw>
<msg timestamp="20230818 06:26:36.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:26:30.035" endtime="20230818 06:26:36.627"/>
</kw>
<msg timestamp="20230818 06:26:36.627" level="INFO">${result} = 2023-08-18 06:26:33,648 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:33,993 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:30.034" endtime="20230818 06:26:36.627"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:26:36.627" endtime="20230818 06:26:36.628"/>
</kw>
<status status="PASS" starttime="20230818 06:26:30.032" endtime="20230818 06:26:36.628"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:26:30.028" endtime="20230818 06:26:36.629"/>
</test>
<test id="s1-s1-t3" name="OM Bucket Generator" line="31">
<kw name="Freon OMBG" library="freon">
<arg>prefix=ombg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ombg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:26:36.642" level="INFO">Running command 'ozone freon ombg  -t 1 -n1 -p ombgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:26:41.921" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:26:41.921" level="INFO">${output} = 2023-08-18 06:26:39,421 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:39,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:36.638" endtime="20230818 06:26:41.921"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:26:41.923" level="INFO">2023-08-18 06:26:39,421 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:39,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:26:39,690 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:26:39,821 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ombgpre and number-of-tests 1
2023-08-18 06:26:39,896 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:40,904 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:26:41,844 [shutdown-hook-0] INFO metrics: type=TIMER, name=bucket-create, count=1, min=26.422126, max=26.422126, mean=26.422126, stddev=0.0, median=26.422126, p75=26.422126, p95=26.422126, p98=26.422126, p99=26.422126, p999=26.422126, mean_rate=0.976999684460366, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:26:41,845 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-18 06:26:41,845 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:26:41,846 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:26:41.922" endtime="20230818 06:26:41.923"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:26:41.924" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:26:41.923" endtime="20230818 06:26:41.924"/>
</kw>
<status status="PASS" starttime="20230818 06:26:36.637" endtime="20230818 06:26:41.924"/>
</kw>
<msg timestamp="20230818 06:26:41.924" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:26:36.637" endtime="20230818 06:26:41.924"/>
</kw>
<msg timestamp="20230818 06:26:41.925" level="INFO">${result} = 2023-08-18 06:26:39,421 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:39,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:36.636" endtime="20230818 06:26:41.925"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:26:41.925" endtime="20230818 06:26:41.925"/>
</kw>
<status status="PASS" starttime="20230818 06:26:36.632" endtime="20230818 06:26:41.926"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:26:36.631" endtime="20230818 06:26:41.926"/>
</test>
<doc>Test freon data generation commands</doc>
<status status="PASS" starttime="20230818 06:26:08.231" endtime="20230818 06:26:41.928"/>
</suite>
<suite id="s1-s2" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s2-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230818 06:30:24.583" endtime="20230818 06:30:24.584"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:30:24.589" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:30:32.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:30:32.601" level="INFO">${output} = 2023-08-18 06:30:27,367 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:27,558 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:30:24.586" endtime="20230818 06:30:32.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:30:32.603" level="INFO">2023-08-18 06:30:27,367 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:27,558 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:30:27,559 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:30:27,717 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpost and number-of-tests 100
2023-08-18 06:30:27,802 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:28,635 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=01081f06-41d7-42cd-b130-2ca2c8ebd3a8
2023-08-18 06:30:28,808 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:29,416 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:30:29,809 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:29,973 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:30:30,810 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:31,811 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-18 06:30:32,210 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=2.470209, max=22.089083, mean=6.188556170000002, stddev=3.1949450872927225, median=5.454121, p75=6.702725, p95=13.29485, p98=14.696455, p99=15.095357, p999=22.089083, mean_rate=92.70628277079025, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:30:32,211 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 4
2023-08-18 06:30:32,211 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:30:32,212 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230818 06:30:32.602" endtime="20230818 06:30:32.603"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:30:32.604" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:30:32.603" endtime="20230818 06:30:32.604"/>
</kw>
<status status="PASS" starttime="20230818 06:30:24.585" endtime="20230818 06:30:32.604"/>
</kw>
<msg timestamp="20230818 06:30:32.604" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:30:24.584" endtime="20230818 06:30:32.605"/>
</kw>
<msg timestamp="20230818 06:30:32.605" level="INFO">${result} = 2023-08-18 06:30:27,367 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:27,558 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:30:24.584" endtime="20230818 06:30:32.605"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:30:32.605" endtime="20230818 06:30:32.606"/>
</kw>
<status status="PASS" starttime="20230818 06:30:24.581" endtime="20230818 06:30:32.606"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:30:24.580" endtime="20230818 06:30:32.606"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230818 06:30:24.504" endtime="20230818 06:30:32.608"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s3-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:26:45.616" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:26:55.625" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:26:55.625" level="INFO">${output} = 2023-08-18 06:26:50,069 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:50,252 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:45.613" endtime="20230818 06:26:55.625"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:26:55.627" level="INFO">2023-08-18 06:26:50,069 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:50,252 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:26:50,253 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:26:50,373 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-18 06:26:50,445 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:51,455 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:52,456 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:52,787 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:26:53,463 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:26:54,464 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:26:55,254 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=77.697072, max=77.697072, mean=77.697072, stddev=0.0, median=77.697072, p75=77.697072, p95=77.697072, p98=77.697072, p99=77.697072, p999=77.697072, mean_rate=0.9615321108037796, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:26:55,255 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2023-08-18 06:26:55,255 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:26:55,255 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:26:55.626" endtime="20230818 06:26:55.627"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:26:55.628" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:26:55.627" endtime="20230818 06:26:55.628"/>
</kw>
<status status="PASS" starttime="20230818 06:26:45.612" endtime="20230818 06:26:55.628"/>
</kw>
<msg timestamp="20230818 06:26:55.628" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:26:45.612" endtime="20230818 06:26:55.628"/>
</kw>
<msg timestamp="20230818 06:26:55.629" level="INFO">${result} = 2023-08-18 06:26:50,069 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:26:50,252 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:45.611" endtime="20230818 06:26:55.629"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:26:55.629" endtime="20230818 06:26:55.629"/>
</kw>
<status status="PASS" starttime="20230818 06:26:45.609" endtime="20230818 06:26:55.630"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:26:45.607" endtime="20230818 06:26:55.630"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230818 06:26:45.520" endtime="20230818 06:26:55.632"/>
</suite>
<suite id="s1-s4" name="Generate-Chunk" source="/opt/hadoop/smoketest/freon/generate-chunk.robot">
<test id="s1-s4-t1" name="DN Chunk Generator" line="25">
<kw name="Freon DCG" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230818 06:26:59.361" endtime="20230818 06:26:59.361"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcg -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:26:59.367" level="INFO">Running command 'ozone freon dcg -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:27:09.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:27:09.908" level="INFO">${output} = 2023-08-18 06:27:02,197 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:02,365 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:59.364" endtime="20230818 06:27:09.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:27:09.909" level="INFO">2023-08-18 06:27:02,197 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:02,365 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:27:02,365 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:27:03,290 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-18 06:27:03,350 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:04,155 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:27:04,359 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:04,597 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:27:05,359 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:06,360 [Thread-4] INFO freon.ProgressBar: Progress: 15.00 % (15 out of 100)
2023-08-18 06:27:07,363 [Thread-4] INFO freon.ProgressBar: Progress: 40.00 % (40 out of 100)
2023-08-18 06:27:08,364 [Thread-4] INFO freon.ProgressBar: Progress: 72.00 % (72 out of 100)
2023-08-18 06:27:09,364 [Thread-4] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-18 06:27:09,540 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-write, count=100, min=15.682915, max=1225.708538, mean=45.99720844332488, stddev=117.16326895124745, median=34.006731, p75=40.149537, p95=53.85885, p98=58.992654, p99=89.042382, p999=1225.708538, mean_rate=19.528512392438937, m1=20.0, m5=20.0, m15=20.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:27:09,541 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 6
2023-08-18 06:27:09,541 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:27:09,542 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230818 06:27:09.908" endtime="20230818 06:27:09.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:27:09.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:27:09.910" endtime="20230818 06:27:09.911"/>
</kw>
<status status="PASS" starttime="20230818 06:26:59.363" endtime="20230818 06:27:09.911"/>
</kw>
<msg timestamp="20230818 06:27:09.911" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:26:59.362" endtime="20230818 06:27:09.911"/>
</kw>
<msg timestamp="20230818 06:27:09.912" level="INFO">${result} = 2023-08-18 06:27:02,197 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:02,365 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:26:59.362" endtime="20230818 06:27:09.912"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:27:09.912" endtime="20230818 06:27:09.913"/>
</kw>
<status status="PASS" starttime="20230818 06:26:59.359" endtime="20230818 06:27:09.913"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:26:59.358" endtime="20230818 06:27:09.913"/>
</test>
<doc>Test freon chunk generation commands</doc>
<status status="PASS" starttime="20230818 06:26:59.289" endtime="20230818 06:27:09.915"/>
</suite>
<suite id="s1-s5" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s5-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230818 06:27:13.844" endtime="20230818 06:27:13.845"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:27:13.850" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:27:21.547" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:27:21.547" level="INFO">${output} = 2023-08-18 06:27:16,654 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:16,887 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:27:13.846" endtime="20230818 06:27:21.547"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:27:21.549" level="INFO">2023-08-18 06:27:16,654 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:16,887 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:27:16,887 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:27:17,022 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-18 06:27:17,102 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:17,933 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=01081f06-41d7-42cd-b130-2ca2c8ebd3a8
2023-08-18 06:27:18,104 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:18,709 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:27:19,068 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:27:19,104 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:27:20,105 [Thread-3] INFO freon.ProgressBar: Progress: 1.00 % (1 out of 100)
2023-08-18 06:27:21,106 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-18 06:27:21,165 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=2.740603, max=18.423317, mean=5.965247459999998, stddev=3.0507721298047494, median=5.048104, p75=6.853706, p95=11.958311, p98=13.943313, p99=15.147314, p999=18.423317, mean_rate=91.97384688345912, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:27:21,166 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 4
2023-08-18 06:27:21,166 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:27:21,167 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230818 06:27:21.547" endtime="20230818 06:27:21.549"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:27:21.550" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:27:21.549" endtime="20230818 06:27:21.550"/>
</kw>
<status status="PASS" starttime="20230818 06:27:13.846" endtime="20230818 06:27:21.550"/>
</kw>
<msg timestamp="20230818 06:27:21.550" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:27:13.845" endtime="20230818 06:27:21.551"/>
</kw>
<msg timestamp="20230818 06:27:21.551" level="INFO">${result} = 2023-08-18 06:27:16,654 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:27:16,887 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:27:13.845" endtime="20230818 06:27:21.551"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:27:21.551" endtime="20230818 06:27:21.552"/>
</kw>
<status status="PASS" starttime="20230818 06:27:13.842" endtime="20230818 06:27:21.552"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:27:13.841" endtime="20230818 06:27:21.552"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230818 06:27:13.769" endtime="20230818 06:27:21.554"/>
</suite>
<suite id="s1-s6" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s6-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:06.541" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:29:16.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:29:16.790" level="INFO">${output} = 2023-08-18 06:29:10,081 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:10,360 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:06.538" endtime="20230818 06:29:16.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:29:16.791" level="INFO">2023-08-18 06:29:10,081 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:10,360 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:29:10,360 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:29:10,481 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpre and number-of-tests 1
2023-08-18 06:29:10,548 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:11,563 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:12,564 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:13,565 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:29:13,566 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:14,566 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:15,568 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:29:16,374 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=80.842665, max=80.842665, mean=80.842665, stddev=0.0, median=80.842665, p75=80.842665, p95=80.842665, p98=80.842665, p99=80.842665, p999=80.842665, mean_rate=0.9490997446297179, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:29:16,375 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 6
2023-08-18 06:29:16,376 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:29:16,376 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:29:16.790" endtime="20230818 06:29:16.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:29:16.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:29:16.791" endtime="20230818 06:29:16.792"/>
</kw>
<status status="PASS" starttime="20230818 06:29:06.537" endtime="20230818 06:29:16.793"/>
</kw>
<msg timestamp="20230818 06:29:16.793" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:06.537" endtime="20230818 06:29:16.793"/>
</kw>
<msg timestamp="20230818 06:29:16.793" level="INFO">${result} = 2023-08-18 06:29:10,081 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:10,360 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:06.536" endtime="20230818 06:29:16.793"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:29:16.793" endtime="20230818 06:29:16.794"/>
</kw>
<status status="PASS" starttime="20230818 06:29:06.533" endtime="20230818 06:29:16.794"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:06.531" endtime="20230818 06:29:16.794"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230818 06:29:06.372" endtime="20230818 06:29:16.796"/>
</suite>
<suite id="s1-s7" name="Validate-Chunk" source="/opt/hadoop/smoketest/freon/validate-chunk.robot">
<test id="s1-s7-t1" name="DN Chunk Validator" line="25">
<kw name="Freon DCV" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230818 06:29:20.750" endtime="20230818 06:29:20.751"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcv -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:20.757" level="INFO">Running command 'ozone freon dcv -t 1 -n100 -p dcgpre  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:29:29.958" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:29:29.958" level="INFO">${output} = 2023-08-18 06:29:23,966 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:24,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:20.753" endtime="20230818 06:29:29.958"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:29:29.960" level="INFO">2023-08-18 06:29:23,966 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:24,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:29:24,251 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:29:24,370 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpre and number-of-tests 100
2023-08-18 06:29:24,456 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:29:25,230 [main] INFO freon.DatanodeChunkValidator: Using pipeline PipelineID=01081f06-41d7-42cd-b130-2ca2c8ebd3a8
2023-08-18 06:29:25,462 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:29:26,348 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:29:26,463 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:29:26,829 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:29:27,482 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:29:28,485 [Thread-3] INFO freon.ProgressBar: Progress: 24.00 % (24 out of 100)
2023-08-18 06:29:29,486 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-18 06:29:29,561 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-validate, count=100, min=2.601302, max=24.100618, mean=6.336983919999999, stddev=3.6384676087742616, median=5.013004, p75=7.643206, p95=13.385511, p98=15.824612, p99=17.163514, p999=24.100618, mean_rate=76.8440330817712, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:29:29,562 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2023-08-18 06:29:29,562 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:29:29,562 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230818 06:29:29.959" endtime="20230818 06:29:29.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:29:29.961" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:29:29.960" endtime="20230818 06:29:29.961"/>
</kw>
<status status="PASS" starttime="20230818 06:29:20.753" endtime="20230818 06:29:29.961"/>
</kw>
<msg timestamp="20230818 06:29:29.961" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:20.752" endtime="20230818 06:29:29.961"/>
</kw>
<msg timestamp="20230818 06:29:29.962" level="INFO">${result} = 2023-08-18 06:29:23,966 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:24,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:20.751" endtime="20230818 06:29:29.962"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:29:29.962" endtime="20230818 06:29:29.963"/>
</kw>
<status status="PASS" starttime="20230818 06:29:20.748" endtime="20230818 06:29:29.963"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:20.747" endtime="20230818 06:29:29.964"/>
</test>
<doc>Test freon chunk validation commands</doc>
<status status="PASS" starttime="20230818 06:29:20.645" endtime="20230818 06:29:29.965"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/hadoop/smoketest/freon/generate.robot">
<test id="s1-s8-t1" name="Ozone Client Key Generator" line="25">
<kw name="Freon OCKG" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:33.769" level="INFO">Running command 'ozone freon ockg  -t 1 -n1 -p ockgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:29:43.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:29:43.719" level="INFO">${output} = 2023-08-18 06:29:36,856 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:37,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:33.766" endtime="20230818 06:29:43.720"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:29:43.721" level="INFO">2023-08-18 06:29:36,856 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:37,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:29:37,063 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:29:37,158 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpost and number-of-tests 1
2023-08-18 06:29:37,220 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:38,230 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:39,232 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:39,778 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:29:40,206 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:29:40,232 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:41,241 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:42,244 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:43,245 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:29:43,352 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=4175.533726, max=4175.533726, mean=4175.533726, stddev=0.0, median=4175.533726, p75=4175.533726, p95=4175.533726, p98=4175.533726, p99=4175.533726, p999=4175.533726, mean_rate=0.19720180405479582, m1=0.2, m5=0.2, m15=0.2, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:29:43,353 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 6
2023-08-18 06:29:43,353 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:29:43,353 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:29:43.720" endtime="20230818 06:29:43.722"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:29:43.723" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:29:43.722" endtime="20230818 06:29:43.723"/>
</kw>
<status status="PASS" starttime="20230818 06:29:33.765" endtime="20230818 06:29:43.724"/>
</kw>
<msg timestamp="20230818 06:29:43.724" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:33.765" endtime="20230818 06:29:43.724"/>
</kw>
<msg timestamp="20230818 06:29:43.724" level="INFO">${result} = 2023-08-18 06:29:36,856 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:37,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:33.762" endtime="20230818 06:29:43.724"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:29:43.724" endtime="20230818 06:29:43.725"/>
</kw>
<status status="PASS" starttime="20230818 06:29:33.760" endtime="20230818 06:29:43.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:33.759" endtime="20230818 06:29:43.726"/>
</test>
<test id="s1-s8-t2" name="OM Key Generator" line="28">
<kw name="Freon OMKG" library="freon">
<arg>prefix=omkg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon omkg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:43.737" level="INFO">Running command 'ozone freon omkg  -t 1 -n1 -p omkgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:29:49.243" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:29:49.243" level="INFO">${output} = 2023-08-18 06:29:46,691 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:46,903 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:43.733" endtime="20230818 06:29:49.243"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:29:49.247" level="INFO">2023-08-18 06:29:46,691 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:46,903 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:29:46,903 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:29:47,044 [main] INFO freon.BaseFreonGenerator: Executing test with prefix omkgpost and number-of-tests 1
2023-08-18 06:29:47,138 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:48,143 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:49,144 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:29:49,174 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=133.110289, max=133.110289, mean=133.110289, stddev=0.0, median=133.110289, p75=133.110289, p95=133.110289, p98=133.110289, p99=133.110289, p999=133.110289, mean_rate=0.9730617251439543, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:29:49,175 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 2
2023-08-18 06:29:49,175 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:29:49,175 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:29:49.243" endtime="20230818 06:29:49.248"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:29:49.249" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:29:49.248" endtime="20230818 06:29:49.249"/>
</kw>
<status status="PASS" starttime="20230818 06:29:43.732" endtime="20230818 06:29:49.249"/>
</kw>
<msg timestamp="20230818 06:29:49.249" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:43.731" endtime="20230818 06:29:49.250"/>
</kw>
<msg timestamp="20230818 06:29:49.250" level="INFO">${result} = 2023-08-18 06:29:46,691 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:46,903 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:43.730" endtime="20230818 06:29:49.250"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:29:49.250" endtime="20230818 06:29:49.251"/>
</kw>
<status status="PASS" starttime="20230818 06:29:43.728" endtime="20230818 06:29:49.251"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:43.727" endtime="20230818 06:29:49.251"/>
</test>
<test id="s1-s8-t3" name="OM Bucket Generator" line="31">
<kw name="Freon OMBG" library="freon">
<arg>prefix=ombg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ombg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:49.261" level="INFO">Running command 'ozone freon ombg  -t 1 -n1 -p ombgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:29:55.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:29:55.157" level="INFO">${output} = 2023-08-18 06:29:52,118 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:52,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:49.258" endtime="20230818 06:29:55.157"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:29:55.158" level="INFO">2023-08-18 06:29:52,118 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:52,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:29:52,288 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:29:52,398 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ombgpost and number-of-tests 1
2023-08-18 06:29:52,467 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:53,469 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:29:54,469 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:29:55,092 [shutdown-hook-0] INFO metrics: type=TIMER, name=bucket-create, count=1, min=42.690423, max=42.690423, mean=42.690423, stddev=0.0, median=42.690423, p75=42.690423, p95=42.690423, p98=42.690423, p99=42.690423, p999=42.690423, mean_rate=0.9614410694070558, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:29:55,093 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2023-08-18 06:29:55,093 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:29:55,093 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:29:55.157" endtime="20230818 06:29:55.158"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:29:55.159" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:29:55.159" endtime="20230818 06:29:55.159"/>
</kw>
<status status="PASS" starttime="20230818 06:29:49.257" endtime="20230818 06:29:55.160"/>
</kw>
<msg timestamp="20230818 06:29:55.160" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:49.257" endtime="20230818 06:29:55.160"/>
</kw>
<msg timestamp="20230818 06:29:55.160" level="INFO">${result} = 2023-08-18 06:29:52,118 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:29:52,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:49.256" endtime="20230818 06:29:55.160"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:29:55.161" endtime="20230818 06:29:55.161"/>
</kw>
<status status="PASS" starttime="20230818 06:29:49.254" endtime="20230818 06:29:55.161"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:49.253" endtime="20230818 06:29:55.162"/>
</test>
<doc>Test freon data generation commands</doc>
<status status="PASS" starttime="20230818 06:29:33.670" endtime="20230818 06:29:55.164"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/hadoop/smoketest/freon/validate.robot">
<test id="s1-s9-t1" name="Ozone Client Key Validator" line="25">
<kw name="Freon OCKV" library="freon">
<arg>prefix=ockg${PREFIX}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockv ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:29:58.818" level="INFO">Running command 'ozone freon ockv  -t 1 -n1 -p ockgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:30:06.707" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:30:06.707" level="INFO">${output} = 2023-08-18 06:30:01,762 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:02,047 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:58.815" endtime="20230818 06:30:06.707"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:30:06.709" level="INFO">2023-08-18 06:30:01,762 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:02,047 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:30:02,047 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:30:02,201 [main] INFO freon.BaseFreonGenerator: Executing test with prefix ockgpost and number-of-tests 1
2023-08-18 06:30:02,286 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:30:03,291 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:30:04,035 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:30:04,291 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:30:05,292 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-08-18 06:30:06,293 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-08-18 06:30:06,324 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-validate, count=1, min=68.24346, max=68.24346, mean=68.24346, stddev=0.0, median=68.24346, p75=68.24346, p95=68.24346, p98=68.24346, p99=68.24346, p999=68.24346, mean_rate=0.9547458560478194, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:30:06,325 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 4
2023-08-18 06:30:06,327 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:30:06,327 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20230818 06:30:06.708" endtime="20230818 06:30:06.709"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:30:06.710" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:30:06.709" endtime="20230818 06:30:06.710"/>
</kw>
<status status="PASS" starttime="20230818 06:29:58.815" endtime="20230818 06:30:06.710"/>
</kw>
<msg timestamp="20230818 06:30:06.710" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:29:58.814" endtime="20230818 06:30:06.710"/>
</kw>
<msg timestamp="20230818 06:30:06.711" level="INFO">${result} = 2023-08-18 06:30:01,762 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:02,047 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:29:58.813" endtime="20230818 06:30:06.711"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:30:06.711" endtime="20230818 06:30:06.712"/>
</kw>
<status status="PASS" starttime="20230818 06:29:58.812" endtime="20230818 06:30:06.712"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:29:58.811" endtime="20230818 06:30:06.712"/>
</test>
<doc>Test freon data validation commands</doc>
<status status="PASS" starttime="20230818 06:29:58.744" endtime="20230818 06:30:06.713"/>
</suite>
<suite id="s1-s10" name="Generate-Chunk" source="/opt/hadoop/smoketest/freon/generate-chunk.robot">
<test id="s1-s10-t1" name="DN Chunk Generator" line="25">
<kw name="Freon DCG" library="freon">
<arg>prefix=dcg${PREFIX}</arg>
<arg>n=100</arg>
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20230818 06:30:10.590" endtime="20230818 06:30:10.591"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon dcg -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230818 06:30:10.598" level="INFO">Running command 'ozone freon dcg -t 1 -n100 -p dcgpost  2&gt;&amp;1'.</msg>
<msg timestamp="20230818 06:30:20.949" level="INFO">${rc} = 0</msg>
<msg timestamp="20230818 06:30:20.949" level="INFO">${output} = 2023-08-18 06:30:13,302 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:13,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:30:10.593" endtime="20230818 06:30:20.949"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230818 06:30:20.950" level="INFO">2023-08-18 06:30:13,302 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:13,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-08-18 06:30:13,460 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-08-18 06:30:14,360 [main] INFO freon.BaseFreonGenerator: Executing test with prefix dcgpost and number-of-tests 100
2023-08-18 06:30:14,414 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:15,169 [main] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-08-18 06:30:15,419 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:15,595 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-08-18 06:30:16,429 [Thread-4] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2023-08-18 06:30:17,430 [Thread-4] INFO freon.ProgressBar: Progress: 20.00 % (20 out of 100)
2023-08-18 06:30:18,430 [Thread-4] INFO freon.ProgressBar: Progress: 47.00 % (47 out of 100)
2023-08-18 06:30:19,431 [Thread-4] INFO freon.ProgressBar: Progress: 80.00 % (80 out of 100)
2023-08-18 06:30:20,432 [Thread-4] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2023-08-18 06:30:20,538 [shutdown-hook-0] INFO metrics: type=TIMER, name=chunk-write, count=100, min=15.540186, max=1156.885265, mean=43.943137017611896, stddev=110.81897015186291, median=29.238474, p75=39.461465, p95=58.626248, p98=64.311042, p99=70.552737, p999=1156.885265, mean_rate=19.574035975351695, m1=20.0, m5=20.0, m15=20.0, rate_unit=events/second, duration_unit=milliseconds
2023-08-18 06:30:20,538 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 6
2023-08-18 06:30:20,539 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-08-18 06:30:20,539 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20230818 06:30:20.949" endtime="20230818 06:30:20.950"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230818 06:30:20.951" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230818 06:30:20.951" endtime="20230818 06:30:20.952"/>
</kw>
<status status="PASS" starttime="20230818 06:30:10.592" endtime="20230818 06:30:20.952"/>
</kw>
<msg timestamp="20230818 06:30:20.952" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230818 06:30:10.592" endtime="20230818 06:30:20.952"/>
</kw>
<msg timestamp="20230818 06:30:20.953" level="INFO">${result} = 2023-08-18 06:30:13,302 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-08-18 06:30:13,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230818 06:30:10.591" endtime="20230818 06:30:20.953"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230818 06:30:20.953" endtime="20230818 06:30:20.953"/>
</kw>
<status status="PASS" starttime="20230818 06:30:10.580" endtime="20230818 06:30:20.954"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230818 06:30:10.579" endtime="20230818 06:30:20.954"/>
</test>
<doc>Test freon chunk generation commands</doc>
<status status="PASS" starttime="20230818 06:30:10.498" endtime="20230818 06:30:20.956"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="129989"/>
</suite>
<statistics>
<total>
<stat pass="14" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="14" fail="0" skip="0" id="s1" name="restart">restart</stat>
<stat pass="3" fail="0" skip="0" id="s1-s1" name="Generate">restart.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s4" name="Generate-Chunk">restart.Generate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s5" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Validate-Chunk">restart.Validate-Chunk</stat>
<stat pass="3" fail="0" skip="0" id="s1-s8" name="Generate">restart.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s9" name="Validate">restart.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Generate-Chunk">restart.Generate-Chunk</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
