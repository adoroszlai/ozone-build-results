rm: cannot remove '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/*': No such file or directory
Executing test ozonesecure-ha/test-root-ca-rotation.sh
Removing network ozonesecure-ha_ozone_net
Network ozonesecure-ha_ozone_net not found.
Creating network "ozonesecure-ha_ozone_net" with the default driver
Pulling om3 (apache/ozone-runner:20230615-1)...
20230615-1: Pulling from apache/ozone-runner
Digest: sha256:46c59e4f69c94a8f886d621c9f1898fda8cc4d5de59059c6c74175ffa4718474
Status: Downloaded newer image for apache/ozone-runner:20230615-1
Pulling kdc (apache/ozone-testkrb5:20230318-1)...
20230318-1: Pulling from apache/ozone-testkrb5
Digest: sha256:6a7eeac1ebd12e8968e34ab93fb8d21f2b92ae52bc0a85b662a2d41065f05d3a
Status: Downloaded newer image for apache/ozone-testkrb5:20230318-1
Pulling kms (apache/hadoop:3.3.6)...
3.3.6: Pulling from apache/hadoop
Digest: sha256:62a22627f35a1bbf29c721192c02fe311c93749cc43d51df01792b2ac40ff144
Status: Downloaded newer image for apache/hadoop:3.3.6
Creating ozonesecure-ha_datanode2_1 ... 
Creating ozonesecure-ha_om1_1       ... 
Creating ozonesecure-ha_om2_1       ... 
Creating ozonesecure-ha_scm1.org_1  ... 
Creating ozonesecure-ha_httpfs_1    ... 
Creating ozonesecure-ha_recon_1     ... 
Creating ozonesecure-ha_scm2.org_1  ... 
Creating ozonesecure-ha_s3g_1       ... 
Creating ozonesecure-ha_datanode3_1 ... 
Creating ozonesecure-ha_om3_1       ... 
Creating ozonesecure-ha_datanode1_1 ... 
Creating ozonesecure-ha_kms_1       ... 
Creating ozonesecure-ha_scm3.org_1  ... 
Creating ozonesecure-ha_kdc_1       ... 
Creating ozonesecure-ha_datanode2_1 ... done
Creating ozonesecure-ha_om1_1       ... done
Creating ozonesecure-ha_om2_1       ... done
Creating ozonesecure-ha_kdc_1       ... done
Creating ozonesecure-ha_scm1.org_1  ... done
Creating ozonesecure-ha_scm2.org_1  ... done
Creating ozonesecure-ha_kms_1       ... done
Creating ozonesecure-ha_httpfs_1    ... done
Creating ozonesecure-ha_s3g_1       ... done
Creating ozonesecure-ha_recon_1     ... done
Creating ozonesecure-ha_datanode1_1 ... done
Creating ozonesecure-ha_datanode3_1 ... done
Creating ozonesecure-ha_om3_1       ... done
Creating ozonesecure-ha_scm3.org_1  ... done
Port 88 is available on kdc
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is available on scm1.org
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 200
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 199
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 198
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 197
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 196
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 195
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 194
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 193
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 192
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 191
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 190
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 189
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 188
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 187
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 186
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 185
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 184
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 183
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 182
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 181
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 180
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 179
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 178
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 177
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 176
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 175
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 174
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 173
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 172
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 170
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 169
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 168
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 167
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 166
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 165
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 164
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 163
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 162
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 161
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 160
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 159
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 158
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 157
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 156
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 155
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 154
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 153
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 152
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 151
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 150
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 149
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 148
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 147
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 146
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 145
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 144
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 143
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 142
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 141
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 140
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 139
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 138
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 137
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 136
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 135
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 134
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 133
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 132
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 131
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 130
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 129
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 128
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 127
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 126
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 125
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 124
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 123
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 122
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 121
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 120
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 119
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 118
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 117
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 116
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 115
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 114
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 113
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 112
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 111
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 110
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 109
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 107
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 106
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 105
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 104
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 103
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 102
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 101
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 100
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 99
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 98
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 97
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 96
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 95
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 94
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 93
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 92
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 91
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 90
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 89
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 88
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 87
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 86
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 85
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 84
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 83
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 82
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 81
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 80
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 79
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 78
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 77
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 76
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 75
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 74
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 73
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 72
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 71
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 70
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 69
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 68
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 67
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 66
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 65
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 64
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 63
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 62
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 61
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 60
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 59
SCM is out of safe mode.
Found OM leader for service omservice: om3 : LEADER (om3)
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode1_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode2_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode3_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_recon_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_s3g_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm1.org_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm2.org_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm3.org_1
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=1226.59ms elapsed=267.68s tid=0x00007fba2184d800 nid=0x25e waiting on condition  [0x00007fb9dcd1c000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs  | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm1.org,OU=5a3f31c2-2213-4007-8d0e-7f98a5e3a2c2,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Start Date: Tue Sep 19 09:22:42 UTC 2023
           Final Date: Tue Sep 19 09:26:42 UTC 2023
            SubjectDN: CN=scm-2@scm1.org,OU=5a3f31c2-2213-4007-8d0e-7f98a5e3a2c2,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Public Key: RSA Public Key [e6:26:32:de:ed:ba:dc:b2:9a:bd:c8:ee:89:cb:c7:77:28:02:94:a3],[56:66:d1:a4]
        modulus: b0a0bc13ef108e1297d33c49bdaf5ba8dc7173b78a14dddf77fa28efc21b91474d9a36c52fed12c9bf591a71910bf745fd10472f69979083c4cf0599fb53fb321800e22543038680278ec2317ad98ec0a53a610db3cf7d6a1df05d5619f3dea1127dd5a5b72557f1011e9b1dec06f1ebfdb70f31798a04076c4fe760fe9a826fb17244a8c231db2716d44a0a0a1ba7b24098f390993e5249891a3e32261f56c04429b9b188f7378d22780f838343d4900bcbde444e2382844693e38177627f25ceb3cdbe9a7e8cf1dce897305909ff6d0bebb91611771c33785d538cc644b6694d6aa650bf3d7b8e7cdd9cc720183f2676f7338a14200ce83269d97051ad1eed
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 5ed75283f0b41c97e78e3d4bc3a50f4b56f09a8c
                       3c040d40da09e32d8cd5326b500ba0ad7a0417a2
                       5c30015cf498776d4135618a07348796d87d4526
                       679e0299aa216446a7e57b5affa30d7301db8774
                       7a33462ee85d1579053f18a2e8add6eedc94d3ba
                       aa0e747ab149f442b5558050e583b14b5cdffd3b
                       2d0823fff1d1d6a07fccfa0892f728c670886371
                       d0646bfb4b2502b27f8803f3e096e0b3cf830046
                       265d6918c8d36a534720da960a04fcbdbce1faa2
                       9a81c70dc0cbee791e11d652408793f44e6bd550
                       8f43ca7ad50d739a5fbcaa544c6e85b43ee2c856
                       4718c1016eb4c50617ac11f766cbe7c86d159df2
                       c850e6d1dad4ea94b61292029114533b
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 2 succeed
==============================================================================
Scm-Leader-Transfer :: Smoketest ozone cluster startup                        
==============================================================================
Transfer Leadership                                                   | PASS |
------------------------------------------------------------------------------
Scm-Leader-Transfer :: Smoketest ozone cluster startup                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-2.xml
"RootCARotationManager-Inactive" #271 daemon prio=5 os_prio=0 cpu=1245.44ms elapsed=331.98s tid=0x00007fba2184d800 nid=0x25e waiting on condition  [0x00007fb9dcd1c000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Inactive' succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-3.xml
==============================================================================
Pipeline :: Test ozone admin pipeline command                                 
==============================================================================
Create pipeline                                                       | PASS |
------------------------------------------------------------------------------
List pipelines                                                        | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host                                     | PASS |
------------------------------------------------------------------------------
Deactivate pipeline                                                   | PASS |
------------------------------------------------------------------------------
Activate pipeline                                                     | PASS |
------------------------------------------------------------------------------
Close pipeline                                                        | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Pipeline :: Test ozone admin pipeline command                         | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-4.xml
Certificate id: 3
  [0]         Version: 3
         SerialNumber: 3
             IssuerDN: CN=scm-3@scm2.org,OU=8bab0e22-4e75-4feb-95db-221cfe0beb3c,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Start Date: Tue Sep 19 09:25:13 UTC 2023
           Final Date: Tue Sep 19 09:29:13 UTC 2023
            SubjectDN: CN=scm-3@scm2.org,OU=8bab0e22-4e75-4feb-95db-221cfe0beb3c,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Public Key: RSA Public Key [e7:8b:1d:bc:e2:74:7a:44:29:4c:d4:30:79:2b:4e:e9:a1:de:d3:7e],[56:66:d1:a4]
        modulus: b8e1fb5bc866c56d89e071c791c310728a3bdbf4abeac9aae9134ed7533a15f6b8584982c7bf7a73d7c4327e8050846dfc9ceeffb2b87878e7f5c6229af9db4e85952cb8cf679648f8851ccbd4219abd4618d4e8f06c2818f129846cd57835006c65dc26d78975695eebe5310c71b320a57fe502ac98444aef6be36406f13113e954d5147636719e31c25faf14d4fbb4c6556e837aa47874ff7d4de286ed24ac292d6ab97456c0c80fbe64812ac58cda4166c5e889df95d32bda070eebbfeea0b5d252a8375d4dd56f668963dba2c58607bb4795f770d9ec33ce3b2fc5f51ad7a406479065c8b6d7bc92c72745d7f3d9621c578ddd7401d8ec8310e9e3478d49
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 2496449cd61bf8a7a9acb957c1bd0eca2d4b8046
                       746e6ae55955d6f527f9fdccc9bd0533d1d4dfb6
                       59b5db5b6e2544ffb0129fbd0c5f553864f3813a
                       5d4af4965f96a50179c5fff2fbb3d17bc660dd41
                       6194654385c59087cf1bb41d6e7eef0c29984cc2
                       f2c498a59f2a2028da49e85aade8d2c2f0c18612
                       501635d387f819f326327ff5d73df9c935aeb9a3
                       c56308c938b0117ecdf9d622b95a07438a2a099c
                       42ed5cc91d2228ab26f856339465e9693396d704
                       bb61fcd7e8a1a7d9f3d1fdfe4dbc08d8afa08c0c
                       c3b4028f7c14275b6481cd7ee097b355ff6b8d27
                       3f90f96f16da282d73cf33b575d903910107c0a2
                       3bf269bc87e04a2dc93afb8f964202c4
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 3 succeed
Creating ozonesecure-ha_scm4.org_1 ... 
Creating ozonesecure-ha_scm4.org_1 ... done
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is available on scm4.org
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-5.xml
scm4.org:9894:FOLLOWER:21358dd5-c2ef-4967-a259-21e6e16d21a9:172.25.0.120
ozone admin scm roles | grep scm4.org succeed
867149365177      Tue Sep 19 09:28:22 UTC 2023   Tue Sep 19 09:32:22 UTC 2023   CN=scm-sub-865949079851@scm4.org,OU=21358dd5-c2ef-4967-a259-21e6e16d21a9,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80 CN=scm-sub-831731101442@scm2.org,OU=8bab0e22-4e75-4feb-95db-221cfe0beb3c,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
ozone admin cert list --role=scm | grep scm4.org succeed
Certificate id: 4
  [0]         Version: 3
         SerialNumber: 4
             IssuerDN: CN=scm-4@scm2.org,OU=8bab0e22-4e75-4feb-95db-221cfe0beb3c,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Start Date: Tue Sep 19 09:27:44 UTC 2023
           Final Date: Tue Sep 19 09:31:44 UTC 2023
            SubjectDN: CN=scm-4@scm2.org,OU=8bab0e22-4e75-4feb-95db-221cfe0beb3c,O=CID-8a8bbf38-5d25-48c9-b0b8-e2f42c995c80
           Public Key: RSA Public Key [fa:78:bb:d5:d8:34:4f:f8:0c:64:4f:41:89:50:c6:31:42:18:70:96],[56:66:d1:a4]
        modulus: a763f7e0e82b90bee1c3ceeedf7e5ba3d56c9e8ab4229d444a7be9e227e803d621281a39eaad47551a29e55bdcce8698d85acc25aa35ebefa905046a43da77aade0ea1350d948c70619e06588022b9780e01c6b90b87e6625b2044860936e2cd6821d74e4fc067d0bb7de436d2a51b4915484dfa5bb8c1655cc3a2d289ea93591e32cacebab80d4f8a7786d57efa2192248ad6461c3c02ed152b12f8ca5320f95e32d935e836853dc68b201fc9e0d8fba1f3f0e2ec0a14cbaff4e20224bd877b9126a84c3e56304958c6f91d508ce2aecb8771d11ac22b4492b753d7d33542d95498493be11ae7803e9c463cd310e35f62bde8f11b403591c77e48b725d347f7
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 2c2d753aa3dee83fccaf3e12624b3f8f33b415f3
                       e6b5e7f6f7a8b27476ee15fb7bbfcd1e21a15422
                       d2cd2c9f5011b482b81e99b7e641f292993dd26d
                       2c17759a17d1193afbc6923e42a39b627417bce9
                       d7612feca380d5a3fc64e1df03699c27ddb2e70a
                       0cd0e956c22c36d5187ddedfde727c883bafc8ef
                       2c24601ea421efd1d300a6658fcaa5db37395fd1
                       f4e484e8fa5f52310db0b91a7e6ac16fcde88cdf
                       9c4177c941a369bd87281544123506ac248bdaae
                       28e2b190fb1d3183eb63134c554ca0160362e7d1
                       58c55215ec109b262a493225c7764b5553b910cf
                       4eeecfd95185d053f160daa7d6d9bc0d3235a0f2
                       f7b5603e74c23fa4ff55f8f302d63960
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 4 succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | FAIL |
255 != 0
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | FAIL |
3 tests, 2 passed, 1 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-6.xml
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack
Stopping ozonesecure-ha_scm4.org_1  ... 
Stopping ozonesecure-ha_scm3.org_1  ... 
Stopping ozonesecure-ha_om3_1       ... 
Stopping ozonesecure-ha_kdc_1       ... 
Stopping ozonesecure-ha_datanode1_1 ... 
Stopping ozonesecure-ha_datanode3_1 ... 
Stopping ozonesecure-ha_kms_1       ... 
Stopping ozonesecure-ha_s3g_1       ... 
Stopping ozonesecure-ha_scm2.org_1  ... 
Stopping ozonesecure-ha_httpfs_1    ... 
Stopping ozonesecure-ha_recon_1     ... 
Stopping ozonesecure-ha_om2_1       ... 
Stopping ozonesecure-ha_scm1.org_1  ... 
Stopping ozonesecure-ha_datanode2_1 ... 
Stopping ozonesecure-ha_om1_1       ... 
Stopping ozonesecure-ha_kdc_1       ... done
Stopping ozonesecure-ha_kms_1       ... done
Stopping ozonesecure-ha_httpfs_1    ... done
Stopping ozonesecure-ha_s3g_1       ... done
Stopping ozonesecure-ha_datanode3_1 ... done
Stopping ozonesecure-ha_datanode1_1 ... done
Stopping ozonesecure-ha_datanode2_1 ... done
Stopping ozonesecure-ha_om1_1       ... done
Stopping ozonesecure-ha_scm1.org_1  ... done
Stopping ozonesecure-ha_scm3.org_1  ... done
Stopping ozonesecure-ha_recon_1     ... done
Stopping ozonesecure-ha_om2_1       ... done
Stopping ozonesecure-ha_om3_1       ... done
Stopping ozonesecure-ha_scm4.org_1  ... done
Stopping ozonesecure-ha_scm2.org_1  ... done
Removing ozonesecure-ha_scm4.org_1  ... 
Removing ozonesecure-ha_scm3.org_1  ... 
Removing ozonesecure-ha_om3_1       ... 
Removing ozonesecure-ha_kdc_1       ... 
Removing ozonesecure-ha_datanode1_1 ... 
Removing ozonesecure-ha_datanode3_1 ... 
Removing ozonesecure-ha_kms_1       ... 
Removing ozonesecure-ha_s3g_1       ... 
Removing ozonesecure-ha_scm2.org_1  ... 
Removing ozonesecure-ha_httpfs_1    ... 
Removing ozonesecure-ha_recon_1     ... 
Removing ozonesecure-ha_om2_1       ... 
Removing ozonesecure-ha_scm1.org_1  ... 
Removing ozonesecure-ha_datanode2_1 ... 
Removing ozonesecure-ha_om1_1       ... 
Removing ozonesecure-ha_scm1.org_1  ... done
Removing ozonesecure-ha_kms_1       ... done
Removing ozonesecure-ha_om1_1       ... done
Removing ozonesecure-ha_kdc_1       ... done
Removing ozonesecure-ha_scm4.org_1  ... done
Removing ozonesecure-ha_datanode2_1 ... done
Removing ozonesecure-ha_scm2.org_1  ... done
Removing ozonesecure-ha_s3g_1       ... done
Removing ozonesecure-ha_scm3.org_1  ... done
Removing ozonesecure-ha_datanode1_1 ... done
Removing ozonesecure-ha_om2_1       ... done
Removing ozonesecure-ha_recon_1     ... done
Removing ozonesecure-ha_httpfs_1    ... done
Removing ozonesecure-ha_om3_1       ... done
Removing ozonesecure-ha_datanode3_1 ... done
Removing network ozonesecure-ha_ozone_net
ERROR: Test execution of ozonesecure-ha/test-root-ca-rotation.sh is FAILED!!!!
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha-root-ca-rotation.xml
removed 'ozonesecure-ha/result/robot-1.xml'
removed 'ozonesecure-ha/result/robot-2.xml'
removed 'ozonesecure-ha/result/robot-3.xml'
removed 'ozonesecure-ha/result/robot-4.xml'
removed 'ozonesecure-ha/result/robot-5.xml'
removed 'ozonesecure-ha/result/robot-6.xml'
renamed 'ozonesecure-ha/result/dn-audit-3442c0b2894f.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-3442c0b2894f.log'
renamed 'ozonesecure-ha/result/dn-audit-4082de085f0e.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-4082de085f0e.log'
renamed 'ozonesecure-ha/result/dn-audit-6bf4c94c0d25.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-6bf4c94c0d25.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_httpfs_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kdc_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kms_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_recon_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_s3g_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm1.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm1.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm2.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm2.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm3.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm3.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm4.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm4.org_1.log'
renamed 'ozonesecure-ha/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure-ha/result/om-audit-om1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om1.log'
renamed 'ozonesecure-ha/result/om-audit-om2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om2.log'
renamed 'ozonesecure-ha/result/om-audit-om3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om3.log'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om1_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om2_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om3_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_recon_1_ReconServer.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_s3g_1_Gateway.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure-ha/result/scm-audit-scm1.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm1.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm2.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm2.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm3.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm3.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm4.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm4.org.log'
Executing test ozonesecure/test-certificate-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_scm_1 ... 
Creating ozonesecure_httpfs_1 ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_kdc_1      ... 
Creating ozonesecure_om_1       ... 
Creating ozonesecure_s3g_1      ... 
Creating ozonesecure_recon_1    ... 
Creating ozonesecure_kms_1      ... 
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_om_1       ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_kms_1      ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 200
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 199
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 198
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 197
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
Certrotation                                                                  
==============================================================================
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup                 
==============================================================================
Test datanode functions before and after certificate rotation         depth=2 CN = scm-1@scm, OU = 8611de05-67dc-4ffa-a8da-25695a30efab, O = CID-8ff2f585-cfd8-4f9f-899d-78cc2b9171d5
verify error:num=19:self signed certificate in certificate chain
depth=2 CN = scm-1@scm, OU = 8611de05-67dc-4ffa-a8da-25695a30efab, O = CID-8ff2f585-cfd8-4f9f-899d-78cc2b9171d5
verify error:num=19:self signed certificate in certificate chain
| PASS |
------------------------------------------------------------------------------
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup         | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data                  
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data          | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Certrotation                                                          | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_om_1       ... done
Stopping ozonesecure_scm_1      ... done
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_datanode_3 ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_om_1       ... done
Removing network ozonesecure_default
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-certificate-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
renamed 'ozonesecure/result/dn-audit-3574d9514b37.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-3574d9514b37.log'
renamed 'ozonesecure/result/dn-audit-5a5432dc21fd.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-5a5432dc21fd.log'
renamed 'ozonesecure/result/dn-audit-73e39a87f34c.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-73e39a87f34c.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/scm-audit-scm.log'
Executing test ozonesecure/test-root-ca-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_s3g_1      ... 
Creating ozonesecure_recon_1    ... 
Creating ozonesecure_kdc_1      ... 
Creating ozonesecure_scm_1      ... 
Creating ozonesecure_httpfs_1   ... 
Creating ozonesecure_kms_1      ... 
Creating ozonesecure_om_1       ... 
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_om_1       ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_httpfs_1   ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is out of safe mode.
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=1157.66ms elapsed=66.44s tid=0x00007ff1ee5ad800 nid=0x2c0 runnable  [0x00007ff1a885e000]
jps | grep StorageContainerManagerStarter |  sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm,OU=debb56ae-06b4-4632-be3c-2b33f86f0480,O=CID-0d9f8406-2b7e-4ad8-9ced-03246d56f95e
           Start Date: Tue Sep 19 09:37:43 UTC 2023
           Final Date: Tue Sep 19 09:40:43 UTC 2023
            SubjectDN: CN=scm-2@scm,OU=debb56ae-06b4-4632-be3c-2b33f86f0480,O=CID-0d9f8406-2b7e-4ad8-9ced-03246d56f95e
           Public Key: RSA Public Key [1a:68:00:1b:0b:4f:ba:cd:9f:ea:13:59:c0:86:58:a0:c8:d8:80:4f],[56:66:d1:a4]
        modulus: 9cbe30dc4869464146ead16e65f0f9c65b18a744804a430dd159f315e7d7034e27cc345abe2d95ad8f3d0afa95004cdc7ec70a61188a651bbfd86b30e2a5ac152a6dbafee0f3b912c0564b3840758e997446250477daf621df1a5391e19f3731f71e59dc2e2e5161e8f22ee79692a22c54a2c5629288f6bddd954b8e856c97794e1e24f1875b143cb147129a7dda71df285b61734dafbdf0c96dafd292093cfcdb248e50f60c9f705aef6a464b7338bae9e233667a3beea733842cae8937fd657a0457e7508e198b72753ac8fd05ff844e5f649fafaa1a8c18ed8a9368312b4f50d5a8332e8ec619ec158b6278c033d51fe8398eaae0ed6c2c222870136ac8a5
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 85e06a6d2054e36fd394b8b8e1dce06351ea2f00
                       83ad7a705926f40f207b95ebd82ac25ea80128a3
                       484fc48e28ab65d21a1afee3f0bf08fd668f3c1b
                       51701398376df1034b5ed4ed7fa6c8974727f58f
                       e7964c3db51de4fb518d8c9f7dd2adffedad9fd4
                       7425aa4bb2e3b50ff07846814fe694cc14b92b54
                       a8008708832ee67bd7f502afc6396b087f25d3aa
                       bd93acd15813325827a05e7ace635a5182be41bb
                       0f948866043262a1ba0e58f9729b1a2164360df3
                       bdeb1695c0daf70a6b6ba636cb874ec1179ddc86
                       22396e650cf2e5747f478d52941eedbe8a49f87b
                       5d3ff33d2b3ef09631c436de7aff4f30c3eee0ec
                       ef8b51c382fe3608b7146451fa47286d
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 2 succeed
/data/metadata/dn/certs/ROOTCA-2.crt
find /data/metadata/dn/certs/ROOTCA-2.crt succeed
/data/metadata/om/certs/ROOTCA-2.crt
find /data/metadata/om/certs/ROOTCA-2.crt succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-2.xml
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate id: 3
  [0]         Version: 3
         SerialNumber: 3
             IssuerDN: CN=scm-3@scm,OU=debb56ae-06b4-4632-be3c-2b33f86f0480,O=CID-0d9f8406-2b7e-4ad8-9ced-03246d56f95e
           Start Date: Tue Sep 19 09:39:13 UTC 2023
           Final Date: Tue Sep 19 09:42:13 UTC 2023
            SubjectDN: CN=scm-3@scm,OU=debb56ae-06b4-4632-be3c-2b33f86f0480,O=CID-0d9f8406-2b7e-4ad8-9ced-03246d56f95e
           Public Key: RSA Public Key [0e:18:3d:bb:94:8f:23:4f:f0:44:93:7a:f8:6b:cb:c3:8e:fa:5e:be],[56:66:d1:a4]
        modulus: cddc5307fd21d49618ed88d52594011b1c1685024abb0af45457efa9458942b3c01c4a49eeea003621bc7113bb85915a7a08a815d8f55a463b681f80c963d4ea8a389c37e451b8de9e3ad19fe747c410cfc4244997249d39c7e5f446c655cb52ab31472bab9b4d912b3ab61d3d95dc5d917b495462a742bbbd844023592b6d2c8d38b06941ce3c0ce0a6189fc996ca3b827d74bb533e266f5f00e72c323ca42433294fbd580c4b218ec6b8abe1d1df49a37baa5da24c1522e7e39e842ecaedd8e8d142670d45e7b3b2ab9299073b2687b5846bbc79e0897ce2b55b292431978954fe9ca2b40f32099cb4d2a77ff896ee972270b45e23c811ce1ea1da61f9df8f
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 31fc68ec70eadb163e4d1a1fa3c3beb572b7ca9c
                       fd5ad57e63ff96bfae24a9243b616dfcc4c2f80f
                       492d626556726bbe6ca144c3457a2aff10a2a634
                       08277ef966fd0a68e47d5d0f0300202a2759c8f8
                       2a148bc8c415fcd4652582143a69384b0eadbb4f
                       0f8e60b89494eb9ebc6767cd94dacaf8ee4d9782
                       11837de191b2f4d988eee3ac7102ae4557c5e46a
                       493416e33e3fdf51155af729d77d36b739b8a321
                       59198070efb878327597a5955502c865c0972dc6
                       a24e0749e72535b49ddf9efbe7195f0358255a54
                       ba6d85569e53f350d9edd2a0a2fe7387aa4f273c
                       229bd96db95ddc92e6b0e566f41e4adc891d45fd
                       0f0f4472217d34f72b4e3beceafa9749
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 3 succeed
/data/metadata/om/certs/ROOTCA-3.crt
find /data/metadata/om/certs/ROOTCA-3.crt succeed
Certificate not found
! ozone admin cert info 1 succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-3.xml
==============================================================================
Root-Ca-Rotation :: Smoketest ozone cluster startup                           
==============================================================================
Verify root CA rotation metrics                                       | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation :: Smoketest ozone cluster startup                   | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-4.xml
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_scm_1      ... done
Stopping ozonesecure_om_1       ... done
Removing ozonesecure_om_1       ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_om_1       ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_datanode_3 ... done
Removing network ozonesecure_default
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/report.html
Removing network ozonesecure_default
Network ozonesecure_default not found.
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-root-ca-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
removed 'ozonesecure/result/robot-2.xml'
removed 'ozonesecure/result/robot-3.xml'
removed 'ozonesecure/result/robot-4.xml'
removed 'ozonesecure/result/log.html'
removed 'ozonesecure/result/report.html'
renamed 'ozonesecure/result/dn-audit-294566cad699.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-294566cad699.log'
renamed 'ozonesecure/result/dn-audit-b5d67e4c88cc.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-b5d67e4c88cc.log'
renamed 'ozonesecure/result/dn-audit-e0d2ff57bdb3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-e0d2ff57bdb3.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/scm-audit-scm.log'
Exception in thread "main" Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/report.html
