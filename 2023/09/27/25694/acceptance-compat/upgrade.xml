<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230927 20:39:43.583" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:28:31.198" endtime="20230927 20:28:31.199"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:31.206" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:31.210" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:31.210" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=88c2844f1427
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:28:31.201" endtime="20230927 20:28:31.210"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:31.212" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=88c2844f1427
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:28:31.211" endtime="20230927 20:28:31.212"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:31.213" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:31.212" endtime="20230927 20:28:31.213"/>
</kw>
<status status="PASS" starttime="20230927 20:28:31.200" endtime="20230927 20:28:31.213"/>
</kw>
<msg timestamp="20230927 20:28:31.213" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:31.200" endtime="20230927 20:28:31.215"/>
</kw>
<msg timestamp="20230927 20:28:31.215" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=88c2844f1427
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:28:31.199" endtime="20230927 20:28:31.215"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:31.216" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=88c2844f1427
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:28:31.215" endtime="20230927 20:28:31.216"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:28:31.216" endtime="20230927 20:28:31.216"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:31.222" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:34.891" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:34.891" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:28:31.218" endtime="20230927 20:28:34.891"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:34.893" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:28:34.892" endtime="20230927 20:28:34.893"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:34.894" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:34.893" endtime="20230927 20:28:34.894"/>
</kw>
<status status="PASS" starttime="20230927 20:28:31.217" endtime="20230927 20:28:34.894"/>
</kw>
<msg timestamp="20230927 20:28:34.894" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:31.217" endtime="20230927 20:28:34.895"/>
</kw>
<msg timestamp="20230927 20:28:34.895" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:28:31.216" endtime="20230927 20:28:34.895"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:34.896" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:28:34.895" endtime="20230927 20:28:34.896"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:28:34.896" endtime="20230927 20:28:34.896"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:28:31.197" endtime="20230927 20:28:34.897"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:28:34.898" endtime="20230927 20:28:34.899"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:28:34.899" endtime="20230927 20:28:34.899"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:34.904" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:38.045" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:38.045" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:28:34.901" endtime="20230927 20:28:38.045"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:38.046" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:28:38.046" endtime="20230927 20:28:38.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:38.047" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:38.047" endtime="20230927 20:28:38.047"/>
</kw>
<status status="PASS" starttime="20230927 20:28:34.900" endtime="20230927 20:28:38.048"/>
</kw>
<msg timestamp="20230927 20:28:38.048" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:34.900" endtime="20230927 20:28:38.048"/>
</kw>
<msg timestamp="20230927 20:28:38.048" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:28:34.899" endtime="20230927 20:28:38.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:38.049" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:28:38.049" endtime="20230927 20:28:38.049"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:28:38.049" endtime="20230927 20:28:38.050"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:28:34.898" endtime="20230927 20:28:38.050"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:28:31.130" endtime="20230927 20:28:38.051"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:28:41.762" level="INFO">${random} = 09860</msg>
<status status="PASS" starttime="20230927 20:28:41.761" endtime="20230927 20:28:41.762"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:41.769" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-09860 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:47.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:47.586" level="INFO">${output} = 2023-09-27 20:28:45,993 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:28:46,086 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:28:41.764" endtime="20230927 20:28:47.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:47.587" level="INFO">2023-09-27 20:28:45,993 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:28:46,086 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:28:46,086 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230927 20:28:47.587" endtime="20230927 20:28:47.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:47.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:47.588" endtime="20230927 20:28:47.589"/>
</kw>
<status status="PASS" starttime="20230927 20:28:41.764" endtime="20230927 20:28:47.589"/>
</kw>
<msg timestamp="20230927 20:28:47.589" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:41.763" endtime="20230927 20:28:47.590"/>
</kw>
<msg timestamp="20230927 20:28:47.591" level="INFO">${output} = 2023-09-27 20:28:45,993 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:28:46,086 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:28:41.762" endtime="20230927 20:28:47.591"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:47.591" endtime="20230927 20:28:47.591"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:47.595" level="INFO">Running command 'cat /tmp/key-09860 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:47.598" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:47.598" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:47.592" endtime="20230927 20:28:47.598"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:47.599" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:47.598" endtime="20230927 20:28:47.599"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:47.600" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:47.599" endtime="20230927 20:28:47.600"/>
</kw>
<msg timestamp="20230927 20:28:47.600" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:47.591" endtime="20230927 20:28:47.600"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:47.600" endtime="20230927 20:28:47.601"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:47.605" level="INFO">Running command 'rm /tmp/key-09860 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:47.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:47.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:47.602" endtime="20230927 20:28:47.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:47.609" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:47.608" endtime="20230927 20:28:47.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:47.609" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:47.609" endtime="20230927 20:28:47.610"/>
</kw>
<status status="PASS" starttime="20230927 20:28:47.601" endtime="20230927 20:28:47.610"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:28:41.760" endtime="20230927 20:28:47.610"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:47.617" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:48.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:48.633" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:47.615" endtime="20230927 20:28:48.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:48.635" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:48.634" endtime="20230927 20:28:48.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:48.637" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:48.635" endtime="20230927 20:28:48.637"/>
</kw>
<status status="PASS" starttime="20230927 20:28:47.614" endtime="20230927 20:28:48.639"/>
</kw>
<msg timestamp="20230927 20:28:48.639" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:47.614" endtime="20230927 20:28:48.640"/>
</kw>
<status status="PASS" starttime="20230927 20:28:47.613" endtime="20230927 20:28:48.640"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:48.647" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:49.277" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:49.277" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:48.642" endtime="20230927 20:28:49.278"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:49.279" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:49.278" endtime="20230927 20:28:49.279"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:49.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:49.279" endtime="20230927 20:28:49.280"/>
</kw>
<status status="PASS" starttime="20230927 20:28:48.642" endtime="20230927 20:28:49.280"/>
</kw>
<msg timestamp="20230927 20:28:49.280" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:48.641" endtime="20230927 20:28:49.281"/>
</kw>
<status status="PASS" starttime="20230927 20:28:48.641" endtime="20230927 20:28:49.281"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:49.285" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:49.935" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:49.935" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:49.282" endtime="20230927 20:28:49.935"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:49.936" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:49.936" endtime="20230927 20:28:49.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:49.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:49.937" endtime="20230927 20:28:49.937"/>
</kw>
<status status="PASS" starttime="20230927 20:28:49.282" endtime="20230927 20:28:49.938"/>
</kw>
<msg timestamp="20230927 20:28:49.938" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:49.282" endtime="20230927 20:28:49.938"/>
</kw>
<status status="PASS" starttime="20230927 20:28:49.281" endtime="20230927 20:28:49.939"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:49.943" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:50.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:50.566" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:49.940" endtime="20230927 20:28:50.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:50.568" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:50.567" endtime="20230927 20:28:50.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:50.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:50.568" endtime="20230927 20:28:50.569"/>
</kw>
<status status="PASS" starttime="20230927 20:28:49.940" endtime="20230927 20:28:50.569"/>
</kw>
<msg timestamp="20230927 20:28:50.569" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:49.939" endtime="20230927 20:28:50.570"/>
</kw>
<status status="PASS" starttime="20230927 20:28:49.939" endtime="20230927 20:28:50.570"/>
</kw>
<status status="PASS" starttime="20230927 20:28:47.613" endtime="20230927 20:28:50.570"/>
</kw>
<status status="PASS" starttime="20230927 20:28:47.612" endtime="20230927 20:28:50.570"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:28:47.612" endtime="20230927 20:28:50.571"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:50.578" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:54.228" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:54.228" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:32 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:50.575" endtime="20230927 20:28:54.228"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:54.230" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:32 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:28:51 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:28:54.229" endtime="20230927 20:28:54.230"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:54.231" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:54.231" endtime="20230927 20:28:54.231"/>
</kw>
<msg timestamp="20230927 20:28:54.232" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:32 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:50.574" endtime="20230927 20:28:54.232"/>
</kw>
<msg timestamp="20230927 20:28:54.232" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:32 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:50.573" endtime="20230927 20:28:54.232"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:54.232" endtime="20230927 20:28:54.233"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:54.236" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:54.240" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:54.240" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:54.234" endtime="20230927 20:28:54.240"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:54.242" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:54.241" endtime="20230927 20:28:54.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:54.242" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:54.242" endtime="20230927 20:28:54.243"/>
</kw>
<msg timestamp="20230927 20:28:54.243" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:28:54.233" endtime="20230927 20:28:54.243"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:54.243" endtime="20230927 20:28:54.244"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:54.248" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:54.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:54.251" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:54.245" endtime="20230927 20:28:54.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:54.252" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:54.252" endtime="20230927 20:28:54.253"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:54.254" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:54.253" endtime="20230927 20:28:54.254"/>
</kw>
<status status="PASS" starttime="20230927 20:28:54.244" endtime="20230927 20:28:54.254"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:28:50.572" endtime="20230927 20:28:54.255"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:54.262" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:55.115" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:55.115" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:54.259" endtime="20230927 20:28:55.115"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:55.116" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:28:54 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:28:55.115" endtime="20230927 20:28:55.116"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:55.117" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:55.117" endtime="20230927 20:28:55.117"/>
</kw>
<msg timestamp="20230927 20:28:55.118" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:54.258" endtime="20230927 20:28:55.118"/>
</kw>
<msg timestamp="20230927 20:28:55.118" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:23:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:28:54.257" endtime="20230927 20:28:55.118"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:55.118" endtime="20230927 20:28:55.119"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:55.122" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:55.126" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:55.126" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:28:55.119" endtime="20230927 20:28:55.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:55.127" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:28:55.126" endtime="20230927 20:28:55.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:55.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:55.127" endtime="20230927 20:28:55.128"/>
</kw>
<msg timestamp="20230927 20:28:55.129" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:28:55.119" endtime="20230927 20:28:55.129"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:28:55.129" endtime="20230927 20:28:55.129"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:55.133" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:28:55.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:28:55.136" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:28:55.130" endtime="20230927 20:28:55.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:28:55.138" level="INFO"/>
<status status="PASS" starttime="20230927 20:28:55.137" endtime="20230927 20:28:55.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:28:55.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:28:55.138" endtime="20230927 20:28:55.139"/>
</kw>
<status status="PASS" starttime="20230927 20:28:55.129" endtime="20230927 20:28:55.139"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:28:54.256" endtime="20230927 20:28:55.139"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:28:41.663" endtime="20230927 20:28:55.142"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:28:58.842" level="INFO">${random} = 09569</msg>
<status status="PASS" starttime="20230927 20:28:58.841" endtime="20230927 20:28:58.842"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:28:58.850" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-09569 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:05.116" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:05.116" level="INFO">${output} = 2023-09-27 20:29:03,700 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:03,846 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:28:58.845" endtime="20230927 20:29:05.116"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:05.118" level="INFO">2023-09-27 20:29:03,700 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:03,846 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:29:03,846 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230927 20:29:05.117" endtime="20230927 20:29:05.118"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:05.119" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:05.118" endtime="20230927 20:29:05.119"/>
</kw>
<status status="PASS" starttime="20230927 20:28:58.844" endtime="20230927 20:29:05.119"/>
</kw>
<msg timestamp="20230927 20:29:05.119" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:28:58.843" endtime="20230927 20:29:05.120"/>
</kw>
<msg timestamp="20230927 20:29:05.121" level="INFO">${output} = 2023-09-27 20:29:03,700 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:03,846 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:28:58.842" endtime="20230927 20:29:05.121"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:05.121" endtime="20230927 20:29:05.121"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:05.125" level="INFO">Running command 'cat /tmp/key-09569 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:05.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:05.128" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:05.122" endtime="20230927 20:29:05.128"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:05.129" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:05.129" endtime="20230927 20:29:05.130"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:05.130" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:05.130" endtime="20230927 20:29:05.130"/>
</kw>
<msg timestamp="20230927 20:29:05.131" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:05.122" endtime="20230927 20:29:05.131"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:05.131" endtime="20230927 20:29:05.131"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:05.135" level="INFO">Running command 'rm /tmp/key-09569 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:05.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:05.138" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:05.132" endtime="20230927 20:29:05.138"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:05.140" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:05.139" endtime="20230927 20:29:05.140"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:05.141" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:05.140" endtime="20230927 20:29:05.141"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.132" endtime="20230927 20:29:05.141"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:28:58.840" endtime="20230927 20:29:05.142"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:05.150" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:05.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:05.776" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:05.147" endtime="20230927 20:29:05.776"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:05.777" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:05.776" endtime="20230927 20:29:05.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:05.778" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:05.777" endtime="20230927 20:29:05.778"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.146" endtime="20230927 20:29:05.779"/>
</kw>
<msg timestamp="20230927 20:29:05.779" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:05.146" endtime="20230927 20:29:05.779"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.145" endtime="20230927 20:29:05.780"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:05.784" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:06.369" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:06.370" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:05.781" endtime="20230927 20:29:06.370"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:06.373" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:06.371" endtime="20230927 20:29:06.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:06.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:06.374" endtime="20230927 20:29:06.375"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.781" endtime="20230927 20:29:06.375"/>
</kw>
<msg timestamp="20230927 20:29:06.375" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:05.780" endtime="20230927 20:29:06.376"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.780" endtime="20230927 20:29:06.376"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:06.382" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:07.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:07.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:06.379" endtime="20230927 20:29:07.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:07.030" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:07.029" endtime="20230927 20:29:07.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:07.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:07.030" endtime="20230927 20:29:07.031"/>
</kw>
<status status="PASS" starttime="20230927 20:29:06.377" endtime="20230927 20:29:07.032"/>
</kw>
<msg timestamp="20230927 20:29:07.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:06.377" endtime="20230927 20:29:07.033"/>
</kw>
<status status="PASS" starttime="20230927 20:29:06.376" endtime="20230927 20:29:07.033"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:07.038" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:07.664" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:07.664" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:07.035" endtime="20230927 20:29:07.664"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:07.666" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:07.665" endtime="20230927 20:29:07.666"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:07.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:07.666" endtime="20230927 20:29:07.667"/>
</kw>
<status status="PASS" starttime="20230927 20:29:07.034" endtime="20230927 20:29:07.667"/>
</kw>
<msg timestamp="20230927 20:29:07.667" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:07.034" endtime="20230927 20:29:07.668"/>
</kw>
<status status="PASS" starttime="20230927 20:29:07.033" endtime="20230927 20:29:07.668"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.145" endtime="20230927 20:29:07.668"/>
</kw>
<status status="PASS" starttime="20230927 20:29:05.144" endtime="20230927 20:29:07.668"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:05.143" endtime="20230927 20:29:07.669"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:07.676" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:08.459" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:08.459" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:07.672" endtime="20230927 20:29:08.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:08.461" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:29:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:29:08.460" endtime="20230927 20:29:08.461"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:08.462" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:08.461" endtime="20230927 20:29:08.462"/>
</kw>
<msg timestamp="20230927 20:29:08.462" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:07.672" endtime="20230927 20:29:08.462"/>
</kw>
<msg timestamp="20230927 20:29:08.462" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:07.671" endtime="20230927 20:29:08.462"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:08.463" endtime="20230927 20:29:08.463"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:08.466" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:08.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:08.470" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:08.464" endtime="20230927 20:29:08.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:08.471" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:08.470" endtime="20230927 20:29:08.471"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:08.471" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:08.471" endtime="20230927 20:29:08.472"/>
</kw>
<msg timestamp="20230927 20:29:08.472" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:08.463" endtime="20230927 20:29:08.472"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:08.472" endtime="20230927 20:29:08.473"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:08.476" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:08.479" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:08.479" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:08.474" endtime="20230927 20:29:08.479"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:08.480" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:08.479" endtime="20230927 20:29:08.480"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:08.481" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:08.480" endtime="20230927 20:29:08.481"/>
</kw>
<status status="PASS" starttime="20230927 20:29:08.473" endtime="20230927 20:29:08.481"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:07.670" endtime="20230927 20:29:08.482"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:08.487" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:09.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:09.213" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:08.485" endtime="20230927 20:29:09.213"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:09.214" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:29:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:29:09.213" endtime="20230927 20:29:09.214"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:09.215" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:09.214" endtime="20230927 20:29:09.215"/>
</kw>
<msg timestamp="20230927 20:29:09.215" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:08.484" endtime="20230927 20:29:09.215"/>
</kw>
<msg timestamp="20230927 20:29:09.216" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:08.483" endtime="20230927 20:29:09.216"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:09.216" endtime="20230927 20:29:09.216"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:09.220" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:09.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:09.222" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:09.217" endtime="20230927 20:29:09.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:09.223" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:09.223" endtime="20230927 20:29:09.223"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:09.224" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:09.224" endtime="20230927 20:29:09.224"/>
</kw>
<msg timestamp="20230927 20:29:09.224" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:09.216" endtime="20230927 20:29:09.225"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:09.225" endtime="20230927 20:29:09.225"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:09.228" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:09.231" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:09.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:09.226" endtime="20230927 20:29:09.231"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:09.232" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:09.231" endtime="20230927 20:29:09.232"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:09.233" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:09.232" endtime="20230927 20:29:09.233"/>
</kw>
<status status="PASS" starttime="20230927 20:29:09.225" endtime="20230927 20:29:09.233"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:08.483" endtime="20230927 20:29:09.233"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:28:58.745" endtime="20230927 20:29:09.235"/>
</suite>
<suite id="s1-s4" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s4-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:12.765" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:15.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:15.904" level="INFO">${output} = 2023-09-27 20:29:15,807 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:29:12.759" endtime="20230927 20:29:15.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:15.906" level="INFO">2023-09-27 20:29:15,807 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:29:15.905" endtime="20230927 20:29:15.906"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:15.908" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:15.907" endtime="20230927 20:29:15.908"/>
</kw>
<status status="PASS" starttime="20230927 20:29:12.758" endtime="20230927 20:29:15.908"/>
</kw>
<msg timestamp="20230927 20:29:15.908" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:12.758" endtime="20230927 20:29:15.910"/>
</kw>
<msg timestamp="20230927 20:29:15.910" level="INFO">${output} = 2023-09-27 20:29:15,807 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:29:12.757" endtime="20230927 20:29:15.910"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:15.910" endtime="20230927 20:29:15.910"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:15.916" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:19.084" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:19.084" level="INFO">${output} = 2023-09-27 20:29:19,005 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230927 20:29:15.912" endtime="20230927 20:29:19.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:19.085" level="INFO">2023-09-27 20:29:19,005 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230927 20:29:19.084" endtime="20230927 20:29:19.085"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:19.086" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:19.086" endtime="20230927 20:29:19.086"/>
</kw>
<status status="PASS" starttime="20230927 20:29:15.912" endtime="20230927 20:29:19.087"/>
</kw>
<msg timestamp="20230927 20:29:19.087" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:15.911" endtime="20230927 20:29:19.087"/>
</kw>
<msg timestamp="20230927 20:29:19.087" level="INFO">${output} = 2023-09-27 20:29:19,005 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230927 20:29:15.911" endtime="20230927 20:29:19.088"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:19.088" endtime="20230927 20:29:19.088"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:12.756" endtime="20230927 20:29:19.088"/>
</test>
<test id="s1-s4-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:19.103" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:29:19.104" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:19.105" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:19.097" endtime="20230927 20:29:19.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:19.106" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:19.105" endtime="20230927 20:29:19.106"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:19.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:19.106" endtime="20230927 20:29:19.112"/>
</kw>
<status status="PASS" starttime="20230927 20:29:19.094" endtime="20230927 20:29:19.113"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:19.117" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:26.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:26.191" level="INFO">${output} = 2023-09-27 20:29:24,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:24,148 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:19.115" endtime="20230927 20:29:26.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:26.193" level="INFO">2023-09-27 20:29:24,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:24,148 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:29:24,148 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:29:24,457 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:29:26.192" endtime="20230927 20:29:26.193"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:26.194" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:26.193" endtime="20230927 20:29:26.194"/>
</kw>
<status status="PASS" starttime="20230927 20:29:19.114" endtime="20230927 20:29:26.194"/>
</kw>
<msg timestamp="20230927 20:29:26.194" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:19.114" endtime="20230927 20:29:26.195"/>
</kw>
<msg timestamp="20230927 20:29:26.195" level="INFO">${output} = 2023-09-27 20:29:24,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:24,148 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:19.113" endtime="20230927 20:29:26.195"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:26.195" endtime="20230927 20:29:26.196"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:26.199" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:26.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:26.203" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:26.197" endtime="20230927 20:29:26.203"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:26.204" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:26.203" endtime="20230927 20:29:26.204"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:26.205" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:26.204" endtime="20230927 20:29:26.205"/>
</kw>
<status status="PASS" starttime="20230927 20:29:26.196" endtime="20230927 20:29:26.205"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:19.093" endtime="20230927 20:29:26.206"/>
</test>
<test id="s1-s4-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:26.215" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:29.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:29.313" level="INFO">${output} = 2023-09-27 20:29:29,232 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230927 20:29:26.212" endtime="20230927 20:29:29.313"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:29.314" level="INFO">2023-09-27 20:29:29,232 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230927 20:29:29.313" endtime="20230927 20:29:29.314"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:29.315" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:29.315" endtime="20230927 20:29:29.315"/>
</kw>
<status status="PASS" starttime="20230927 20:29:26.211" endtime="20230927 20:29:29.316"/>
</kw>
<msg timestamp="20230927 20:29:29.316" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:26.210" endtime="20230927 20:29:29.316"/>
</kw>
<msg timestamp="20230927 20:29:29.317" level="INFO">${output} = 2023-09-27 20:29:29,232 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230927 20:29:26.209" endtime="20230927 20:29:29.317"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:29.317" endtime="20230927 20:29:29.317"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:26.208" endtime="20230927 20:29:29.317"/>
</test>
<test id="s1-s4-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:29.323" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:29:29.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:29.325" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:29.320" endtime="20230927 20:29:29.325"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:29.326" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:29.325" endtime="20230927 20:29:29.326"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:29.327" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:29.326" endtime="20230927 20:29:29.327"/>
</kw>
<status status="PASS" starttime="20230927 20:29:29.319" endtime="20230927 20:29:29.327"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:29.333" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:35.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:35.913" level="INFO">${output} = 2023-09-27 20:29:34,184 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:34,352 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:29.331" endtime="20230927 20:29:35.913"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:35.914" level="INFO">2023-09-27 20:29:34,184 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:34,352 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:29:34,352 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:29:34,729 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:29:35.914" endtime="20230927 20:29:35.915"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:35.916" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:35.915" endtime="20230927 20:29:35.916"/>
</kw>
<status status="PASS" starttime="20230927 20:29:29.328" endtime="20230927 20:29:35.916"/>
</kw>
<msg timestamp="20230927 20:29:35.916" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:29.328" endtime="20230927 20:29:35.917"/>
</kw>
<msg timestamp="20230927 20:29:35.917" level="INFO">${output} = 2023-09-27 20:29:34,184 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:34,352 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:29.327" endtime="20230927 20:29:35.917"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:35.917" endtime="20230927 20:29:35.918"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:35.921" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:35.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:35.924" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:35.918" endtime="20230927 20:29:35.924"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:35.926" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:35.924" endtime="20230927 20:29:35.926"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:35.927" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:35.926" endtime="20230927 20:29:35.927"/>
</kw>
<status status="PASS" starttime="20230927 20:29:35.918" endtime="20230927 20:29:35.927"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:29.318" endtime="20230927 20:29:35.927"/>
</test>
<test id="s1-s4-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:35.935" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:36.540" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:36.540" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:35.932" endtime="20230927 20:29:36.540"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:36.541" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:36.541" endtime="20230927 20:29:36.541"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:36.542" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:36.542" endtime="20230927 20:29:36.542"/>
</kw>
<status status="PASS" starttime="20230927 20:29:35.932" endtime="20230927 20:29:36.543"/>
</kw>
<msg timestamp="20230927 20:29:36.543" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:35.931" endtime="20230927 20:29:36.543"/>
</kw>
<status status="PASS" starttime="20230927 20:29:35.931" endtime="20230927 20:29:36.543"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:36.549" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:37.153" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:37.153" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:36.545" endtime="20230927 20:29:37.153"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:37.154" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:37.153" endtime="20230927 20:29:37.154"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:37.155" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:37.154" endtime="20230927 20:29:37.155"/>
</kw>
<status status="PASS" starttime="20230927 20:29:36.545" endtime="20230927 20:29:37.155"/>
</kw>
<msg timestamp="20230927 20:29:37.155" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:36.544" endtime="20230927 20:29:37.156"/>
</kw>
<status status="PASS" starttime="20230927 20:29:36.544" endtime="20230927 20:29:37.156"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:37.161" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:37.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:37.752" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:37.159" endtime="20230927 20:29:37.752"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:37.754" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:37.753" endtime="20230927 20:29:37.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:37.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:37.754" endtime="20230927 20:29:37.755"/>
</kw>
<status status="PASS" starttime="20230927 20:29:37.158" endtime="20230927 20:29:37.755"/>
</kw>
<msg timestamp="20230927 20:29:37.755" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:37.157" endtime="20230927 20:29:37.756"/>
</kw>
<status status="PASS" starttime="20230927 20:29:37.157" endtime="20230927 20:29:37.756"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:37.760" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:38.381" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:38.381" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:37.758" endtime="20230927 20:29:38.381"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:38.382" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:38.382" endtime="20230927 20:29:38.382"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:38.383" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:38.383" endtime="20230927 20:29:38.383"/>
</kw>
<status status="PASS" starttime="20230927 20:29:37.757" endtime="20230927 20:29:38.384"/>
</kw>
<msg timestamp="20230927 20:29:38.384" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:37.757" endtime="20230927 20:29:38.384"/>
</kw>
<status status="PASS" starttime="20230927 20:29:37.756" endtime="20230927 20:29:38.384"/>
</kw>
<status status="PASS" starttime="20230927 20:29:35.930" endtime="20230927 20:29:38.385"/>
</kw>
<status status="PASS" starttime="20230927 20:29:35.930" endtime="20230927 20:29:38.385"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:35.929" endtime="20230927 20:29:38.385"/>
</test>
<test id="s1-s4-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:29:38.388" level="INFO">${randStr} = 5860849443</msg>
<status status="PASS" starttime="20230927 20:29:38.388" endtime="20230927 20:29:38.388"/>
</kw>
<msg timestamp="20230927 20:29:38.388" level="INFO">${random} = ozone-test-5860849443</msg>
<status status="PASS" starttime="20230927 20:29:38.387" endtime="20230927 20:29:38.388"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:38.394" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket-ozone-test-5860849443 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:39.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:39.225" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-5860849443"
}</msg>
<status status="PASS" starttime="20230927 20:29:38.391" endtime="20230927 20:29:39.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:39.226" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket-ozone-test-5860849443"
}</msg>
<status status="PASS" starttime="20230927 20:29:39.225" endtime="20230927 20:29:39.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:39.227" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:39.227" endtime="20230927 20:29:39.227"/>
</kw>
<status status="PASS" starttime="20230927 20:29:38.390" endtime="20230927 20:29:39.227"/>
</kw>
<msg timestamp="20230927 20:29:39.228" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:38.390" endtime="20230927 20:29:39.228"/>
</kw>
<msg timestamp="20230927 20:29:39.229" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-5860849443"
}</msg>
<status status="PASS" starttime="20230927 20:29:38.390" endtime="20230927 20:29:39.229"/>
</kw>
<msg timestamp="20230927 20:29:39.229" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-5860849443"
}</msg>
<status status="PASS" starttime="20230927 20:29:38.389" endtime="20230927 20:29:39.229"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:39.229" endtime="20230927 20:29:39.230"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:39.230" endtime="20230927 20:29:39.230"/>
</kw>
<msg timestamp="20230927 20:29:39.231" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:29:38.389" endtime="20230927 20:29:39.231"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:29:39.231" endtime="20230927 20:29:39.231"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:38.386" endtime="20230927 20:29:39.232"/>
</test>
<test id="s1-s4-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:39.237" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:29:39.240" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:39.240" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:39.234" endtime="20230927 20:29:39.240"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:39.241" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:39.240" endtime="20230927 20:29:39.241"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:39.242" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:39.241" endtime="20230927 20:29:39.242"/>
</kw>
<status status="PASS" starttime="20230927 20:29:39.234" endtime="20230927 20:29:39.242"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:39.246" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:40.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:40.784" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:39.244" endtime="20230927 20:29:40.784"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:40.785" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:40.784" endtime="20230927 20:29:40.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:40.786" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:40.785" endtime="20230927 20:29:40.786"/>
</kw>
<msg timestamp="20230927 20:29:40.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:39.243" endtime="20230927 20:29:40.787"/>
</kw>
<msg timestamp="20230927 20:29:40.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:39.242" endtime="20230927 20:29:40.787"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:40.787" endtime="20230927 20:29:40.787"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:40.791" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:40.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:40.794" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:40.788" endtime="20230927 20:29:40.794"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:40.795" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:40.795" endtime="20230927 20:29:40.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:40.796" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:40.796" endtime="20230927 20:29:40.796"/>
</kw>
<status status="PASS" starttime="20230927 20:29:40.788" endtime="20230927 20:29:40.797"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:39.233" endtime="20230927 20:29:40.798"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:29:12.666" endtime="20230927 20:29:40.800"/>
</suite>
<suite id="s1-s5" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s5-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:29:44.507" level="INFO">${random} = 89106</msg>
<status status="PASS" starttime="20230927 20:29:44.506" endtime="20230927 20:29:44.507"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:44.514" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-89106 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:49.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:49.721" level="INFO">${output} = 2023-09-27 20:29:48,171 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:48,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:44.509" endtime="20230927 20:29:49.721"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:49.722" level="INFO">2023-09-27 20:29:48,171 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:48,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:29:48,287 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230927 20:29:49.721" endtime="20230927 20:29:49.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:49.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:49.723" endtime="20230927 20:29:49.724"/>
</kw>
<status status="PASS" starttime="20230927 20:29:44.509" endtime="20230927 20:29:49.724"/>
</kw>
<msg timestamp="20230927 20:29:49.724" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:44.508" endtime="20230927 20:29:49.726"/>
</kw>
<msg timestamp="20230927 20:29:49.726" level="INFO">${output} = 2023-09-27 20:29:48,171 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:29:48,287 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:44.507" endtime="20230927 20:29:49.726"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:49.727" endtime="20230927 20:29:49.727"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:49.731" level="INFO">Running command 'cat /tmp/key-89106 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:49.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:49.734" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:49.728" endtime="20230927 20:29:49.734"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:49.735" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:49.735" endtime="20230927 20:29:49.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:49.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:49.736" endtime="20230927 20:29:49.737"/>
</kw>
<msg timestamp="20230927 20:29:49.737" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:49.727" endtime="20230927 20:29:49.737"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:49.737" endtime="20230927 20:29:49.738"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:49.741" level="INFO">Running command 'rm /tmp/key-89106 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:49.744" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:49.744" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:49.739" endtime="20230927 20:29:49.744"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:49.746" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:49.745" endtime="20230927 20:29:49.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:49.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:49.746" endtime="20230927 20:29:49.747"/>
</kw>
<status status="PASS" starttime="20230927 20:29:49.738" endtime="20230927 20:29:49.747"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:44.505" endtime="20230927 20:29:49.747"/>
</test>
<test id="s1-s5-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:49.754" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:50.398" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:50.398" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:49.752" endtime="20230927 20:29:50.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:50.399" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:50.398" endtime="20230927 20:29:50.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:50.400" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:50.399" endtime="20230927 20:29:50.400"/>
</kw>
<status status="PASS" starttime="20230927 20:29:49.751" endtime="20230927 20:29:50.400"/>
</kw>
<msg timestamp="20230927 20:29:50.400" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:49.751" endtime="20230927 20:29:50.401"/>
</kw>
<status status="PASS" starttime="20230927 20:29:49.750" endtime="20230927 20:29:50.401"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:50.407" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:51.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:51.151" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:50.403" endtime="20230927 20:29:51.152"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:51.153" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:51.152" endtime="20230927 20:29:51.153"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:51.154" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:51.153" endtime="20230927 20:29:51.154"/>
</kw>
<status status="PASS" starttime="20230927 20:29:50.402" endtime="20230927 20:29:51.154"/>
</kw>
<msg timestamp="20230927 20:29:51.154" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:50.402" endtime="20230927 20:29:51.155"/>
</kw>
<status status="PASS" starttime="20230927 20:29:50.401" endtime="20230927 20:29:51.155"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:51.160" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:51.827" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:51.827" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:51.157" endtime="20230927 20:29:51.827"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:51.829" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:51.828" endtime="20230927 20:29:51.829"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:51.830" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:51.829" endtime="20230927 20:29:51.830"/>
</kw>
<status status="PASS" starttime="20230927 20:29:51.156" endtime="20230927 20:29:51.830"/>
</kw>
<msg timestamp="20230927 20:29:51.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:51.156" endtime="20230927 20:29:51.831"/>
</kw>
<status status="PASS" starttime="20230927 20:29:51.155" endtime="20230927 20:29:51.831"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:51.836" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:52.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:52.466" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:51.833" endtime="20230927 20:29:52.466"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:52.468" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:52.467" endtime="20230927 20:29:52.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:52.468" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:52.468" endtime="20230927 20:29:52.469"/>
</kw>
<status status="PASS" starttime="20230927 20:29:51.832" endtime="20230927 20:29:52.469"/>
</kw>
<msg timestamp="20230927 20:29:52.469" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:51.832" endtime="20230927 20:29:52.469"/>
</kw>
<status status="PASS" starttime="20230927 20:29:51.831" endtime="20230927 20:29:52.470"/>
</kw>
<status status="PASS" starttime="20230927 20:29:49.750" endtime="20230927 20:29:52.470"/>
</kw>
<status status="PASS" starttime="20230927 20:29:49.749" endtime="20230927 20:29:52.470"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:49.748" endtime="20230927 20:29:52.470"/>
</test>
<test id="s1-s5-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:52.480" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:53.306" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:53.306" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:52.474" endtime="20230927 20:29:53.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:53.308" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:29:53 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:29:53.307" endtime="20230927 20:29:53.308"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:53.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:53.309" endtime="20230927 20:29:53.309"/>
</kw>
<msg timestamp="20230927 20:29:53.310" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:52.473" endtime="20230927 20:29:53.310"/>
</kw>
<msg timestamp="20230927 20:29:53.310" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:52.473" endtime="20230927 20:29:53.311"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:53.311" endtime="20230927 20:29:53.311"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:53.315" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:53.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:53.318" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:53.312" endtime="20230927 20:29:53.318"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:53.319" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:53.318" endtime="20230927 20:29:53.319"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:53.320" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:53.319" endtime="20230927 20:29:53.320"/>
</kw>
<msg timestamp="20230927 20:29:53.321" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:29:53.311" endtime="20230927 20:29:53.321"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:53.321" endtime="20230927 20:29:53.321"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:53.325" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:53.333" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:53.333" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:53.322" endtime="20230927 20:29:53.333"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:53.335" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:53.334" endtime="20230927 20:29:53.335"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:53.335" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:53.335" endtime="20230927 20:29:53.336"/>
</kw>
<status status="PASS" starttime="20230927 20:29:53.322" endtime="20230927 20:29:53.336"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:52.472" endtime="20230927 20:29:53.336"/>
</test>
<test id="s1-s5-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:53.343" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:54.111" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:54.111" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:53.340" endtime="20230927 20:29:54.111"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:54.113" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:29:53 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:29:54.112" endtime="20230927 20:29:54.113"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:54.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:54.113" endtime="20230927 20:29:54.114"/>
</kw>
<msg timestamp="20230927 20:29:54.114" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:53.339" endtime="20230927 20:29:54.114"/>
</kw>
<msg timestamp="20230927 20:29:54.115" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:29:53.338" endtime="20230927 20:29:54.115"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:54.115" endtime="20230927 20:29:54.115"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:54.119" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:54.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:54.123" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:54.116" endtime="20230927 20:29:54.123"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:54.124" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:54.123" endtime="20230927 20:29:54.124"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:54.125" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:54.124" endtime="20230927 20:29:54.125"/>
</kw>
<msg timestamp="20230927 20:29:54.125" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:29:54.116" endtime="20230927 20:29:54.125"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:29:54.125" endtime="20230927 20:29:54.126"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:54.130" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:29:54.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:54.133" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:54.127" endtime="20230927 20:29:54.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:54.135" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:54.134" endtime="20230927 20:29:54.135"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:54.135" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:54.135" endtime="20230927 20:29:54.135"/>
</kw>
<status status="PASS" starttime="20230927 20:29:54.126" endtime="20230927 20:29:54.136"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:53.337" endtime="20230927 20:29:54.136"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:29:44.413" endtime="20230927 20:29:54.138"/>
</suite>
<suite id="s1-s6" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s6-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:57.686" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:29:57.688" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:29:57.688" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:29:57.681" endtime="20230927 20:29:57.688"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:29:57.690" level="INFO"/>
<status status="PASS" starttime="20230927 20:29:57.689" endtime="20230927 20:29:57.690"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:29:57.690" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:29:57.690" endtime="20230927 20:29:57.690"/>
</kw>
<status status="PASS" starttime="20230927 20:29:57.680" endtime="20230927 20:29:57.691"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:29:57.695" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:03.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:03.596" level="INFO">${output} = 2023-09-27 20:30:01,870 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:01,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:57.693" endtime="20230927 20:30:03.596"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:03.597" level="INFO">2023-09-27 20:30:01,870 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:01,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:30:01,982 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:30:02,305 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:30:03.596" endtime="20230927 20:30:03.597"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:03.598" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:03.597" endtime="20230927 20:30:03.598"/>
</kw>
<status status="PASS" starttime="20230927 20:29:57.692" endtime="20230927 20:30:03.598"/>
</kw>
<msg timestamp="20230927 20:30:03.599" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:29:57.692" endtime="20230927 20:30:03.600"/>
</kw>
<msg timestamp="20230927 20:30:03.600" level="INFO">${output} = 2023-09-27 20:30:01,870 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:01,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:29:57.691" endtime="20230927 20:30:03.600"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:03.600" endtime="20230927 20:30:03.601"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:03.604" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:03.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:03.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:03.602" endtime="20230927 20:30:03.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:03.609" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:03.608" endtime="20230927 20:30:03.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:03.610" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:03.609" endtime="20230927 20:30:03.610"/>
</kw>
<status status="PASS" starttime="20230927 20:30:03.601" endtime="20230927 20:30:03.611"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:29:57.679" endtime="20230927 20:30:03.611"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:03.617" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:30:03.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:03.619" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:03.614" endtime="20230927 20:30:03.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:03.620" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:03.619" endtime="20230927 20:30:03.620"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:03.621" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:03.620" endtime="20230927 20:30:03.621"/>
</kw>
<status status="PASS" starttime="20230927 20:30:03.613" endtime="20230927 20:30:03.621"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:03.626" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:09.540" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:09.540" level="INFO">${output} = 2023-09-27 20:30:07,824 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:07,988 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:30:03.623" endtime="20230927 20:30:09.540"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:09.542" level="INFO">2023-09-27 20:30:07,824 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:07,988 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:30:07,988 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:30:08,365 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:30:09.541" endtime="20230927 20:30:09.542"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:09.542" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:09.542" endtime="20230927 20:30:09.543"/>
</kw>
<status status="PASS" starttime="20230927 20:30:03.623" endtime="20230927 20:30:09.543"/>
</kw>
<msg timestamp="20230927 20:30:09.543" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:03.622" endtime="20230927 20:30:09.543"/>
</kw>
<msg timestamp="20230927 20:30:09.544" level="INFO">${output} = 2023-09-27 20:30:07,824 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:30:07,988 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:30:03.622" endtime="20230927 20:30:09.544"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:09.544" endtime="20230927 20:30:09.545"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:09.549" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:09.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:09.553" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:09.546" endtime="20230927 20:30:09.553"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:09.554" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:09.553" endtime="20230927 20:30:09.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:09.555" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:09.554" endtime="20230927 20:30:09.555"/>
</kw>
<status status="PASS" starttime="20230927 20:30:09.545" endtime="20230927 20:30:09.555"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:30:03.612" endtime="20230927 20:30:09.556"/>
</test>
<test id="s1-s6-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:09.565" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:10.270" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:10.271" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:09.562" endtime="20230927 20:30:10.271"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:10.272" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:10.271" endtime="20230927 20:30:10.272"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:10.273" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:10.272" endtime="20230927 20:30:10.273"/>
</kw>
<status status="PASS" starttime="20230927 20:30:09.561" endtime="20230927 20:30:10.273"/>
</kw>
<msg timestamp="20230927 20:30:10.273" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:09.560" endtime="20230927 20:30:10.274"/>
</kw>
<status status="PASS" starttime="20230927 20:30:09.560" endtime="20230927 20:30:10.274"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:10.279" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:10.928" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:10.928" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:10.276" endtime="20230927 20:30:10.928"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:10.933" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:10.930" endtime="20230927 20:30:10.933"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:10.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:10.934" endtime="20230927 20:30:10.935"/>
</kw>
<status status="PASS" starttime="20230927 20:30:10.275" endtime="20230927 20:30:10.935"/>
</kw>
<msg timestamp="20230927 20:30:10.936" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:10.275" endtime="20230927 20:30:10.941"/>
</kw>
<status status="PASS" starttime="20230927 20:30:10.274" endtime="20230927 20:30:10.941"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:10.952" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:11.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:11.549" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:10.945" endtime="20230927 20:30:11.549"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:11.551" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:11.550" endtime="20230927 20:30:11.551"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:11.552" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:11.551" endtime="20230927 20:30:11.552"/>
</kw>
<status status="PASS" starttime="20230927 20:30:10.945" endtime="20230927 20:30:11.552"/>
</kw>
<msg timestamp="20230927 20:30:11.552" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:10.943" endtime="20230927 20:30:11.553"/>
</kw>
<status status="PASS" starttime="20230927 20:30:10.941" endtime="20230927 20:30:11.553"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:11.558" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:12.217" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:12.217" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:11.555" endtime="20230927 20:30:12.217"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:12.218" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:12.217" endtime="20230927 20:30:12.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:12.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:12.218" endtime="20230927 20:30:12.220"/>
</kw>
<status status="PASS" starttime="20230927 20:30:11.554" endtime="20230927 20:30:12.220"/>
</kw>
<msg timestamp="20230927 20:30:12.220" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:11.554" endtime="20230927 20:30:12.221"/>
</kw>
<status status="PASS" starttime="20230927 20:30:11.553" endtime="20230927 20:30:12.221"/>
</kw>
<status status="PASS" starttime="20230927 20:30:09.560" endtime="20230927 20:30:12.221"/>
</kw>
<status status="PASS" starttime="20230927 20:30:09.559" endtime="20230927 20:30:12.221"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:30:09.558" endtime="20230927 20:30:12.221"/>
</test>
<test id="s1-s6-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:30:12.224" level="INFO">${randStr} = 0656083675</msg>
<status status="PASS" starttime="20230927 20:30:12.224" endtime="20230927 20:30:12.224"/>
</kw>
<msg timestamp="20230927 20:30:12.225" level="INFO">${random} = ozone-test-0656083675</msg>
<status status="PASS" starttime="20230927 20:30:12.223" endtime="20230927 20:30:12.225"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:12.231" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-0656083675 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:13.117" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:13.117" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-0656083675"
}</msg>
<status status="PASS" starttime="20230927 20:30:12.228" endtime="20230927 20:30:13.117"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:13.119" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-0656083675"
}</msg>
<status status="PASS" starttime="20230927 20:30:13.117" endtime="20230927 20:30:13.119"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:13.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:13.119" endtime="20230927 20:30:13.121"/>
</kw>
<status status="PASS" starttime="20230927 20:30:12.227" endtime="20230927 20:30:13.121"/>
</kw>
<msg timestamp="20230927 20:30:13.121" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:12.227" endtime="20230927 20:30:13.122"/>
</kw>
<msg timestamp="20230927 20:30:13.122" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-0656083675"
}</msg>
<status status="PASS" starttime="20230927 20:30:12.226" endtime="20230927 20:30:13.122"/>
</kw>
<msg timestamp="20230927 20:30:13.122" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-0656083675"
}</msg>
<status status="PASS" starttime="20230927 20:30:12.226" endtime="20230927 20:30:13.122"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:13.123" endtime="20230927 20:30:13.123"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:13.123" endtime="20230927 20:30:13.124"/>
</kw>
<msg timestamp="20230927 20:30:13.124" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:30:12.225" endtime="20230927 20:30:13.124"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:30:13.124" endtime="20230927 20:30:13.125"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:30:12.222" endtime="20230927 20:30:13.125"/>
</test>
<test id="s1-s6-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:13.131" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:30:13.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:13.133" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:13.128" endtime="20230927 20:30:13.134"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:13.135" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:13.134" endtime="20230927 20:30:13.135"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:13.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:13.136" endtime="20230927 20:30:13.136"/>
</kw>
<status status="PASS" starttime="20230927 20:30:13.127" endtime="20230927 20:30:13.137"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:13.142" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:14.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:14.202" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:13.139" endtime="20230927 20:30:14.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:14.204" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:14.203" endtime="20230927 20:30:14.204"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:14.205" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:14.204" endtime="20230927 20:30:14.205"/>
</kw>
<msg timestamp="20230927 20:30:14.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:13.138" endtime="20230927 20:30:14.206"/>
</kw>
<msg timestamp="20230927 20:30:14.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:13.137" endtime="20230927 20:30:14.206"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:14.206" endtime="20230927 20:30:14.207"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:14.211" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:14.215" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:14.215" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:30:14.208" endtime="20230927 20:30:14.215"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:14.217" level="INFO"/>
<status status="PASS" starttime="20230927 20:30:14.216" endtime="20230927 20:30:14.217"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:14.217" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:14.217" endtime="20230927 20:30:14.218"/>
</kw>
<status status="PASS" starttime="20230927 20:30:14.207" endtime="20230927 20:30:14.218"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:30:13.126" endtime="20230927 20:30:14.218"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:29:57.589" endtime="20230927 20:30:14.220"/>
</suite>
<suite id="s1-s7" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s7-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:30:17.865" endtime="20230927 20:30:17.866"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:30:17.866" endtime="20230927 20:30:17.867"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:30:17.872" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:30:26.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:30:26.708" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230927 20:30:17.868" endtime="20230927 20:30:26.708"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:30:26.709" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230927 20:30:26.708" endtime="20230927 20:30:26.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:30:26.710" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:30:26.710" endtime="20230927 20:30:26.710"/>
</kw>
<status status="PASS" starttime="20230927 20:30:17.867" endtime="20230927 20:30:26.711"/>
</kw>
<msg timestamp="20230927 20:30:26.711" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:30:17.867" endtime="20230927 20:30:26.712"/>
</kw>
<msg timestamp="20230927 20:30:26.712" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230927 20:30:17.867" endtime="20230927 20:30:26.712"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:30:26.713" endtime="20230927 20:30:26.714"/>
</kw>
<status status="PASS" starttime="20230927 20:30:26.713" endtime="20230927 20:30:26.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:30:17.864" endtime="20230927 20:30:26.714"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230927 20:30:17.804" endtime="20230927 20:30:26.716"/>
</suite>
<suite id="s1-s8" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s8-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:18:35.123" endtime="20230927 20:18:35.124"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:35.131" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:18:35.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:35.135" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=13b76c9dd151
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:18:35.126" endtime="20230927 20:18:35.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:35.136" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=13b76c9dd151
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:18:35.135" endtime="20230927 20:18:35.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:35.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:35.136" endtime="20230927 20:18:35.137"/>
</kw>
<status status="PASS" starttime="20230927 20:18:35.125" endtime="20230927 20:18:35.137"/>
</kw>
<msg timestamp="20230927 20:18:35.137" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:35.125" endtime="20230927 20:18:35.139"/>
</kw>
<msg timestamp="20230927 20:18:35.139" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=13b76c9dd151
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:18:35.124" endtime="20230927 20:18:35.139"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:35.140" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=13b76c9dd151
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:18:35.139" endtime="20230927 20:18:35.140"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:18:35.140" endtime="20230927 20:18:35.140"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:35.145" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:18:38.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:38.470" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:18:35.142" endtime="20230927 20:18:38.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:38.471" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:18:38.471" endtime="20230927 20:18:38.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:38.472" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:38.472" endtime="20230927 20:18:38.472"/>
</kw>
<status status="PASS" starttime="20230927 20:18:35.141" endtime="20230927 20:18:38.473"/>
</kw>
<msg timestamp="20230927 20:18:38.473" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:35.141" endtime="20230927 20:18:38.473"/>
</kw>
<msg timestamp="20230927 20:18:38.474" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:18:35.140" endtime="20230927 20:18:38.474"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:38.475" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230927 20:18:38.474" endtime="20230927 20:18:38.475"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:18:38.475" endtime="20230927 20:18:38.475"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:18:35.122" endtime="20230927 20:18:38.476"/>
</test>
<test id="s1-s8-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:18:38.479" endtime="20230927 20:18:38.479"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:18:38.480" endtime="20230927 20:18:38.480"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:38.486" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:18:42.481" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:42.481" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:18:38.482" endtime="20230927 20:18:42.481"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:42.482" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:18:42.482" endtime="20230927 20:18:42.483"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:42.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:42.483" endtime="20230927 20:18:42.483"/>
</kw>
<status status="PASS" starttime="20230927 20:18:38.481" endtime="20230927 20:18:42.484"/>
</kw>
<msg timestamp="20230927 20:18:42.484" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:38.481" endtime="20230927 20:18:42.485"/>
</kw>
<msg timestamp="20230927 20:18:42.485" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:18:38.480" endtime="20230927 20:18:42.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:42.486" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:18:42.485" endtime="20230927 20:18:42.486"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:18:42.486" endtime="20230927 20:18:42.486"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:18:38.478" endtime="20230927 20:18:42.486"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:18:35.058" endtime="20230927 20:18:42.488"/>
</suite>
<suite id="s1-s9" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s9-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:46.156" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:18:49.536" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:49.536" level="INFO">${output} = 2023-09-27 20:18:49,377 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:18:46.151" endtime="20230927 20:18:49.536"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:49.538" level="INFO">2023-09-27 20:18:49,377 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:18:49.537" endtime="20230927 20:18:49.538"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:49.539" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:49.538" endtime="20230927 20:18:49.539"/>
</kw>
<status status="PASS" starttime="20230927 20:18:46.150" endtime="20230927 20:18:49.540"/>
</kw>
<msg timestamp="20230927 20:18:49.540" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:46.150" endtime="20230927 20:18:49.543"/>
</kw>
<msg timestamp="20230927 20:18:49.545" level="INFO">${output} = 2023-09-27 20:18:49,377 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230927 20:18:46.149" endtime="20230927 20:18:49.545"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:18:49.545" endtime="20230927 20:18:49.545"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:49.554" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:18:52.895" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:52.896" level="INFO">${output} = 2023-09-27 20:18:52,797 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230927 20:18:49.551" endtime="20230927 20:18:52.896"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:52.897" level="INFO">2023-09-27 20:18:52,797 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230927 20:18:52.896" endtime="20230927 20:18:52.897"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:52.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:52.898" endtime="20230927 20:18:52.898"/>
</kw>
<status status="PASS" starttime="20230927 20:18:49.547" endtime="20230927 20:18:52.898"/>
</kw>
<msg timestamp="20230927 20:18:52.899" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:49.546" endtime="20230927 20:18:52.899"/>
</kw>
<msg timestamp="20230927 20:18:52.899" level="INFO">${output} = 2023-09-27 20:18:52,797 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230927 20:18:49.546" endtime="20230927 20:18:52.899"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:18:52.900" endtime="20230927 20:18:52.900"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:18:46.148" endtime="20230927 20:18:52.901"/>
</test>
<test id="s1-s9-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:52.906" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:18:52.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:18:52.908" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:18:52.903" endtime="20230927 20:18:52.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:18:52.909" level="INFO"/>
<status status="PASS" starttime="20230927 20:18:52.909" endtime="20230927 20:18:52.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:18:52.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:18:52.910" endtime="20230927 20:18:52.910"/>
</kw>
<status status="PASS" starttime="20230927 20:18:52.902" endtime="20230927 20:18:52.910"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:18:52.915" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:00.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:00.403" level="INFO">${output} = 2023-09-27 20:18:57,382 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:18:57,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:18:52.913" endtime="20230927 20:19:00.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:00.404" level="INFO">2023-09-27 20:18:57,382 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:18:57,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:18:57,581 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:18:57,966 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:19:00.403" endtime="20230927 20:19:00.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:00.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:00.405" endtime="20230927 20:19:00.405"/>
</kw>
<status status="PASS" starttime="20230927 20:18:52.912" endtime="20230927 20:19:00.406"/>
</kw>
<msg timestamp="20230927 20:19:00.407" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:18:52.912" endtime="20230927 20:19:00.407"/>
</kw>
<msg timestamp="20230927 20:19:00.407" level="INFO">${output} = 2023-09-27 20:18:57,382 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:18:57,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:18:52.911" endtime="20230927 20:19:00.408"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:00.408" endtime="20230927 20:19:00.408"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:00.411" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:00.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:00.414" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:00.409" endtime="20230927 20:19:00.414"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:00.416" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:00.415" endtime="20230927 20:19:00.416"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:00.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:00.416" endtime="20230927 20:19:00.417"/>
</kw>
<status status="PASS" starttime="20230927 20:19:00.408" endtime="20230927 20:19:00.417"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:18:52.901" endtime="20230927 20:19:00.418"/>
</test>
<test id="s1-s9-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:00.423" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:03.592" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:03.592" level="INFO">${output} = 2023-09-27 20:19:03,534 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230927 20:19:00.421" endtime="20230927 20:19:03.592"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:03.594" level="INFO">2023-09-27 20:19:03,534 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230927 20:19:03.593" endtime="20230927 20:19:03.594"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:03.594" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:03.594" endtime="20230927 20:19:03.595"/>
</kw>
<status status="PASS" starttime="20230927 20:19:00.420" endtime="20230927 20:19:03.595"/>
</kw>
<msg timestamp="20230927 20:19:03.595" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:00.420" endtime="20230927 20:19:03.595"/>
</kw>
<msg timestamp="20230927 20:19:03.596" level="INFO">${output} = 2023-09-27 20:19:03,534 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230927 20:19:00.419" endtime="20230927 20:19:03.596"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:03.596" endtime="20230927 20:19:03.597"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:00.418" endtime="20230927 20:19:03.597"/>
</test>
<test id="s1-s9-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:03.603" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:19:03.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:03.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:03.600" endtime="20230927 20:19:03.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:03.606" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:03.605" endtime="20230927 20:19:03.606"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:03.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:03.606" endtime="20230927 20:19:03.607"/>
</kw>
<status status="PASS" starttime="20230927 20:19:03.599" endtime="20230927 20:19:03.607"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:03.612" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:09.930" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:09.930" level="INFO">${output} = 2023-09-27 20:19:07,959 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:08,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:19:03.610" endtime="20230927 20:19:09.930"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:09.932" level="INFO">2023-09-27 20:19:07,959 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:08,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:19:08,062 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-27 20:19:08,393 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230927 20:19:09.931" endtime="20230927 20:19:09.932"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:09.933" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:09.932" endtime="20230927 20:19:09.933"/>
</kw>
<status status="PASS" starttime="20230927 20:19:03.609" endtime="20230927 20:19:09.933"/>
</kw>
<msg timestamp="20230927 20:19:09.933" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:03.608" endtime="20230927 20:19:09.934"/>
</kw>
<msg timestamp="20230927 20:19:09.934" level="INFO">${output} = 2023-09-27 20:19:07,959 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:08,062 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:19:03.608" endtime="20230927 20:19:09.934"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:09.934" endtime="20230927 20:19:09.935"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:09.938" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:09.942" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:09.942" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:09.935" endtime="20230927 20:19:09.942"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:09.944" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:09.943" endtime="20230927 20:19:09.944"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:09.945" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:09.944" endtime="20230927 20:19:09.945"/>
</kw>
<status status="PASS" starttime="20230927 20:19:09.935" endtime="20230927 20:19:09.945"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:03.598" endtime="20230927 20:19:09.945"/>
</test>
<test id="s1-s9-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:09.953" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:10.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:10.867" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:09.950" endtime="20230927 20:19:10.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:10.869" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:10.868" endtime="20230927 20:19:10.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:10.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:10.869" endtime="20230927 20:19:10.869"/>
</kw>
<status status="PASS" starttime="20230927 20:19:09.950" endtime="20230927 20:19:10.870"/>
</kw>
<msg timestamp="20230927 20:19:10.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:09.949" endtime="20230927 20:19:10.870"/>
</kw>
<status status="PASS" starttime="20230927 20:19:09.949" endtime="20230927 20:19:10.871"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:10.876" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:11.526" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:11.526" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:10.872" endtime="20230927 20:19:11.526"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:11.528" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:11.527" endtime="20230927 20:19:11.528"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:11.529" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:11.528" endtime="20230927 20:19:11.529"/>
</kw>
<status status="PASS" starttime="20230927 20:19:10.872" endtime="20230927 20:19:11.529"/>
</kw>
<msg timestamp="20230927 20:19:11.529" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:10.871" endtime="20230927 20:19:11.530"/>
</kw>
<status status="PASS" starttime="20230927 20:19:10.871" endtime="20230927 20:19:11.530"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:11.535" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:12.204" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:12.204" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:11.532" endtime="20230927 20:19:12.204"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:12.207" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:12.205" endtime="20230927 20:19:12.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:12.207" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:12.207" endtime="20230927 20:19:12.208"/>
</kw>
<status status="PASS" starttime="20230927 20:19:11.531" endtime="20230927 20:19:12.208"/>
</kw>
<msg timestamp="20230927 20:19:12.208" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:11.531" endtime="20230927 20:19:12.209"/>
</kw>
<status status="PASS" starttime="20230927 20:19:11.530" endtime="20230927 20:19:12.209"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:12.213" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:12.827" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:12.828" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:12.210" endtime="20230927 20:19:12.828"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:12.829" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:12.828" endtime="20230927 20:19:12.829"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:12.830" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:12.829" endtime="20230927 20:19:12.830"/>
</kw>
<status status="PASS" starttime="20230927 20:19:12.210" endtime="20230927 20:19:12.830"/>
</kw>
<msg timestamp="20230927 20:19:12.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:12.209" endtime="20230927 20:19:12.831"/>
</kw>
<status status="PASS" starttime="20230927 20:19:12.209" endtime="20230927 20:19:12.831"/>
</kw>
<status status="PASS" starttime="20230927 20:19:09.948" endtime="20230927 20:19:12.831"/>
</kw>
<status status="PASS" starttime="20230927 20:19:09.948" endtime="20230927 20:19:12.831"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:09.947" endtime="20230927 20:19:12.832"/>
</test>
<test id="s1-s9-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:19:12.836" level="INFO">${randStr} = 6041305925</msg>
<status status="PASS" starttime="20230927 20:19:12.835" endtime="20230927 20:19:12.836"/>
</kw>
<msg timestamp="20230927 20:19:12.836" level="INFO">${random} = ozone-test-6041305925</msg>
<status status="PASS" starttime="20230927 20:19:12.834" endtime="20230927 20:19:12.836"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:12.842" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-6041305925 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:15.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:15.090" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-6041305925"
}</msg>
<status status="PASS" starttime="20230927 20:19:12.839" endtime="20230927 20:19:15.091"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:15.093" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-6041305925"
}</msg>
<status status="PASS" starttime="20230927 20:19:15.091" endtime="20230927 20:19:15.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:15.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:15.093" endtime="20230927 20:19:15.094"/>
</kw>
<status status="PASS" starttime="20230927 20:19:12.838" endtime="20230927 20:19:15.094"/>
</kw>
<msg timestamp="20230927 20:19:15.094" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:12.838" endtime="20230927 20:19:15.095"/>
</kw>
<msg timestamp="20230927 20:19:15.095" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-6041305925"
}</msg>
<status status="PASS" starttime="20230927 20:19:12.837" endtime="20230927 20:19:15.095"/>
</kw>
<msg timestamp="20230927 20:19:15.095" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-6041305925"
}</msg>
<status status="PASS" starttime="20230927 20:19:12.837" endtime="20230927 20:19:15.095"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:15.096" endtime="20230927 20:19:15.096"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:15.096" endtime="20230927 20:19:15.097"/>
</kw>
<msg timestamp="20230927 20:19:15.097" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:19:12.836" endtime="20230927 20:19:15.097"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:19:15.097" endtime="20230927 20:19:15.098"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:12.833" endtime="20230927 20:19:15.098"/>
</test>
<test id="s1-s9-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:15.104" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:19:15.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:15.106" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:15.101" endtime="20230927 20:19:15.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:15.107" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:15.106" endtime="20230927 20:19:15.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:15.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:15.107" endtime="20230927 20:19:15.108"/>
</kw>
<status status="PASS" starttime="20230927 20:19:15.100" endtime="20230927 20:19:15.108"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:15.113" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:17.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:17.310" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:15.110" endtime="20230927 20:19:17.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:17.311" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:17.310" endtime="20230927 20:19:17.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:17.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:17.312" endtime="20230927 20:19:17.312"/>
</kw>
<msg timestamp="20230927 20:19:17.313" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:15.109" endtime="20230927 20:19:17.313"/>
</kw>
<msg timestamp="20230927 20:19:17.313" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:15.108" endtime="20230927 20:19:17.313"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:17.313" endtime="20230927 20:19:17.314"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:17.317" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:17.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:17.320" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:17.315" endtime="20230927 20:19:17.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:17.322" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:17.321" endtime="20230927 20:19:17.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:17.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:17.322" endtime="20230927 20:19:17.323"/>
</kw>
<status status="PASS" starttime="20230927 20:19:17.314" endtime="20230927 20:19:17.323"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:15.099" endtime="20230927 20:19:17.323"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:18:46.051" endtime="20230927 20:19:17.325"/>
</suite>
<suite id="s1-s10" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s10-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:19:21.019" level="INFO">${random} = 38856</msg>
<status status="PASS" starttime="20230927 20:19:21.018" endtime="20230927 20:19:21.019"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:21.027" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-38856 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:26.401" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:26.401" level="INFO">${output} = 2023-09-27 20:19:24,945 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:25,040 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:19:21.022" endtime="20230927 20:19:26.401"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:26.402" level="INFO">2023-09-27 20:19:24,945 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:25,040 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-27 20:19:25,040 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230927 20:19:26.401" endtime="20230927 20:19:26.402"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:26.403" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:26.403" endtime="20230927 20:19:26.403"/>
</kw>
<status status="PASS" starttime="20230927 20:19:21.021" endtime="20230927 20:19:26.403"/>
</kw>
<msg timestamp="20230927 20:19:26.404" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:21.020" endtime="20230927 20:19:26.405"/>
</kw>
<msg timestamp="20230927 20:19:26.405" level="INFO">${output} = 2023-09-27 20:19:24,945 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-27 20:19:25,040 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230927 20:19:21.019" endtime="20230927 20:19:26.405"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:26.405" endtime="20230927 20:19:26.406"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:26.409" level="INFO">Running command 'cat /tmp/key-38856 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:26.412" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:26.412" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:26.407" endtime="20230927 20:19:26.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:26.413" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:26.412" endtime="20230927 20:19:26.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:26.414" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:26.413" endtime="20230927 20:19:26.414"/>
</kw>
<msg timestamp="20230927 20:19:26.414" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:26.406" endtime="20230927 20:19:26.414"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:26.414" endtime="20230927 20:19:26.415"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:26.418" level="INFO">Running command 'rm /tmp/key-38856 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:26.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:26.421" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:26.416" endtime="20230927 20:19:26.421"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:26.422" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:26.422" endtime="20230927 20:19:26.423"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:26.423" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:26.423" endtime="20230927 20:19:26.423"/>
</kw>
<status status="PASS" starttime="20230927 20:19:26.415" endtime="20230927 20:19:26.424"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:21.017" endtime="20230927 20:19:26.424"/>
</test>
<test id="s1-s10-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:26.432" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:27.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:27.027" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:26.430" endtime="20230927 20:19:27.027"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:27.028" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:27.027" endtime="20230927 20:19:27.028"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:27.029" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:27.029" endtime="20230927 20:19:27.029"/>
</kw>
<status status="PASS" starttime="20230927 20:19:26.429" endtime="20230927 20:19:27.030"/>
</kw>
<msg timestamp="20230927 20:19:27.030" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:26.429" endtime="20230927 20:19:27.030"/>
</kw>
<status status="PASS" starttime="20230927 20:19:26.428" endtime="20230927 20:19:27.030"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:27.035" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:27.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:27.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:27.032" endtime="20230927 20:19:27.635"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:27.636" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:27.635" endtime="20230927 20:19:27.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:27.637" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:27.636" endtime="20230927 20:19:27.637"/>
</kw>
<status status="PASS" starttime="20230927 20:19:27.031" endtime="20230927 20:19:27.638"/>
</kw>
<msg timestamp="20230927 20:19:27.638" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:27.031" endtime="20230927 20:19:27.638"/>
</kw>
<status status="PASS" starttime="20230927 20:19:27.031" endtime="20230927 20:19:27.639"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:27.643" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:28.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:28.272" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:27.640" endtime="20230927 20:19:28.272"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:28.273" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:28.272" endtime="20230927 20:19:28.273"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:28.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:28.273" endtime="20230927 20:19:28.274"/>
</kw>
<status status="PASS" starttime="20230927 20:19:27.640" endtime="20230927 20:19:28.274"/>
</kw>
<msg timestamp="20230927 20:19:28.274" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:27.639" endtime="20230927 20:19:28.275"/>
</kw>
<status status="PASS" starttime="20230927 20:19:27.639" endtime="20230927 20:19:28.275"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:28.280" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:28.925" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:28.925" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:28.277" endtime="20230927 20:19:28.925"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:28.927" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:28.926" endtime="20230927 20:19:28.927"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:28.928" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:28.927" endtime="20230927 20:19:28.928"/>
</kw>
<status status="PASS" starttime="20230927 20:19:28.276" endtime="20230927 20:19:28.928"/>
</kw>
<msg timestamp="20230927 20:19:28.928" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:28.276" endtime="20230927 20:19:28.929"/>
</kw>
<status status="PASS" starttime="20230927 20:19:28.275" endtime="20230927 20:19:28.929"/>
</kw>
<status status="PASS" starttime="20230927 20:19:26.427" endtime="20230927 20:19:28.929"/>
</kw>
<status status="PASS" starttime="20230927 20:19:26.427" endtime="20230927 20:19:28.929"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:26.426" endtime="20230927 20:19:28.929"/>
</test>
<test id="s1-s10-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:28.935" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:29.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:29.913" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:28.932" endtime="20230927 20:19:29.914"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:29.915" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:19:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:19:29.914" endtime="20230927 20:19:29.915"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:29.916" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:29.915" endtime="20230927 20:19:29.916"/>
</kw>
<msg timestamp="20230927 20:19:29.916" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:28.932" endtime="20230927 20:19:29.917"/>
</kw>
<msg timestamp="20230927 20:19:29.917" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:28.931" endtime="20230927 20:19:29.917"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:29.917" endtime="20230927 20:19:29.917"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:29.921" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:29.925" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:29.925" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:29.918" endtime="20230927 20:19:29.925"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:29.927" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:29.926" endtime="20230927 20:19:29.927"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:29.928" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:29.927" endtime="20230927 20:19:29.928"/>
</kw>
<msg timestamp="20230927 20:19:29.928" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:19:29.918" endtime="20230927 20:19:29.929"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:29.929" endtime="20230927 20:19:29.929"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:29.933" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:29.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:29.936" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:29.930" endtime="20230927 20:19:29.936"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:29.937" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:29.936" endtime="20230927 20:19:29.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:29.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:29.938" endtime="20230927 20:19:29.938"/>
</kw>
<status status="PASS" starttime="20230927 20:19:29.929" endtime="20230927 20:19:29.939"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:28.930" endtime="20230927 20:19:29.939"/>
</test>
<test id="s1-s10-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:29.946" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:30.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:30.757" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:29.943" endtime="20230927 20:19:30.757"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:30.759" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:19:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:19:30.758" endtime="20230927 20:19:30.759"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:30.760" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:30.759" endtime="20230927 20:19:30.760"/>
</kw>
<msg timestamp="20230927 20:19:30.760" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:29.942" endtime="20230927 20:19:30.760"/>
</kw>
<msg timestamp="20230927 20:19:30.761" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:19:29.941" endtime="20230927 20:19:30.761"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:30.761" endtime="20230927 20:19:30.761"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:30.765" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:30.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:30.768" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:19:30.762" endtime="20230927 20:19:30.768"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:30.769" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:19:30.768" endtime="20230927 20:19:30.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:30.770" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:30.769" endtime="20230927 20:19:30.770"/>
</kw>
<msg timestamp="20230927 20:19:30.770" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:19:30.762" endtime="20230927 20:19:30.770"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:30.771" endtime="20230927 20:19:30.771"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:30.775" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:30.778" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:30.778" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:19:30.772" endtime="20230927 20:19:30.778"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:30.779" level="INFO"/>
<status status="PASS" starttime="20230927 20:19:30.779" endtime="20230927 20:19:30.779"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:30.780" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:30.780" endtime="20230927 20:19:30.780"/>
</kw>
<status status="PASS" starttime="20230927 20:19:30.771" endtime="20230927 20:19:30.781"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:29.940" endtime="20230927 20:19:30.781"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:19:20.902" endtime="20230927 20:19:30.783"/>
</suite>
<suite id="s1-s11" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s11-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:19:34.540" endtime="20230927 20:19:34.541"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:19:34.541" endtime="20230927 20:19:34.541"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:19:34.548" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:19:43.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:19:43.105" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230927 20:19:34.543" endtime="20230927 20:19:43.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:19:43.106" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230927 20:19:43.106" endtime="20230927 20:19:43.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:19:43.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:19:43.107" endtime="20230927 20:19:43.108"/>
</kw>
<status status="PASS" starttime="20230927 20:19:34.542" endtime="20230927 20:19:43.108"/>
</kw>
<msg timestamp="20230927 20:19:43.108" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:19:34.542" endtime="20230927 20:19:43.110"/>
</kw>
<msg timestamp="20230927 20:19:43.110" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230927 20:19:34.542" endtime="20230927 20:19:43.110"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:19:43.111" endtime="20230927 20:19:43.111"/>
</kw>
<status status="PASS" starttime="20230927 20:19:43.110" endtime="20230927 20:19:43.111"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:19:34.539" endtime="20230927 20:19:43.111"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230927 20:19:34.480" endtime="20230927 20:19:43.113"/>
</suite>
<suite id="s1-s12" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s12-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:33:27.373" endtime="20230927 20:33:27.374"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:33:27.379" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:04.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:04.558" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230927 20:33:27.376" endtime="20230927 20:35:04.558"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:04.560" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230927 20:35:04.559" endtime="20230927 20:35:04.560"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:04.561" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:04.560" endtime="20230927 20:35:04.561"/>
</kw>
<status status="PASS" starttime="20230927 20:33:27.375" endtime="20230927 20:35:04.562"/>
</kw>
<msg timestamp="20230927 20:35:04.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:33:27.374" endtime="20230927 20:35:04.562"/>
</kw>
<msg timestamp="20230927 20:35:04.562" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230927 20:33:27.374" endtime="20230927 20:35:04.562"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:04.563" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230927 20:35:04.562" endtime="20230927 20:35:04.563"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:33:27.372" endtime="20230927 20:35:04.563"/>
</test>
<test id="s1-s12-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:35:04.566" endtime="20230927 20:35:04.567"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:04.573" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:11.915" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:11.915" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230927 20:35:04.569" endtime="20230927 20:35:11.916"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:11.918" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230927 20:35:11.917" endtime="20230927 20:35:11.918"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:11.919" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:11.918" endtime="20230927 20:35:11.919"/>
</kw>
<status status="PASS" starttime="20230927 20:35:04.568" endtime="20230927 20:35:11.920"/>
</kw>
<msg timestamp="20230927 20:35:11.920" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:04.568" endtime="20230927 20:35:11.920"/>
</kw>
<msg timestamp="20230927 20:35:11.921" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230927 20:35:04.567" endtime="20230927 20:35:11.921"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:11.921" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230927 20:35:11.921" endtime="20230927 20:35:11.922"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:35:04.565" endtime="20230927 20:35:11.922"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:33:27.295" endtime="20230927 20:35:11.926"/>
</suite>
<suite id="s1-s13" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s13-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:35:16.710" endtime="20230927 20:35:16.711"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:16.720" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:16.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:16.725" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:35:16.716" endtime="20230927 20:35:16.725"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:16.726" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:35:16.725" endtime="20230927 20:35:16.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:16.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:16.727" endtime="20230927 20:35:16.727"/>
</kw>
<status status="PASS" starttime="20230927 20:35:16.716" endtime="20230927 20:35:16.727"/>
</kw>
<msg timestamp="20230927 20:35:16.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:16.715" endtime="20230927 20:35:16.728"/>
</kw>
<msg timestamp="20230927 20:35:16.728" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:35:16.714" endtime="20230927 20:35:16.728"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:16.729" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:35:16.728" endtime="20230927 20:35:16.729"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:35:16.729" endtime="20230927 20:35:16.730"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:16.735" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:22.283" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:22.283" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:16.731" endtime="20230927 20:35:22.284"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:22.286" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:22.284" endtime="20230927 20:35:22.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:22.287" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:22.286" endtime="20230927 20:35:22.287"/>
</kw>
<status status="PASS" starttime="20230927 20:35:16.731" endtime="20230927 20:35:22.287"/>
</kw>
<msg timestamp="20230927 20:35:22.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:16.730" endtime="20230927 20:35:22.287"/>
</kw>
<msg timestamp="20230927 20:35:22.288" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:16.730" endtime="20230927 20:35:22.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:22.289" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:22.288" endtime="20230927 20:35:22.289"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:35:22.289" endtime="20230927 20:35:22.290"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:35:16.708" endtime="20230927 20:35:22.290"/>
</test>
<test id="s1-s13-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:35:22.294" endtime="20230927 20:35:22.294"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:35:22.294" endtime="20230927 20:35:22.295"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:22.300" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:27.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:27.531" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:22.297" endtime="20230927 20:35:27.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:27.533" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:27.532" endtime="20230927 20:35:27.533"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:27.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:27.534" endtime="20230927 20:35:27.534"/>
</kw>
<status status="PASS" starttime="20230927 20:35:22.296" endtime="20230927 20:35:27.535"/>
</kw>
<msg timestamp="20230927 20:35:27.535" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:22.296" endtime="20230927 20:35:27.535"/>
</kw>
<msg timestamp="20230927 20:35:27.535" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:22.295" endtime="20230927 20:35:27.535"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:27.536" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:35:27.536" endtime="20230927 20:35:27.536"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:35:27.537" endtime="20230927 20:35:27.537"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:35:22.292" endtime="20230927 20:35:27.538"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:35:16.622" endtime="20230927 20:35:27.540"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:35:31.651" level="INFO">${random} = 15009</msg>
<status status="PASS" starttime="20230927 20:35:31.649" endtime="20230927 20:35:31.651"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:31.658" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-15009 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:40.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:40.821" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:31.653" endtime="20230927 20:35:40.821"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:40.822" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:40.822" endtime="20230927 20:35:40.822"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:40.823" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:40.823" endtime="20230927 20:35:40.823"/>
</kw>
<status status="PASS" starttime="20230927 20:35:31.653" endtime="20230927 20:35:40.823"/>
</kw>
<msg timestamp="20230927 20:35:40.823" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:31.652" endtime="20230927 20:35:40.824"/>
</kw>
<msg timestamp="20230927 20:35:40.824" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:31.651" endtime="20230927 20:35:40.824"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:40.824" endtime="20230927 20:35:40.829"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:40.835" level="INFO">Running command 'cat /tmp/key-15009 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:40.840" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:40.840" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:40.830" endtime="20230927 20:35:40.840"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:40.842" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:40.841" endtime="20230927 20:35:40.842"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:40.842" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:40.842" endtime="20230927 20:35:40.842"/>
</kw>
<msg timestamp="20230927 20:35:40.843" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:40.829" endtime="20230927 20:35:40.843"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:40.843" endtime="20230927 20:35:40.843"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:40.848" level="INFO">Running command 'rm /tmp/key-15009 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:40.852" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:40.852" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:40.844" endtime="20230927 20:35:40.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:40.853" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:40.852" endtime="20230927 20:35:40.853"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:40.854" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:40.853" endtime="20230927 20:35:40.854"/>
</kw>
<status status="PASS" starttime="20230927 20:35:40.844" endtime="20230927 20:35:40.855"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:35:31.648" endtime="20230927 20:35:40.855"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:40.863" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:42.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:42.114" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:40.860" endtime="20230927 20:35:42.114"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:42.116" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:42.115" endtime="20230927 20:35:42.117"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:42.118" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:42.117" endtime="20230927 20:35:42.118"/>
</kw>
<status status="PASS" starttime="20230927 20:35:40.860" endtime="20230927 20:35:42.118"/>
</kw>
<msg timestamp="20230927 20:35:42.118" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:40.859" endtime="20230927 20:35:42.118"/>
</kw>
<status status="PASS" starttime="20230927 20:35:40.858" endtime="20230927 20:35:42.119"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:42.124" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:42.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:42.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:42.121" endtime="20230927 20:35:42.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:42.833" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:42.832" endtime="20230927 20:35:42.833"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:42.834" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:42.833" endtime="20230927 20:35:42.834"/>
</kw>
<status status="PASS" starttime="20230927 20:35:42.120" endtime="20230927 20:35:42.835"/>
</kw>
<msg timestamp="20230927 20:35:42.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:42.120" endtime="20230927 20:35:42.835"/>
</kw>
<status status="PASS" starttime="20230927 20:35:42.119" endtime="20230927 20:35:42.835"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:42.841" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:43.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:43.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:42.837" endtime="20230927 20:35:43.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:43.697" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:43.696" endtime="20230927 20:35:43.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:43.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:43.698" endtime="20230927 20:35:43.698"/>
</kw>
<status status="PASS" starttime="20230927 20:35:42.836" endtime="20230927 20:35:43.699"/>
</kw>
<msg timestamp="20230927 20:35:43.699" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:42.836" endtime="20230927 20:35:43.699"/>
</kw>
<status status="PASS" starttime="20230927 20:35:42.835" endtime="20230927 20:35:43.699"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:43.705" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:44.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:44.494" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:43.701" endtime="20230927 20:35:44.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:44.495" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:44.495" endtime="20230927 20:35:44.495"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:44.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:44.496" endtime="20230927 20:35:44.496"/>
</kw>
<status status="PASS" starttime="20230927 20:35:43.700" endtime="20230927 20:35:44.497"/>
</kw>
<msg timestamp="20230927 20:35:44.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:43.700" endtime="20230927 20:35:44.497"/>
</kw>
<status status="PASS" starttime="20230927 20:35:43.699" endtime="20230927 20:35:44.497"/>
</kw>
<status status="PASS" starttime="20230927 20:35:40.858" endtime="20230927 20:35:44.497"/>
</kw>
<status status="PASS" starttime="20230927 20:35:40.857" endtime="20230927 20:35:44.497"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:35:40.856" endtime="20230927 20:35:44.498"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:44.505" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:51.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:51.905" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:44.501" endtime="20230927 20:35:51.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:51.907" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:35:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:35:51.906" endtime="20230927 20:35:51.908"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:51.908" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:51.908" endtime="20230927 20:35:51.909"/>
</kw>
<msg timestamp="20230927 20:35:51.909" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:44.501" endtime="20230927 20:35:51.909"/>
</kw>
<msg timestamp="20230927 20:35:51.910" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:44.500" endtime="20230927 20:35:51.910"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:51.910" endtime="20230927 20:35:51.911"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:51.915" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:51.918" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:51.918" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:51.911" endtime="20230927 20:35:51.918"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:51.921" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:51.919" endtime="20230927 20:35:51.921"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:51.922" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:51.921" endtime="20230927 20:35:51.922"/>
</kw>
<msg timestamp="20230927 20:35:51.923" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:35:51.911" endtime="20230927 20:35:51.923"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:51.923" endtime="20230927 20:35:51.924"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:51.929" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:51.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:51.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:51.925" endtime="20230927 20:35:51.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:51.935" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:51.934" endtime="20230927 20:35:51.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:51.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:51.935" endtime="20230927 20:35:51.937"/>
</kw>
<status status="PASS" starttime="20230927 20:35:51.924" endtime="20230927 20:35:51.937"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:35:44.499" endtime="20230927 20:35:51.937"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:51.945" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:53.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:53.193" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:51.941" endtime="20230927 20:35:53.193"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:53.197" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:35:52 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:35:53.194" endtime="20230927 20:35:53.197"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:53.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:53.197" endtime="20230927 20:35:53.201"/>
</kw>
<msg timestamp="20230927 20:35:53.201" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:51.940" endtime="20230927 20:35:53.201"/>
</kw>
<msg timestamp="20230927 20:35:53.201" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:30:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:35:51.940" endtime="20230927 20:35:53.201"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:53.202" endtime="20230927 20:35:53.206"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:53.211" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:53.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:53.216" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:35:53.207" endtime="20230927 20:35:53.216"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:53.221" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:35:53.216" endtime="20230927 20:35:53.221"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:53.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:53.222" endtime="20230927 20:35:53.222"/>
</kw>
<msg timestamp="20230927 20:35:53.223" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:35:53.206" endtime="20230927 20:35:53.223"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:35:53.223" endtime="20230927 20:35:53.225"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:53.230" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:35:53.234" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:35:53.235" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:53.226" endtime="20230927 20:35:53.235"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:35:53.236" level="INFO"/>
<status status="PASS" starttime="20230927 20:35:53.235" endtime="20230927 20:35:53.236"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:35:53.238" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:35:53.237" endtime="20230927 20:35:53.238"/>
</kw>
<status status="PASS" starttime="20230927 20:35:53.225" endtime="20230927 20:35:53.238"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:35:51.938" endtime="20230927 20:35:53.238"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:35:31.443" endtime="20230927 20:35:53.241"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:35:57.307" level="INFO">${random} = 19440</msg>
<status status="PASS" starttime="20230927 20:35:57.306" endtime="20230927 20:35:57.307"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:35:57.313" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-19440 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:05.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:05.424" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:57.309" endtime="20230927 20:36:05.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:05.426" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:05.425" endtime="20230927 20:36:05.426"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:05.427" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:05.426" endtime="20230927 20:36:05.427"/>
</kw>
<status status="PASS" starttime="20230927 20:35:57.308" endtime="20230927 20:36:05.427"/>
</kw>
<msg timestamp="20230927 20:36:05.427" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:35:57.308" endtime="20230927 20:36:05.427"/>
</kw>
<msg timestamp="20230927 20:36:05.427" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:35:57.307" endtime="20230927 20:36:05.428"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:05.428" endtime="20230927 20:36:05.428"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:05.434" level="INFO">Running command 'cat /tmp/key-19440 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:05.441" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:05.441" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:05.430" endtime="20230927 20:36:05.441"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:05.443" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:05.442" endtime="20230927 20:36:05.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:05.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:05.443" endtime="20230927 20:36:05.444"/>
</kw>
<msg timestamp="20230927 20:36:05.444" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:05.429" endtime="20230927 20:36:05.444"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:05.444" endtime="20230927 20:36:05.445"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:05.450" level="INFO">Running command 'rm /tmp/key-19440 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:05.453" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:05.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:05.446" endtime="20230927 20:36:05.454"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:05.455" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:05.454" endtime="20230927 20:36:05.455"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:05.456" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:05.456" endtime="20230927 20:36:05.456"/>
</kw>
<status status="PASS" starttime="20230927 20:36:05.445" endtime="20230927 20:36:05.457"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:35:57.305" endtime="20230927 20:36:05.457"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:05.467" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:06.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:06.222" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:05.463" endtime="20230927 20:36:06.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:06.224" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:06.223" endtime="20230927 20:36:06.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:06.225" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:06.224" endtime="20230927 20:36:06.225"/>
</kw>
<status status="PASS" starttime="20230927 20:36:05.463" endtime="20230927 20:36:06.226"/>
</kw>
<msg timestamp="20230927 20:36:06.226" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:05.462" endtime="20230927 20:36:06.226"/>
</kw>
<status status="PASS" starttime="20230927 20:36:05.462" endtime="20230927 20:36:06.226"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:06.232" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:06.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:06.972" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:06.229" endtime="20230927 20:36:06.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:06.974" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:06.973" endtime="20230927 20:36:06.974"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:06.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:06.974" endtime="20230927 20:36:06.975"/>
</kw>
<status status="PASS" starttime="20230927 20:36:06.228" endtime="20230927 20:36:06.975"/>
</kw>
<msg timestamp="20230927 20:36:06.975" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:06.227" endtime="20230927 20:36:06.975"/>
</kw>
<status status="PASS" starttime="20230927 20:36:06.226" endtime="20230927 20:36:06.975"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:06.981" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:07.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:07.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:06.977" endtime="20230927 20:36:07.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:07.696" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:07.695" endtime="20230927 20:36:07.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:07.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:07.697" endtime="20230927 20:36:07.697"/>
</kw>
<status status="PASS" starttime="20230927 20:36:06.976" endtime="20230927 20:36:07.698"/>
</kw>
<msg timestamp="20230927 20:36:07.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:06.976" endtime="20230927 20:36:07.698"/>
</kw>
<status status="PASS" starttime="20230927 20:36:06.975" endtime="20230927 20:36:07.698"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:07.704" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:08.562" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:08.562" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:07.700" endtime="20230927 20:36:08.562"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:08.564" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:08.563" endtime="20230927 20:36:08.564"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:08.565" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:08.565" endtime="20230927 20:36:08.566"/>
</kw>
<status status="PASS" starttime="20230927 20:36:07.699" endtime="20230927 20:36:08.566"/>
</kw>
<msg timestamp="20230927 20:36:08.566" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:07.699" endtime="20230927 20:36:08.566"/>
</kw>
<status status="PASS" starttime="20230927 20:36:07.698" endtime="20230927 20:36:08.566"/>
</kw>
<status status="PASS" starttime="20230927 20:36:05.461" endtime="20230927 20:36:08.566"/>
</kw>
<status status="PASS" starttime="20230927 20:36:05.461" endtime="20230927 20:36:08.566"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:05.459" endtime="20230927 20:36:08.567"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:08.574" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:09.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:09.577" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:08.570" endtime="20230927 20:36:09.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:09.579" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:36:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:36:09.578" endtime="20230927 20:36:09.579"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:09.580" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:09.579" endtime="20230927 20:36:09.580"/>
</kw>
<msg timestamp="20230927 20:36:09.581" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:08.570" endtime="20230927 20:36:09.581"/>
</kw>
<msg timestamp="20230927 20:36:09.581" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:08.569" endtime="20230927 20:36:09.581"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:09.581" endtime="20230927 20:36:09.582"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:09.587" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:09.590" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:09.590" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:09.583" endtime="20230927 20:36:09.590"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:09.592" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:09.591" endtime="20230927 20:36:09.592"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:09.593" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:09.592" endtime="20230927 20:36:09.593"/>
</kw>
<msg timestamp="20230927 20:36:09.593" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:09.582" endtime="20230927 20:36:09.593"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:09.594" endtime="20230927 20:36:09.594"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:09.599" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:09.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:09.604" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:09.595" endtime="20230927 20:36:09.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:09.607" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:09.605" endtime="20230927 20:36:09.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:09.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:09.607" endtime="20230927 20:36:09.608"/>
</kw>
<status status="PASS" starttime="20230927 20:36:09.595" endtime="20230927 20:36:09.609"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:08.568" endtime="20230927 20:36:09.609"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:09.617" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:10.576" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:10.576" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:09.613" endtime="20230927 20:36:10.576"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:10.578" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:36:10 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:36:10.577" endtime="20230927 20:36:10.578"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:10.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:10.579" endtime="20230927 20:36:10.579"/>
</kw>
<msg timestamp="20230927 20:36:10.580" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:09.612" endtime="20230927 20:36:10.580"/>
</kw>
<msg timestamp="20230927 20:36:10.580" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:09.612" endtime="20230927 20:36:10.580"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:10.580" endtime="20230927 20:36:10.581"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:10.585" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:10.592" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:10.593" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:10.582" endtime="20230927 20:36:10.593"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:10.594" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:10.593" endtime="20230927 20:36:10.594"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:10.595" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:10.594" endtime="20230927 20:36:10.595"/>
</kw>
<msg timestamp="20230927 20:36:10.595" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:10.581" endtime="20230927 20:36:10.595"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:10.596" endtime="20230927 20:36:10.596"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:10.600" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:10.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:10.603" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:10.597" endtime="20230927 20:36:10.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:10.605" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:10.604" endtime="20230927 20:36:10.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:10.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:10.605" endtime="20230927 20:36:10.606"/>
</kw>
<status status="PASS" starttime="20230927 20:36:10.596" endtime="20230927 20:36:10.606"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:09.611" endtime="20230927 20:36:10.606"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:35:57.198" endtime="20230927 20:36:10.608"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:36:14.825" level="INFO">${random} = 33735</msg>
<status status="PASS" starttime="20230927 20:36:14.824" endtime="20230927 20:36:14.825"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:14.831" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-33735 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:23.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:23.027" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:14.827" endtime="20230927 20:36:23.027"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:23.029" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:23.027" endtime="20230927 20:36:23.029"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:23.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:23.029" endtime="20230927 20:36:23.030"/>
</kw>
<status status="PASS" starttime="20230927 20:36:14.827" endtime="20230927 20:36:23.031"/>
</kw>
<msg timestamp="20230927 20:36:23.031" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:14.826" endtime="20230927 20:36:23.031"/>
</kw>
<msg timestamp="20230927 20:36:23.031" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:14.825" endtime="20230927 20:36:23.031"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:23.031" endtime="20230927 20:36:23.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:23.038" level="INFO">Running command 'cat /tmp/key-33735 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:23.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:23.042" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:23.033" endtime="20230927 20:36:23.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:23.044" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:23.043" endtime="20230927 20:36:23.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:23.045" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:23.044" endtime="20230927 20:36:23.045"/>
</kw>
<msg timestamp="20230927 20:36:23.045" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:23.032" endtime="20230927 20:36:23.045"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:23.046" endtime="20230927 20:36:23.046"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:23.051" level="INFO">Running command 'rm /tmp/key-33735 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:23.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:23.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:23.047" endtime="20230927 20:36:23.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:23.057" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:23.056" endtime="20230927 20:36:23.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:23.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:23.058" endtime="20230927 20:36:23.059"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.046" endtime="20230927 20:36:23.059"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:14.823" endtime="20230927 20:36:23.059"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:23.078" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:23.736" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:23.736" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:23.071" endtime="20230927 20:36:23.737"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:23.739" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:23.738" endtime="20230927 20:36:23.739"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:23.740" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:23.740" endtime="20230927 20:36:23.741"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.070" endtime="20230927 20:36:23.741"/>
</kw>
<msg timestamp="20230927 20:36:23.741" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:23.064" endtime="20230927 20:36:23.741"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.064" endtime="20230927 20:36:23.741"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:23.749" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:24.509" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:24.509" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:23.745" endtime="20230927 20:36:24.509"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:24.512" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:24.510" endtime="20230927 20:36:24.512"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:24.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:24.513" endtime="20230927 20:36:24.513"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.744" endtime="20230927 20:36:24.514"/>
</kw>
<msg timestamp="20230927 20:36:24.514" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:23.743" endtime="20230927 20:36:24.514"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.742" endtime="20230927 20:36:24.514"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:24.521" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:25.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:25.337" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:24.516" endtime="20230927 20:36:25.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:25.339" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:25.338" endtime="20230927 20:36:25.339"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:25.340" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:25.339" endtime="20230927 20:36:25.340"/>
</kw>
<status status="PASS" starttime="20230927 20:36:24.516" endtime="20230927 20:36:25.340"/>
</kw>
<msg timestamp="20230927 20:36:25.341" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:24.515" endtime="20230927 20:36:25.341"/>
</kw>
<status status="PASS" starttime="20230927 20:36:24.515" endtime="20230927 20:36:25.342"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:25.348" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:26.097" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:26.097" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:25.344" endtime="20230927 20:36:26.097"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:26.099" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:26.098" endtime="20230927 20:36:26.099"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:26.100" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:26.099" endtime="20230927 20:36:26.100"/>
</kw>
<status status="PASS" starttime="20230927 20:36:25.343" endtime="20230927 20:36:26.100"/>
</kw>
<msg timestamp="20230927 20:36:26.100" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:25.343" endtime="20230927 20:36:26.100"/>
</kw>
<status status="PASS" starttime="20230927 20:36:25.342" endtime="20230927 20:36:26.100"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.063" endtime="20230927 20:36:26.101"/>
</kw>
<status status="PASS" starttime="20230927 20:36:23.063" endtime="20230927 20:36:26.101"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:23.061" endtime="20230927 20:36:26.101"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:26.109" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:27.019" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:27.019" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:26.105" endtime="20230927 20:36:27.019"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:27.022" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:36:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:36:27.020" endtime="20230927 20:36:27.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:27.023" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:27.022" endtime="20230927 20:36:27.023"/>
</kw>
<msg timestamp="20230927 20:36:27.023" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:26.104" endtime="20230927 20:36:27.023"/>
</kw>
<msg timestamp="20230927 20:36:27.023" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:26.103" endtime="20230927 20:36:27.023"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:27.024" endtime="20230927 20:36:27.024"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:27.029" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:27.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:27.033" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:27.025" endtime="20230927 20:36:27.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:27.035" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:27.034" endtime="20230927 20:36:27.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:27.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:27.035" endtime="20230927 20:36:27.036"/>
</kw>
<msg timestamp="20230927 20:36:27.036" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:36:27.024" endtime="20230927 20:36:27.036"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:27.036" endtime="20230927 20:36:27.037"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:27.041" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:27.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:27.045" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:27.038" endtime="20230927 20:36:27.045"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:27.047" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:27.046" endtime="20230927 20:36:27.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:27.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:27.047" endtime="20230927 20:36:27.048"/>
</kw>
<status status="PASS" starttime="20230927 20:36:27.037" endtime="20230927 20:36:27.048"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:26.102" endtime="20230927 20:36:27.049"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:27.056" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:27.978" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:27.978" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:27.053" endtime="20230927 20:36:27.978"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:27.979" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:36:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:36:27.978" endtime="20230927 20:36:27.980"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:27.980" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:27.980" endtime="20230927 20:36:27.981"/>
</kw>
<msg timestamp="20230927 20:36:27.981" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:27.052" endtime="20230927 20:36:27.981"/>
</kw>
<msg timestamp="20230927 20:36:27.981" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:29:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:36:27.052" endtime="20230927 20:36:27.981"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:27.982" endtime="20230927 20:36:27.982"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:27.987" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:27.991" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:27.991" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:27.983" endtime="20230927 20:36:27.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:27.992" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:27.991" endtime="20230927 20:36:27.992"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:27.993" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:27.993" endtime="20230927 20:36:27.993"/>
</kw>
<msg timestamp="20230927 20:36:27.994" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:36:27.982" endtime="20230927 20:36:27.994"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:27.994" endtime="20230927 20:36:27.995"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:27.999" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:28.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:28.003" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:27.996" endtime="20230927 20:36:28.003"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:28.005" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:28.004" endtime="20230927 20:36:28.005"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:28.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:28.005" endtime="20230927 20:36:28.006"/>
</kw>
<status status="PASS" starttime="20230927 20:36:27.995" endtime="20230927 20:36:28.006"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:27.051" endtime="20230927 20:36:28.006"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:36:14.712" endtime="20230927 20:36:28.009"/>
</suite>
<suite id="s1-s17" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s17-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:32.213" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:37.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:37.128" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:32.209" endtime="20230927 20:36:37.128"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:37.130" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:37.129" endtime="20230927 20:36:37.130"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:37.131" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:37.131" endtime="20230927 20:36:37.132"/>
</kw>
<status status="PASS" starttime="20230927 20:36:32.208" endtime="20230927 20:36:37.132"/>
</kw>
<msg timestamp="20230927 20:36:37.132" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:32.208" endtime="20230927 20:36:37.132"/>
</kw>
<msg timestamp="20230927 20:36:37.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:32.206" endtime="20230927 20:36:37.132"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:37.133" endtime="20230927 20:36:37.133"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:37.140" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:42.415" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:42.415" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:37.136" endtime="20230927 20:36:42.415"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:42.417" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:42.416" endtime="20230927 20:36:42.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:42.418" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:42.417" endtime="20230927 20:36:42.419"/>
</kw>
<status status="PASS" starttime="20230927 20:36:37.135" endtime="20230927 20:36:42.419"/>
</kw>
<msg timestamp="20230927 20:36:42.419" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:37.135" endtime="20230927 20:36:42.419"/>
</kw>
<msg timestamp="20230927 20:36:42.419" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:37.134" endtime="20230927 20:36:42.420"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:42.420" endtime="20230927 20:36:42.421"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:32.205" endtime="20230927 20:36:42.421"/>
</test>
<test id="s1-s17-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:42.429" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:36:42.432" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:42.432" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:42.425" endtime="20230927 20:36:42.432"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:42.434" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:42.433" endtime="20230927 20:36:42.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:42.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:42.434" endtime="20230927 20:36:42.435"/>
</kw>
<status status="PASS" starttime="20230927 20:36:42.424" endtime="20230927 20:36:42.435"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:42.443" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:52.714" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:52.714" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:42.438" endtime="20230927 20:36:52.714"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:52.715" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:52.714" endtime="20230927 20:36:52.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:52.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:52.716" endtime="20230927 20:36:52.717"/>
</kw>
<status status="PASS" starttime="20230927 20:36:42.437" endtime="20230927 20:36:52.717"/>
</kw>
<msg timestamp="20230927 20:36:52.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:42.437" endtime="20230927 20:36:52.717"/>
</kw>
<msg timestamp="20230927 20:36:52.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:42.436" endtime="20230927 20:36:52.717"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:52.718" endtime="20230927 20:36:52.718"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:52.726" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:52.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:52.731" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:52.720" endtime="20230927 20:36:52.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:52.734" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:52.732" endtime="20230927 20:36:52.734"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:52.735" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:52.734" endtime="20230927 20:36:52.735"/>
</kw>
<status status="PASS" starttime="20230927 20:36:52.718" endtime="20230927 20:36:52.735"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:42.423" endtime="20230927 20:36:52.736"/>
</test>
<test id="s1-s17-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:52.743" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:36:58.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:58.122" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:52.740" endtime="20230927 20:36:58.123"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:58.124" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:58.123" endtime="20230927 20:36:58.124"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:58.125" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:58.124" endtime="20230927 20:36:58.125"/>
</kw>
<status status="PASS" starttime="20230927 20:36:52.739" endtime="20230927 20:36:58.125"/>
</kw>
<msg timestamp="20230927 20:36:58.125" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:52.738" endtime="20230927 20:36:58.126"/>
</kw>
<msg timestamp="20230927 20:36:58.126" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:52.738" endtime="20230927 20:36:58.126"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:36:58.126" endtime="20230927 20:36:58.126"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:52.737" endtime="20230927 20:36:58.127"/>
</test>
<test id="s1-s17-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:58.134" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:36:58.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:36:58.137" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:58.130" endtime="20230927 20:36:58.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:36:58.139" level="INFO"/>
<status status="PASS" starttime="20230927 20:36:58.138" endtime="20230927 20:36:58.139"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:36:58.140" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:36:58.139" endtime="20230927 20:36:58.140"/>
</kw>
<status status="PASS" starttime="20230927 20:36:58.129" endtime="20230927 20:36:58.141"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:36:58.147" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:06.882" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:06.882" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:58.143" endtime="20230927 20:37:06.882"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:06.884" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:06.883" endtime="20230927 20:37:06.884"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:06.884" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:06.884" endtime="20230927 20:37:06.885"/>
</kw>
<status status="PASS" starttime="20230927 20:36:58.142" endtime="20230927 20:37:06.885"/>
</kw>
<msg timestamp="20230927 20:37:06.885" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:36:58.142" endtime="20230927 20:37:06.885"/>
</kw>
<msg timestamp="20230927 20:37:06.886" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:36:58.141" endtime="20230927 20:37:06.886"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:06.886" endtime="20230927 20:37:06.887"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:06.891" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:06.894" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:06.894" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:06.887" endtime="20230927 20:37:06.894"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:06.897" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:06.895" endtime="20230927 20:37:06.897"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:06.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:06.897" endtime="20230927 20:37:06.898"/>
</kw>
<status status="PASS" starttime="20230927 20:37:06.887" endtime="20230927 20:37:06.899"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:36:58.128" endtime="20230927 20:37:06.899"/>
</test>
<test id="s1-s17-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:06.908" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:07.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:07.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:06.905" endtime="20230927 20:37:07.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:07.607" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:07.606" endtime="20230927 20:37:07.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:07.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:07.607" endtime="20230927 20:37:07.608"/>
</kw>
<status status="PASS" starttime="20230927 20:37:06.904" endtime="20230927 20:37:07.608"/>
</kw>
<msg timestamp="20230927 20:37:07.608" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:06.904" endtime="20230927 20:37:07.608"/>
</kw>
<status status="PASS" starttime="20230927 20:37:06.903" endtime="20230927 20:37:07.609"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:07.614" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:08.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:08.362" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:07.610" endtime="20230927 20:37:08.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:08.364" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:08.363" endtime="20230927 20:37:08.364"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:08.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:08.364" endtime="20230927 20:37:08.365"/>
</kw>
<status status="PASS" starttime="20230927 20:37:07.610" endtime="20230927 20:37:08.365"/>
</kw>
<msg timestamp="20230927 20:37:08.365" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:07.609" endtime="20230927 20:37:08.365"/>
</kw>
<status status="PASS" starttime="20230927 20:37:07.609" endtime="20230927 20:37:08.365"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:08.371" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:09.181" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:09.182" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:08.367" endtime="20230927 20:37:09.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:09.183" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:09.182" endtime="20230927 20:37:09.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:09.184" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:09.184" endtime="20230927 20:37:09.185"/>
</kw>
<status status="PASS" starttime="20230927 20:37:08.367" endtime="20230927 20:37:09.185"/>
</kw>
<msg timestamp="20230927 20:37:09.185" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:08.366" endtime="20230927 20:37:09.185"/>
</kw>
<status status="PASS" starttime="20230927 20:37:08.366" endtime="20230927 20:37:09.185"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:09.192" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:09.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:09.917" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:09.187" endtime="20230927 20:37:09.917"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:09.918" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:09.917" endtime="20230927 20:37:09.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:09.919" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:09.919" endtime="20230927 20:37:09.919"/>
</kw>
<status status="PASS" starttime="20230927 20:37:09.187" endtime="20230927 20:37:09.920"/>
</kw>
<msg timestamp="20230927 20:37:09.920" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:09.186" endtime="20230927 20:37:09.920"/>
</kw>
<status status="PASS" starttime="20230927 20:37:09.186" endtime="20230927 20:37:09.920"/>
</kw>
<status status="PASS" starttime="20230927 20:37:06.903" endtime="20230927 20:37:09.920"/>
</kw>
<status status="PASS" starttime="20230927 20:37:06.902" endtime="20230927 20:37:09.920"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:06.901" endtime="20230927 20:37:09.921"/>
</test>
<test id="s1-s17-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:37:09.924" level="INFO">${randStr} = 6060096144</msg>
<status status="PASS" starttime="20230927 20:37:09.923" endtime="20230927 20:37:09.924"/>
</kw>
<msg timestamp="20230927 20:37:09.924" level="INFO">${random} = ozone-test-6060096144</msg>
<status status="PASS" starttime="20230927 20:37:09.923" endtime="20230927 20:37:09.924"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:09.931" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket-ozone-test-6060096144 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:10.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:10.988" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-6060096144"
}</msg>
<status status="PASS" starttime="20230927 20:37:09.928" endtime="20230927 20:37:10.988"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:10.990" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket-ozone-test-6060096144"
}</msg>
<status status="PASS" starttime="20230927 20:37:10.989" endtime="20230927 20:37:10.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:10.992" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:10.991" endtime="20230927 20:37:10.992"/>
</kw>
<status status="PASS" starttime="20230927 20:37:09.927" endtime="20230927 20:37:10.992"/>
</kw>
<msg timestamp="20230927 20:37:10.992" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:09.926" endtime="20230927 20:37:10.992"/>
</kw>
<msg timestamp="20230927 20:37:10.993" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-6060096144"
}</msg>
<status status="PASS" starttime="20230927 20:37:09.926" endtime="20230927 20:37:10.993"/>
</kw>
<msg timestamp="20230927 20:37:10.993" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-6060096144"
}</msg>
<status status="PASS" starttime="20230927 20:37:09.925" endtime="20230927 20:37:10.993"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:10.993" endtime="20230927 20:37:10.994"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:10.994" endtime="20230927 20:37:10.995"/>
</kw>
<msg timestamp="20230927 20:37:10.995" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:37:09.924" endtime="20230927 20:37:10.995"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:37:10.995" endtime="20230927 20:37:10.996"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:09.922" endtime="20230927 20:37:10.996"/>
</test>
<test id="s1-s17-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:11.002" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:37:11.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:11.005" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:10.999" endtime="20230927 20:37:11.005"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:11.006" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:11.005" endtime="20230927 20:37:11.007"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:11.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:11.007" endtime="20230927 20:37:11.008"/>
</kw>
<status status="PASS" starttime="20230927 20:37:10.998" endtime="20230927 20:37:11.008"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:11.013" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:12.895" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:12.895" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:11.010" endtime="20230927 20:37:12.895"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:12.897" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:12.896" endtime="20230927 20:37:12.897"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:12.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:12.898" endtime="20230927 20:37:12.898"/>
</kw>
<msg timestamp="20230927 20:37:12.899" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:11.010" endtime="20230927 20:37:12.899"/>
</kw>
<msg timestamp="20230927 20:37:12.899" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:11.009" endtime="20230927 20:37:12.899"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:12.899" endtime="20230927 20:37:12.900"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:12.904" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:12.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:12.908" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:12.901" endtime="20230927 20:37:12.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:12.910" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:12.909" endtime="20230927 20:37:12.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:12.911" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:12.910" endtime="20230927 20:37:12.911"/>
</kw>
<status status="PASS" starttime="20230927 20:37:12.900" endtime="20230927 20:37:12.911"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:10.997" endtime="20230927 20:37:12.911"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:36:32.064" endtime="20230927 20:37:12.913"/>
</suite>
<suite id="s1-s18" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s18-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:37:17.111" level="INFO">${random} = 17698</msg>
<status status="PASS" starttime="20230927 20:37:17.110" endtime="20230927 20:37:17.111"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:17.119" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-17698 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:25.178" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:25.178" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:17.114" endtime="20230927 20:37:25.178"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:25.180" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:25.179" endtime="20230927 20:37:25.181"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:25.183" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:25.181" endtime="20230927 20:37:25.183"/>
</kw>
<status status="PASS" starttime="20230927 20:37:17.113" endtime="20230927 20:37:25.183"/>
</kw>
<msg timestamp="20230927 20:37:25.184" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:17.112" endtime="20230927 20:37:25.184"/>
</kw>
<msg timestamp="20230927 20:37:25.185" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:17.111" endtime="20230927 20:37:25.185"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:25.186" endtime="20230927 20:37:25.186"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:25.192" level="INFO">Running command 'cat /tmp/key-17698 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:25.196" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:25.197" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:25.188" endtime="20230927 20:37:25.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:25.198" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:25.197" endtime="20230927 20:37:25.199"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:25.199" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:25.199" endtime="20230927 20:37:25.200"/>
</kw>
<msg timestamp="20230927 20:37:25.200" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:25.187" endtime="20230927 20:37:25.200"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:25.200" endtime="20230927 20:37:25.201"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:25.206" level="INFO">Running command 'rm /tmp/key-17698 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:25.211" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:25.211" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:25.202" endtime="20230927 20:37:25.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:25.213" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:25.212" endtime="20230927 20:37:25.213"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:25.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:25.214" endtime="20230927 20:37:25.215"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.201" endtime="20230927 20:37:25.215"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:17.109" endtime="20230927 20:37:25.216"/>
</test>
<test id="s1-s18-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:25.226" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:25.983" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:25.983" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:25.221" endtime="20230927 20:37:25.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:25.986" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:25.985" endtime="20230927 20:37:25.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:25.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:25.986" endtime="20230927 20:37:25.988"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.220" endtime="20230927 20:37:25.988"/>
</kw>
<msg timestamp="20230927 20:37:25.988" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:25.220" endtime="20230927 20:37:25.989"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.219" endtime="20230927 20:37:25.989"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:25.996" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:26.841" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:26.841" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:25.992" endtime="20230927 20:37:26.842"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:26.844" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:26.843" endtime="20230927 20:37:26.844"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:26.846" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:26.845" endtime="20230927 20:37:26.846"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.991" endtime="20230927 20:37:26.846"/>
</kw>
<msg timestamp="20230927 20:37:26.847" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:25.990" endtime="20230927 20:37:26.847"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.989" endtime="20230927 20:37:26.847"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:26.854" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:27.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:27.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:26.850" endtime="20230927 20:37:27.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:27.636" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:27.635" endtime="20230927 20:37:27.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:27.637" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:27.636" endtime="20230927 20:37:27.637"/>
</kw>
<status status="PASS" starttime="20230927 20:37:26.849" endtime="20230927 20:37:27.638"/>
</kw>
<msg timestamp="20230927 20:37:27.638" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:26.849" endtime="20230927 20:37:27.638"/>
</kw>
<status status="PASS" starttime="20230927 20:37:26.847" endtime="20230927 20:37:27.638"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:27.646" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:28.449" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:28.449" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:27.641" endtime="20230927 20:37:28.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:28.452" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:28.450" endtime="20230927 20:37:28.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:28.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:28.453" endtime="20230927 20:37:28.454"/>
</kw>
<status status="PASS" starttime="20230927 20:37:27.640" endtime="20230927 20:37:28.454"/>
</kw>
<msg timestamp="20230927 20:37:28.454" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:27.639" endtime="20230927 20:37:28.454"/>
</kw>
<status status="PASS" starttime="20230927 20:37:27.639" endtime="20230927 20:37:28.454"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.219" endtime="20230927 20:37:28.454"/>
</kw>
<status status="PASS" starttime="20230927 20:37:25.218" endtime="20230927 20:37:28.455"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:25.217" endtime="20230927 20:37:28.455"/>
</test>
<test id="s1-s18-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:28.465" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:29.535" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:29.535" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:06 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:28.461" endtime="20230927 20:37:29.535"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:29.536" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:06 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:37:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:37:29.535" endtime="20230927 20:37:29.537"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:29.538" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:29.537" endtime="20230927 20:37:29.538"/>
</kw>
<msg timestamp="20230927 20:37:29.539" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:06 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:28.460" endtime="20230927 20:37:29.539"/>
</kw>
<msg timestamp="20230927 20:37:29.540" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:06 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:28.459" endtime="20230927 20:37:29.540"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:29.540" endtime="20230927 20:37:29.541"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:29.548" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:29.551" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:29.551" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:29.542" endtime="20230927 20:37:29.551"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:29.554" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:29.552" endtime="20230927 20:37:29.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:29.555" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:29.554" endtime="20230927 20:37:29.556"/>
</kw>
<msg timestamp="20230927 20:37:29.556" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:37:29.541" endtime="20230927 20:37:29.556"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:29.556" endtime="20230927 20:37:29.557"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:29.566" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:29.571" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:29.572" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:29.559" endtime="20230927 20:37:29.572"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:29.576" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:29.573" endtime="20230927 20:37:29.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:29.578" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:29.576" endtime="20230927 20:37:29.578"/>
</kw>
<status status="PASS" starttime="20230927 20:37:29.558" endtime="20230927 20:37:29.578"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:28.457" endtime="20230927 20:37:29.578"/>
</test>
<test id="s1-s18-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:29.586" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:30.645" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:30.646" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:29.582" endtime="20230927 20:37:30.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:30.648" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:37:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:37:30.647" endtime="20230927 20:37:30.648"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:30.649" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:30.649" endtime="20230927 20:37:30.650"/>
</kw>
<msg timestamp="20230927 20:37:30.650" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:29.582" endtime="20230927 20:37:30.650"/>
</kw>
<msg timestamp="20230927 20:37:30.650" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:37:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:37:29.581" endtime="20230927 20:37:30.650"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:30.651" endtime="20230927 20:37:30.652"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:30.658" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:30.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:30.663" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:37:30.653" endtime="20230927 20:37:30.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:30.665" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:37:30.664" endtime="20230927 20:37:30.666"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:30.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:30.666" endtime="20230927 20:37:30.667"/>
</kw>
<msg timestamp="20230927 20:37:30.668" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:37:30.652" endtime="20230927 20:37:30.668"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:30.668" endtime="20230927 20:37:30.669"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:30.674" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:30.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:30.679" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:30.670" endtime="20230927 20:37:30.679"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:30.681" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:30.680" endtime="20230927 20:37:30.681"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:30.682" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:30.682" endtime="20230927 20:37:30.682"/>
</kw>
<status status="PASS" starttime="20230927 20:37:30.669" endtime="20230927 20:37:30.683"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:37:29.580" endtime="20230927 20:37:30.683"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:37:16.883" endtime="20230927 20:37:30.686"/>
</suite>
<suite id="s1-s19" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s19-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:37:34.703" endtime="20230927 20:37:34.704"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:34.709" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:34.714" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:34.714" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:37:34.705" endtime="20230927 20:37:34.714"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:34.715" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:37:34.714" endtime="20230927 20:37:34.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:34.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:34.716" endtime="20230927 20:37:34.716"/>
</kw>
<status status="PASS" starttime="20230927 20:37:34.705" endtime="20230927 20:37:34.717"/>
</kw>
<msg timestamp="20230927 20:37:34.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:34.704" endtime="20230927 20:37:34.717"/>
</kw>
<msg timestamp="20230927 20:37:34.717" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230927 20:37:34.704" endtime="20230927 20:37:34.718"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:34.718" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dcfd0290410a
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230927 20:37:34.718" endtime="20230927 20:37:34.718"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:37:34.719" endtime="20230927 20:37:34.719"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:34.725" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:39.918" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:39.918" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:34.721" endtime="20230927 20:37:39.919"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:39.921" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:39.919" endtime="20230927 20:37:39.921"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:39.922" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:39.921" endtime="20230927 20:37:39.922"/>
</kw>
<status status="PASS" starttime="20230927 20:37:34.720" endtime="20230927 20:37:39.922"/>
</kw>
<msg timestamp="20230927 20:37:39.922" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:34.720" endtime="20230927 20:37:39.922"/>
</kw>
<msg timestamp="20230927 20:37:39.923" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:34.719" endtime="20230927 20:37:39.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:39.923" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:39.923" endtime="20230927 20:37:39.923"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:37:39.924" endtime="20230927 20:37:39.924"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:37:34.702" endtime="20230927 20:37:39.924"/>
</test>
<test id="s1-s19-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:37:39.927" endtime="20230927 20:37:39.928"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:37:39.928" endtime="20230927 20:37:39.929"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:39.934" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:44.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:44.762" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:39.931" endtime="20230927 20:37:44.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:44.764" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:44.763" endtime="20230927 20:37:44.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:44.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:44.764" endtime="20230927 20:37:44.765"/>
</kw>
<status status="PASS" starttime="20230927 20:37:39.930" endtime="20230927 20:37:44.765"/>
</kw>
<msg timestamp="20230927 20:37:44.766" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:39.930" endtime="20230927 20:37:44.766"/>
</kw>
<msg timestamp="20230927 20:37:44.766" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:39.929" endtime="20230927 20:37:44.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:44.767" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230927 20:37:44.766" endtime="20230927 20:37:44.767"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:37:44.767" endtime="20230927 20:37:44.768"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:37:39.926" endtime="20230927 20:37:44.768"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:37:34.633" endtime="20230927 20:37:44.770"/>
</suite>
<suite id="s1-s20" name="Snapshot-Sh" source="/opt/hadoop/smoketest/snapshot/snapshot-sh.robot">
<test id="s1-s20-t1" name="Snapshot Creation" line="31">
<kw name="Setup volume and bucket" library="snapshot-setup">
<kw name="Create volume" library="snapshot-setup">
<var>${volume}</var>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:37:48.641" level="INFO">${random} = gcczl</msg>
<status status="PASS" starttime="20230927 20:37:48.640" endtime="20230927 20:37:48.641"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${volume}</var>
<arg>vol-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:37:48.641" level="INFO">${volume} = vol-gcczl</msg>
<status status="PASS" starttime="20230927 20:37:48.641" endtime="20230927 20:37:48.642"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:48.647" level="INFO">Running command 'ozone sh volume create /vol-gcczl 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:53.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:53.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:48.643" endtime="20230927 20:37:53.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:53.166" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:53.165" endtime="20230927 20:37:53.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:53.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:53.167" endtime="20230927 20:37:53.168"/>
</kw>
<status status="PASS" starttime="20230927 20:37:48.643" endtime="20230927 20:37:53.168"/>
</kw>
<msg timestamp="20230927 20:37:53.169" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:48.642" endtime="20230927 20:37:53.169"/>
</kw>
<msg timestamp="20230927 20:37:53.169" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:37:48.642" endtime="20230927 20:37:53.169"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:53.169" endtime="20230927 20:37:53.170"/>
</kw>
<msg timestamp="20230927 20:37:53.171" level="INFO">${volume} = vol-gcczl</msg>
<status status="PASS" starttime="20230927 20:37:48.640" endtime="20230927 20:37:53.171"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${VOLUME}</arg>
<arg>${volume}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:37:53.172" level="INFO">${VOLUME} = vol-gcczl</msg>
<status status="PASS" starttime="20230927 20:37:53.171" endtime="20230927 20:37:53.173"/>
</kw>
<kw name="Create bucket" library="snapshot-setup">
<var>${bucket}</var>
<arg>${VOLUME}</arg>
<arg>FILE_SYSTEM_OPTIMIZED</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:37:53.175" level="INFO">${random} = ofzlt</msg>
<status status="PASS" starttime="20230927 20:37:53.174" endtime="20230927 20:37:53.175"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${bucket}</var>
<arg>buc-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:37:53.176" level="INFO">${bucket} = buc-ofzlt</msg>
<status status="PASS" starttime="20230927 20:37:53.175" endtime="20230927 20:37:53.176"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket create -l ${bucket_layout} /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:53.184" level="INFO">Running command 'ozone sh bucket create -l FILE_SYSTEM_OPTIMIZED /vol-gcczl/buc-ofzlt 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:37:57.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:37:57.871" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:53.179" endtime="20230927 20:37:57.871"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:37:57.874" level="INFO"/>
<status status="PASS" starttime="20230927 20:37:57.873" endtime="20230927 20:37:57.874"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:37:57.875" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:37:57.874" endtime="20230927 20:37:57.875"/>
</kw>
<status status="PASS" starttime="20230927 20:37:53.179" endtime="20230927 20:37:57.875"/>
</kw>
<msg timestamp="20230927 20:37:57.875" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:53.178" endtime="20230927 20:37:57.875"/>
</kw>
<msg timestamp="20230927 20:37:57.875" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:37:53.177" endtime="20230927 20:37:57.875"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:37:57.876" endtime="20230927 20:37:57.877"/>
</kw>
<msg timestamp="20230927 20:37:57.877" level="INFO">${bucket} = buc-ofzlt</msg>
<status status="PASS" starttime="20230927 20:37:53.173" endtime="20230927 20:37:57.877"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${BUCKET}</arg>
<arg>${bucket}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:37:57.878" level="INFO">${BUCKET} = buc-ofzlt</msg>
<status status="PASS" starttime="20230927 20:37:57.877" endtime="20230927 20:37:57.878"/>
</kw>
<status status="PASS" starttime="20230927 20:37:48.639" endtime="20230927 20:37:57.878"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/hosts</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:37:57.880" level="INFO">${random} = asqan</msg>
<status status="PASS" starttime="20230927 20:37:57.879" endtime="20230927 20:37:57.880"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:37:57.881" level="INFO">${key} = key-asqan</msg>
<status status="PASS" starttime="20230927 20:37:57.881" endtime="20230927 20:37:57.881"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:37:57.887" level="INFO">Running command 'ozone sh key put /vol-gcczl/buc-ofzlt/key-asqan /etc/hosts 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:06.873" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:06.873" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:37:57.883" endtime="20230927 20:38:06.873"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:06.875" level="INFO"/>
<status status="PASS" starttime="20230927 20:38:06.874" endtime="20230927 20:38:06.875"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:06.876" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:06.875" endtime="20230927 20:38:06.876"/>
</kw>
<status status="PASS" starttime="20230927 20:37:57.883" endtime="20230927 20:38:06.876"/>
</kw>
<msg timestamp="20230927 20:38:06.876" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:37:57.882" endtime="20230927 20:38:06.876"/>
</kw>
<msg timestamp="20230927 20:38:06.877" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:37:57.882" endtime="20230927 20:38:06.877"/>
</kw>
<msg timestamp="20230927 20:38:06.877" level="INFO">${key_one} = key-asqan</msg>
<status status="PASS" starttime="20230927 20:37:57.878" endtime="20230927 20:38:06.877"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_ONE}</arg>
<arg>${key_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:38:06.878" level="INFO">${KEY_ONE} = key-asqan</msg>
<status status="PASS" starttime="20230927 20:38:06.877" endtime="20230927 20:38:06.878"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:38:06.879" level="INFO">${random} = vbwdp</msg>
<status status="PASS" starttime="20230927 20:38:06.879" endtime="20230927 20:38:06.879"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:38:06.880" level="INFO">${snapshot} = snap-vbwdp</msg>
<status status="PASS" starttime="20230927 20:38:06.879" endtime="20230927 20:38:06.880"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:06.886" level="INFO">Running command 'ozone sh snapshot create /vol-gcczl/buc-ofzlt snap-vbwdp 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:12.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:12.494" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:38:06.882" endtime="20230927 20:38:12.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:12.502" level="INFO"/>
<status status="PASS" starttime="20230927 20:38:12.497" endtime="20230927 20:38:12.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:12.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:12.503" endtime="20230927 20:38:12.506"/>
</kw>
<status status="PASS" starttime="20230927 20:38:06.881" endtime="20230927 20:38:12.510"/>
</kw>
<msg timestamp="20230927 20:38:12.512" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:06.881" endtime="20230927 20:38:12.512"/>
</kw>
<msg timestamp="20230927 20:38:12.512" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:38:06.880" endtime="20230927 20:38:12.512"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:12.515" endtime="20230927 20:38:12.516"/>
</kw>
<msg timestamp="20230927 20:38:12.516" level="INFO">${snapshot_one} = snap-vbwdp</msg>
<status status="PASS" starttime="20230927 20:38:06.878" endtime="20230927 20:38:12.517"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_ONE}</arg>
<arg>${snapshot_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:38:12.523" level="INFO">${SNAPSHOT_ONE} = snap-vbwdp</msg>
<status status="PASS" starttime="20230927 20:38:12.518" endtime="20230927 20:38:12.523"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:37:48.638" endtime="20230927 20:38:12.524"/>
</test>
<test id="s1-s20-t2" name="Snapshot List" line="38">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:12.557" level="INFO">Running command 'ozone sh snapshot ls /vol-gcczl/buc-ofzlt 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:17.894" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:17.894" level="INFO">${output} = [ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "name" : "snap-vbwdp",
  "creationTime" : 1695847092069,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "916882ea-0039-4a64-...</msg>
<status status="PASS" starttime="20230927 20:38:12.538" endtime="20230927 20:38:17.894"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:17.897" level="INFO">[ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "name" : "snap-vbwdp",
  "creationTime" : 1695847092069,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "916882ea-0039-4a64-8be1-1c6969b12470",
  "snapshotPath" : "vol-gcczl/buc-ofzlt",
  "checkpointDir" : "-916882ea-0039-4a64-8be1-1c6969b12470",
  "referencedSize" : 173,
  "referencedReplicatedSize" : 519,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]</msg>
<status status="PASS" starttime="20230927 20:38:17.895" endtime="20230927 20:38:17.897"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:17.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:17.897" endtime="20230927 20:38:17.898"/>
</kw>
<status status="PASS" starttime="20230927 20:38:12.535" endtime="20230927 20:38:17.898"/>
</kw>
<msg timestamp="20230927 20:38:17.898" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:12.534" endtime="20230927 20:38:17.898"/>
</kw>
<msg timestamp="20230927 20:38:17.899" level="INFO">${result} = [ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "name" : "snap-vbwdp",
  "creationTime" : 1695847092069,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "916882ea-0039-4a64-...</msg>
<status status="PASS" starttime="20230927 20:38:12.531" endtime="20230927 20:38:17.899"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:17.902" endtime="20230927 20:38:17.902"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:17.903" endtime="20230927 20:38:17.906"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:38:12.529" endtime="20230927 20:38:17.907"/>
</test>
<test id="s1-s20-t3" name="Snapshot Diff" line="43">
<kw name="Create key" library="snapshot-setup">
<var>${key_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/passwd</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:38:17.912" level="INFO">${random} = fsdqr</msg>
<status status="PASS" starttime="20230927 20:38:17.911" endtime="20230927 20:38:17.912"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:38:17.913" level="INFO">${key} = key-fsdqr</msg>
<status status="PASS" starttime="20230927 20:38:17.912" endtime="20230927 20:38:17.913"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:17.919" level="INFO">Running command 'ozone sh key put /vol-gcczl/buc-ofzlt/key-fsdqr /etc/passwd 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:25.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:25.967" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:38:17.915" endtime="20230927 20:38:25.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:25.970" level="INFO"/>
<status status="PASS" starttime="20230927 20:38:25.968" endtime="20230927 20:38:25.970"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:25.971" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:25.970" endtime="20230927 20:38:25.971"/>
</kw>
<status status="PASS" starttime="20230927 20:38:17.914" endtime="20230927 20:38:25.972"/>
</kw>
<msg timestamp="20230927 20:38:25.972" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:17.914" endtime="20230927 20:38:25.972"/>
</kw>
<msg timestamp="20230927 20:38:25.972" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:38:17.913" endtime="20230927 20:38:25.972"/>
</kw>
<msg timestamp="20230927 20:38:25.973" level="INFO">${key_two} = key-fsdqr</msg>
<status status="PASS" starttime="20230927 20:38:17.910" endtime="20230927 20:38:25.973"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_TWO}</arg>
<arg>${key_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:38:25.973" level="INFO">${KEY_TWO} = key-fsdqr</msg>
<status status="PASS" starttime="20230927 20:38:25.973" endtime="20230927 20:38:25.974"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_three}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/group</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:38:25.975" level="INFO">${random} = ofrti</msg>
<status status="PASS" starttime="20230927 20:38:25.975" endtime="20230927 20:38:25.975"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:38:25.976" level="INFO">${key} = key-ofrti</msg>
<status status="PASS" starttime="20230927 20:38:25.975" endtime="20230927 20:38:25.976"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:25.981" level="INFO">Running command 'ozone sh key put /vol-gcczl/buc-ofzlt/key-ofrti /etc/group 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:33.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:33.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:38:25.977" endtime="20230927 20:38:33.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:33.828" level="INFO"/>
<status status="PASS" starttime="20230927 20:38:33.827" endtime="20230927 20:38:33.828"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:33.829" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:33.828" endtime="20230927 20:38:33.829"/>
</kw>
<status status="PASS" starttime="20230927 20:38:25.977" endtime="20230927 20:38:33.829"/>
</kw>
<msg timestamp="20230927 20:38:33.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:25.977" endtime="20230927 20:38:33.830"/>
</kw>
<msg timestamp="20230927 20:38:33.830" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:38:25.976" endtime="20230927 20:38:33.830"/>
</kw>
<msg timestamp="20230927 20:38:33.830" level="INFO">${key_three} = key-ofrti</msg>
<status status="PASS" starttime="20230927 20:38:25.974" endtime="20230927 20:38:33.831"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_THREE}</arg>
<arg>${key_three}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:38:33.831" level="INFO">${KEY_THREE} = key-ofrti</msg>
<status status="PASS" starttime="20230927 20:38:33.831" endtime="20230927 20:38:33.831"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:38:33.833" level="INFO">${random} = alsej</msg>
<status status="PASS" starttime="20230927 20:38:33.832" endtime="20230927 20:38:33.833"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:38:33.834" level="INFO">${snapshot} = snap-alsej</msg>
<status status="PASS" starttime="20230927 20:38:33.833" endtime="20230927 20:38:33.834"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:33.839" level="INFO">Running command 'ozone sh snapshot create /vol-gcczl/buc-ofzlt snap-alsej 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:38.453" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:38.453" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:38:33.836" endtime="20230927 20:38:38.453"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:38.455" level="INFO"/>
<status status="PASS" starttime="20230927 20:38:38.454" endtime="20230927 20:38:38.456"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:38.457" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:38.456" endtime="20230927 20:38:38.457"/>
</kw>
<status status="PASS" starttime="20230927 20:38:33.835" endtime="20230927 20:38:38.457"/>
</kw>
<msg timestamp="20230927 20:38:38.457" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:33.835" endtime="20230927 20:38:38.458"/>
</kw>
<msg timestamp="20230927 20:38:38.459" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230927 20:38:33.834" endtime="20230927 20:38:38.459"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:38.459" endtime="20230927 20:38:38.459"/>
</kw>
<msg timestamp="20230927 20:38:38.460" level="INFO">${snapshot_two} = snap-alsej</msg>
<status status="PASS" starttime="20230927 20:38:33.832" endtime="20230927 20:38:38.460"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_TWO}</arg>
<arg>${snapshot_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230927 20:38:38.461" level="INFO">${SNAPSHOT_TWO} = snap-alsej</msg>
<status status="PASS" starttime="20230927 20:38:38.460" endtime="20230927 20:38:38.461"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:38.473" level="INFO">Running command 'ozone sh snapshot diff /vol-gcczl/buc-ofzlt snap-vbwdp snap-alsej 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:42.860" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:42.860" level="INFO">${output} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230927 20:38:38.468" endtime="20230927 20:38:42.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:42.863" level="INFO">Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230927 20:38:42.862" endtime="20230927 20:38:42.864"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:42.865" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:42.864" endtime="20230927 20:38:42.865"/>
</kw>
<status status="PASS" starttime="20230927 20:38:38.463" endtime="20230927 20:38:42.866"/>
</kw>
<msg timestamp="20230927 20:38:42.866" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:38.463" endtime="20230927 20:38:42.866"/>
</kw>
<msg timestamp="20230927 20:38:42.866" level="INFO">${result} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230927 20:38:38.461" endtime="20230927 20:38:42.867"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Snapshot diff job is IN_PROGRESS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:42.867" endtime="20230927 20:38:42.868"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:42.876" level="INFO">Running command 'ozone sh snapshot diff /vol-gcczl/buc-ofzlt snap-vbwdp snap-alsej 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:47.242" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:47.242" level="INFO">${output} = Difference between snapshot: snap-vbwdp and snapshot: snap-alsej
+	./key-fsdqr
+	./key-ofrti
</msg>
<status status="PASS" starttime="20230927 20:38:42.871" endtime="20230927 20:38:47.242"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:47.244" level="INFO">Difference between snapshot: snap-vbwdp and snapshot: snap-alsej
+	./key-fsdqr
+	./key-ofrti
</msg>
<status status="PASS" starttime="20230927 20:38:47.243" endtime="20230927 20:38:47.244"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:47.246" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:47.245" endtime="20230927 20:38:47.246"/>
</kw>
<status status="PASS" starttime="20230927 20:38:42.870" endtime="20230927 20:38:47.246"/>
</kw>
<msg timestamp="20230927 20:38:47.246" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:42.870" endtime="20230927 20:38:47.246"/>
</kw>
<msg timestamp="20230927 20:38:47.247" level="INFO">${result} = Difference between snapshot: snap-vbwdp and snapshot: snap-alsej
+	./key-fsdqr
+	./key-ofrti
</msg>
<status status="PASS" starttime="20230927 20:38:42.868" endtime="20230927 20:38:47.247"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:47.247" endtime="20230927 20:38:47.248"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_THREE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:47.248" endtime="20230927 20:38:47.248"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:38:17.909" endtime="20230927 20:38:47.249"/>
</test>
<test id="s1-s20-t4" name="List Snapshot Diff Jobs" line="56">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot listDiff /${VOLUME}/${BUCKET} --all</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:47.256" level="INFO">Running command 'ozone sh snapshot listDiff /vol-gcczl/buc-ofzlt --all 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:38:52.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:38:52.604" level="INFO">${output} = [ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "fromSnapshot" : "snap-vbwdp",
  "toSnapshot" : "snap-alsej",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230927 20:38:47.253" endtime="20230927 20:38:52.604"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:38:52.605" level="INFO">[ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "fromSnapshot" : "snap-vbwdp",
  "toSnapshot" : "snap-alsej",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230927 20:38:52.605" endtime="20230927 20:38:52.606"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:38:52.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:38:52.606" endtime="20230927 20:38:52.607"/>
</kw>
<status status="PASS" starttime="20230927 20:38:47.252" endtime="20230927 20:38:52.607"/>
</kw>
<msg timestamp="20230927 20:38:52.607" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:47.251" endtime="20230927 20:38:52.607"/>
</kw>
<msg timestamp="20230927 20:38:52.608" level="INFO">${result} = [ {
  "volumeName" : "vol-gcczl",
  "bucketName" : "buc-ofzlt",
  "fromSnapshot" : "snap-vbwdp",
  "toSnapshot" : "snap-alsej",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230927 20:38:47.251" endtime="20230927 20:38:52.608"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${VOLUME}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:52.608" endtime="20230927 20:38:52.608"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${BUCKET}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:52.608" endtime="20230927 20:38:52.609"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:52.609" endtime="20230927 20:38:52.609"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:38:52.610" endtime="20230927 20:38:52.610"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:38:47.250" endtime="20230927 20:38:52.610"/>
</test>
<test id="s1-s20-t5" name="Read Snapshot" line="63">
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_ONE}/${KEY_ONE}</arg>
<arg>/etc/hosts</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:38:52.615" level="INFO">${postfix} = 00190</msg>
<status status="PASS" starttime="20230927 20:38:52.614" endtime="20230927 20:38:52.615"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:38:52.615" level="INFO">${tmpfile} = /tmp/tempkey-00190</msg>
<status status="PASS" starttime="20230927 20:38:52.615" endtime="20230927 20:38:52.615"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:38:52.621" level="INFO">Running command 'ozone sh key get /vol-gcczl/buc-ofzlt/.snapshot/snap-vbwdp/key-asqan /tmp/tempkey-00190 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:00.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:00.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:38:52.617" endtime="20230927 20:39:00.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:00.114" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:00.113" endtime="20230927 20:39:00.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:00.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:00.114" endtime="20230927 20:39:00.115"/>
</kw>
<status status="PASS" starttime="20230927 20:38:52.616" endtime="20230927 20:39:00.115"/>
</kw>
<msg timestamp="20230927 20:39:00.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:38:52.616" endtime="20230927 20:39:00.115"/>
</kw>
<status status="PASS" starttime="20230927 20:38:52.615" endtime="20230927 20:39:00.115"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230927 20:39:00.120" level="INFO">Running command 'diff -q /etc/hosts /tmp/tempkey-00190 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:00.129" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230927 20:39:00.116" endtime="20230927 20:39:00.129"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:00.136" level="INFO">Running command 'rm -f /tmp/tempkey-00190 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:00.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:00.141" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:00.133" endtime="20230927 20:39:00.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:00.143" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:00.142" endtime="20230927 20:39:00.143"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:00.144" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:00.143" endtime="20230927 20:39:00.145"/>
</kw>
<status status="PASS" starttime="20230927 20:39:00.132" endtime="20230927 20:39:00.145"/>
</kw>
<msg timestamp="20230927 20:39:00.145" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:00.131" endtime="20230927 20:39:00.145"/>
</kw>
<status status="PASS" starttime="20230927 20:39:00.130" endtime="20230927 20:39:00.145"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230927 20:39:00.146" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230927 20:39:00.146" endtime="20230927 20:39:00.147"/>
</kw>
<msg timestamp="20230927 20:39:00.147" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230927 20:38:52.613" endtime="20230927 20:39:00.147"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230927 20:39:00.147" endtime="20230927 20:39:00.148"/>
</kw>
<status status="PASS" starttime="20230927 20:38:52.612" endtime="20230927 20:39:00.148"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_TWO}</arg>
<arg>/etc/passwd</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:39:00.151" level="INFO">${postfix} = 80719</msg>
<status status="PASS" starttime="20230927 20:39:00.150" endtime="20230927 20:39:00.151"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:39:00.151" level="INFO">${tmpfile} = /tmp/tempkey-80719</msg>
<status status="PASS" starttime="20230927 20:39:00.151" endtime="20230927 20:39:00.151"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:00.159" level="INFO">Running command 'ozone sh key get /vol-gcczl/buc-ofzlt/.snapshot/snap-alsej/key-fsdqr /tmp/tempkey-80719 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:08.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:08.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:00.154" endtime="20230927 20:39:08.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:08.613" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:08.612" endtime="20230927 20:39:08.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:08.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:08.614" endtime="20230927 20:39:08.615"/>
</kw>
<status status="PASS" starttime="20230927 20:39:00.153" endtime="20230927 20:39:08.615"/>
</kw>
<msg timestamp="20230927 20:39:08.615" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:00.152" endtime="20230927 20:39:08.615"/>
</kw>
<status status="PASS" starttime="20230927 20:39:00.152" endtime="20230927 20:39:08.615"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230927 20:39:08.619" level="INFO">Running command 'diff -q /etc/passwd /tmp/tempkey-80719 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:08.622" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230927 20:39:08.615" endtime="20230927 20:39:08.623"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:08.630" level="INFO">Running command 'rm -f /tmp/tempkey-80719 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:08.633" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:08.633" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:08.626" endtime="20230927 20:39:08.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:08.635" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:08.634" endtime="20230927 20:39:08.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:08.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:08.636" endtime="20230927 20:39:08.636"/>
</kw>
<status status="PASS" starttime="20230927 20:39:08.625" endtime="20230927 20:39:08.637"/>
</kw>
<msg timestamp="20230927 20:39:08.637" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:08.625" endtime="20230927 20:39:08.637"/>
</kw>
<status status="PASS" starttime="20230927 20:39:08.623" endtime="20230927 20:39:08.637"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230927 20:39:08.638" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230927 20:39:08.637" endtime="20230927 20:39:08.638"/>
</kw>
<msg timestamp="20230927 20:39:08.638" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230927 20:39:00.149" endtime="20230927 20:39:08.638"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230927 20:39:08.639" endtime="20230927 20:39:08.639"/>
</kw>
<status status="PASS" starttime="20230927 20:39:00.148" endtime="20230927 20:39:08.639"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_THREE}</arg>
<arg>/etc/group</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:39:08.642" level="INFO">${postfix} = 10982</msg>
<status status="PASS" starttime="20230927 20:39:08.641" endtime="20230927 20:39:08.642"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230927 20:39:08.643" level="INFO">${tmpfile} = /tmp/tempkey-10982</msg>
<status status="PASS" starttime="20230927 20:39:08.642" endtime="20230927 20:39:08.643"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:08.648" level="INFO">Running command 'ozone sh key get /vol-gcczl/buc-ofzlt/.snapshot/snap-alsej/key-ofrti /tmp/tempkey-10982 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:15.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:15.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:08.645" endtime="20230927 20:39:15.694"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:15.696" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:15.695" endtime="20230927 20:39:15.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:15.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:15.696" endtime="20230927 20:39:15.697"/>
</kw>
<status status="PASS" starttime="20230927 20:39:08.644" endtime="20230927 20:39:15.697"/>
</kw>
<msg timestamp="20230927 20:39:15.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:08.644" endtime="20230927 20:39:15.698"/>
</kw>
<status status="PASS" starttime="20230927 20:39:08.643" endtime="20230927 20:39:15.698"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230927 20:39:15.701" level="INFO">Running command 'diff -q /etc/group /tmp/tempkey-10982 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:15.706" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230927 20:39:15.698" endtime="20230927 20:39:15.706"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:15.712" level="INFO">Running command 'rm -f /tmp/tempkey-10982 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:15.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:15.716" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:15.708" endtime="20230927 20:39:15.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:15.718" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:15.717" endtime="20230927 20:39:15.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:15.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:15.718" endtime="20230927 20:39:15.719"/>
</kw>
<status status="PASS" starttime="20230927 20:39:15.708" endtime="20230927 20:39:15.719"/>
</kw>
<msg timestamp="20230927 20:39:15.719" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:15.707" endtime="20230927 20:39:15.719"/>
</kw>
<status status="PASS" starttime="20230927 20:39:15.706" endtime="20230927 20:39:15.719"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230927 20:39:15.720" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230927 20:39:15.720" endtime="20230927 20:39:15.720"/>
</kw>
<msg timestamp="20230927 20:39:15.721" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230927 20:39:08.641" endtime="20230927 20:39:15.721"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230927 20:39:15.721" endtime="20230927 20:39:15.721"/>
</kw>
<status status="PASS" starttime="20230927 20:39:08.640" endtime="20230927 20:39:15.721"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:38:52.611" endtime="20230927 20:39:15.722"/>
</test>
<test id="s1-s20-t6" name="Delete snapshot" line="68">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:15.731" level="INFO">Running command 'ozone sh snapshot delete /vol-gcczl/buc-ofzlt snap-vbwdp 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:39:20.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:20.347" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:15.727" endtime="20230927 20:39:20.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:20.350" level="INFO"/>
<status status="PASS" starttime="20230927 20:39:20.348" endtime="20230927 20:39:20.350"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:20.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:20.350" endtime="20230927 20:39:20.351"/>
</kw>
<status status="PASS" starttime="20230927 20:39:15.726" endtime="20230927 20:39:20.351"/>
</kw>
<msg timestamp="20230927 20:39:20.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:15.726" endtime="20230927 20:39:20.351"/>
</kw>
<msg timestamp="20230927 20:39:20.352" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:39:15.725" endtime="20230927 20:39:20.352"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:39:20.352" endtime="20230927 20:39:20.352"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET} | jq '[.[] | select(.name == "${SNAPSHOT_ONE}") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:39:20.358" level="INFO">Running command 'ozone sh snapshot ls /vol-gcczl/buc-ofzlt | jq '[.[] | select(.name == "snap-vbwdp") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end''.</msg>
<msg timestamp="20230927 20:39:26.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:39:26.330" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230927 20:39:20.355" endtime="20230927 20:39:26.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:39:26.332" level="INFO">"SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230927 20:39:26.331" endtime="20230927 20:39:26.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:39:26.333" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:39:26.332" endtime="20230927 20:39:26.333"/>
</kw>
<status status="PASS" starttime="20230927 20:39:20.354" endtime="20230927 20:39:26.333"/>
</kw>
<msg timestamp="20230927 20:39:26.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:39:20.354" endtime="20230927 20:39:26.333"/>
</kw>
<msg timestamp="20230927 20:39:26.334" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230927 20:39:20.352" endtime="20230927 20:39:26.334"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:39:26.334" endtime="20230927 20:39:26.334"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:39:15.724" endtime="20230927 20:39:26.335"/>
</test>
<doc>Test for using sh commands with snapshots.</doc>
<status status="PASS" starttime="20230927 20:37:48.556" endtime="20230927 20:39:26.337"/>
</suite>
<suite id="s1-s21" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s21-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:22:47.801" level="INFO">${random} = 91845</msg>
<status status="PASS" starttime="20230927 20:22:47.800" endtime="20230927 20:22:47.801"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:47.809" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-91845 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:22:57.400" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:22:57.400" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:47.805" endtime="20230927 20:22:57.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:22:57.402" level="INFO"/>
<status status="PASS" starttime="20230927 20:22:57.401" endtime="20230927 20:22:57.402"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:22:57.403" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:22:57.402" endtime="20230927 20:22:57.403"/>
</kw>
<status status="PASS" starttime="20230927 20:22:47.803" endtime="20230927 20:22:57.403"/>
</kw>
<msg timestamp="20230927 20:22:57.403" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:22:47.802" endtime="20230927 20:22:57.403"/>
</kw>
<msg timestamp="20230927 20:22:57.404" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:47.801" endtime="20230927 20:22:57.404"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:22:57.404" endtime="20230927 20:22:57.404"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:57.409" level="INFO">Running command 'cat /tmp/key-91845 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:22:57.413" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:22:57.414" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:22:57.405" endtime="20230927 20:22:57.414"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:22:57.415" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:22:57.414" endtime="20230927 20:22:57.415"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:22:57.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:22:57.415" endtime="20230927 20:22:57.416"/>
</kw>
<msg timestamp="20230927 20:22:57.416" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:22:57.405" endtime="20230927 20:22:57.416"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:22:57.424" endtime="20230927 20:22:57.425"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:57.429" level="INFO">Running command 'rm /tmp/key-91845 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:22:57.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:22:57.434" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:57.426" endtime="20230927 20:22:57.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:22:57.435" level="INFO"/>
<status status="PASS" starttime="20230927 20:22:57.434" endtime="20230927 20:22:57.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:22:57.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:22:57.436" endtime="20230927 20:22:57.436"/>
</kw>
<status status="PASS" starttime="20230927 20:22:57.425" endtime="20230927 20:22:57.436"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:22:47.799" endtime="20230927 20:22:57.437"/>
</test>
<test id="s1-s21-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:57.446" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:22:58.966" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:22:58.966" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:57.442" endtime="20230927 20:22:58.966"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:22:58.968" level="INFO"/>
<status status="PASS" starttime="20230927 20:22:58.967" endtime="20230927 20:22:58.968"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:22:58.969" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:22:58.968" endtime="20230927 20:22:58.969"/>
</kw>
<status status="PASS" starttime="20230927 20:22:57.441" endtime="20230927 20:22:58.969"/>
</kw>
<msg timestamp="20230927 20:22:58.969" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:22:57.441" endtime="20230927 20:22:58.970"/>
</kw>
<status status="PASS" starttime="20230927 20:22:57.440" endtime="20230927 20:22:58.970"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:58.976" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:22:59.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:22:59.769" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:58.973" endtime="20230927 20:22:59.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:22:59.772" level="INFO"/>
<status status="PASS" starttime="20230927 20:22:59.770" endtime="20230927 20:22:59.772"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:22:59.773" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:22:59.772" endtime="20230927 20:22:59.773"/>
</kw>
<status status="PASS" starttime="20230927 20:22:58.972" endtime="20230927 20:22:59.773"/>
</kw>
<msg timestamp="20230927 20:22:59.773" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:22:58.971" endtime="20230927 20:22:59.773"/>
</kw>
<status status="PASS" starttime="20230927 20:22:58.970" endtime="20230927 20:22:59.774"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:22:59.780" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:00.622" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:00.622" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:22:59.776" endtime="20230927 20:23:00.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:00.623" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:00.623" endtime="20230927 20:23:00.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:00.624" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:00.624" endtime="20230927 20:23:00.624"/>
</kw>
<status status="PASS" starttime="20230927 20:22:59.775" endtime="20230927 20:23:00.625"/>
</kw>
<msg timestamp="20230927 20:23:00.625" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:22:59.775" endtime="20230927 20:23:00.625"/>
</kw>
<status status="PASS" starttime="20230927 20:22:59.774" endtime="20230927 20:23:00.625"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:00.630" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:01.397" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:01.398" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:00.627" endtime="20230927 20:23:01.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:01.400" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:01.398" endtime="20230927 20:23:01.400"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:01.401" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:01.400" endtime="20230927 20:23:01.401"/>
</kw>
<status status="PASS" starttime="20230927 20:23:00.626" endtime="20230927 20:23:01.401"/>
</kw>
<msg timestamp="20230927 20:23:01.401" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:00.626" endtime="20230927 20:23:01.401"/>
</kw>
<status status="PASS" starttime="20230927 20:23:00.625" endtime="20230927 20:23:01.401"/>
</kw>
<status status="PASS" starttime="20230927 20:22:57.440" endtime="20230927 20:23:01.401"/>
</kw>
<status status="PASS" starttime="20230927 20:22:57.439" endtime="20230927 20:23:01.401"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:22:57.438" endtime="20230927 20:23:01.402"/>
</test>
<test id="s1-s21-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:01.414" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:07.565" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:07.565" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:01.406" endtime="20230927 20:23:07.565"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:07.568" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:23:02 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:23:07.566" endtime="20230927 20:23:07.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:07.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:07.568" endtime="20230927 20:23:07.569"/>
</kw>
<msg timestamp="20230927 20:23:07.569" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:01.406" endtime="20230927 20:23:07.569"/>
</kw>
<msg timestamp="20230927 20:23:07.570" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:01.405" endtime="20230927 20:23:07.570"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:07.570" endtime="20230927 20:23:07.571"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:07.576" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:07.579" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:07.579" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:23:07.572" endtime="20230927 20:23:07.579"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:07.581" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:23:07.580" endtime="20230927 20:23:07.581"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:07.582" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:07.582" endtime="20230927 20:23:07.582"/>
</kw>
<msg timestamp="20230927 20:23:07.583" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:23:07.571" endtime="20230927 20:23:07.583"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:07.583" endtime="20230927 20:23:07.583"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:07.588" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:07.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:07.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:07.584" endtime="20230927 20:23:07.593"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:07.595" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:07.594" endtime="20230927 20:23:07.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:07.596" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:07.596" endtime="20230927 20:23:07.597"/>
</kw>
<status status="PASS" starttime="20230927 20:23:07.584" endtime="20230927 20:23:07.597"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:01.404" endtime="20230927 20:23:07.597"/>
</test>
<test id="s1-s21-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:07.606" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:08.854" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:08.854" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:07.602" endtime="20230927 20:23:08.854"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:08.855" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:23:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:23:08.854" endtime="20230927 20:23:08.855"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:08.857" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:08.856" endtime="20230927 20:23:08.857"/>
</kw>
<msg timestamp="20230927 20:23:08.857" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:07.602" endtime="20230927 20:23:08.857"/>
</kw>
<msg timestamp="20230927 20:23:08.857" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:19:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:23:07.601" endtime="20230927 20:23:08.857"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:08.857" endtime="20230927 20:23:08.858"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:08.863" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:08.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:08.867" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:23:08.859" endtime="20230927 20:23:08.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:08.868" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:23:08.868" endtime="20230927 20:23:08.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:08.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:08.869" endtime="20230927 20:23:08.869"/>
</kw>
<msg timestamp="20230927 20:23:08.870" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:23:08.858" endtime="20230927 20:23:08.870"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:08.870" endtime="20230927 20:23:08.871"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:08.876" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:08.886" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:08.886" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:08.872" endtime="20230927 20:23:08.886"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:08.889" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:08.887" endtime="20230927 20:23:08.889"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:08.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:08.889" endtime="20230927 20:23:08.890"/>
</kw>
<status status="PASS" starttime="20230927 20:23:08.871" endtime="20230927 20:23:08.891"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:07.599" endtime="20230927 20:23:08.891"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:22:47.657" endtime="20230927 20:23:08.894"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:13.014" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:23:13.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:13.017" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:13.011" endtime="20230927 20:23:13.017"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:13.019" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:13.018" endtime="20230927 20:23:13.019"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:13.020" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:13.019" endtime="20230927 20:23:13.020"/>
</kw>
<status status="PASS" starttime="20230927 20:23:13.010" endtime="20230927 20:23:13.020"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:13.027" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:23.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:23.913" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:13.023" endtime="20230927 20:23:23.914"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:23.916" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:23.914" endtime="20230927 20:23:23.916"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:23.917" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:23.916" endtime="20230927 20:23:23.917"/>
</kw>
<status status="PASS" starttime="20230927 20:23:13.022" endtime="20230927 20:23:23.917"/>
</kw>
<msg timestamp="20230927 20:23:23.917" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:13.021" endtime="20230927 20:23:23.918"/>
</kw>
<msg timestamp="20230927 20:23:23.918" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:13.021" endtime="20230927 20:23:23.918"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:23.918" endtime="20230927 20:23:23.919"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:23.924" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:23.927" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:23.928" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:23.920" endtime="20230927 20:23:23.928"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:23.929" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:23.928" endtime="20230927 20:23:23.930"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:23.931" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:23.930" endtime="20230927 20:23:23.931"/>
</kw>
<status status="PASS" starttime="20230927 20:23:23.919" endtime="20230927 20:23:23.931"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:13.009" endtime="20230927 20:23:23.931"/>
</test>
<test id="s1-s22-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:23.938" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:23:23.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:23.940" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:23.934" endtime="20230927 20:23:23.941"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:23.942" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:23.941" endtime="20230927 20:23:23.942"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:23.943" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:23.942" endtime="20230927 20:23:23.943"/>
</kw>
<status status="PASS" starttime="20230927 20:23:23.934" endtime="20230927 20:23:23.944"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:23.949" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:33.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:33.482" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:23.946" endtime="20230927 20:23:33.482"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:33.484" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:33.483" endtime="20230927 20:23:33.484"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:33.485" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:33.485" endtime="20230927 20:23:33.485"/>
</kw>
<status status="PASS" starttime="20230927 20:23:23.945" endtime="20230927 20:23:33.486"/>
</kw>
<msg timestamp="20230927 20:23:33.486" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:23.945" endtime="20230927 20:23:33.486"/>
</kw>
<msg timestamp="20230927 20:23:33.486" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:23.944" endtime="20230927 20:23:33.486"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:33.487" endtime="20230927 20:23:33.487"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:33.493" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:33.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:33.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:33.489" endtime="20230927 20:23:33.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:33.499" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:33.498" endtime="20230927 20:23:33.499"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:33.500" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:33.499" endtime="20230927 20:23:33.500"/>
</kw>
<status status="PASS" starttime="20230927 20:23:33.488" endtime="20230927 20:23:33.500"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:23.933" endtime="20230927 20:23:33.500"/>
</test>
<test id="s1-s22-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:33.510" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:34.175" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:34.175" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:33.506" endtime="20230927 20:23:34.175"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:34.177" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:34.176" endtime="20230927 20:23:34.177"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:34.177" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:34.177" endtime="20230927 20:23:34.178"/>
</kw>
<status status="PASS" starttime="20230927 20:23:33.506" endtime="20230927 20:23:34.178"/>
</kw>
<msg timestamp="20230927 20:23:34.178" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:33.505" endtime="20230927 20:23:34.178"/>
</kw>
<status status="PASS" starttime="20230927 20:23:33.505" endtime="20230927 20:23:34.178"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:34.183" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:34.899" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:34.899" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:34.180" endtime="20230927 20:23:34.900"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:34.901" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:34.900" endtime="20230927 20:23:34.902"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:34.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:34.902" endtime="20230927 20:23:34.903"/>
</kw>
<status status="PASS" starttime="20230927 20:23:34.179" endtime="20230927 20:23:34.903"/>
</kw>
<msg timestamp="20230927 20:23:34.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:34.179" endtime="20230927 20:23:34.904"/>
</kw>
<status status="PASS" starttime="20230927 20:23:34.178" endtime="20230927 20:23:34.904"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:34.909" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:35.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:35.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:34.906" endtime="20230927 20:23:35.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:35.656" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:35.655" endtime="20230927 20:23:35.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:35.657" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:35.656" endtime="20230927 20:23:35.657"/>
</kw>
<status status="PASS" starttime="20230927 20:23:34.905" endtime="20230927 20:23:35.658"/>
</kw>
<msg timestamp="20230927 20:23:35.658" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:34.905" endtime="20230927 20:23:35.658"/>
</kw>
<status status="PASS" starttime="20230927 20:23:34.904" endtime="20230927 20:23:35.658"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:35.664" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:36.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:36.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:35.660" endtime="20230927 20:23:36.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:36.411" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:36.410" endtime="20230927 20:23:36.411"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:36.412" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:36.411" endtime="20230927 20:23:36.413"/>
</kw>
<status status="PASS" starttime="20230927 20:23:35.660" endtime="20230927 20:23:36.413"/>
</kw>
<msg timestamp="20230927 20:23:36.413" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:35.659" endtime="20230927 20:23:36.413"/>
</kw>
<status status="PASS" starttime="20230927 20:23:35.658" endtime="20230927 20:23:36.413"/>
</kw>
<status status="PASS" starttime="20230927 20:23:33.504" endtime="20230927 20:23:36.413"/>
</kw>
<status status="PASS" starttime="20230927 20:23:33.503" endtime="20230927 20:23:36.413"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:33.502" endtime="20230927 20:23:36.414"/>
</test>
<test id="s1-s22-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:23:36.417" level="INFO">${randStr} = 9029535377</msg>
<status status="PASS" starttime="20230927 20:23:36.417" endtime="20230927 20:23:36.417"/>
</kw>
<msg timestamp="20230927 20:23:36.417" level="INFO">${random} = ozone-test-9029535377</msg>
<status status="PASS" starttime="20230927 20:23:36.416" endtime="20230927 20:23:36.418"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:36.424" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-9029535377 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:37.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:37.663" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9029535377"
}</msg>
<status status="PASS" starttime="20230927 20:23:36.420" endtime="20230927 20:23:37.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:37.666" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9029535377"
}</msg>
<status status="PASS" starttime="20230927 20:23:37.663" endtime="20230927 20:23:37.666"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:37.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:37.666" endtime="20230927 20:23:37.668"/>
</kw>
<status status="PASS" starttime="20230927 20:23:36.420" endtime="20230927 20:23:37.668"/>
</kw>
<msg timestamp="20230927 20:23:37.668" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:36.420" endtime="20230927 20:23:37.668"/>
</kw>
<msg timestamp="20230927 20:23:37.670" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9029535377"
}</msg>
<status status="PASS" starttime="20230927 20:23:36.419" endtime="20230927 20:23:37.670"/>
</kw>
<msg timestamp="20230927 20:23:37.670" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9029535377"
}</msg>
<status status="PASS" starttime="20230927 20:23:36.418" endtime="20230927 20:23:37.671"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:37.672" endtime="20230927 20:23:37.672"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:37.673" endtime="20230927 20:23:37.674"/>
</kw>
<msg timestamp="20230927 20:23:37.675" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:23:36.418" endtime="20230927 20:23:37.675"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:23:37.675" endtime="20230927 20:23:37.677"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:36.415" endtime="20230927 20:23:37.678"/>
</test>
<test id="s1-s22-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:37.693" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:23:37.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:37.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:37.686" endtime="20230927 20:23:37.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:37.698" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:37.696" endtime="20230927 20:23:37.699"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:37.700" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:37.699" endtime="20230927 20:23:37.700"/>
</kw>
<status status="PASS" starttime="20230927 20:23:37.684" endtime="20230927 20:23:37.702"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:37.715" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:39.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:39.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:37.706" endtime="20230927 20:23:39.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:39.435" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:39.434" endtime="20230927 20:23:39.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:39.437" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:39.436" endtime="20230927 20:23:39.437"/>
</kw>
<msg timestamp="20230927 20:23:39.438" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:37.704" endtime="20230927 20:23:39.438"/>
</kw>
<msg timestamp="20230927 20:23:39.438" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:37.702" endtime="20230927 20:23:39.438"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:39.439" endtime="20230927 20:23:39.439"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:39.445" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:39.450" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:39.450" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:39.441" endtime="20230927 20:23:39.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:39.452" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:39.451" endtime="20230927 20:23:39.453"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:39.454" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:39.453" endtime="20230927 20:23:39.454"/>
</kw>
<status status="PASS" starttime="20230927 20:23:39.440" endtime="20230927 20:23:39.454"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:37.681" endtime="20230927 20:23:39.455"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:23:12.898" endtime="20230927 20:23:39.458"/>
</suite>
<suite id="s1-s23" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s23-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:43.520" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:49.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:49.118" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:43.516" endtime="20230927 20:23:49.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:49.120" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:49.119" endtime="20230927 20:23:49.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:49.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:49.121" endtime="20230927 20:23:49.121"/>
</kw>
<status status="PASS" starttime="20230927 20:23:43.516" endtime="20230927 20:23:49.122"/>
</kw>
<msg timestamp="20230927 20:23:49.122" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:43.515" endtime="20230927 20:23:49.122"/>
</kw>
<msg timestamp="20230927 20:23:49.122" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:43.515" endtime="20230927 20:23:49.122"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:49.122" endtime="20230927 20:23:49.123"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:49.128" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:23:54.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:54.486" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:49.125" endtime="20230927 20:23:54.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:54.488" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:54.487" endtime="20230927 20:23:54.489"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:54.490" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:54.489" endtime="20230927 20:23:54.490"/>
</kw>
<status status="PASS" starttime="20230927 20:23:49.124" endtime="20230927 20:23:54.490"/>
</kw>
<msg timestamp="20230927 20:23:54.490" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:49.124" endtime="20230927 20:23:54.491"/>
</kw>
<msg timestamp="20230927 20:23:54.491" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:49.123" endtime="20230927 20:23:54.491"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:23:54.491" endtime="20230927 20:23:54.492"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:43.513" endtime="20230927 20:23:54.492"/>
</test>
<test id="s1-s23-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:54.500" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:23:54.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:23:54.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:54.496" endtime="20230927 20:23:54.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:23:54.504" level="INFO"/>
<status status="PASS" starttime="20230927 20:23:54.503" endtime="20230927 20:23:54.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:23:54.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:23:54.505" endtime="20230927 20:23:54.505"/>
</kw>
<status status="PASS" starttime="20230927 20:23:54.495" endtime="20230927 20:23:54.506"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:23:54.518" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:04.158" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:04.158" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:54.513" endtime="20230927 20:24:04.158"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:04.160" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:04.158" endtime="20230927 20:24:04.160"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:04.161" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:04.160" endtime="20230927 20:24:04.161"/>
</kw>
<status status="PASS" starttime="20230927 20:23:54.512" endtime="20230927 20:24:04.161"/>
</kw>
<msg timestamp="20230927 20:24:04.161" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:23:54.512" endtime="20230927 20:24:04.162"/>
</kw>
<msg timestamp="20230927 20:24:04.162" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:23:54.507" endtime="20230927 20:24:04.162"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:04.162" endtime="20230927 20:24:04.163"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:04.167" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:04.172" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:04.172" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:04.164" endtime="20230927 20:24:04.172"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:04.175" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:04.173" endtime="20230927 20:24:04.175"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:04.175" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:04.175" endtime="20230927 20:24:04.176"/>
</kw>
<status status="PASS" starttime="20230927 20:24:04.163" endtime="20230927 20:24:04.176"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:23:54.494" endtime="20230927 20:24:04.176"/>
</test>
<test id="s1-s23-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:04.186" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:09.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:09.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:04.182" endtime="20230927 20:24:09.814"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:09.816" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:09.814" endtime="20230927 20:24:09.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:09.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:09.816" endtime="20230927 20:24:09.817"/>
</kw>
<status status="PASS" starttime="20230927 20:24:04.182" endtime="20230927 20:24:09.818"/>
</kw>
<msg timestamp="20230927 20:24:09.818" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:04.181" endtime="20230927 20:24:09.818"/>
</kw>
<msg timestamp="20230927 20:24:09.818" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:04.180" endtime="20230927 20:24:09.818"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:09.819" endtime="20230927 20:24:09.819"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:04.179" endtime="20230927 20:24:09.820"/>
</test>
<test id="s1-s23-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:09.828" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:24:09.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:09.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:09.824" endtime="20230927 20:24:09.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:09.832" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:09.831" endtime="20230927 20:24:09.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:09.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:09.832" endtime="20230927 20:24:09.833"/>
</kw>
<status status="PASS" starttime="20230927 20:24:09.823" endtime="20230927 20:24:09.833"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:09.839" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:19.025" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:19.026" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:09.835" endtime="20230927 20:24:19.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:19.028" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:19.026" endtime="20230927 20:24:19.028"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:19.029" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:19.028" endtime="20230927 20:24:19.029"/>
</kw>
<status status="PASS" starttime="20230927 20:24:09.834" endtime="20230927 20:24:19.029"/>
</kw>
<msg timestamp="20230927 20:24:19.030" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:09.834" endtime="20230927 20:24:19.030"/>
</kw>
<msg timestamp="20230927 20:24:19.030" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:09.833" endtime="20230927 20:24:19.030"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:19.031" endtime="20230927 20:24:19.031"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:19.036" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:19.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:19.040" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:19.032" endtime="20230927 20:24:19.041"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:19.042" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:19.041" endtime="20230927 20:24:19.042"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:19.043" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:19.043" endtime="20230927 20:24:19.044"/>
</kw>
<status status="PASS" starttime="20230927 20:24:19.031" endtime="20230927 20:24:19.044"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:09.822" endtime="20230927 20:24:19.044"/>
</test>
<test id="s1-s23-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:19.053" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:20.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:20.191" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:19.050" endtime="20230927 20:24:20.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:20.193" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:20.192" endtime="20230927 20:24:20.193"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:20.194" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:20.194" endtime="20230927 20:24:20.194"/>
</kw>
<status status="PASS" starttime="20230927 20:24:19.049" endtime="20230927 20:24:20.195"/>
</kw>
<msg timestamp="20230927 20:24:20.195" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:19.049" endtime="20230927 20:24:20.195"/>
</kw>
<status status="PASS" starttime="20230927 20:24:19.048" endtime="20230927 20:24:20.195"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:20.202" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:20.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:20.904" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:20.198" endtime="20230927 20:24:20.904"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:20.907" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:20.905" endtime="20230927 20:24:20.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:20.908" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:20.907" endtime="20230927 20:24:20.908"/>
</kw>
<status status="PASS" starttime="20230927 20:24:20.197" endtime="20230927 20:24:20.908"/>
</kw>
<msg timestamp="20230927 20:24:20.908" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:20.196" endtime="20230927 20:24:20.908"/>
</kw>
<status status="PASS" starttime="20230927 20:24:20.195" endtime="20230927 20:24:20.909"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:20.915" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:21.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:21.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:20.911" endtime="20230927 20:24:21.538"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:21.540" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:21.539" endtime="20230927 20:24:21.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:21.541" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:21.540" endtime="20230927 20:24:21.541"/>
</kw>
<status status="PASS" starttime="20230927 20:24:20.910" endtime="20230927 20:24:21.541"/>
</kw>
<msg timestamp="20230927 20:24:21.541" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:20.910" endtime="20230927 20:24:21.541"/>
</kw>
<status status="PASS" starttime="20230927 20:24:20.909" endtime="20230927 20:24:21.542"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:21.546" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:22.246" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:22.246" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:21.543" endtime="20230927 20:24:22.246"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:22.248" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:22.247" endtime="20230927 20:24:22.248"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:22.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:22.248" endtime="20230927 20:24:22.249"/>
</kw>
<status status="PASS" starttime="20230927 20:24:21.543" endtime="20230927 20:24:22.249"/>
</kw>
<msg timestamp="20230927 20:24:22.249" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:21.542" endtime="20230927 20:24:22.249"/>
</kw>
<status status="PASS" starttime="20230927 20:24:21.542" endtime="20230927 20:24:22.249"/>
</kw>
<status status="PASS" starttime="20230927 20:24:19.047" endtime="20230927 20:24:22.249"/>
</kw>
<status status="PASS" starttime="20230927 20:24:19.047" endtime="20230927 20:24:22.249"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:19.046" endtime="20230927 20:24:22.250"/>
</test>
<test id="s1-s23-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:24:22.253" level="INFO">${randStr} = 4512309916</msg>
<status status="PASS" starttime="20230927 20:24:22.253" endtime="20230927 20:24:22.254"/>
</kw>
<msg timestamp="20230927 20:24:22.254" level="INFO">${random} = ozone-test-4512309916</msg>
<status status="PASS" starttime="20230927 20:24:22.252" endtime="20230927 20:24:22.254"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:22.261" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-4512309916 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:23.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:23.198" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-4512309916"
}</msg>
<status status="PASS" starttime="20230927 20:24:22.257" endtime="20230927 20:24:23.198"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:23.200" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-4512309916"
}</msg>
<status status="PASS" starttime="20230927 20:24:23.199" endtime="20230927 20:24:23.200"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:23.201" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:23.200" endtime="20230927 20:24:23.201"/>
</kw>
<status status="PASS" starttime="20230927 20:24:22.256" endtime="20230927 20:24:23.201"/>
</kw>
<msg timestamp="20230927 20:24:23.201" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:22.256" endtime="20230927 20:24:23.201"/>
</kw>
<msg timestamp="20230927 20:24:23.202" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-4512309916"
}</msg>
<status status="PASS" starttime="20230927 20:24:22.255" endtime="20230927 20:24:23.202"/>
</kw>
<msg timestamp="20230927 20:24:23.202" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-4512309916"
}</msg>
<status status="PASS" starttime="20230927 20:24:22.255" endtime="20230927 20:24:23.202"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:23.202" endtime="20230927 20:24:23.203"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:23.203" endtime="20230927 20:24:23.203"/>
</kw>
<msg timestamp="20230927 20:24:23.203" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230927 20:24:22.254" endtime="20230927 20:24:23.203"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230927 20:24:23.204" endtime="20230927 20:24:23.204"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:22.251" endtime="20230927 20:24:23.205"/>
</test>
<test id="s1-s23-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:23.211" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230927 20:24:23.213" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:23.213" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:23.207" endtime="20230927 20:24:23.213"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:23.215" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:23.214" endtime="20230927 20:24:23.215"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:23.216" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:23.215" endtime="20230927 20:24:23.216"/>
</kw>
<status status="PASS" starttime="20230927 20:24:23.207" endtime="20230927 20:24:23.217"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:23.222" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:24.397" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:24.398" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:23.219" endtime="20230927 20:24:24.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:24.399" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:24.398" endtime="20230927 20:24:24.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:24.400" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:24.400" endtime="20230927 20:24:24.400"/>
</kw>
<msg timestamp="20230927 20:24:24.401" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:23.218" endtime="20230927 20:24:24.401"/>
</kw>
<msg timestamp="20230927 20:24:24.401" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:23.217" endtime="20230927 20:24:24.401"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:24.401" endtime="20230927 20:24:24.402"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:24.406" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:24.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:24.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:24.403" endtime="20230927 20:24:24.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:24.410" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:24.410" endtime="20230927 20:24:24.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:24.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:24.411" endtime="20230927 20:24:24.411"/>
</kw>
<status status="PASS" starttime="20230927 20:24:24.402" endtime="20230927 20:24:24.411"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:23.206" endtime="20230927 20:24:24.412"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230927 20:23:43.367" endtime="20230927 20:24:24.414"/>
</suite>
<suite id="s1-s24" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s24-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230927 20:24:28.515" level="INFO">${random} = 26435</msg>
<status status="PASS" starttime="20230927 20:24:28.514" endtime="20230927 20:24:28.515"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:28.521" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-26435 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:36.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:36.697" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:28.517" endtime="20230927 20:24:36.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:36.698" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:36.697" endtime="20230927 20:24:36.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:36.699" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:36.699" endtime="20230927 20:24:36.699"/>
</kw>
<status status="PASS" starttime="20230927 20:24:28.517" endtime="20230927 20:24:36.700"/>
</kw>
<msg timestamp="20230927 20:24:36.700" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:28.516" endtime="20230927 20:24:36.700"/>
</kw>
<msg timestamp="20230927 20:24:36.700" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:28.515" endtime="20230927 20:24:36.700"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:36.701" endtime="20230927 20:24:36.701"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:36.706" level="INFO">Running command 'cat /tmp/key-26435 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:36.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:36.710" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:36.702" endtime="20230927 20:24:36.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:36.712" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:36.711" endtime="20230927 20:24:36.712"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:36.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:36.712" endtime="20230927 20:24:36.713"/>
</kw>
<msg timestamp="20230927 20:24:36.713" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:36.701" endtime="20230927 20:24:36.713"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:36.714" endtime="20230927 20:24:36.714"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:36.719" level="INFO">Running command 'rm /tmp/key-26435 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:36.723" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:36.723" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:36.715" endtime="20230927 20:24:36.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:36.725" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:36.724" endtime="20230927 20:24:36.725"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:36.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:36.725" endtime="20230927 20:24:36.726"/>
</kw>
<status status="PASS" starttime="20230927 20:24:36.714" endtime="20230927 20:24:36.726"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:28.513" endtime="20230927 20:24:36.726"/>
</test>
<test id="s1-s24-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:36.735" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:37.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:37.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:36.732" endtime="20230927 20:24:37.538"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:37.540" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:37.539" endtime="20230927 20:24:37.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:37.541" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:37.540" endtime="20230927 20:24:37.541"/>
</kw>
<status status="PASS" starttime="20230927 20:24:36.731" endtime="20230927 20:24:37.541"/>
</kw>
<msg timestamp="20230927 20:24:37.542" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:36.731" endtime="20230927 20:24:37.542"/>
</kw>
<status status="PASS" starttime="20230927 20:24:36.730" endtime="20230927 20:24:37.542"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:37.549" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:38.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:38.488" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:37.544" endtime="20230927 20:24:38.488"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:38.490" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:38.489" endtime="20230927 20:24:38.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:38.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:38.490" endtime="20230927 20:24:38.491"/>
</kw>
<status status="PASS" starttime="20230927 20:24:37.543" endtime="20230927 20:24:38.491"/>
</kw>
<msg timestamp="20230927 20:24:38.491" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:37.543" endtime="20230927 20:24:38.492"/>
</kw>
<status status="PASS" starttime="20230927 20:24:37.542" endtime="20230927 20:24:38.492"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:38.504" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:39.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:39.217" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:38.499" endtime="20230927 20:24:39.217"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:39.218" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:39.217" endtime="20230927 20:24:39.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:39.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:39.219" endtime="20230927 20:24:39.219"/>
</kw>
<status status="PASS" starttime="20230927 20:24:38.497" endtime="20230927 20:24:39.219"/>
</kw>
<msg timestamp="20230927 20:24:39.219" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:38.492" endtime="20230927 20:24:39.220"/>
</kw>
<status status="PASS" starttime="20230927 20:24:38.492" endtime="20230927 20:24:39.220"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:39.225" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:39.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:39.963" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:39.221" endtime="20230927 20:24:39.964"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:39.965" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:39.964" endtime="20230927 20:24:39.965"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:39.966" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:39.965" endtime="20230927 20:24:39.966"/>
</kw>
<status status="PASS" starttime="20230927 20:24:39.221" endtime="20230927 20:24:39.966"/>
</kw>
<msg timestamp="20230927 20:24:39.966" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:39.221" endtime="20230927 20:24:39.966"/>
</kw>
<status status="PASS" starttime="20230927 20:24:39.220" endtime="20230927 20:24:39.967"/>
</kw>
<status status="PASS" starttime="20230927 20:24:36.730" endtime="20230927 20:24:39.967"/>
</kw>
<status status="PASS" starttime="20230927 20:24:36.729" endtime="20230927 20:24:39.967"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:36.728" endtime="20230927 20:24:39.967"/>
</test>
<test id="s1-s24-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:39.975" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:40.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:40.956" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:39.971" endtime="20230927 20:24:40.956"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:40.958" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:24:40 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:24:40.957" endtime="20230927 20:24:40.958"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:40.959" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:40.959" endtime="20230927 20:24:40.960"/>
</kw>
<msg timestamp="20230927 20:24:40.960" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:39.970" endtime="20230927 20:24:40.960"/>
</kw>
<msg timestamp="20230927 20:24:40.960" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:39.970" endtime="20230927 20:24:40.960"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:40.961" endtime="20230927 20:24:40.961"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:40.967" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:40.970" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:40.971" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:40.962" endtime="20230927 20:24:40.971"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:40.973" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:40.971" endtime="20230927 20:24:40.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:40.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:40.973" endtime="20230927 20:24:40.974"/>
</kw>
<msg timestamp="20230927 20:24:40.975" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230927 20:24:40.961" endtime="20230927 20:24:40.975"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:40.975" endtime="20230927 20:24:40.976"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:40.982" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:40.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:40.986" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:40.978" endtime="20230927 20:24:40.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:40.989" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:40.987" endtime="20230927 20:24:40.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:40.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:40.989" endtime="20230927 20:24:40.990"/>
</kw>
<status status="PASS" starttime="20230927 20:24:40.977" endtime="20230927 20:24:40.990"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:39.969" endtime="20230927 20:24:40.991"/>
</test>
<test id="s1-s24-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:41.000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:41.887" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:41.887" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:40.995" endtime="20230927 20:24:41.887"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:41.890" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 27 Sep 2023 20:24:41 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230927 20:24:41.888" endtime="20230927 20:24:41.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:41.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:41.890" endtime="20230927 20:24:41.892"/>
</kw>
<msg timestamp="20230927 20:24:41.892" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:40.995" endtime="20230927 20:24:41.892"/>
</kw>
<msg timestamp="20230927 20:24:41.893" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 27 Sep 2023 20:24:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230927 20:24:40.994" endtime="20230927 20:24:41.893"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:41.893" endtime="20230927 20:24:41.894"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:41.899" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:41.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:41.908" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:24:41.895" endtime="20230927 20:24:41.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:41.910" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:24:41.909" endtime="20230927 20:24:41.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:41.912" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:41.911" endtime="20230927 20:24:41.912"/>
</kw>
<msg timestamp="20230927 20:24:41.912" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230927 20:24:41.894" endtime="20230927 20:24:41.912"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:24:41.913" endtime="20230927 20:24:41.914"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:41.918" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:41.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:41.923" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:24:41.915" endtime="20230927 20:24:41.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:41.925" level="INFO"/>
<status status="PASS" starttime="20230927 20:24:41.924" endtime="20230927 20:24:41.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:41.926" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:41.926" endtime="20230927 20:24:41.926"/>
</kw>
<status status="PASS" starttime="20230927 20:24:41.914" endtime="20230927 20:24:41.927"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:24:40.993" endtime="20230927 20:24:41.927"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230927 20:24:28.391" endtime="20230927 20:24:41.930"/>
</suite>
<suite id="s1-s25" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s25-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:24:46.011" endtime="20230927 20:24:46.013"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:46.019" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:52.084" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:52.084" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:46.015" endtime="20230927 20:24:52.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:52.086" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:52.085" endtime="20230927 20:24:52.086"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:52.087" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:52.086" endtime="20230927 20:24:52.087"/>
</kw>
<status status="PASS" starttime="20230927 20:24:46.014" endtime="20230927 20:24:52.087"/>
</kw>
<msg timestamp="20230927 20:24:52.087" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:46.014" endtime="20230927 20:24:52.087"/>
</kw>
<msg timestamp="20230927 20:24:52.088" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:46.013" endtime="20230927 20:24:52.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:52.088" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:52.088" endtime="20230927 20:24:52.088"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:24:52.088" endtime="20230927 20:24:52.089"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:24:46.009" endtime="20230927 20:24:52.089"/>
</test>
<test id="s1-s25-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:24:52.091" endtime="20230927 20:24:52.091"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:24:52.097" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:24:57.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:24:57.303" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:52.093" endtime="20230927 20:24:57.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:57.305" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:57.304" endtime="20230927 20:24:57.305"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:24:57.306" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:24:57.305" endtime="20230927 20:24:57.306"/>
</kw>
<status status="PASS" starttime="20230927 20:24:52.092" endtime="20230927 20:24:57.306"/>
</kw>
<msg timestamp="20230927 20:24:57.306" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:24:52.092" endtime="20230927 20:24:57.306"/>
</kw>
<msg timestamp="20230927 20:24:57.307" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:52.091" endtime="20230927 20:24:57.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:24:57.307" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230927 20:24:57.307" endtime="20230927 20:24:57.307"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230927 20:24:57.307" endtime="20230927 20:24:57.308"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230927 20:24:52.090" endtime="20230927 20:24:57.308"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230927 20:24:45.871" endtime="20230927 20:24:57.310"/>
</suite>
<suite id="s1-s26" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s26-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:01.259" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:06.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:25:06.439" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:25:01.255" endtime="20230927 20:25:06.439"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:06.441" level="INFO"/>
<status status="PASS" starttime="20230927 20:25:06.440" endtime="20230927 20:25:06.441"/>
</kw>
<msg timestamp="20230927 20:25:06.441" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:25:01.254" endtime="20230927 20:25:06.441"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:06.441" endtime="20230927 20:25:06.442"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:06.447" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:11.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:25:11.660" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:25:06.443" endtime="20230927 20:25:11.660"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:11.662" level="INFO"/>
<status status="PASS" starttime="20230927 20:25:11.661" endtime="20230927 20:25:11.663"/>
</kw>
<msg timestamp="20230927 20:25:11.663" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230927 20:25:06.442" endtime="20230927 20:25:11.663"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:11.664" endtime="20230927 20:25:11.665"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:11.671" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:16.220" level="INFO">${rc} = 255</msg>
<msg timestamp="20230927 20:25:16.220" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230927 20:25:11.666" endtime="20230927 20:25:16.220"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:16.221" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230927 20:25:16.220" endtime="20230927 20:25:16.222"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:25:16.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:25:16.222" endtime="20230927 20:25:16.223"/>
</kw>
<msg timestamp="20230927 20:25:16.223" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230927 20:25:11.665" endtime="20230927 20:25:16.223"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:16.223" endtime="20230927 20:25:16.224"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:25:01.253" endtime="20230927 20:25:16.224"/>
</test>
<test id="s1-s26-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:16.231" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:21.226" level="INFO">${rc} = 255</msg>
<msg timestamp="20230927 20:25:21.226" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230927 20:25:16.227" endtime="20230927 20:25:21.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:21.229" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230927 20:25:21.227" endtime="20230927 20:25:21.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:25:21.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:25:21.229" endtime="20230927 20:25:21.230"/>
</kw>
<msg timestamp="20230927 20:25:21.231" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230927 20:25:16.227" endtime="20230927 20:25:21.231"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:21.231" endtime="20230927 20:25:21.232"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:25:16.226" endtime="20230927 20:25:21.232"/>
</test>
<test id="s1-s26-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:21.238" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:26.298" level="INFO">${rc} = 255</msg>
<msg timestamp="20230927 20:25:26.298" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230927 20:25:21.235" endtime="20230927 20:25:26.298"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:26.300" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230927 20:25:26.299" endtime="20230927 20:25:26.300"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:25:26.301" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:25:26.300" endtime="20230927 20:25:26.301"/>
</kw>
<msg timestamp="20230927 20:25:26.301" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230927 20:25:21.234" endtime="20230927 20:25:26.301"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:26.301" endtime="20230927 20:25:26.302"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:25:21.233" endtime="20230927 20:25:26.302"/>
</test>
<test id="s1-s26-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:26.310" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:31.472" level="INFO">${rc} = 255</msg>
<msg timestamp="20230927 20:25:31.472" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230927 20:25:26.306" endtime="20230927 20:25:31.472"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:31.475" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230927 20:25:31.473" endtime="20230927 20:25:31.475"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:25:31.476" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:25:31.475" endtime="20230927 20:25:31.476"/>
</kw>
<msg timestamp="20230927 20:25:31.477" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230927 20:25:26.305" endtime="20230927 20:25:31.477"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:31.477" endtime="20230927 20:25:31.477"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:25:26.304" endtime="20230927 20:25:31.478"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230927 20:25:01.183" endtime="20230927 20:25:31.480"/>
</suite>
<suite id="s1-s27" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s27-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230927 20:25:35.616" endtime="20230927 20:25:35.617"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230927 20:25:35.617" endtime="20230927 20:25:35.618"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230927 20:25:35.624" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230927 20:25:46.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20230927 20:25:46.905" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230927 20:25:35.619" endtime="20230927 20:25:46.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230927 20:25:46.906" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230927 20:25:46.905" endtime="20230927 20:25:46.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230927 20:25:46.907" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230927 20:25:46.907" endtime="20230927 20:25:46.908"/>
</kw>
<status status="PASS" starttime="20230927 20:25:35.619" endtime="20230927 20:25:46.908"/>
</kw>
<msg timestamp="20230927 20:25:46.908" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230927 20:25:35.619" endtime="20230927 20:25:46.908"/>
</kw>
<msg timestamp="20230927 20:25:46.908" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230927 20:25:35.618" endtime="20230927 20:25:46.908"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230927 20:25:46.909" endtime="20230927 20:25:46.910"/>
</kw>
<status status="PASS" starttime="20230927 20:25:46.909" endtime="20230927 20:25:46.910"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230927 20:25:35.615" endtime="20230927 20:25:46.910"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230927 20:25:35.542" endtime="20230927 20:25:46.912"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="633623"/>
</suite>
<statistics>
<total>
<stat pass="103" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="103" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s4" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s5" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s6" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s8" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s9" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s10" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s11" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Finalize">upgrade.Finalize</stat>
<stat pass="2" fail="0" skip="0" id="s1-s13" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s17" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s18" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s19" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s20" name="Snapshot-Sh">upgrade.Snapshot-Sh</stat>
<stat pass="4" fail="0" skip="0" id="s1-s21" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s23" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s24" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s25" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s26" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s27" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
