<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230906 18:00:44.457" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230906 17:54:18.172" endtime="20230906 17:54:18.173"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:18.180" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:18.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:18.182" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9d8ef59edbcb
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230906 17:54:18.174" endtime="20230906 17:54:18.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:18.183" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9d8ef59edbcb
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230906 17:54:18.182" endtime="20230906 17:54:18.183"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:18.184" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:18.183" endtime="20230906 17:54:18.184"/>
</kw>
<status status="PASS" starttime="20230906 17:54:18.174" endtime="20230906 17:54:18.184"/>
</kw>
<msg timestamp="20230906 17:54:18.184" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:18.174" endtime="20230906 17:54:18.185"/>
</kw>
<msg timestamp="20230906 17:54:18.186" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9d8ef59edbcb
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230906 17:54:18.173" endtime="20230906 17:54:18.186"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:18.186" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9d8ef59edbcb
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230906 17:54:18.186" endtime="20230906 17:54:18.186"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230906 17:54:18.187" endtime="20230906 17:54:18.187"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:18.191" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:21.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:21.219" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230906 17:54:18.188" endtime="20230906 17:54:21.219"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:21.220" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230906 17:54:21.219" endtime="20230906 17:54:21.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:21.221" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:21.220" endtime="20230906 17:54:21.221"/>
</kw>
<status status="PASS" starttime="20230906 17:54:18.188" endtime="20230906 17:54:21.221"/>
</kw>
<msg timestamp="20230906 17:54:21.221" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:18.188" endtime="20230906 17:54:21.222"/>
</kw>
<msg timestamp="20230906 17:54:21.222" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230906 17:54:18.187" endtime="20230906 17:54:21.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:21.223" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230906 17:54:21.223" endtime="20230906 17:54:21.223"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230906 17:54:21.223" endtime="20230906 17:54:21.223"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230906 17:54:18.171" endtime="20230906 17:54:21.224"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230906 17:54:21.226" endtime="20230906 17:54:21.226"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230906 17:54:21.227" endtime="20230906 17:54:21.227"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:21.231" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:24.023" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:24.024" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230906 17:54:21.228" endtime="20230906 17:54:24.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:24.025" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230906 17:54:24.024" endtime="20230906 17:54:24.025"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:24.026" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:24.025" endtime="20230906 17:54:24.026"/>
</kw>
<status status="PASS" starttime="20230906 17:54:21.228" endtime="20230906 17:54:24.026"/>
</kw>
<msg timestamp="20230906 17:54:24.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:21.227" endtime="20230906 17:54:24.027"/>
</kw>
<msg timestamp="20230906 17:54:24.027" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230906 17:54:21.227" endtime="20230906 17:54:24.027"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:24.027" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230906 17:54:24.027" endtime="20230906 17:54:24.027"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230906 17:54:24.027" endtime="20230906 17:54:24.028"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230906 17:54:21.225" endtime="20230906 17:54:24.028"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230906 17:54:18.115" endtime="20230906 17:54:24.029"/>
</suite>
<suite id="s1-s2" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s2-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:26.998" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:29.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:29.806" level="INFO">${output} = 2023-09-06 17:54:29,629 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230906 17:54:26.994" endtime="20230906 17:54:29.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:29.808" level="INFO">2023-09-06 17:54:29,629 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230906 17:54:29.807" endtime="20230906 17:54:29.808"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:29.809" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:29.808" endtime="20230906 17:54:29.809"/>
</kw>
<status status="PASS" starttime="20230906 17:54:26.993" endtime="20230906 17:54:29.810"/>
</kw>
<msg timestamp="20230906 17:54:29.810" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:26.993" endtime="20230906 17:54:29.813"/>
</kw>
<msg timestamp="20230906 17:54:29.813" level="INFO">${output} = 2023-09-06 17:54:29,629 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230906 17:54:26.992" endtime="20230906 17:54:29.814"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:29.814" endtime="20230906 17:54:29.814"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:29.823" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:32.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:32.775" level="INFO">${output} = 2023-09-06 17:54:32,694 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230906 17:54:29.816" endtime="20230906 17:54:32.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:32.776" level="INFO">2023-09-06 17:54:32,694 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230906 17:54:32.775" endtime="20230906 17:54:32.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:32.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:32.776" endtime="20230906 17:54:32.777"/>
</kw>
<status status="PASS" starttime="20230906 17:54:29.815" endtime="20230906 17:54:32.777"/>
</kw>
<msg timestamp="20230906 17:54:32.777" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:29.815" endtime="20230906 17:54:32.778"/>
</kw>
<msg timestamp="20230906 17:54:32.779" level="INFO">${output} = 2023-09-06 17:54:32,694 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230906 17:54:29.815" endtime="20230906 17:54:32.779"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:32.779" endtime="20230906 17:54:32.779"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:26.991" endtime="20230906 17:54:32.780"/>
</test>
<test id="s1-s2-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:32.789" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230906 17:54:32.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:32.790" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:32.785" endtime="20230906 17:54:32.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:32.791" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:32.790" endtime="20230906 17:54:32.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:32.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:32.791" endtime="20230906 17:54:32.792"/>
</kw>
<status status="PASS" starttime="20230906 17:54:32.784" endtime="20230906 17:54:32.792"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:32.796" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:39.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:39.029" level="INFO">${output} = 2023-09-06 17:54:36,649 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:36,767 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:32.794" endtime="20230906 17:54:39.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:39.032" level="INFO">2023-09-06 17:54:36,649 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:36,767 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-06 17:54:36,768 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-06 17:54:37,061 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230906 17:54:39.030" endtime="20230906 17:54:39.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:39.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:39.032" endtime="20230906 17:54:39.032"/>
</kw>
<status status="PASS" starttime="20230906 17:54:32.793" endtime="20230906 17:54:39.033"/>
</kw>
<msg timestamp="20230906 17:54:39.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:32.793" endtime="20230906 17:54:39.033"/>
</kw>
<msg timestamp="20230906 17:54:39.034" level="INFO">${output} = 2023-09-06 17:54:36,649 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:36,767 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:32.792" endtime="20230906 17:54:39.034"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:39.034" endtime="20230906 17:54:39.034"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:39.038" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:39.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:39.042" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:39.035" endtime="20230906 17:54:39.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:39.043" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:39.042" endtime="20230906 17:54:39.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:39.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:39.043" endtime="20230906 17:54:39.044"/>
</kw>
<status status="PASS" starttime="20230906 17:54:39.034" endtime="20230906 17:54:39.044"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:32.782" endtime="20230906 17:54:39.044"/>
</test>
<test id="s1-s2-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:39.054" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:42.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:42.109" level="INFO">${output} = 2023-09-06 17:54:42,031 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230906 17:54:39.050" endtime="20230906 17:54:42.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:42.110" level="INFO">2023-09-06 17:54:42,031 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230906 17:54:42.110" endtime="20230906 17:54:42.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:42.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:42.111" endtime="20230906 17:54:42.111"/>
</kw>
<status status="PASS" starttime="20230906 17:54:39.049" endtime="20230906 17:54:42.111"/>
</kw>
<msg timestamp="20230906 17:54:42.111" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:39.049" endtime="20230906 17:54:42.112"/>
</kw>
<msg timestamp="20230906 17:54:42.112" level="INFO">${output} = 2023-09-06 17:54:42,031 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230906 17:54:39.048" endtime="20230906 17:54:42.112"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:42.112" endtime="20230906 17:54:42.113"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:39.047" endtime="20230906 17:54:42.113"/>
</test>
<test id="s1-s2-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:42.119" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230906 17:54:42.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:42.122" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:42.116" endtime="20230906 17:54:42.122"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:42.123" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:42.122" endtime="20230906 17:54:42.123"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:42.124" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:42.123" endtime="20230906 17:54:42.124"/>
</kw>
<status status="PASS" starttime="20230906 17:54:42.115" endtime="20230906 17:54:42.124"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:42.128" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:47.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:47.206" level="INFO">${output} = 2023-09-06 17:54:45,697 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:45,818 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:42.126" endtime="20230906 17:54:47.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:47.207" level="INFO">2023-09-06 17:54:45,697 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:45,818 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-06 17:54:45,818 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-06 17:54:46,076 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230906 17:54:47.206" endtime="20230906 17:54:47.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:47.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:47.207" endtime="20230906 17:54:47.208"/>
</kw>
<status status="PASS" starttime="20230906 17:54:42.126" endtime="20230906 17:54:47.208"/>
</kw>
<msg timestamp="20230906 17:54:47.208" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:42.125" endtime="20230906 17:54:47.209"/>
</kw>
<msg timestamp="20230906 17:54:47.209" level="INFO">${output} = 2023-09-06 17:54:45,697 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:54:45,818 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:42.125" endtime="20230906 17:54:47.209"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:47.209" endtime="20230906 17:54:47.209"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:47.213" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:47.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:47.216" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:47.210" endtime="20230906 17:54:47.216"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:47.218" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:47.217" endtime="20230906 17:54:47.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:47.218" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:47.218" endtime="20230906 17:54:47.218"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.210" endtime="20230906 17:54:47.219"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:42.114" endtime="20230906 17:54:47.219"/>
</test>
<test id="s1-s2-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:47.225" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:47.960" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:47.960" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:47.223" endtime="20230906 17:54:47.960"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:47.962" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:47.961" endtime="20230906 17:54:47.962"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:47.962" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:47.962" endtime="20230906 17:54:47.962"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.222" endtime="20230906 17:54:47.963"/>
</kw>
<msg timestamp="20230906 17:54:47.963" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:47.221" endtime="20230906 17:54:47.963"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.221" endtime="20230906 17:54:47.963"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:47.967" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:48.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:48.519" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:47.965" endtime="20230906 17:54:48.519"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:48.520" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:48.520" endtime="20230906 17:54:48.521"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:48.521" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:48.521" endtime="20230906 17:54:48.521"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.964" endtime="20230906 17:54:48.522"/>
</kw>
<msg timestamp="20230906 17:54:48.522" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:47.964" endtime="20230906 17:54:48.522"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.963" endtime="20230906 17:54:48.522"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:48.527" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:49.076" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:49.076" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:48.524" endtime="20230906 17:54:49.076"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:49.078" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:49.077" endtime="20230906 17:54:49.078"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:49.078" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:49.078" endtime="20230906 17:54:49.078"/>
</kw>
<status status="PASS" starttime="20230906 17:54:48.523" endtime="20230906 17:54:49.079"/>
</kw>
<msg timestamp="20230906 17:54:49.079" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:48.523" endtime="20230906 17:54:49.079"/>
</kw>
<status status="PASS" starttime="20230906 17:54:48.523" endtime="20230906 17:54:49.080"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:49.084" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:49.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:49.644" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:49.081" endtime="20230906 17:54:49.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:49.645" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:49.645" endtime="20230906 17:54:49.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:49.646" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:49.646" endtime="20230906 17:54:49.646"/>
</kw>
<status status="PASS" starttime="20230906 17:54:49.081" endtime="20230906 17:54:49.646"/>
</kw>
<msg timestamp="20230906 17:54:49.647" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:49.081" endtime="20230906 17:54:49.647"/>
</kw>
<status status="PASS" starttime="20230906 17:54:49.080" endtime="20230906 17:54:49.647"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.221" endtime="20230906 17:54:49.647"/>
</kw>
<status status="PASS" starttime="20230906 17:54:47.220" endtime="20230906 17:54:49.648"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:47.220" endtime="20230906 17:54:49.648"/>
</test>
<test id="s1-s2-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:49.656" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:51.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:51.634" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230906 17:54:49.652" endtime="20230906 17:54:51.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:51.636" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230906 17:54:51.634" endtime="20230906 17:54:51.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:51.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:51.636" endtime="20230906 17:54:51.637"/>
</kw>
<status status="PASS" starttime="20230906 17:54:49.652" endtime="20230906 17:54:51.637"/>
</kw>
<msg timestamp="20230906 17:54:51.637" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:49.651" endtime="20230906 17:54:51.638"/>
</kw>
<msg timestamp="20230906 17:54:51.638" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230906 17:54:49.651" endtime="20230906 17:54:51.638"/>
</kw>
<msg timestamp="20230906 17:54:51.638" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230906 17:54:49.650" endtime="20230906 17:54:51.638"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:51.638" endtime="20230906 17:54:51.639"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:51.639" endtime="20230906 17:54:51.639"/>
</kw>
<msg timestamp="20230906 17:54:51.640" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230906 17:54:49.650" endtime="20230906 17:54:51.640"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230906 17:54:51.640" endtime="20230906 17:54:51.640"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:49.649" endtime="20230906 17:54:51.640"/>
</test>
<test id="s1-s2-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:51.645" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230906 17:54:51.646" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:51.646" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:51.642" endtime="20230906 17:54:51.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:51.647" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:51.647" endtime="20230906 17:54:51.648"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:51.648" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:51.648" endtime="20230906 17:54:51.648"/>
</kw>
<status status="PASS" starttime="20230906 17:54:51.642" endtime="20230906 17:54:51.649"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:51.653" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:53.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:53.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:51.651" endtime="20230906 17:54:53.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:53.410" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:53.409" endtime="20230906 17:54:53.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:53.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:53.410" endtime="20230906 17:54:53.411"/>
</kw>
<msg timestamp="20230906 17:54:53.411" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:51.650" endtime="20230906 17:54:53.411"/>
</kw>
<msg timestamp="20230906 17:54:53.412" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:51.649" endtime="20230906 17:54:53.412"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:54:53.412" endtime="20230906 17:54:53.412"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:53.415" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:54:53.419" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:54:53.419" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:54:53.413" endtime="20230906 17:54:53.419"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:54:53.420" level="INFO"/>
<status status="PASS" starttime="20230906 17:54:53.419" endtime="20230906 17:54:53.420"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:54:53.420" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:54:53.420" endtime="20230906 17:54:53.420"/>
</kw>
<status status="PASS" starttime="20230906 17:54:53.412" endtime="20230906 17:54:53.421"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:51.641" endtime="20230906 17:54:53.421"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230906 17:54:26.908" endtime="20230906 17:54:53.422"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230906 17:54:56.463" level="INFO">${random} = 59401</msg>
<status status="PASS" starttime="20230906 17:54:56.462" endtime="20230906 17:54:56.463"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:54:56.470" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-59401 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:01.312" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:01.312" level="INFO">${output} = 2023-09-06 17:54:59,985 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:55:00,064 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:56.465" endtime="20230906 17:55:01.312"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:01.314" level="INFO">2023-09-06 17:54:59,985 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:55:00,064 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-06 17:55:00,064 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230906 17:55:01.313" endtime="20230906 17:55:01.314"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:01.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:01.314" endtime="20230906 17:55:01.314"/>
</kw>
<status status="PASS" starttime="20230906 17:54:56.465" endtime="20230906 17:55:01.315"/>
</kw>
<msg timestamp="20230906 17:55:01.315" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:54:56.464" endtime="20230906 17:55:01.316"/>
</kw>
<msg timestamp="20230906 17:55:01.316" level="INFO">${output} = 2023-09-06 17:54:59,985 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-06 17:55:00,064 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230906 17:54:56.463" endtime="20230906 17:55:01.316"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:01.317" endtime="20230906 17:55:01.317"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:01.320" level="INFO">Running command 'cat /tmp/key-59401 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:01.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:01.323" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:01.318" endtime="20230906 17:55:01.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:01.324" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:01.323" endtime="20230906 17:55:01.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:01.324" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:01.324" endtime="20230906 17:55:01.324"/>
</kw>
<msg timestamp="20230906 17:55:01.325" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:01.317" endtime="20230906 17:55:01.325"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:01.325" endtime="20230906 17:55:01.325"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:01.328" level="INFO">Running command 'rm /tmp/key-59401 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:01.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:01.331" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:01.326" endtime="20230906 17:55:01.331"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:01.332" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:01.331" endtime="20230906 17:55:01.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:01.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:01.332" endtime="20230906 17:55:01.333"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.326" endtime="20230906 17:55:01.333"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:54:56.461" endtime="20230906 17:55:01.333"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:01.339" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:01.852" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:01.852" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:01.337" endtime="20230906 17:55:01.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:01.854" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:01.853" endtime="20230906 17:55:01.854"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:01.855" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:01.854" endtime="20230906 17:55:01.855"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.337" endtime="20230906 17:55:01.855"/>
</kw>
<msg timestamp="20230906 17:55:01.855" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:55:01.336" endtime="20230906 17:55:01.856"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.336" endtime="20230906 17:55:01.856"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:01.860" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:02.380" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:02.380" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:01.857" endtime="20230906 17:55:02.380"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:02.381" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:02.381" endtime="20230906 17:55:02.382"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:02.382" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:02.382" endtime="20230906 17:55:02.382"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.857" endtime="20230906 17:55:02.383"/>
</kw>
<msg timestamp="20230906 17:55:02.383" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:55:01.856" endtime="20230906 17:55:02.383"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.856" endtime="20230906 17:55:02.383"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:02.387" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:02.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:02.880" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:02.385" endtime="20230906 17:55:02.880"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:02.881" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:02.881" endtime="20230906 17:55:02.881"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:02.882" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:02.882" endtime="20230906 17:55:02.882"/>
</kw>
<status status="PASS" starttime="20230906 17:55:02.384" endtime="20230906 17:55:02.882"/>
</kw>
<msg timestamp="20230906 17:55:02.882" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:55:02.384" endtime="20230906 17:55:02.883"/>
</kw>
<status status="PASS" starttime="20230906 17:55:02.384" endtime="20230906 17:55:02.883"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:02.887" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:03.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:03.434" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:02.884" endtime="20230906 17:55:03.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:03.436" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:03.435" endtime="20230906 17:55:03.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:03.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:03.436" endtime="20230906 17:55:03.437"/>
</kw>
<status status="PASS" starttime="20230906 17:55:02.884" endtime="20230906 17:55:03.437"/>
</kw>
<msg timestamp="20230906 17:55:03.437" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230906 17:55:02.884" endtime="20230906 17:55:03.438"/>
</kw>
<status status="PASS" starttime="20230906 17:55:02.883" endtime="20230906 17:55:03.438"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.335" endtime="20230906 17:55:03.438"/>
</kw>
<status status="PASS" starttime="20230906 17:55:01.335" endtime="20230906 17:55:03.438"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:55:01.334" endtime="20230906 17:55:03.438"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:03.445" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.303" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.303" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:03.442" endtime="20230906 17:55:04.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.304" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 06 Sep 2023 17:55:03 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230906 17:55:04.304" endtime="20230906 17:55:04.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.305" endtime="20230906 17:55:04.305"/>
</kw>
<msg timestamp="20230906 17:55:04.305" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:03.441" endtime="20230906 17:55:04.306"/>
</kw>
<msg timestamp="20230906 17:55:04.306" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:03.440" endtime="20230906 17:55:04.306"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:04.306" endtime="20230906 17:55:04.307"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:04.310" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.312" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.312" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:04.307" endtime="20230906 17:55:04.312"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.313" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:04.312" endtime="20230906 17:55:04.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.313" endtime="20230906 17:55:04.314"/>
</kw>
<msg timestamp="20230906 17:55:04.314" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230906 17:55:04.307" endtime="20230906 17:55:04.314"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:04.314" endtime="20230906 17:55:04.315"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:04.318" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.320" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:04.315" endtime="20230906 17:55:04.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.321" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:04.320" endtime="20230906 17:55:04.321"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.321" endtime="20230906 17:55:04.322"/>
</kw>
<status status="PASS" starttime="20230906 17:55:04.315" endtime="20230906 17:55:04.322"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:55:03.439" endtime="20230906 17:55:04.322"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:04.327" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.974" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:04.325" endtime="20230906 17:55:04.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.976" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 06 Sep 2023 17:55:04 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230906 17:55:04.975" endtime="20230906 17:55:04.976"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.976" endtime="20230906 17:55:04.977"/>
</kw>
<msg timestamp="20230906 17:55:04.977" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:04.325" endtime="20230906 17:55:04.977"/>
</kw>
<msg timestamp="20230906 17:55:04.977" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 06 Sep 2023 17:54:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230906 17:55:04.324" endtime="20230906 17:55:04.977"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:04.978" endtime="20230906 17:55:04.978"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:04.981" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.984" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230906 17:55:04.979" endtime="20230906 17:55:04.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.985" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230906 17:55:04.984" endtime="20230906 17:55:04.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.985" endtime="20230906 17:55:04.986"/>
</kw>
<msg timestamp="20230906 17:55:04.986" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230906 17:55:04.978" endtime="20230906 17:55:04.986"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230906 17:55:04.986" endtime="20230906 17:55:04.987"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:04.990" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 17:55:04.992" level="INFO">${rc} = 0</msg>
<msg timestamp="20230906 17:55:04.992" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230906 17:55:04.988" endtime="20230906 17:55:04.992"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230906 17:55:04.993" level="INFO"/>
<status status="PASS" starttime="20230906 17:55:04.993" endtime="20230906 17:55:04.993"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230906 17:55:04.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230906 17:55:04.994" endtime="20230906 17:55:04.994"/>
</kw>
<status status="PASS" starttime="20230906 17:55:04.987" endtime="20230906 17:55:04.995"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230906 17:55:04.323" endtime="20230906 17:55:04.995"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230906 17:54:56.384" endtime="20230906 17:55:04.997"/>
</suite>
<suite id="s1-s4" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s4-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230906 17:55:08.040" endtime="20230906 17:55:08.041"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230906 17:55:08.041" endtime="20230906 17:55:08.041"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230906 17:55:08.046" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230906 18:00:08.040" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230906 17:55:08.042" endtime="20230906 18:00:08.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230906 18:00:08.040" endtime="20230906 18:00:08.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230906 18:00:08.041" endtime="20230906 18:00:08.041"/>
</kw>
<status status="FAIL" starttime="20230906 17:55:08.042" endtime="20230906 18:00:08.041"/>
</kw>
<msg timestamp="20230906 18:00:08.041" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230906 17:55:08.042" endtime="20230906 18:00:08.043"/>
</kw>
<status status="FAIL" starttime="20230906 17:55:08.041" endtime="20230906 18:00:08.043"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230906 18:00:08.043" endtime="20230906 18:00:08.043"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230906 17:55:08.039" endtime="20230906 18:00:08.044">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230906 17:55:07.990" endtime="20230906 18:00:08.046"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="341097"/>
</suite>
<statistics>
<total>
<stat pass="13" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="2" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="2" fail="0" skip="0">finalized</stat>
<stat pass="1" fail="0" skip="0">om</stat>
<stat pass="1" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="13" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s2" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s4" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
