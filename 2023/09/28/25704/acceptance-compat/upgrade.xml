<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230928 10:27:21.254" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:17:31.739" endtime="20230928 10:17:31.740"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:31.745" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:31.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:31.748" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9a2ac914ccc1
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:17:31.741" endtime="20230928 10:17:31.748"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:31.749" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9a2ac914ccc1
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:17:31.749" endtime="20230928 10:17:31.749"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:31.750" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:31.749" endtime="20230928 10:17:31.750"/>
</kw>
<status status="PASS" starttime="20230928 10:17:31.741" endtime="20230928 10:17:31.750"/>
</kw>
<msg timestamp="20230928 10:17:31.750" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:31.740" endtime="20230928 10:17:31.751"/>
</kw>
<msg timestamp="20230928 10:17:31.752" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9a2ac914ccc1
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:17:31.740" endtime="20230928 10:17:31.752"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:31.752" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9a2ac914ccc1
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:17:31.752" endtime="20230928 10:17:31.752"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:17:31.752" endtime="20230928 10:17:31.753"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:31.756" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:34.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:34.696" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:17:31.754" endtime="20230928 10:17:34.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:34.697" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:17:34.696" endtime="20230928 10:17:34.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:34.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:34.697" endtime="20230928 10:17:34.698"/>
</kw>
<status status="PASS" starttime="20230928 10:17:31.753" endtime="20230928 10:17:34.698"/>
</kw>
<msg timestamp="20230928 10:17:34.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:31.753" endtime="20230928 10:17:34.698"/>
</kw>
<msg timestamp="20230928 10:17:34.699" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:17:31.753" endtime="20230928 10:17:34.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:34.699" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:17:34.699" endtime="20230928 10:17:34.699"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:17:34.699" endtime="20230928 10:17:34.700"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:17:31.738" endtime="20230928 10:17:34.700"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:17:34.702" endtime="20230928 10:17:34.703"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:17:34.703" endtime="20230928 10:17:34.703"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:34.707" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:37.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:37.391" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:17:34.705" endtime="20230928 10:17:37.391"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:37.392" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:17:37.391" endtime="20230928 10:17:37.393"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:37.394" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:37.393" endtime="20230928 10:17:37.394"/>
</kw>
<status status="PASS" starttime="20230928 10:17:34.704" endtime="20230928 10:17:37.395"/>
</kw>
<msg timestamp="20230928 10:17:37.395" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:34.704" endtime="20230928 10:17:37.395"/>
</kw>
<msg timestamp="20230928 10:17:37.395" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:17:34.703" endtime="20230928 10:17:37.396"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:37.396" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:17:37.396" endtime="20230928 10:17:37.396"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:17:37.396" endtime="20230928 10:17:37.397"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:17:34.701" endtime="20230928 10:17:37.397"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:17:31.674" endtime="20230928 10:17:37.398"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:17:40.438" level="INFO">${random} = 39845</msg>
<status status="PASS" starttime="20230928 10:17:40.437" endtime="20230928 10:17:40.438"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:40.444" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-39845 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:45.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:45.036" level="INFO">${output} = 2023-09-28 10:17:43,781 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:43,862 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:17:40.440" endtime="20230928 10:17:45.037"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:45.038" level="INFO">2023-09-28 10:17:43,781 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:43,862 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:17:43,862 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 10:17:45.037" endtime="20230928 10:17:45.038"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:45.039" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:45.038" endtime="20230928 10:17:45.039"/>
</kw>
<status status="PASS" starttime="20230928 10:17:40.440" endtime="20230928 10:17:45.039"/>
</kw>
<msg timestamp="20230928 10:17:45.039" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:40.439" endtime="20230928 10:17:45.041"/>
</kw>
<msg timestamp="20230928 10:17:45.042" level="INFO">${output} = 2023-09-28 10:17:43,781 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:43,862 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:17:40.438" endtime="20230928 10:17:45.042"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:45.042" endtime="20230928 10:17:45.042"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:45.047" level="INFO">Running command 'cat /tmp/key-39845 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:45.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:45.050" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:45.043" endtime="20230928 10:17:45.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:45.051" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:45.050" endtime="20230928 10:17:45.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:45.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:45.051" endtime="20230928 10:17:45.052"/>
</kw>
<msg timestamp="20230928 10:17:45.052" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:45.042" endtime="20230928 10:17:45.052"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:45.052" endtime="20230928 10:17:45.053"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:45.056" level="INFO">Running command 'rm /tmp/key-39845 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:45.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:45.058" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:45.053" endtime="20230928 10:17:45.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:45.059" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:45.058" endtime="20230928 10:17:45.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:45.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:45.059" endtime="20230928 10:17:45.060"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.053" endtime="20230928 10:17:45.060"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:40.436" endtime="20230928 10:17:45.060"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:45.066" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:45.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:45.783" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:45.064" endtime="20230928 10:17:45.783"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:45.784" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:45.783" endtime="20230928 10:17:45.784"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:45.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:45.784" endtime="20230928 10:17:45.785"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.064" endtime="20230928 10:17:45.785"/>
</kw>
<msg timestamp="20230928 10:17:45.785" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:45.064" endtime="20230928 10:17:45.786"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.063" endtime="20230928 10:17:45.786"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:45.790" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:46.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:46.313" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:45.787" endtime="20230928 10:17:46.313"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:46.314" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:46.313" endtime="20230928 10:17:46.314"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:46.315" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:46.314" endtime="20230928 10:17:46.315"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.787" endtime="20230928 10:17:46.315"/>
</kw>
<msg timestamp="20230928 10:17:46.315" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:45.787" endtime="20230928 10:17:46.316"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.786" endtime="20230928 10:17:46.316"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:46.320" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:46.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:46.806" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:46.317" endtime="20230928 10:17:46.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:46.807" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:46.807" endtime="20230928 10:17:46.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:46.808" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:46.808" endtime="20230928 10:17:46.808"/>
</kw>
<status status="PASS" starttime="20230928 10:17:46.317" endtime="20230928 10:17:46.808"/>
</kw>
<msg timestamp="20230928 10:17:46.809" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:46.317" endtime="20230928 10:17:46.809"/>
</kw>
<status status="PASS" starttime="20230928 10:17:46.316" endtime="20230928 10:17:46.809"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:46.813" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:47.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:47.311" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:46.811" endtime="20230928 10:17:47.312"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:47.313" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:47.312" endtime="20230928 10:17:47.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:47.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:47.313" endtime="20230928 10:17:47.314"/>
</kw>
<status status="PASS" starttime="20230928 10:17:46.810" endtime="20230928 10:17:47.314"/>
</kw>
<msg timestamp="20230928 10:17:47.314" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:46.810" endtime="20230928 10:17:47.315"/>
</kw>
<status status="PASS" starttime="20230928 10:17:46.809" endtime="20230928 10:17:47.315"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.063" endtime="20230928 10:17:47.315"/>
</kw>
<status status="PASS" starttime="20230928 10:17:45.062" endtime="20230928 10:17:47.315"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:45.061" endtime="20230928 10:17:47.315"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:47.321" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.052" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.052" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:47.319" endtime="20230928 10:17:50.052"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.054" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:17:47 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:17:50.053" endtime="20230928 10:17:50.054"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.054" endtime="20230928 10:17:50.054"/>
</kw>
<msg timestamp="20230928 10:17:50.055" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:47.318" endtime="20230928 10:17:50.055"/>
</kw>
<msg timestamp="20230928 10:17:50.055" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:47.317" endtime="20230928 10:17:50.055"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:50.055" endtime="20230928 10:17:50.056"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:50.060" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.062" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.063" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:50.057" endtime="20230928 10:17:50.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.064" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:50.063" endtime="20230928 10:17:50.064"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.064" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.064" endtime="20230928 10:17:50.064"/>
</kw>
<msg timestamp="20230928 10:17:50.065" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:50.056" endtime="20230928 10:17:50.065"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:50.065" endtime="20230928 10:17:50.065"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:50.068" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.071" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:50.066" endtime="20230928 10:17:50.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.072" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:50.071" endtime="20230928 10:17:50.072"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.072" endtime="20230928 10:17:50.072"/>
</kw>
<status status="PASS" starttime="20230928 10:17:50.066" endtime="20230928 10:17:50.073"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:47.316" endtime="20230928 10:17:50.073"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:50.078" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.891" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.892" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:50.076" endtime="20230928 10:17:50.892"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.893" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:17:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:17:50.892" endtime="20230928 10:17:50.893"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.894" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.893" endtime="20230928 10:17:50.894"/>
</kw>
<msg timestamp="20230928 10:17:50.894" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:50.075" endtime="20230928 10:17:50.894"/>
</kw>
<msg timestamp="20230928 10:17:50.895" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:13:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:17:50.075" endtime="20230928 10:17:50.895"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:50.895" endtime="20230928 10:17:50.895"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:50.898" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.901" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.901" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:17:50.896" endtime="20230928 10:17:50.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.902" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:17:50.902" endtime="20230928 10:17:50.902"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.903" endtime="20230928 10:17:50.903"/>
</kw>
<msg timestamp="20230928 10:17:50.903" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:17:50.895" endtime="20230928 10:17:50.904"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:50.904" endtime="20230928 10:17:50.904"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:50.908" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:50.909" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:50.909" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:50.905" endtime="20230928 10:17:50.909"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:50.911" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:50.910" endtime="20230928 10:17:50.911"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:50.911" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:50.911" endtime="20230928 10:17:50.911"/>
</kw>
<status status="PASS" starttime="20230928 10:17:50.904" endtime="20230928 10:17:50.911"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:50.074" endtime="20230928 10:17:50.912"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:17:40.356" endtime="20230928 10:17:50.914"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:17:53.858" level="INFO">${random} = 36440</msg>
<status status="PASS" starttime="20230928 10:17:53.857" endtime="20230928 10:17:53.858"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:53.864" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-36440 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:58.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:58.006" level="INFO">${output} = 2023-09-28 10:17:56,803 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:56,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:17:53.860" endtime="20230928 10:17:58.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:58.007" level="INFO">2023-09-28 10:17:56,803 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:56,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:17:56,894 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 10:17:58.007" endtime="20230928 10:17:58.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:58.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:58.008" endtime="20230928 10:17:58.008"/>
</kw>
<status status="PASS" starttime="20230928 10:17:53.859" endtime="20230928 10:17:58.009"/>
</kw>
<msg timestamp="20230928 10:17:58.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:53.858" endtime="20230928 10:17:58.010"/>
</kw>
<msg timestamp="20230928 10:17:58.010" level="INFO">${output} = 2023-09-28 10:17:56,803 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:17:56,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:17:53.858" endtime="20230928 10:17:58.010"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:58.011" endtime="20230928 10:17:58.011"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:58.014" level="INFO">Running command 'cat /tmp/key-36440 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:58.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:58.018" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:58.012" endtime="20230928 10:17:58.018"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:58.019" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:58.018" endtime="20230928 10:17:58.019"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:58.019" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:58.019" endtime="20230928 10:17:58.020"/>
</kw>
<msg timestamp="20230928 10:17:58.020" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:17:58.011" endtime="20230928 10:17:58.020"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:17:58.020" endtime="20230928 10:17:58.021"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:58.024" level="INFO">Running command 'rm /tmp/key-36440 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:58.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:58.026" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:58.021" endtime="20230928 10:17:58.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:58.027" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:58.026" endtime="20230928 10:17:58.027"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:58.028" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:58.027" endtime="20230928 10:17:58.028"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.021" endtime="20230928 10:17:58.028"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:53.856" endtime="20230928 10:17:58.028"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:58.034" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:58.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:58.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:58.032" endtime="20230928 10:17:58.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:58.545" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:58.544" endtime="20230928 10:17:58.545"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:58.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:58.545" endtime="20230928 10:17:58.545"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.032" endtime="20230928 10:17:58.546"/>
</kw>
<msg timestamp="20230928 10:17:58.546" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:58.031" endtime="20230928 10:17:58.546"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.031" endtime="20230928 10:17:58.547"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:58.550" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:59.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:59.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:58.548" endtime="20230928 10:17:59.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:59.055" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:59.055" endtime="20230928 10:17:59.056"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:59.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:59.056" endtime="20230928 10:17:59.056"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.548" endtime="20230928 10:17:59.057"/>
</kw>
<msg timestamp="20230928 10:17:59.057" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:58.547" endtime="20230928 10:17:59.057"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.547" endtime="20230928 10:17:59.057"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:59.061" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:17:59.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:17:59.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:59.059" endtime="20230928 10:17:59.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:17:59.545" level="INFO"/>
<status status="PASS" starttime="20230928 10:17:59.544" endtime="20230928 10:17:59.545"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:17:59.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:17:59.545" endtime="20230928 10:17:59.546"/>
</kw>
<status status="PASS" starttime="20230928 10:17:59.058" endtime="20230928 10:17:59.546"/>
</kw>
<msg timestamp="20230928 10:17:59.546" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:59.058" endtime="20230928 10:17:59.546"/>
</kw>
<status status="PASS" starttime="20230928 10:17:59.057" endtime="20230928 10:17:59.547"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:17:59.551" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:00.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:00.042" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:17:59.548" endtime="20230928 10:18:00.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:00.043" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:00.042" endtime="20230928 10:18:00.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:00.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:00.043" endtime="20230928 10:18:00.044"/>
</kw>
<status status="PASS" starttime="20230928 10:17:59.548" endtime="20230928 10:18:00.044"/>
</kw>
<msg timestamp="20230928 10:18:00.044" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:17:59.547" endtime="20230928 10:18:00.045"/>
</kw>
<status status="PASS" starttime="20230928 10:17:59.547" endtime="20230928 10:18:00.045"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.030" endtime="20230928 10:18:00.045"/>
</kw>
<status status="PASS" starttime="20230928 10:17:58.030" endtime="20230928 10:18:00.045"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:17:58.029" endtime="20230928 10:18:00.045"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:00.053" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:00.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:00.700" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.049" endtime="20230928 10:18:00.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:00.702" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:18:00 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:18:00.701" endtime="20230928 10:18:00.702"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:00.702" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:00.702" endtime="20230928 10:18:00.702"/>
</kw>
<msg timestamp="20230928 10:18:00.703" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.048" endtime="20230928 10:18:00.703"/>
</kw>
<msg timestamp="20230928 10:18:00.703" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.048" endtime="20230928 10:18:00.703"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:00.703" endtime="20230928 10:18:00.704"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:00.707" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:00.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:00.709" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:00.704" endtime="20230928 10:18:00.709"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:00.710" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:00.709" endtime="20230928 10:18:00.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:00.711" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:00.710" endtime="20230928 10:18:00.711"/>
</kw>
<msg timestamp="20230928 10:18:00.711" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:00.704" endtime="20230928 10:18:00.711"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:00.711" endtime="20230928 10:18:00.712"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:00.714" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:00.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:00.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:00.712" endtime="20230928 10:18:00.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:00.718" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:00.717" endtime="20230928 10:18:00.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:00.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:00.718" endtime="20230928 10:18:00.719"/>
</kw>
<status status="PASS" starttime="20230928 10:18:00.712" endtime="20230928 10:18:00.719"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:00.047" endtime="20230928 10:18:00.719"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:00.724" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:01.384" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:01.384" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.722" endtime="20230928 10:18:01.384"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:01.386" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:18:01 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:18:01.385" endtime="20230928 10:18:01.386"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:01.387" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:01.386" endtime="20230928 10:18:01.387"/>
</kw>
<msg timestamp="20230928 10:18:01.387" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.721" endtime="20230928 10:18:01.387"/>
</kw>
<msg timestamp="20230928 10:18:01.388" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:00.721" endtime="20230928 10:18:01.388"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:01.388" endtime="20230928 10:18:01.388"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:01.391" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:01.394" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:01.394" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:01.389" endtime="20230928 10:18:01.394"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:01.395" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:01.394" endtime="20230928 10:18:01.395"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:01.396" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:01.395" endtime="20230928 10:18:01.396"/>
</kw>
<msg timestamp="20230928 10:18:01.396" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:01.389" endtime="20230928 10:18:01.396"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:01.396" endtime="20230928 10:18:01.397"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:01.400" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:01.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:01.402" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:01.397" endtime="20230928 10:18:01.402"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:01.403" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:01.402" endtime="20230928 10:18:01.403"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:01.404" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:01.403" endtime="20230928 10:18:01.404"/>
</kw>
<status status="PASS" starttime="20230928 10:18:01.397" endtime="20230928 10:18:01.404"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:00.720" endtime="20230928 10:18:01.404"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:17:53.780" endtime="20230928 10:18:01.406"/>
</suite>
<suite id="s1-s4" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s4-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:04.484" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:07.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:07.168" level="INFO">${output} = 2023-09-28 10:18:07,047 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:18:04.479" endtime="20230928 10:18:07.168"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:07.169" level="INFO">2023-09-28 10:18:07,047 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:18:07.169" endtime="20230928 10:18:07.169"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:07.171" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:07.170" endtime="20230928 10:18:07.171"/>
</kw>
<status status="PASS" starttime="20230928 10:18:04.479" endtime="20230928 10:18:07.171"/>
</kw>
<msg timestamp="20230928 10:18:07.171" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:04.478" endtime="20230928 10:18:07.175"/>
</kw>
<msg timestamp="20230928 10:18:07.176" level="INFO">${output} = 2023-09-28 10:18:07,047 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:18:04.478" endtime="20230928 10:18:07.176"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:07.176" endtime="20230928 10:18:07.176"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:07.213" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:10.115" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:10.115" level="INFO">${output} = 2023-09-28 10:18:10,055 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 10:18:07.200" endtime="20230928 10:18:10.115"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:10.117" level="INFO">2023-09-28 10:18:10,055 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 10:18:10.116" endtime="20230928 10:18:10.118"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:10.118" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:10.118" endtime="20230928 10:18:10.118"/>
</kw>
<status status="PASS" starttime="20230928 10:18:07.197" endtime="20230928 10:18:10.119"/>
</kw>
<msg timestamp="20230928 10:18:10.119" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:07.179" endtime="20230928 10:18:10.119"/>
</kw>
<msg timestamp="20230928 10:18:10.120" level="INFO">${output} = 2023-09-28 10:18:10,055 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 10:18:07.176" endtime="20230928 10:18:10.120"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:10.120" endtime="20230928 10:18:10.120"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:04.477" endtime="20230928 10:18:10.121"/>
</test>
<test id="s1-s4-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:10.130" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:10.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:10.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:10.125" endtime="20230928 10:18:10.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:10.133" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:10.133" endtime="20230928 10:18:10.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:10.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:10.133" endtime="20230928 10:18:10.134"/>
</kw>
<status status="PASS" starttime="20230928 10:18:10.124" endtime="20230928 10:18:10.134"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:10.139" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:16.004" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:16.004" level="INFO">${output} = 2023-09-28 10:18:14,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:14,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:10.136" endtime="20230928 10:18:16.004"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:16.006" level="INFO">2023-09-28 10:18:14,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:14,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:18:14,114 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:18:14,382 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:18:16.005" endtime="20230928 10:18:16.006"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:16.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:16.006" endtime="20230928 10:18:16.007"/>
</kw>
<status status="PASS" starttime="20230928 10:18:10.136" endtime="20230928 10:18:16.007"/>
</kw>
<msg timestamp="20230928 10:18:16.007" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:10.135" endtime="20230928 10:18:16.007"/>
</kw>
<msg timestamp="20230928 10:18:16.008" level="INFO">${output} = 2023-09-28 10:18:14,036 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:14,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:10.135" endtime="20230928 10:18:16.008"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:16.010" endtime="20230928 10:18:16.010"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:16.013" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:16.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:16.017" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:16.011" endtime="20230928 10:18:16.017"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:16.018" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:16.018" endtime="20230928 10:18:16.018"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:16.019" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:16.019" endtime="20230928 10:18:16.019"/>
</kw>
<status status="PASS" starttime="20230928 10:18:16.010" endtime="20230928 10:18:16.019"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:10.123" endtime="20230928 10:18:16.020"/>
</test>
<test id="s1-s4-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:16.025" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:18.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:18.595" level="INFO">${output} = 2023-09-28 10:18:18,544 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 10:18:16.023" endtime="20230928 10:18:18.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:18.597" level="INFO">2023-09-28 10:18:18,544 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 10:18:18.596" endtime="20230928 10:18:18.597"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:18.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:18.597" endtime="20230928 10:18:18.597"/>
</kw>
<status status="PASS" starttime="20230928 10:18:16.022" endtime="20230928 10:18:18.598"/>
</kw>
<msg timestamp="20230928 10:18:18.598" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:16.022" endtime="20230928 10:18:18.598"/>
</kw>
<msg timestamp="20230928 10:18:18.599" level="INFO">${output} = 2023-09-28 10:18:18,544 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 10:18:16.021" endtime="20230928 10:18:18.599"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:18.599" endtime="20230928 10:18:18.599"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:16.021" endtime="20230928 10:18:18.599"/>
</test>
<test id="s1-s4-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:18.605" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:18.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:18.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:18.602" endtime="20230928 10:18:18.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:18.609" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:18.608" endtime="20230928 10:18:18.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:18.610" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:18.610" endtime="20230928 10:18:18.611"/>
</kw>
<status status="PASS" starttime="20230928 10:18:18.602" endtime="20230928 10:18:18.612"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:18.617" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:23.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:23.755" level="INFO">${output} = 2023-09-28 10:18:22,113 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:22,197 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:18.615" endtime="20230928 10:18:23.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:23.757" level="INFO">2023-09-28 10:18:22,113 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:22,197 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:18:22,197 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:18:22,480 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:18:23.756" endtime="20230928 10:18:23.757"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:23.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:23.757" endtime="20230928 10:18:23.758"/>
</kw>
<status status="PASS" starttime="20230928 10:18:18.613" endtime="20230928 10:18:23.758"/>
</kw>
<msg timestamp="20230928 10:18:23.758" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:18.613" endtime="20230928 10:18:23.759"/>
</kw>
<msg timestamp="20230928 10:18:23.759" level="INFO">${output} = 2023-09-28 10:18:22,113 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:22,197 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:18.612" endtime="20230928 10:18:23.759"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:23.759" endtime="20230928 10:18:23.759"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:23.763" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:23.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:23.766" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:23.760" endtime="20230928 10:18:23.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:23.767" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:23.766" endtime="20230928 10:18:23.767"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:23.767" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:23.767" endtime="20230928 10:18:23.767"/>
</kw>
<status status="PASS" starttime="20230928 10:18:23.760" endtime="20230928 10:18:23.768"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:18.601" endtime="20230928 10:18:23.768"/>
</test>
<test id="s1-s4-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:23.775" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:24.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:24.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:23.773" endtime="20230928 10:18:24.263"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:24.264" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:24.263" endtime="20230928 10:18:24.264"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:24.265" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:24.264" endtime="20230928 10:18:24.265"/>
</kw>
<status status="PASS" starttime="20230928 10:18:23.772" endtime="20230928 10:18:24.265"/>
</kw>
<msg timestamp="20230928 10:18:24.265" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:23.772" endtime="20230928 10:18:24.266"/>
</kw>
<status status="PASS" starttime="20230928 10:18:23.772" endtime="20230928 10:18:24.266"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:24.270" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:24.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:24.752" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:24.268" endtime="20230928 10:18:24.752"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:24.753" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:24.752" endtime="20230928 10:18:24.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:24.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:24.753" endtime="20230928 10:18:24.754"/>
</kw>
<status status="PASS" starttime="20230928 10:18:24.267" endtime="20230928 10:18:24.754"/>
</kw>
<msg timestamp="20230928 10:18:24.754" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:24.267" endtime="20230928 10:18:24.755"/>
</kw>
<status status="PASS" starttime="20230928 10:18:24.266" endtime="20230928 10:18:24.755"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:24.759" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:25.255" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:25.256" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:24.757" endtime="20230928 10:18:25.256"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:25.257" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:25.256" endtime="20230928 10:18:25.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:25.257" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:25.257" endtime="20230928 10:18:25.258"/>
</kw>
<status status="PASS" starttime="20230928 10:18:24.756" endtime="20230928 10:18:25.258"/>
</kw>
<msg timestamp="20230928 10:18:25.258" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:24.756" endtime="20230928 10:18:25.258"/>
</kw>
<status status="PASS" starttime="20230928 10:18:24.755" endtime="20230928 10:18:25.259"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:25.263" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:25.760" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:25.760" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:25.260" endtime="20230928 10:18:25.760"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:25.762" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:25.761" endtime="20230928 10:18:25.762"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:25.763" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:25.762" endtime="20230928 10:18:25.763"/>
</kw>
<status status="PASS" starttime="20230928 10:18:25.260" endtime="20230928 10:18:25.763"/>
</kw>
<msg timestamp="20230928 10:18:25.763" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:25.259" endtime="20230928 10:18:25.764"/>
</kw>
<status status="PASS" starttime="20230928 10:18:25.259" endtime="20230928 10:18:25.764"/>
</kw>
<status status="PASS" starttime="20230928 10:18:23.771" endtime="20230928 10:18:25.764"/>
</kw>
<status status="PASS" starttime="20230928 10:18:23.771" endtime="20230928 10:18:25.764"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:23.770" endtime="20230928 10:18:25.765"/>
</test>
<test id="s1-s4-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:18:25.769" level="INFO">${randStr} = 6054944511</msg>
<status status="PASS" starttime="20230928 10:18:25.768" endtime="20230928 10:18:25.769"/>
</kw>
<msg timestamp="20230928 10:18:25.770" level="INFO">${random} = ozone-test-6054944511</msg>
<status status="PASS" starttime="20230928 10:18:25.767" endtime="20230928 10:18:25.770"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:25.775" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket-ozone-test-6054944511 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:26.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:26.462" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-6054944511"
}</msg>
<status status="PASS" starttime="20230928 10:18:25.773" endtime="20230928 10:18:26.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:26.463" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket-ozone-test-6054944511"
}</msg>
<status status="PASS" starttime="20230928 10:18:26.462" endtime="20230928 10:18:26.463"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:26.464" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:26.463" endtime="20230928 10:18:26.464"/>
</kw>
<status status="PASS" starttime="20230928 10:18:25.772" endtime="20230928 10:18:26.464"/>
</kw>
<msg timestamp="20230928 10:18:26.465" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:25.772" endtime="20230928 10:18:26.465"/>
</kw>
<msg timestamp="20230928 10:18:26.465" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-6054944511"
}</msg>
<status status="PASS" starttime="20230928 10:18:25.771" endtime="20230928 10:18:26.465"/>
</kw>
<msg timestamp="20230928 10:18:26.466" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-6054944511"
}</msg>
<status status="PASS" starttime="20230928 10:18:25.770" endtime="20230928 10:18:26.466"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:26.466" endtime="20230928 10:18:26.466"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:26.466" endtime="20230928 10:18:26.467"/>
</kw>
<msg timestamp="20230928 10:18:26.467" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:18:25.770" endtime="20230928 10:18:26.467"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:18:26.467" endtime="20230928 10:18:26.467"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:25.766" endtime="20230928 10:18:26.468"/>
</test>
<test id="s1-s4-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:26.473" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:26.475" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:26.475" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:26.470" endtime="20230928 10:18:26.475"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:26.476" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:26.475" endtime="20230928 10:18:26.476"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:26.477" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:26.476" endtime="20230928 10:18:26.477"/>
</kw>
<status status="PASS" starttime="20230928 10:18:26.469" endtime="20230928 10:18:26.477"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:26.481" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:27.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:27.739" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:26.479" endtime="20230928 10:18:27.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:27.741" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:27.740" endtime="20230928 10:18:27.741"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:27.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:27.741" endtime="20230928 10:18:27.741"/>
</kw>
<msg timestamp="20230928 10:18:27.742" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:26.478" endtime="20230928 10:18:27.742"/>
</kw>
<msg timestamp="20230928 10:18:27.742" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:26.477" endtime="20230928 10:18:27.742"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:27.742" endtime="20230928 10:18:27.743"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:27.746" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:27.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:27.748" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:27.743" endtime="20230928 10:18:27.748"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:27.749" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:27.749" endtime="20230928 10:18:27.749"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:27.752" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:27.750" endtime="20230928 10:18:27.752"/>
</kw>
<status status="PASS" starttime="20230928 10:18:27.743" endtime="20230928 10:18:27.752"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:26.469" endtime="20230928 10:18:27.753"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:18:04.398" endtime="20230928 10:18:27.755"/>
</suite>
<suite id="s1-s5" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s5-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:18:30.782" level="INFO">${random} = 96999</msg>
<status status="PASS" starttime="20230928 10:18:30.782" endtime="20230928 10:18:30.782"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:30.789" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-96999 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:35.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:35.137" level="INFO">${output} = 2023-09-28 10:18:33,980 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:34,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:30.785" endtime="20230928 10:18:35.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:35.138" level="INFO">2023-09-28 10:18:33,980 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:34,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:18:34,058 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 10:18:35.137" endtime="20230928 10:18:35.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:35.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:35.138" endtime="20230928 10:18:35.139"/>
</kw>
<status status="PASS" starttime="20230928 10:18:30.784" endtime="20230928 10:18:35.139"/>
</kw>
<msg timestamp="20230928 10:18:35.139" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:30.783" endtime="20230928 10:18:35.140"/>
</kw>
<msg timestamp="20230928 10:18:35.141" level="INFO">${output} = 2023-09-28 10:18:33,980 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:34,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:30.783" endtime="20230928 10:18:35.141"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:35.141" endtime="20230928 10:18:35.141"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:35.145" level="INFO">Running command 'cat /tmp/key-96999 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:35.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:35.147" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:35.142" endtime="20230928 10:18:35.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:35.148" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:35.148" endtime="20230928 10:18:35.148"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:35.149" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:35.148" endtime="20230928 10:18:35.149"/>
</kw>
<msg timestamp="20230928 10:18:35.149" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:35.141" endtime="20230928 10:18:35.149"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:35.149" endtime="20230928 10:18:35.150"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:35.153" level="INFO">Running command 'rm /tmp/key-96999 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:35.155" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:35.155" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:35.151" endtime="20230928 10:18:35.155"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:35.156" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:35.156" endtime="20230928 10:18:35.156"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:35.157" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:35.157" endtime="20230928 10:18:35.157"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.150" endtime="20230928 10:18:35.157"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:30.780" endtime="20230928 10:18:35.158"/>
</test>
<test id="s1-s5-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:35.164" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:35.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:35.682" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:35.162" endtime="20230928 10:18:35.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:35.683" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:35.683" endtime="20230928 10:18:35.683"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:35.684" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:35.684" endtime="20230928 10:18:35.684"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.161" endtime="20230928 10:18:35.684"/>
</kw>
<msg timestamp="20230928 10:18:35.685" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:35.160" endtime="20230928 10:18:35.685"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.160" endtime="20230928 10:18:35.685"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:35.689" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:36.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:36.180" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:35.687" endtime="20230928 10:18:36.180"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:36.182" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:36.181" endtime="20230928 10:18:36.182"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:36.182" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:36.182" endtime="20230928 10:18:36.182"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.686" endtime="20230928 10:18:36.183"/>
</kw>
<msg timestamp="20230928 10:18:36.183" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:35.686" endtime="20230928 10:18:36.183"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.685" endtime="20230928 10:18:36.184"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:36.188" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:36.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:36.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:36.185" endtime="20230928 10:18:36.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:36.663" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:36.662" endtime="20230928 10:18:36.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:36.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:36.663" endtime="20230928 10:18:36.664"/>
</kw>
<status status="PASS" starttime="20230928 10:18:36.184" endtime="20230928 10:18:36.664"/>
</kw>
<msg timestamp="20230928 10:18:36.664" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:36.184" endtime="20230928 10:18:36.665"/>
</kw>
<status status="PASS" starttime="20230928 10:18:36.184" endtime="20230928 10:18:36.665"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:36.669" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:37.155" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:37.155" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:36.666" endtime="20230928 10:18:37.155"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:37.156" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:37.155" endtime="20230928 10:18:37.156"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:37.157" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:37.156" endtime="20230928 10:18:37.157"/>
</kw>
<status status="PASS" starttime="20230928 10:18:36.666" endtime="20230928 10:18:37.157"/>
</kw>
<msg timestamp="20230928 10:18:37.157" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:36.665" endtime="20230928 10:18:37.158"/>
</kw>
<status status="PASS" starttime="20230928 10:18:36.665" endtime="20230928 10:18:37.158"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.160" endtime="20230928 10:18:37.158"/>
</kw>
<status status="PASS" starttime="20230928 10:18:35.159" endtime="20230928 10:18:37.158"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:35.158" endtime="20230928 10:18:37.158"/>
</test>
<test id="s1-s5-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:37.164" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:37.810" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:37.810" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.161" endtime="20230928 10:18:37.810"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:37.811" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:18:37 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:18:37.811" endtime="20230928 10:18:37.811"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:37.812" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:37.812" endtime="20230928 10:18:37.812"/>
</kw>
<msg timestamp="20230928 10:18:37.813" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.160" endtime="20230928 10:18:37.813"/>
</kw>
<msg timestamp="20230928 10:18:37.813" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.160" endtime="20230928 10:18:37.813"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:37.813" endtime="20230928 10:18:37.814"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:37.817" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:37.819" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:37.819" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:37.814" endtime="20230928 10:18:37.819"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:37.820" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:37.820" endtime="20230928 10:18:37.821"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:37.821" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:37.821" endtime="20230928 10:18:37.821"/>
</kw>
<msg timestamp="20230928 10:18:37.821" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:18:37.814" endtime="20230928 10:18:37.822"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:37.822" endtime="20230928 10:18:37.822"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:37.828" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:37.831" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:37.831" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:37.825" endtime="20230928 10:18:37.831"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:37.832" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:37.832" endtime="20230928 10:18:37.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:37.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:37.833" endtime="20230928 10:18:37.833"/>
</kw>
<status status="PASS" starttime="20230928 10:18:37.822" endtime="20230928 10:18:37.833"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:37.159" endtime="20230928 10:18:37.834"/>
</test>
<test id="s1-s5-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:37.841" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:38.504" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:38.504" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.839" endtime="20230928 10:18:38.504"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:38.506" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:18:38 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:18:38.505" endtime="20230928 10:18:38.506"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:38.507" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:38.506" endtime="20230928 10:18:38.507"/>
</kw>
<msg timestamp="20230928 10:18:38.507" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.838" endtime="20230928 10:18:38.507"/>
</kw>
<msg timestamp="20230928 10:18:38.508" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:18:37.837" endtime="20230928 10:18:38.508"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:38.508" endtime="20230928 10:18:38.508"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:38.512" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:38.514" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:38.514" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:38.509" endtime="20230928 10:18:38.514"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:38.516" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:38.515" endtime="20230928 10:18:38.516"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:38.516" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:38.516" endtime="20230928 10:18:38.517"/>
</kw>
<msg timestamp="20230928 10:18:38.517" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:18:38.509" endtime="20230928 10:18:38.517"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:38.517" endtime="20230928 10:18:38.518"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:38.521" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:38.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:38.525" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:38.519" endtime="20230928 10:18:38.525"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:38.526" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:38.526" endtime="20230928 10:18:38.526"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:38.527" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:38.527" endtime="20230928 10:18:38.527"/>
</kw>
<status status="PASS" starttime="20230928 10:18:38.518" endtime="20230928 10:18:38.527"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:37.836" endtime="20230928 10:18:38.528"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:18:30.704" endtime="20230928 10:18:38.529"/>
</suite>
<suite id="s1-s6" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s6-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:42.028" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:42.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:42.029" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:42.023" endtime="20230928 10:18:42.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:42.030" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:42.030" endtime="20230928 10:18:42.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:42.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:42.031" endtime="20230928 10:18:42.031"/>
</kw>
<status status="PASS" starttime="20230928 10:18:42.022" endtime="20230928 10:18:42.031"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:42.035" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:46.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:46.865" level="INFO">${output} = 2023-09-28 10:18:45,298 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:45,375 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:42.033" endtime="20230928 10:18:46.865"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:46.867" level="INFO">2023-09-28 10:18:45,298 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:45,375 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:18:45,375 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:18:45,648 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:18:46.866" endtime="20230928 10:18:46.867"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:46.867" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:46.867" endtime="20230928 10:18:46.867"/>
</kw>
<status status="PASS" starttime="20230928 10:18:42.032" endtime="20230928 10:18:46.868"/>
</kw>
<msg timestamp="20230928 10:18:46.868" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:42.032" endtime="20230928 10:18:46.869"/>
</kw>
<msg timestamp="20230928 10:18:46.870" level="INFO">${output} = 2023-09-28 10:18:45,298 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:45,375 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:42.032" endtime="20230928 10:18:46.870"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:46.870" endtime="20230928 10:18:46.870"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:46.875" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:46.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:46.877" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:46.871" endtime="20230928 10:18:46.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:46.878" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:46.878" endtime="20230928 10:18:46.878"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:46.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:46.879" endtime="20230928 10:18:46.879"/>
</kw>
<status status="PASS" starttime="20230928 10:18:46.870" endtime="20230928 10:18:46.880"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:42.021" endtime="20230928 10:18:46.880"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:46.886" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:46.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:46.888" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:46.884" endtime="20230928 10:18:46.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:46.890" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:46.888" endtime="20230928 10:18:46.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:46.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:46.890" endtime="20230928 10:18:46.890"/>
</kw>
<status status="PASS" starttime="20230928 10:18:46.883" endtime="20230928 10:18:46.891"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:46.895" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:52.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:52.054" level="INFO">${output} = 2023-09-28 10:18:50,403 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:50,534 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:46.893" endtime="20230928 10:18:52.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:52.055" level="INFO">2023-09-28 10:18:50,403 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:50,534 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:18:50,534 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:18:50,772 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:18:52.054" endtime="20230928 10:18:52.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:52.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:52.055" endtime="20230928 10:18:52.056"/>
</kw>
<status status="PASS" starttime="20230928 10:18:46.892" endtime="20230928 10:18:52.056"/>
</kw>
<msg timestamp="20230928 10:18:52.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:46.892" endtime="20230928 10:18:52.057"/>
</kw>
<msg timestamp="20230928 10:18:52.057" level="INFO">${output} = 2023-09-28 10:18:50,403 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:18:50,534 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:18:46.891" endtime="20230928 10:18:52.057"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:52.057" endtime="20230928 10:18:52.058"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:52.061" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:52.064" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:52.064" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:52.058" endtime="20230928 10:18:52.064"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:52.065" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:52.064" endtime="20230928 10:18:52.065"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:52.066" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:52.065" endtime="20230928 10:18:52.066"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.058" endtime="20230928 10:18:52.066"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:46.881" endtime="20230928 10:18:52.066"/>
</test>
<test id="s1-s6-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:52.073" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:52.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:52.586" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:52.070" endtime="20230928 10:18:52.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:52.588" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:52.587" endtime="20230928 10:18:52.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:52.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:52.588" endtime="20230928 10:18:52.588"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.070" endtime="20230928 10:18:52.589"/>
</kw>
<msg timestamp="20230928 10:18:52.589" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:52.069" endtime="20230928 10:18:52.589"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.069" endtime="20230928 10:18:52.589"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:52.594" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:53.113" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:53.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:52.591" endtime="20230928 10:18:53.113"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:53.114" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:53.114" endtime="20230928 10:18:53.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:53.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:53.115" endtime="20230928 10:18:53.115"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.590" endtime="20230928 10:18:53.116"/>
</kw>
<msg timestamp="20230928 10:18:53.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:52.590" endtime="20230928 10:18:53.116"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.590" endtime="20230928 10:18:53.116"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:53.120" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:53.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:53.629" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:53.118" endtime="20230928 10:18:53.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:53.630" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:53.629" endtime="20230928 10:18:53.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:53.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:53.630" endtime="20230928 10:18:53.631"/>
</kw>
<status status="PASS" starttime="20230928 10:18:53.117" endtime="20230928 10:18:53.631"/>
</kw>
<msg timestamp="20230928 10:18:53.631" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:53.117" endtime="20230928 10:18:53.632"/>
</kw>
<status status="PASS" starttime="20230928 10:18:53.116" endtime="20230928 10:18:53.632"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:53.636" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:54.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:54.138" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:53.633" endtime="20230928 10:18:54.138"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:54.139" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:54.139" endtime="20230928 10:18:54.139"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:54.140" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:54.140" endtime="20230928 10:18:54.140"/>
</kw>
<status status="PASS" starttime="20230928 10:18:53.633" endtime="20230928 10:18:54.140"/>
</kw>
<msg timestamp="20230928 10:18:54.141" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:53.633" endtime="20230928 10:18:54.142"/>
</kw>
<status status="PASS" starttime="20230928 10:18:53.632" endtime="20230928 10:18:54.142"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.069" endtime="20230928 10:18:54.143"/>
</kw>
<status status="PASS" starttime="20230928 10:18:52.068" endtime="20230928 10:18:54.143"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:52.067" endtime="20230928 10:18:54.143"/>
</test>
<test id="s1-s6-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:18:54.146" level="INFO">${randStr} = 8912691804</msg>
<status status="PASS" starttime="20230928 10:18:54.146" endtime="20230928 10:18:54.146"/>
</kw>
<msg timestamp="20230928 10:18:54.147" level="INFO">${random} = ozone-test-8912691804</msg>
<status status="PASS" starttime="20230928 10:18:54.145" endtime="20230928 10:18:54.147"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:54.152" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-8912691804 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:54.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:54.769" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-8912691804"
}</msg>
<status status="PASS" starttime="20230928 10:18:54.149" endtime="20230928 10:18:54.769"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:54.770" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-8912691804"
}</msg>
<status status="PASS" starttime="20230928 10:18:54.769" endtime="20230928 10:18:54.770"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:54.771" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:54.770" endtime="20230928 10:18:54.771"/>
</kw>
<status status="PASS" starttime="20230928 10:18:54.148" endtime="20230928 10:18:54.771"/>
</kw>
<msg timestamp="20230928 10:18:54.772" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:54.148" endtime="20230928 10:18:54.772"/>
</kw>
<msg timestamp="20230928 10:18:54.772" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-8912691804"
}</msg>
<status status="PASS" starttime="20230928 10:18:54.148" endtime="20230928 10:18:54.772"/>
</kw>
<msg timestamp="20230928 10:18:54.773" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-8912691804"
}</msg>
<status status="PASS" starttime="20230928 10:18:54.147" endtime="20230928 10:18:54.773"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:54.773" endtime="20230928 10:18:54.773"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:54.773" endtime="20230928 10:18:54.774"/>
</kw>
<msg timestamp="20230928 10:18:54.774" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:18:54.147" endtime="20230928 10:18:54.774"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:18:54.774" endtime="20230928 10:18:54.774"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:54.145" endtime="20230928 10:18:54.775"/>
</test>
<test id="s1-s6-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:54.780" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:18:54.781" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:54.781" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:54.777" endtime="20230928 10:18:54.781"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:54.782" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:54.782" endtime="20230928 10:18:54.782"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:54.783" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:54.783" endtime="20230928 10:18:54.783"/>
</kw>
<status status="PASS" starttime="20230928 10:18:54.776" endtime="20230928 10:18:54.783"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:54.787" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:55.597" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:55.597" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:54.785" endtime="20230928 10:18:55.597"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:55.598" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:55.597" endtime="20230928 10:18:55.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:55.599" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:55.598" endtime="20230928 10:18:55.599"/>
</kw>
<msg timestamp="20230928 10:18:55.599" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:54.784" endtime="20230928 10:18:55.599"/>
</kw>
<msg timestamp="20230928 10:18:55.600" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:54.784" endtime="20230928 10:18:55.600"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:18:55.600" endtime="20230928 10:18:55.600"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:55.603" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:18:55.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:18:55.606" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:18:55.601" endtime="20230928 10:18:55.606"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:18:55.607" level="INFO"/>
<status status="PASS" starttime="20230928 10:18:55.606" endtime="20230928 10:18:55.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:18:55.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:18:55.607" endtime="20230928 10:18:55.608"/>
</kw>
<status status="PASS" starttime="20230928 10:18:55.600" endtime="20230928 10:18:55.608"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:54.776" endtime="20230928 10:18:55.608"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:18:41.912" endtime="20230928 10:18:55.609"/>
</suite>
<suite id="s1-s7" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s7-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:18:58.631" endtime="20230928 10:18:58.632"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:18:58.632" endtime="20230928 10:18:58.633"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:18:58.644" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:19:06.390" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:19:06.390" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [107].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230928 10:18:58.634" endtime="20230928 10:19:06.390"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:19:06.391" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [107].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [107]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [107]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [107]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 10:19:06.390" endtime="20230928 10:19:06.391"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:19:06.392" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:19:06.391" endtime="20230928 10:19:06.392"/>
</kw>
<status status="PASS" starttime="20230928 10:18:58.633" endtime="20230928 10:19:06.392"/>
</kw>
<msg timestamp="20230928 10:19:06.392" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:18:58.633" endtime="20230928 10:19:06.393"/>
</kw>
<msg timestamp="20230928 10:19:06.394" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [107].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230928 10:18:58.633" endtime="20230928 10:19:06.394"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:19:06.394" endtime="20230928 10:19:06.395"/>
</kw>
<status status="PASS" starttime="20230928 10:19:06.394" endtime="20230928 10:19:06.395"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:18:58.630" endtime="20230928 10:19:06.395"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 10:18:58.583" endtime="20230928 10:19:06.397"/>
</suite>
<suite id="s1-s8" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s8-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:09:24.450" endtime="20230928 10:09:24.451"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:24.458" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:24.461" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:24.461" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=1092a6a6b45d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:09:24.452" endtime="20230928 10:09:24.461"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:24.462" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=1092a6a6b45d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:09:24.461" endtime="20230928 10:09:24.462"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:24.463" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:24.462" endtime="20230928 10:09:24.463"/>
</kw>
<status status="PASS" starttime="20230928 10:09:24.452" endtime="20230928 10:09:24.463"/>
</kw>
<msg timestamp="20230928 10:09:24.463" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:24.451" endtime="20230928 10:09:24.464"/>
</kw>
<msg timestamp="20230928 10:09:24.465" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=1092a6a6b45d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:09:24.451" endtime="20230928 10:09:24.465"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:24.465" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=1092a6a6b45d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:09:24.465" endtime="20230928 10:09:24.465"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:09:24.466" endtime="20230928 10:09:24.466"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:24.469" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:27.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:27.059" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:09:24.467" endtime="20230928 10:09:27.059"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:27.060" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:09:27.059" endtime="20230928 10:09:27.060"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:27.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:27.060" endtime="20230928 10:09:27.061"/>
</kw>
<status status="PASS" starttime="20230928 10:09:24.467" endtime="20230928 10:09:27.061"/>
</kw>
<msg timestamp="20230928 10:09:27.061" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:24.466" endtime="20230928 10:09:27.062"/>
</kw>
<msg timestamp="20230928 10:09:27.062" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:09:24.466" endtime="20230928 10:09:27.062"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:27.062" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 10:09:27.062" endtime="20230928 10:09:27.062"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:09:27.063" endtime="20230928 10:09:27.063"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:09:24.449" endtime="20230928 10:09:27.063"/>
</test>
<test id="s1-s8-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:09:27.065" endtime="20230928 10:09:27.065"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:09:27.066" endtime="20230928 10:09:27.066"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:27.070" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:30.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:30.071" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:09:27.067" endtime="20230928 10:09:30.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:30.072" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:09:30.071" endtime="20230928 10:09:30.072"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:30.073" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:30.072" endtime="20230928 10:09:30.073"/>
</kw>
<status status="PASS" starttime="20230928 10:09:27.067" endtime="20230928 10:09:30.073"/>
</kw>
<msg timestamp="20230928 10:09:30.073" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:27.067" endtime="20230928 10:09:30.073"/>
</kw>
<msg timestamp="20230928 10:09:30.074" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:09:27.066" endtime="20230928 10:09:30.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:30.074" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:09:30.074" endtime="20230928 10:09:30.074"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:09:30.074" endtime="20230928 10:09:30.075"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:09:27.064" endtime="20230928 10:09:30.075"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:09:24.398" endtime="20230928 10:09:30.076"/>
</suite>
<suite id="s1-s9" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s9-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:33.216" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:35.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:35.877" level="INFO">${output} = 2023-09-28 10:09:35,674 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:09:33.211" endtime="20230928 10:09:35.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:35.878" level="INFO">2023-09-28 10:09:35,674 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:09:35.877" endtime="20230928 10:09:35.878"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:35.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:35.878" endtime="20230928 10:09:35.879"/>
</kw>
<status status="PASS" starttime="20230928 10:09:33.210" endtime="20230928 10:09:35.879"/>
</kw>
<msg timestamp="20230928 10:09:35.880" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:33.210" endtime="20230928 10:09:35.881"/>
</kw>
<msg timestamp="20230928 10:09:35.881" level="INFO">${output} = 2023-09-28 10:09:35,674 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 10:09:33.209" endtime="20230928 10:09:35.881"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:35.881" endtime="20230928 10:09:35.882"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:35.890" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:38.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:38.855" level="INFO">${output} = 2023-09-28 10:09:38,751 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 10:09:35.883" endtime="20230928 10:09:38.856"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:38.857" level="INFO">2023-09-28 10:09:38,751 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 10:09:38.856" endtime="20230928 10:09:38.857"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:38.857" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:38.857" endtime="20230928 10:09:38.858"/>
</kw>
<status status="PASS" starttime="20230928 10:09:35.883" endtime="20230928 10:09:38.858"/>
</kw>
<msg timestamp="20230928 10:09:38.858" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:35.882" endtime="20230928 10:09:38.859"/>
</kw>
<msg timestamp="20230928 10:09:38.859" level="INFO">${output} = 2023-09-28 10:09:38,751 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 10:09:35.882" endtime="20230928 10:09:38.859"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:38.859" endtime="20230928 10:09:38.859"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:33.208" endtime="20230928 10:09:38.860"/>
</test>
<test id="s1-s9-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:38.866" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:09:38.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:38.867" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:38.863" endtime="20230928 10:09:38.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:38.868" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:38.868" endtime="20230928 10:09:38.868"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:38.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:38.869" endtime="20230928 10:09:38.869"/>
</kw>
<status status="PASS" starttime="20230928 10:09:38.862" endtime="20230928 10:09:38.869"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:38.874" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:45.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:45.156" level="INFO">${output} = 2023-09-28 10:09:42,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:43,070 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:09:38.872" endtime="20230928 10:09:45.156"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:45.158" level="INFO">2023-09-28 10:09:42,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:43,070 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:09:43,070 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:09:43,366 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:09:45.157" endtime="20230928 10:09:45.158"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:45.159" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:45.158" endtime="20230928 10:09:45.159"/>
</kw>
<status status="PASS" starttime="20230928 10:09:38.870" endtime="20230928 10:09:45.159"/>
</kw>
<msg timestamp="20230928 10:09:45.159" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:38.870" endtime="20230928 10:09:45.159"/>
</kw>
<msg timestamp="20230928 10:09:45.160" level="INFO">${output} = 2023-09-28 10:09:42,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:43,070 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:09:38.869" endtime="20230928 10:09:45.160"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:45.160" endtime="20230928 10:09:45.160"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:45.163" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:45.167" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:45.167" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:45.161" endtime="20230928 10:09:45.167"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:45.168" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:45.167" endtime="20230928 10:09:45.168"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:45.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:45.168" endtime="20230928 10:09:45.169"/>
</kw>
<status status="PASS" starttime="20230928 10:09:45.160" endtime="20230928 10:09:45.169"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:38.861" endtime="20230928 10:09:45.169"/>
</test>
<test id="s1-s9-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:45.175" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:48.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:48.030" level="INFO">${output} = 2023-09-28 10:09:47,951 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 10:09:45.173" endtime="20230928 10:09:48.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:48.032" level="INFO">2023-09-28 10:09:47,951 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 10:09:48.031" endtime="20230928 10:09:48.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:48.033" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:48.032" endtime="20230928 10:09:48.033"/>
</kw>
<status status="PASS" starttime="20230928 10:09:45.172" endtime="20230928 10:09:48.033"/>
</kw>
<msg timestamp="20230928 10:09:48.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:45.172" endtime="20230928 10:09:48.034"/>
</kw>
<msg timestamp="20230928 10:09:48.034" level="INFO">${output} = 2023-09-28 10:09:47,951 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 10:09:45.171" endtime="20230928 10:09:48.034"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:48.034" endtime="20230928 10:09:48.035"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:45.170" endtime="20230928 10:09:48.035"/>
</test>
<test id="s1-s9-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:48.040" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:09:48.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:48.048" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:48.038" endtime="20230928 10:09:48.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:48.049" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:48.049" endtime="20230928 10:09:48.050"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:48.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:48.050" endtime="20230928 10:09:48.050"/>
</kw>
<status status="PASS" starttime="20230928 10:09:48.037" endtime="20230928 10:09:48.051"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:48.055" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:53.361" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:53.361" level="INFO">${output} = 2023-09-28 10:09:51,760 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:51,840 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:09:48.053" endtime="20230928 10:09:53.361"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:53.362" level="INFO">2023-09-28 10:09:51,760 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:51,840 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:09:51,840 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 10:09:52,129 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 10:09:53.362" endtime="20230928 10:09:53.362"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:53.363" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:53.363" endtime="20230928 10:09:53.363"/>
</kw>
<status status="PASS" starttime="20230928 10:09:48.052" endtime="20230928 10:09:53.363"/>
</kw>
<msg timestamp="20230928 10:09:53.363" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:48.051" endtime="20230928 10:09:53.364"/>
</kw>
<msg timestamp="20230928 10:09:53.364" level="INFO">${output} = 2023-09-28 10:09:51,760 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:09:51,840 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:09:48.051" endtime="20230928 10:09:53.364"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:53.364" endtime="20230928 10:09:53.365"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:53.368" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:53.370" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:53.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:53.365" endtime="20230928 10:09:53.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:53.372" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:53.371" endtime="20230928 10:09:53.372"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:53.372" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:53.372" endtime="20230928 10:09:53.372"/>
</kw>
<status status="PASS" starttime="20230928 10:09:53.365" endtime="20230928 10:09:53.373"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:48.036" endtime="20230928 10:09:53.373"/>
</test>
<test id="s1-s9-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:53.379" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:54.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:54.034" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:53.376" endtime="20230928 10:09:54.034"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:54.035" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:54.034" endtime="20230928 10:09:54.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:54.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:54.036" endtime="20230928 10:09:54.037"/>
</kw>
<status status="PASS" starttime="20230928 10:09:53.376" endtime="20230928 10:09:54.037"/>
</kw>
<msg timestamp="20230928 10:09:54.037" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:53.376" endtime="20230928 10:09:54.038"/>
</kw>
<status status="PASS" starttime="20230928 10:09:53.375" endtime="20230928 10:09:54.038"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:54.042" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:54.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:54.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:54.039" endtime="20230928 10:09:54.538"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:54.539" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:54.539" endtime="20230928 10:09:54.539"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:54.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:54.540" endtime="20230928 10:09:54.540"/>
</kw>
<status status="PASS" starttime="20230928 10:09:54.039" endtime="20230928 10:09:54.540"/>
</kw>
<msg timestamp="20230928 10:09:54.541" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:54.038" endtime="20230928 10:09:54.541"/>
</kw>
<status status="PASS" starttime="20230928 10:09:54.038" endtime="20230928 10:09:54.541"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:54.546" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:55.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:55.050" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:54.543" endtime="20230928 10:09:55.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:55.051" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:55.050" endtime="20230928 10:09:55.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:55.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:55.051" endtime="20230928 10:09:55.052"/>
</kw>
<status status="PASS" starttime="20230928 10:09:54.542" endtime="20230928 10:09:55.052"/>
</kw>
<msg timestamp="20230928 10:09:55.052" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:54.542" endtime="20230928 10:09:55.053"/>
</kw>
<status status="PASS" starttime="20230928 10:09:54.541" endtime="20230928 10:09:55.053"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:55.057" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:55.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:55.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:55.054" endtime="20230928 10:09:55.610"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:55.611" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:55.610" endtime="20230928 10:09:55.611"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:55.612" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:55.612" endtime="20230928 10:09:55.612"/>
</kw>
<status status="PASS" starttime="20230928 10:09:55.054" endtime="20230928 10:09:55.613"/>
</kw>
<msg timestamp="20230928 10:09:55.613" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:55.053" endtime="20230928 10:09:55.613"/>
</kw>
<status status="PASS" starttime="20230928 10:09:55.053" endtime="20230928 10:09:55.613"/>
</kw>
<status status="PASS" starttime="20230928 10:09:53.375" endtime="20230928 10:09:55.614"/>
</kw>
<status status="PASS" starttime="20230928 10:09:53.375" endtime="20230928 10:09:55.614"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:53.374" endtime="20230928 10:09:55.614"/>
</test>
<test id="s1-s9-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:09:55.617" level="INFO">${randStr} = 2576985144</msg>
<status status="PASS" starttime="20230928 10:09:55.616" endtime="20230928 10:09:55.617"/>
</kw>
<msg timestamp="20230928 10:09:55.617" level="INFO">${random} = ozone-test-2576985144</msg>
<status status="PASS" starttime="20230928 10:09:55.616" endtime="20230928 10:09:55.617"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:55.622" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-2576985144 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:57.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:57.560" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2576985144"
}</msg>
<status status="PASS" starttime="20230928 10:09:55.620" endtime="20230928 10:09:57.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:57.562" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2576985144"
}</msg>
<status status="PASS" starttime="20230928 10:09:57.561" endtime="20230928 10:09:57.562"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:57.563" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:57.562" endtime="20230928 10:09:57.563"/>
</kw>
<status status="PASS" starttime="20230928 10:09:55.619" endtime="20230928 10:09:57.563"/>
</kw>
<msg timestamp="20230928 10:09:57.563" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:09:55.619" endtime="20230928 10:09:57.564"/>
</kw>
<msg timestamp="20230928 10:09:57.564" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2576985144"
}</msg>
<status status="PASS" starttime="20230928 10:09:55.618" endtime="20230928 10:09:57.564"/>
</kw>
<msg timestamp="20230928 10:09:57.564" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2576985144"
}</msg>
<status status="PASS" starttime="20230928 10:09:55.618" endtime="20230928 10:09:57.564"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:57.564" endtime="20230928 10:09:57.565"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:57.565" endtime="20230928 10:09:57.565"/>
</kw>
<msg timestamp="20230928 10:09:57.566" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:09:55.617" endtime="20230928 10:09:57.566"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:09:57.566" endtime="20230928 10:09:57.566"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:55.615" endtime="20230928 10:09:57.567"/>
</test>
<test id="s1-s9-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:57.572" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:09:57.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:57.573" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:57.569" endtime="20230928 10:09:57.573"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:57.574" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:57.574" endtime="20230928 10:09:57.574"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:57.575" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:57.575" endtime="20230928 10:09:57.575"/>
</kw>
<status status="PASS" starttime="20230928 10:09:57.569" endtime="20230928 10:09:57.575"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:57.579" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:59.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:59.347" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:57.577" endtime="20230928 10:09:59.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:59.349" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:59.348" endtime="20230928 10:09:59.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:59.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:59.349" endtime="20230928 10:09:59.350"/>
</kw>
<msg timestamp="20230928 10:09:59.350" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:57.576" endtime="20230928 10:09:59.350"/>
</kw>
<msg timestamp="20230928 10:09:59.350" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:57.576" endtime="20230928 10:09:59.350"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:09:59.351" endtime="20230928 10:09:59.351"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:09:59.354" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:09:59.357" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:09:59.357" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:09:59.352" endtime="20230928 10:09:59.357"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:09:59.358" level="INFO"/>
<status status="PASS" starttime="20230928 10:09:59.357" endtime="20230928 10:09:59.358"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:09:59.359" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:09:59.358" endtime="20230928 10:09:59.359"/>
</kw>
<status status="PASS" starttime="20230928 10:09:59.351" endtime="20230928 10:09:59.359"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:09:57.568" endtime="20230928 10:09:59.359"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:09:33.125" endtime="20230928 10:09:59.361"/>
</suite>
<suite id="s1-s10" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s10-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:10:02.367" level="INFO">${random} = 31703</msg>
<status status="PASS" starttime="20230928 10:10:02.366" endtime="20230928 10:10:02.367"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:02.373" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-31703 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:06.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:06.972" level="INFO">${output} = 2023-09-28 10:10:05,674 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:10:05,798 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:10:02.369" endtime="20230928 10:10:06.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:06.973" level="INFO">2023-09-28 10:10:05,674 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:10:05,798 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 10:10:05,799 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 10:10:06.972" endtime="20230928 10:10:06.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:06.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:06.974" endtime="20230928 10:10:06.974"/>
</kw>
<status status="PASS" starttime="20230928 10:10:02.368" endtime="20230928 10:10:06.975"/>
</kw>
<msg timestamp="20230928 10:10:06.975" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:02.367" endtime="20230928 10:10:06.976"/>
</kw>
<msg timestamp="20230928 10:10:06.976" level="INFO">${output} = 2023-09-28 10:10:05,674 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 10:10:05,798 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 10:10:02.367" endtime="20230928 10:10:06.976"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:06.977" endtime="20230928 10:10:06.977"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:06.982" level="INFO">Running command 'cat /tmp/key-31703 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:06.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:06.984" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:06.978" endtime="20230928 10:10:06.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:06.985" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:06.984" endtime="20230928 10:10:06.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:06.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:06.985" endtime="20230928 10:10:06.986"/>
</kw>
<msg timestamp="20230928 10:10:06.986" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:06.977" endtime="20230928 10:10:06.986"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:06.987" endtime="20230928 10:10:06.987"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:06.990" level="INFO">Running command 'rm /tmp/key-31703 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:06.992" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:06.992" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:06.988" endtime="20230928 10:10:06.992"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:06.993" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:06.993" endtime="20230928 10:10:06.993"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:06.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:06.993" endtime="20230928 10:10:06.994"/>
</kw>
<status status="PASS" starttime="20230928 10:10:06.987" endtime="20230928 10:10:06.994"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:10:02.365" endtime="20230928 10:10:06.994"/>
</test>
<test id="s1-s10-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:07.000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:07.521" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:07.521" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:06.998" endtime="20230928 10:10:07.521"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:07.522" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:07.522" endtime="20230928 10:10:07.522"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:07.523" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:07.523" endtime="20230928 10:10:07.523"/>
</kw>
<status status="PASS" starttime="20230928 10:10:06.998" endtime="20230928 10:10:07.523"/>
</kw>
<msg timestamp="20230928 10:10:07.523" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:06.998" endtime="20230928 10:10:07.524"/>
</kw>
<status status="PASS" starttime="20230928 10:10:06.997" endtime="20230928 10:10:07.524"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:07.528" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:08.061" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:08.061" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:07.526" endtime="20230928 10:10:08.061"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:08.062" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:08.062" endtime="20230928 10:10:08.063"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:08.063" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:08.063" endtime="20230928 10:10:08.063"/>
</kw>
<status status="PASS" starttime="20230928 10:10:07.525" endtime="20230928 10:10:08.064"/>
</kw>
<msg timestamp="20230928 10:10:08.064" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:07.525" endtime="20230928 10:10:08.064"/>
</kw>
<status status="PASS" starttime="20230928 10:10:07.524" endtime="20230928 10:10:08.064"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:08.069" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:08.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:08.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:08.066" endtime="20230928 10:10:08.594"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:08.595" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:08.594" endtime="20230928 10:10:08.595"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:08.596" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:08.595" endtime="20230928 10:10:08.596"/>
</kw>
<status status="PASS" starttime="20230928 10:10:08.066" endtime="20230928 10:10:08.596"/>
</kw>
<msg timestamp="20230928 10:10:08.597" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:08.065" endtime="20230928 10:10:08.598"/>
</kw>
<status status="PASS" starttime="20230928 10:10:08.065" endtime="20230928 10:10:08.598"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:08.603" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:09.209" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:09.209" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:08.600" endtime="20230928 10:10:09.209"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:09.210" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:09.209" endtime="20230928 10:10:09.211"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:09.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:09.211" endtime="20230928 10:10:09.211"/>
</kw>
<status status="PASS" starttime="20230928 10:10:08.599" endtime="20230928 10:10:09.212"/>
</kw>
<msg timestamp="20230928 10:10:09.212" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:08.599" endtime="20230928 10:10:09.212"/>
</kw>
<status status="PASS" starttime="20230928 10:10:08.598" endtime="20230928 10:10:09.213"/>
</kw>
<status status="PASS" starttime="20230928 10:10:06.997" endtime="20230928 10:10:09.213"/>
</kw>
<status status="PASS" starttime="20230928 10:10:06.996" endtime="20230928 10:10:09.213"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:10:06.995" endtime="20230928 10:10:09.213"/>
</test>
<test id="s1-s10-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:09.219" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.029" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:09.216" endtime="20230928 10:10:10.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.030" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:10:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:10:10.029" endtime="20230928 10:10:10.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.031" endtime="20230928 10:10:10.031"/>
</kw>
<msg timestamp="20230928 10:10:10.031" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:09.216" endtime="20230928 10:10:10.031"/>
</kw>
<msg timestamp="20230928 10:10:10.032" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:09.215" endtime="20230928 10:10:10.032"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:10.032" endtime="20230928 10:10:10.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:10.035" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.038" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:10.033" endtime="20230928 10:10:10.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.039" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:10.038" endtime="20230928 10:10:10.039"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.040" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.039" endtime="20230928 10:10:10.040"/>
</kw>
<msg timestamp="20230928 10:10:10.040" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:10:10.032" endtime="20230928 10:10:10.040"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:10.040" endtime="20230928 10:10:10.041"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:10.043" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.046" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:10.041" endtime="20230928 10:10:10.046"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.047" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:10.046" endtime="20230928 10:10:10.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.047" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.047" endtime="20230928 10:10:10.047"/>
</kw>
<status status="PASS" starttime="20230928 10:10:10.041" endtime="20230928 10:10:10.048"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:10:09.214" endtime="20230928 10:10:10.048"/>
</test>
<test id="s1-s10-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:10.054" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.705" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:10.052" endtime="20230928 10:10:10.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.707" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:10:10 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:10:10.706" endtime="20230928 10:10:10.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.708" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.707" endtime="20230928 10:10:10.708"/>
</kw>
<msg timestamp="20230928 10:10:10.708" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:10.051" endtime="20230928 10:10:10.708"/>
</kw>
<msg timestamp="20230928 10:10:10.708" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:10:10.051" endtime="20230928 10:10:10.708"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:10.709" endtime="20230928 10:10:10.709"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:10.712" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.715" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.715" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:10:10.710" endtime="20230928 10:10:10.715"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.716" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:10:10.715" endtime="20230928 10:10:10.716"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.717" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.716" endtime="20230928 10:10:10.717"/>
</kw>
<msg timestamp="20230928 10:10:10.717" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:10:10.709" endtime="20230928 10:10:10.717"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:10.717" endtime="20230928 10:10:10.718"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:10.720" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:10.723" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:10.723" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:10:10.719" endtime="20230928 10:10:10.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:10.724" level="INFO"/>
<status status="PASS" starttime="20230928 10:10:10.723" endtime="20230928 10:10:10.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:10.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:10.724" endtime="20230928 10:10:10.724"/>
</kw>
<status status="PASS" starttime="20230928 10:10:10.718" endtime="20230928 10:10:10.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:10:10.050" endtime="20230928 10:10:10.725"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:10:02.288" endtime="20230928 10:10:10.727"/>
</suite>
<suite id="s1-s11" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s11-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:10:13.718" endtime="20230928 10:10:13.719"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:10:13.719" endtime="20230928 10:10:13.719"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:10:13.725" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:10:21.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:10:21.610" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 10:10:13.721" endtime="20230928 10:10:21.610"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:10:21.612" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 10:10:21.611" endtime="20230928 10:10:21.612"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:10:21.613" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:10:21.612" endtime="20230928 10:10:21.613"/>
</kw>
<status status="PASS" starttime="20230928 10:10:13.720" endtime="20230928 10:10:21.613"/>
</kw>
<msg timestamp="20230928 10:10:21.613" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:10:13.720" endtime="20230928 10:10:21.615"/>
</kw>
<msg timestamp="20230928 10:10:21.615" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 10:10:13.719" endtime="20230928 10:10:21.615"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:10:21.617" endtime="20230928 10:10:21.618"/>
</kw>
<status status="PASS" starttime="20230928 10:10:21.616" endtime="20230928 10:10:21.618"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:10:13.717" endtime="20230928 10:10:21.618"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 10:10:13.670" endtime="20230928 10:10:21.619"/>
</suite>
<suite id="s1-s12" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s12-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:21:39.126" endtime="20230928 10:21:39.126"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:21:39.131" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:23:41.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:23:41.055" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230928 10:21:39.128" endtime="20230928 10:23:41.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:41.057" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 10:23:41.056" endtime="20230928 10:23:41.057"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:23:41.058" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:23:41.057" endtime="20230928 10:23:41.058"/>
</kw>
<status status="PASS" starttime="20230928 10:21:39.127" endtime="20230928 10:23:41.061"/>
</kw>
<msg timestamp="20230928 10:23:41.062" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:21:39.127" endtime="20230928 10:23:41.062"/>
</kw>
<msg timestamp="20230928 10:23:41.062" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230928 10:21:39.126" endtime="20230928 10:23:41.062"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:41.063" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 10:23:41.062" endtime="20230928 10:23:41.063"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:21:39.125" endtime="20230928 10:23:41.063"/>
</test>
<test id="s1-s12-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:23:41.067" endtime="20230928 10:23:41.067"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:23:41.074" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:23:46.254" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:23:46.254" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230928 10:23:41.069" endtime="20230928 10:23:46.254"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:46.256" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 10:23:46.255" endtime="20230928 10:23:46.256"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:23:46.257" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:23:46.256" endtime="20230928 10:23:46.257"/>
</kw>
<status status="PASS" starttime="20230928 10:23:41.069" endtime="20230928 10:23:46.257"/>
</kw>
<msg timestamp="20230928 10:23:46.257" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:23:41.068" endtime="20230928 10:23:46.257"/>
</kw>
<msg timestamp="20230928 10:23:46.258" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230928 10:23:41.068" endtime="20230928 10:23:46.258"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:46.258" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 10:23:46.258" endtime="20230928 10:23:46.258"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:23:41.066" endtime="20230928 10:23:46.259"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:21:39.067" endtime="20230928 10:23:46.260"/>
</suite>
<suite id="s1-s13" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s13-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:23:49.627" endtime="20230928 10:23:49.628"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:23:49.633" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:23:49.637" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:23:49.637" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:23:49.630" endtime="20230928 10:23:49.637"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:49.638" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:23:49.638" endtime="20230928 10:23:49.638"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:23:49.639" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:23:49.638" endtime="20230928 10:23:49.639"/>
</kw>
<status status="PASS" starttime="20230928 10:23:49.629" endtime="20230928 10:23:49.639"/>
</kw>
<msg timestamp="20230928 10:23:49.640" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:23:49.628" endtime="20230928 10:23:49.640"/>
</kw>
<msg timestamp="20230928 10:23:49.640" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:23:49.628" endtime="20230928 10:23:49.640"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:49.640" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:23:49.640" endtime="20230928 10:23:49.641"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:23:49.641" endtime="20230928 10:23:49.641"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:23:49.645" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:23:53.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:23:53.885" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:49.643" endtime="20230928 10:23:53.885"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:53.887" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:53.886" endtime="20230928 10:23:53.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:23:53.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:23:53.887" endtime="20230928 10:23:53.888"/>
</kw>
<status status="PASS" starttime="20230928 10:23:49.642" endtime="20230928 10:23:53.888"/>
</kw>
<msg timestamp="20230928 10:23:53.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:23:49.642" endtime="20230928 10:23:53.888"/>
</kw>
<msg timestamp="20230928 10:23:53.888" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:49.641" endtime="20230928 10:23:53.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:53.889" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:53.889" endtime="20230928 10:23:53.889"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:23:53.889" endtime="20230928 10:23:53.890"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:23:49.626" endtime="20230928 10:23:53.890"/>
</test>
<test id="s1-s13-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:23:53.892" endtime="20230928 10:23:53.892"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:23:53.893" endtime="20230928 10:23:53.893"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:23:53.897" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:23:58.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:23:58.030" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:53.894" endtime="20230928 10:23:58.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:58.032" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:58.031" endtime="20230928 10:23:58.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:23:58.033" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:23:58.032" endtime="20230928 10:23:58.033"/>
</kw>
<status status="PASS" starttime="20230928 10:23:53.894" endtime="20230928 10:23:58.033"/>
</kw>
<msg timestamp="20230928 10:23:58.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:23:53.894" endtime="20230928 10:23:58.033"/>
</kw>
<msg timestamp="20230928 10:23:58.033" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:53.893" endtime="20230928 10:23:58.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:23:58.034" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:23:58.033" endtime="20230928 10:23:58.034"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:23:58.034" endtime="20230928 10:23:58.035"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:23:53.891" endtime="20230928 10:23:58.035"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:23:49.555" endtime="20230928 10:23:58.037"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:24:01.456" level="INFO">${random} = 64547</msg>
<status status="PASS" starttime="20230928 10:24:01.455" endtime="20230928 10:24:01.456"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:01.460" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-64547 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:08.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:08.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:01.457" endtime="20230928 10:24:08.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:08.189" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:08.188" endtime="20230928 10:24:08.189"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:08.190" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:08.190" endtime="20230928 10:24:08.191"/>
</kw>
<status status="PASS" starttime="20230928 10:24:01.457" endtime="20230928 10:24:08.191"/>
</kw>
<msg timestamp="20230928 10:24:08.191" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:01.456" endtime="20230928 10:24:08.191"/>
</kw>
<msg timestamp="20230928 10:24:08.192" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:01.456" endtime="20230928 10:24:08.192"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:08.192" endtime="20230928 10:24:08.193"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:08.197" level="INFO">Running command 'cat /tmp/key-64547 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:08.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:08.202" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:08.194" endtime="20230928 10:24:08.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:08.204" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:08.203" endtime="20230928 10:24:08.204"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:08.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:08.204" endtime="20230928 10:24:08.205"/>
</kw>
<msg timestamp="20230928 10:24:08.205" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:08.193" endtime="20230928 10:24:08.205"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:08.205" endtime="20230928 10:24:08.206"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:08.210" level="INFO">Running command 'rm /tmp/key-64547 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:08.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:08.218" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:08.207" endtime="20230928 10:24:08.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:08.220" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:08.219" endtime="20230928 10:24:08.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:08.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:08.220" endtime="20230928 10:24:08.220"/>
</kw>
<status status="PASS" starttime="20230928 10:24:08.206" endtime="20230928 10:24:08.221"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:01.454" endtime="20230928 10:24:08.221"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:08.229" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:09.179" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:09.180" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:08.226" endtime="20230928 10:24:09.180"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:09.182" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:09.181" endtime="20230928 10:24:09.182"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:09.183" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:09.182" endtime="20230928 10:24:09.183"/>
</kw>
<status status="PASS" starttime="20230928 10:24:08.225" endtime="20230928 10:24:09.183"/>
</kw>
<msg timestamp="20230928 10:24:09.184" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:08.225" endtime="20230928 10:24:09.184"/>
</kw>
<status status="PASS" starttime="20230928 10:24:08.224" endtime="20230928 10:24:09.184"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:09.189" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:09.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:09.732" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:09.186" endtime="20230928 10:24:09.732"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:09.733" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:09.732" endtime="20230928 10:24:09.733"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:09.734" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:09.733" endtime="20230928 10:24:09.734"/>
</kw>
<status status="PASS" starttime="20230928 10:24:09.185" endtime="20230928 10:24:09.734"/>
</kw>
<msg timestamp="20230928 10:24:09.734" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:09.185" endtime="20230928 10:24:09.734"/>
</kw>
<status status="PASS" starttime="20230928 10:24:09.184" endtime="20230928 10:24:09.735"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:09.740" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:10.359" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:10.359" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:09.736" endtime="20230928 10:24:10.359"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:10.361" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:10.360" endtime="20230928 10:24:10.361"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:10.362" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:10.361" endtime="20230928 10:24:10.362"/>
</kw>
<status status="PASS" starttime="20230928 10:24:09.736" endtime="20230928 10:24:10.362"/>
</kw>
<msg timestamp="20230928 10:24:10.362" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:09.735" endtime="20230928 10:24:10.362"/>
</kw>
<status status="PASS" starttime="20230928 10:24:09.735" endtime="20230928 10:24:10.362"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:10.367" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:11.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:11.017" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:10.364" endtime="20230928 10:24:11.017"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:11.019" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:11.018" endtime="20230928 10:24:11.019"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:11.021" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:11.019" endtime="20230928 10:24:11.021"/>
</kw>
<status status="PASS" starttime="20230928 10:24:10.363" endtime="20230928 10:24:11.022"/>
</kw>
<msg timestamp="20230928 10:24:11.022" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:10.363" endtime="20230928 10:24:11.022"/>
</kw>
<status status="PASS" starttime="20230928 10:24:10.362" endtime="20230928 10:24:11.022"/>
</kw>
<status status="PASS" starttime="20230928 10:24:08.224" endtime="20230928 10:24:11.022"/>
</kw>
<status status="PASS" starttime="20230928 10:24:08.223" endtime="20230928 10:24:11.022"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:08.222" endtime="20230928 10:24:11.023"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:11.030" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:16.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:16.513" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:11.027" endtime="20230928 10:24:16.513"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:16.514" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:11 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:16.513" endtime="20230928 10:24:16.515"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:16.515" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:16.515" endtime="20230928 10:24:16.516"/>
</kw>
<msg timestamp="20230928 10:24:16.516" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:11.026" endtime="20230928 10:24:16.516"/>
</kw>
<msg timestamp="20230928 10:24:16.516" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:11.025" endtime="20230928 10:24:16.516"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:16.516" endtime="20230928 10:24:16.517"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:16.521" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:16.523" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:16.523" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:16.518" endtime="20230928 10:24:16.523"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:16.524" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:16.524" endtime="20230928 10:24:16.524"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:16.525" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:16.525" endtime="20230928 10:24:16.525"/>
</kw>
<msg timestamp="20230928 10:24:16.525" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:16.517" endtime="20230928 10:24:16.525"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:16.526" endtime="20230928 10:24:16.526"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:16.529" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:16.533" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:16.533" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:16.527" endtime="20230928 10:24:16.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:16.535" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:16.533" endtime="20230928 10:24:16.535"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:16.535" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:16.535" endtime="20230928 10:24:16.535"/>
</kw>
<status status="PASS" starttime="20230928 10:24:16.526" endtime="20230928 10:24:16.536"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:11.024" endtime="20230928 10:24:16.536"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:16.542" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:17.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:17.458" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:16.539" endtime="20230928 10:24:17.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:17.460" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:17 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:17.459" endtime="20230928 10:24:17.461"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:17.461" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:17.461" endtime="20230928 10:24:17.462"/>
</kw>
<msg timestamp="20230928 10:24:17.462" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:16.539" endtime="20230928 10:24:17.462"/>
</kw>
<msg timestamp="20230928 10:24:17.462" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:16.538" endtime="20230928 10:24:17.462"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:17.463" endtime="20230928 10:24:17.463"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:17.469" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:17.472" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:17.472" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:17.465" endtime="20230928 10:24:17.472"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:17.474" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:17.473" endtime="20230928 10:24:17.474"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:17.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:17.474" endtime="20230928 10:24:17.475"/>
</kw>
<msg timestamp="20230928 10:24:17.475" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:17.464" endtime="20230928 10:24:17.476"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:17.476" endtime="20230928 10:24:17.477"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:17.481" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:17.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:17.485" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:17.478" endtime="20230928 10:24:17.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:17.487" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:17.486" endtime="20230928 10:24:17.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:17.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:17.487" endtime="20230928 10:24:17.488"/>
</kw>
<status status="PASS" starttime="20230928 10:24:17.477" endtime="20230928 10:24:17.488"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:16.537" endtime="20230928 10:24:17.489"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:24:01.364" endtime="20230928 10:24:17.492"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:24:20.995" level="INFO">${random} = 59896</msg>
<status status="PASS" starttime="20230928 10:24:20.994" endtime="20230928 10:24:20.995"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:21.000" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-59896 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:27.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:27.595" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:20.997" endtime="20230928 10:24:27.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:27.597" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:27.595" endtime="20230928 10:24:27.597"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:27.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:27.597" endtime="20230928 10:24:27.598"/>
</kw>
<status status="PASS" starttime="20230928 10:24:20.996" endtime="20230928 10:24:27.598"/>
</kw>
<msg timestamp="20230928 10:24:27.598" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:20.996" endtime="20230928 10:24:27.598"/>
</kw>
<msg timestamp="20230928 10:24:27.598" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:20.995" endtime="20230928 10:24:27.598"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:27.598" endtime="20230928 10:24:27.599"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:27.603" level="INFO">Running command 'cat /tmp/key-59896 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:27.608" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:27.608" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:27.600" endtime="20230928 10:24:27.608"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:27.610" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:27.609" endtime="20230928 10:24:27.610"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:27.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:27.611" endtime="20230928 10:24:27.611"/>
</kw>
<msg timestamp="20230928 10:24:27.612" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:27.599" endtime="20230928 10:24:27.612"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:27.612" endtime="20230928 10:24:27.613"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:27.617" level="INFO">Running command 'rm /tmp/key-59896 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:27.620" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:27.620" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:27.614" endtime="20230928 10:24:27.620"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:27.622" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:27.621" endtime="20230928 10:24:27.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:27.623" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:27.622" endtime="20230928 10:24:27.623"/>
</kw>
<status status="PASS" starttime="20230928 10:24:27.613" endtime="20230928 10:24:27.623"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:20.993" endtime="20230928 10:24:27.623"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:27.631" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:28.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:28.226" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:27.629" endtime="20230928 10:24:28.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:28.227" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:28.226" endtime="20230928 10:24:28.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:28.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:28.228" endtime="20230928 10:24:28.228"/>
</kw>
<status status="PASS" starttime="20230928 10:24:27.628" endtime="20230928 10:24:28.229"/>
</kw>
<msg timestamp="20230928 10:24:28.229" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:27.628" endtime="20230928 10:24:28.229"/>
</kw>
<status status="PASS" starttime="20230928 10:24:27.627" endtime="20230928 10:24:28.229"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:28.234" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:28.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:28.847" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:28.231" endtime="20230928 10:24:28.847"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:28.848" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:28.848" endtime="20230928 10:24:28.849"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:28.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:28.849" endtime="20230928 10:24:28.849"/>
</kw>
<status status="PASS" starttime="20230928 10:24:28.230" endtime="20230928 10:24:28.849"/>
</kw>
<msg timestamp="20230928 10:24:28.850" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:28.230" endtime="20230928 10:24:28.850"/>
</kw>
<status status="PASS" starttime="20230928 10:24:28.229" endtime="20230928 10:24:28.850"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:28.854" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:29.432" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:29.432" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:28.851" endtime="20230928 10:24:29.432"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:29.434" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:29.433" endtime="20230928 10:24:29.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:29.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:29.434" endtime="20230928 10:24:29.435"/>
</kw>
<status status="PASS" starttime="20230928 10:24:28.851" endtime="20230928 10:24:29.435"/>
</kw>
<msg timestamp="20230928 10:24:29.435" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:28.850" endtime="20230928 10:24:29.435"/>
</kw>
<status status="PASS" starttime="20230928 10:24:28.850" endtime="20230928 10:24:29.435"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:29.440" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:30.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:30.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:29.437" endtime="20230928 10:24:30.056"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:30.057" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:30.056" endtime="20230928 10:24:30.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:30.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:30.058" endtime="20230928 10:24:30.059"/>
</kw>
<status status="PASS" starttime="20230928 10:24:29.437" endtime="20230928 10:24:30.059"/>
</kw>
<msg timestamp="20230928 10:24:30.059" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:29.436" endtime="20230928 10:24:30.059"/>
</kw>
<status status="PASS" starttime="20230928 10:24:29.436" endtime="20230928 10:24:30.059"/>
</kw>
<status status="PASS" starttime="20230928 10:24:27.627" endtime="20230928 10:24:30.060"/>
</kw>
<status status="PASS" starttime="20230928 10:24:27.626" endtime="20230928 10:24:30.060"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:27.625" endtime="20230928 10:24:30.060"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:30.068" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.015" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.015" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:30.064" endtime="20230928 10:24:31.016"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.017" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:31.016" endtime="20230928 10:24:31.017"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.018" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.018" endtime="20230928 10:24:31.018"/>
</kw>
<msg timestamp="20230928 10:24:31.019" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:30.063" endtime="20230928 10:24:31.019"/>
</kw>
<msg timestamp="20230928 10:24:31.019" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:30.062" endtime="20230928 10:24:31.019"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:31.019" endtime="20230928 10:24:31.020"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:31.025" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.028" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:31.021" endtime="20230928 10:24:31.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.030" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:31.029" endtime="20230928 10:24:31.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.031" endtime="20230928 10:24:31.031"/>
</kw>
<msg timestamp="20230928 10:24:31.031" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:31.020" endtime="20230928 10:24:31.032"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:31.032" endtime="20230928 10:24:31.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:31.036" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.039" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.039" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:31.033" endtime="20230928 10:24:31.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.041" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:31.040" endtime="20230928 10:24:31.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.042" endtime="20230928 10:24:31.042"/>
</kw>
<status status="PASS" starttime="20230928 10:24:31.032" endtime="20230928 10:24:31.043"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:30.061" endtime="20230928 10:24:31.043"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:31.049" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.822" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:31.047" endtime="20230928 10:24:31.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.823" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:31 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:31.822" endtime="20230928 10:24:31.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.824" endtime="20230928 10:24:31.825"/>
</kw>
<msg timestamp="20230928 10:24:31.825" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:31.046" endtime="20230928 10:24:31.825"/>
</kw>
<msg timestamp="20230928 10:24:31.825" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:31.045" endtime="20230928 10:24:31.825"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:31.826" endtime="20230928 10:24:31.826"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:31.830" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.834" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:31.827" endtime="20230928 10:24:31.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.836" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:31.835" endtime="20230928 10:24:31.836"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.836" endtime="20230928 10:24:31.836"/>
</kw>
<msg timestamp="20230928 10:24:31.837" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:31.827" endtime="20230928 10:24:31.837"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:31.837" endtime="20230928 10:24:31.837"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:31.840" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:31.844" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:31.844" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:31.838" endtime="20230928 10:24:31.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:31.845" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:31.844" endtime="20230928 10:24:31.845"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:31.846" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:31.845" endtime="20230928 10:24:31.846"/>
</kw>
<status status="PASS" starttime="20230928 10:24:31.838" endtime="20230928 10:24:31.846"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:31.044" endtime="20230928 10:24:31.846"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:24:20.887" endtime="20230928 10:24:31.848"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:24:35.176" level="INFO">${random} = 92395</msg>
<status status="PASS" starttime="20230928 10:24:35.176" endtime="20230928 10:24:35.177"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:35.182" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-92395 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:41.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:41.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:35.178" endtime="20230928 10:24:41.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:41.349" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:41.348" endtime="20230928 10:24:41.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:41.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:41.350" endtime="20230928 10:24:41.351"/>
</kw>
<status status="PASS" starttime="20230928 10:24:35.178" endtime="20230928 10:24:41.351"/>
</kw>
<msg timestamp="20230928 10:24:41.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:35.177" endtime="20230928 10:24:41.351"/>
</kw>
<msg timestamp="20230928 10:24:41.351" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:35.177" endtime="20230928 10:24:41.351"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:41.352" endtime="20230928 10:24:41.352"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:41.357" level="INFO">Running command 'cat /tmp/key-92395 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:41.360" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:41.360" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:41.353" endtime="20230928 10:24:41.360"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:41.362" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:41.361" endtime="20230928 10:24:41.362"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:41.363" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:41.362" endtime="20230928 10:24:41.363"/>
</kw>
<msg timestamp="20230928 10:24:41.363" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:41.353" endtime="20230928 10:24:41.363"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:41.364" endtime="20230928 10:24:41.364"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:41.368" level="INFO">Running command 'rm /tmp/key-92395 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:41.371" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:41.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:41.365" endtime="20230928 10:24:41.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:41.373" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:41.372" endtime="20230928 10:24:41.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:41.373" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:41.373" endtime="20230928 10:24:41.374"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.364" endtime="20230928 10:24:41.374"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:35.175" endtime="20230928 10:24:41.374"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:41.381" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:41.958" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:41.958" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:41.379" endtime="20230928 10:24:41.958"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:41.960" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:41.959" endtime="20230928 10:24:41.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:41.960" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:41.960" endtime="20230928 10:24:41.961"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.378" endtime="20230928 10:24:41.961"/>
</kw>
<msg timestamp="20230928 10:24:41.961" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:41.378" endtime="20230928 10:24:41.961"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.377" endtime="20230928 10:24:41.961"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:41.966" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:42.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:42.519" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:41.963" endtime="20230928 10:24:42.519"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:42.521" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:42.520" endtime="20230928 10:24:42.521"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:42.521" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:42.521" endtime="20230928 10:24:42.522"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.963" endtime="20230928 10:24:42.522"/>
</kw>
<msg timestamp="20230928 10:24:42.522" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:41.962" endtime="20230928 10:24:42.522"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.961" endtime="20230928 10:24:42.522"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:42.527" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:43.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:43.199" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:42.524" endtime="20230928 10:24:43.199"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:43.200" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:43.199" endtime="20230928 10:24:43.201"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:43.202" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:43.201" endtime="20230928 10:24:43.202"/>
</kw>
<status status="PASS" starttime="20230928 10:24:42.523" endtime="20230928 10:24:43.202"/>
</kw>
<msg timestamp="20230928 10:24:43.202" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:42.523" endtime="20230928 10:24:43.202"/>
</kw>
<status status="PASS" starttime="20230928 10:24:42.523" endtime="20230928 10:24:43.203"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:43.208" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:43.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:43.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:43.204" endtime="20230928 10:24:43.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:43.814" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:43.813" endtime="20230928 10:24:43.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:43.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:43.814" endtime="20230928 10:24:43.815"/>
</kw>
<status status="PASS" starttime="20230928 10:24:43.204" endtime="20230928 10:24:43.815"/>
</kw>
<msg timestamp="20230928 10:24:43.815" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:43.204" endtime="20230928 10:24:43.815"/>
</kw>
<status status="PASS" starttime="20230928 10:24:43.203" endtime="20230928 10:24:43.816"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.377" endtime="20230928 10:24:43.816"/>
</kw>
<status status="PASS" starttime="20230928 10:24:41.376" endtime="20230928 10:24:43.816"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:41.375" endtime="20230928 10:24:43.816"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:43.823" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:44.639" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:44.640" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:43.819" endtime="20230928 10:24:44.640"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:44.641" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:44.640" endtime="20230928 10:24:44.641"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:44.642" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:44.642" endtime="20230928 10:24:44.642"/>
</kw>
<msg timestamp="20230928 10:24:44.642" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:43.818" endtime="20230928 10:24:44.643"/>
</kw>
<msg timestamp="20230928 10:24:44.643" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:43.818" endtime="20230928 10:24:44.643"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:44.643" endtime="20230928 10:24:44.643"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:44.647" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:44.651" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:44.651" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:44.644" endtime="20230928 10:24:44.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:44.652" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:44.651" endtime="20230928 10:24:44.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:44.653" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:44.653" endtime="20230928 10:24:44.653"/>
</kw>
<msg timestamp="20230928 10:24:44.654" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:24:44.644" endtime="20230928 10:24:44.654"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:44.654" endtime="20230928 10:24:44.654"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:44.658" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:44.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:44.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:44.655" endtime="20230928 10:24:44.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:44.663" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:44.662" endtime="20230928 10:24:44.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:44.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:44.664" endtime="20230928 10:24:44.664"/>
</kw>
<status status="PASS" starttime="20230928 10:24:44.655" endtime="20230928 10:24:44.664"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:43.817" endtime="20230928 10:24:44.665"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:44.671" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:45.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:45.437" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:44.668" endtime="20230928 10:24:45.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:45.439" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:24:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:24:45.438" endtime="20230928 10:24:45.439"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:45.440" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:45.439" endtime="20230928 10:24:45.440"/>
</kw>
<msg timestamp="20230928 10:24:45.440" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:44.667" endtime="20230928 10:24:45.440"/>
</kw>
<msg timestamp="20230928 10:24:45.440" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:18:27 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:24:44.667" endtime="20230928 10:24:45.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:45.441" endtime="20230928 10:24:45.441"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:45.446" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:45.450" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:45.450" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:45.442" endtime="20230928 10:24:45.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:45.451" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:45.451" endtime="20230928 10:24:45.451"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:45.452" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:45.452" endtime="20230928 10:24:45.452"/>
</kw>
<msg timestamp="20230928 10:24:45.453" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:24:45.441" endtime="20230928 10:24:45.453"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:45.453" endtime="20230928 10:24:45.453"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:45.457" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:45.460" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:45.460" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:45.454" endtime="20230928 10:24:45.460"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:45.461" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:45.461" endtime="20230928 10:24:45.462"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:45.462" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:45.462" endtime="20230928 10:24:45.463"/>
</kw>
<status status="PASS" starttime="20230928 10:24:45.454" endtime="20230928 10:24:45.463"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:44.666" endtime="20230928 10:24:45.463"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:24:35.082" endtime="20230928 10:24:45.465"/>
</suite>
<suite id="s1-s17" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s17-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:48.527" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:52.506" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:52.506" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:48.523" endtime="20230928 10:24:52.506"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:52.509" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:52.507" endtime="20230928 10:24:52.509"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:52.510" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:52.509" endtime="20230928 10:24:52.510"/>
</kw>
<status status="PASS" starttime="20230928 10:24:48.522" endtime="20230928 10:24:52.511"/>
</kw>
<msg timestamp="20230928 10:24:52.511" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:48.522" endtime="20230928 10:24:52.511"/>
</kw>
<msg timestamp="20230928 10:24:52.511" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:48.522" endtime="20230928 10:24:52.511"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:52.511" endtime="20230928 10:24:52.512"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:52.518" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:24:56.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:56.391" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:52.515" endtime="20230928 10:24:56.391"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:56.393" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:56.392" endtime="20230928 10:24:56.393"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:56.394" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:56.393" endtime="20230928 10:24:56.394"/>
</kw>
<status status="PASS" starttime="20230928 10:24:52.514" endtime="20230928 10:24:56.394"/>
</kw>
<msg timestamp="20230928 10:24:56.394" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:52.513" endtime="20230928 10:24:56.394"/>
</kw>
<msg timestamp="20230928 10:24:56.395" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:52.512" endtime="20230928 10:24:56.395"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:24:56.395" endtime="20230928 10:24:56.395"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:48.521" endtime="20230928 10:24:56.396"/>
</test>
<test id="s1-s17-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:56.403" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:24:56.405" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:24:56.405" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:56.399" endtime="20230928 10:24:56.405"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:24:56.406" level="INFO"/>
<status status="PASS" starttime="20230928 10:24:56.405" endtime="20230928 10:24:56.406"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:24:56.407" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:24:56.406" endtime="20230928 10:24:56.407"/>
</kw>
<status status="PASS" starttime="20230928 10:24:56.399" endtime="20230928 10:24:56.407"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:24:56.412" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:04.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:04.682" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:56.409" endtime="20230928 10:25:04.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:04.684" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:04.683" endtime="20230928 10:25:04.684"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:04.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:04.684" endtime="20230928 10:25:04.685"/>
</kw>
<status status="PASS" starttime="20230928 10:24:56.409" endtime="20230928 10:25:04.686"/>
</kw>
<msg timestamp="20230928 10:25:04.686" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:24:56.408" endtime="20230928 10:25:04.686"/>
</kw>
<msg timestamp="20230928 10:25:04.686" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:24:56.407" endtime="20230928 10:25:04.686"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:04.686" endtime="20230928 10:25:04.687"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:04.691" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:04.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:04.696" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:04.688" endtime="20230928 10:25:04.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:04.698" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:04.696" endtime="20230928 10:25:04.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:04.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:04.698" endtime="20230928 10:25:04.699"/>
</kw>
<status status="PASS" starttime="20230928 10:25:04.687" endtime="20230928 10:25:04.699"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:24:56.397" endtime="20230928 10:25:04.699"/>
</test>
<test id="s1-s17-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:04.707" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:09.927" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:09.927" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:04.703" endtime="20230928 10:25:09.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:09.929" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:09.928" endtime="20230928 10:25:09.929"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:09.929" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:09.929" endtime="20230928 10:25:09.930"/>
</kw>
<status status="PASS" starttime="20230928 10:25:04.703" endtime="20230928 10:25:09.930"/>
</kw>
<msg timestamp="20230928 10:25:09.930" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:04.702" endtime="20230928 10:25:09.930"/>
</kw>
<msg timestamp="20230928 10:25:09.930" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:04.702" endtime="20230928 10:25:09.930"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:09.930" endtime="20230928 10:25:09.931"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:04.700" endtime="20230928 10:25:09.931"/>
</test>
<test id="s1-s17-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:09.937" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:25:09.939" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:09.939" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:09.934" endtime="20230928 10:25:09.939"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:09.940" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:09.939" endtime="20230928 10:25:09.940"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:09.941" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:09.941" endtime="20230928 10:25:09.941"/>
</kw>
<status status="PASS" starttime="20230928 10:25:09.933" endtime="20230928 10:25:09.942"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:09.946" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:17.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:17.119" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:09.944" endtime="20230928 10:25:17.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:17.125" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:17.120" endtime="20230928 10:25:17.125"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:17.129" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:17.125" endtime="20230928 10:25:17.129"/>
</kw>
<status status="PASS" starttime="20230928 10:25:09.943" endtime="20230928 10:25:17.130"/>
</kw>
<msg timestamp="20230928 10:25:17.130" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:09.943" endtime="20230928 10:25:17.132"/>
</kw>
<msg timestamp="20230928 10:25:17.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:09.942" endtime="20230928 10:25:17.132"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:17.133" endtime="20230928 10:25:17.135"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:17.155" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:17.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:17.162" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:17.140" endtime="20230928 10:25:17.162"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:17.164" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:17.162" endtime="20230928 10:25:17.164"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:17.165" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:17.164" endtime="20230928 10:25:17.165"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.135" endtime="20230928 10:25:17.165"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:09.932" endtime="20230928 10:25:17.165"/>
</test>
<test id="s1-s17-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:17.174" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:17.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:17.750" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:17.171" endtime="20230928 10:25:17.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:17.751" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:17.750" endtime="20230928 10:25:17.751"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:17.752" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:17.751" endtime="20230928 10:25:17.752"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.171" endtime="20230928 10:25:17.752"/>
</kw>
<msg timestamp="20230928 10:25:17.752" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:17.170" endtime="20230928 10:25:17.752"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.169" endtime="20230928 10:25:17.752"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:17.757" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:18.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:18.325" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:17.754" endtime="20230928 10:25:18.325"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:18.327" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:18.326" endtime="20230928 10:25:18.327"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:18.328" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:18.327" endtime="20230928 10:25:18.328"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.753" endtime="20230928 10:25:18.328"/>
</kw>
<msg timestamp="20230928 10:25:18.328" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:17.753" endtime="20230928 10:25:18.328"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.753" endtime="20230928 10:25:18.328"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:18.333" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:18.901" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:18.901" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:18.330" endtime="20230928 10:25:18.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:18.903" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:18.902" endtime="20230928 10:25:18.903"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:18.904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:18.903" endtime="20230928 10:25:18.904"/>
</kw>
<status status="PASS" starttime="20230928 10:25:18.329" endtime="20230928 10:25:18.904"/>
</kw>
<msg timestamp="20230928 10:25:18.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:18.329" endtime="20230928 10:25:18.905"/>
</kw>
<status status="PASS" starttime="20230928 10:25:18.329" endtime="20230928 10:25:18.905"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:18.910" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:19.461" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:19.461" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:18.907" endtime="20230928 10:25:19.461"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:19.462" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:19.462" endtime="20230928 10:25:19.462"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:19.463" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:19.463" endtime="20230928 10:25:19.463"/>
</kw>
<status status="PASS" starttime="20230928 10:25:18.906" endtime="20230928 10:25:19.463"/>
</kw>
<msg timestamp="20230928 10:25:19.463" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:18.906" endtime="20230928 10:25:19.464"/>
</kw>
<status status="PASS" starttime="20230928 10:25:18.905" endtime="20230928 10:25:19.464"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.169" endtime="20230928 10:25:19.464"/>
</kw>
<status status="PASS" starttime="20230928 10:25:17.168" endtime="20230928 10:25:19.464"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:17.167" endtime="20230928 10:25:19.464"/>
</test>
<test id="s1-s17-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:25:19.467" level="INFO">${randStr} = 2030057351</msg>
<status status="PASS" starttime="20230928 10:25:19.467" endtime="20230928 10:25:19.467"/>
</kw>
<msg timestamp="20230928 10:25:19.468" level="INFO">${random} = ozone-test-2030057351</msg>
<status status="PASS" starttime="20230928 10:25:19.466" endtime="20230928 10:25:19.468"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:19.474" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket-ozone-test-2030057351 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:20.326" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:20.326" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-2030057351"
}</msg>
<status status="PASS" starttime="20230928 10:25:19.470" endtime="20230928 10:25:20.326"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:20.328" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket-ozone-test-2030057351"
}</msg>
<status status="PASS" starttime="20230928 10:25:20.327" endtime="20230928 10:25:20.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:20.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:20.328" endtime="20230928 10:25:20.329"/>
</kw>
<status status="PASS" starttime="20230928 10:25:19.470" endtime="20230928 10:25:20.329"/>
</kw>
<msg timestamp="20230928 10:25:20.329" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:19.470" endtime="20230928 10:25:20.329"/>
</kw>
<msg timestamp="20230928 10:25:20.330" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-2030057351"
}</msg>
<status status="PASS" starttime="20230928 10:25:19.469" endtime="20230928 10:25:20.330"/>
</kw>
<msg timestamp="20230928 10:25:20.330" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-2030057351"
}</msg>
<status status="PASS" starttime="20230928 10:25:19.468" endtime="20230928 10:25:20.330"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:20.330" endtime="20230928 10:25:20.330"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:20.331" endtime="20230928 10:25:20.331"/>
</kw>
<msg timestamp="20230928 10:25:20.331" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:25:19.468" endtime="20230928 10:25:20.331"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:25:20.332" endtime="20230928 10:25:20.332"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:19.465" endtime="20230928 10:25:20.332"/>
</test>
<test id="s1-s17-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:20.339" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:25:20.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:20.341" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:20.335" endtime="20230928 10:25:20.341"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:20.343" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:20.342" endtime="20230928 10:25:20.343"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:20.344" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:20.343" endtime="20230928 10:25:20.344"/>
</kw>
<status status="PASS" starttime="20230928 10:25:20.335" endtime="20230928 10:25:20.344"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:20.349" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:21.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:21.898" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:20.346" endtime="20230928 10:25:21.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:21.900" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:21.899" endtime="20230928 10:25:21.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:21.901" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:21.900" endtime="20230928 10:25:21.901"/>
</kw>
<msg timestamp="20230928 10:25:21.901" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:20.345" endtime="20230928 10:25:21.901"/>
</kw>
<msg timestamp="20230928 10:25:21.902" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:20.344" endtime="20230928 10:25:21.902"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:21.902" endtime="20230928 10:25:21.902"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:21.907" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:21.910" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:21.910" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:21.903" endtime="20230928 10:25:21.910"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:21.912" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:21.911" endtime="20230928 10:25:21.912"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:21.912" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:21.912" endtime="20230928 10:25:21.913"/>
</kw>
<status status="PASS" starttime="20230928 10:25:21.903" endtime="20230928 10:25:21.913"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:20.334" endtime="20230928 10:25:21.913"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:24:48.431" endtime="20230928 10:25:21.915"/>
</suite>
<suite id="s1-s18" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s18-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:25:25.307" level="INFO">${random} = 24316</msg>
<status status="PASS" starttime="20230928 10:25:25.301" endtime="20230928 10:25:25.307"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:25.314" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-24316 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:31.326" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:31.326" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:25.309" endtime="20230928 10:25:31.326"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:31.328" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:31.327" endtime="20230928 10:25:31.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:31.330" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:31.329" endtime="20230928 10:25:31.330"/>
</kw>
<status status="PASS" starttime="20230928 10:25:25.309" endtime="20230928 10:25:31.330"/>
</kw>
<msg timestamp="20230928 10:25:31.330" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:25.308" endtime="20230928 10:25:31.331"/>
</kw>
<msg timestamp="20230928 10:25:31.331" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:25.307" endtime="20230928 10:25:31.331"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:31.331" endtime="20230928 10:25:31.332"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:31.337" level="INFO">Running command 'cat /tmp/key-24316 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:31.340" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:31.340" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:31.333" endtime="20230928 10:25:31.340"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:31.342" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:31.341" endtime="20230928 10:25:31.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:31.342" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:31.342" endtime="20230928 10:25:31.343"/>
</kw>
<msg timestamp="20230928 10:25:31.343" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:31.332" endtime="20230928 10:25:31.343"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:31.343" endtime="20230928 10:25:31.344"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:31.348" level="INFO">Running command 'rm /tmp/key-24316 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:31.352" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:31.352" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:31.345" endtime="20230928 10:25:31.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:31.353" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:31.352" endtime="20230928 10:25:31.353"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:31.354" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:31.353" endtime="20230928 10:25:31.354"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.344" endtime="20230928 10:25:31.354"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:25.300" endtime="20230928 10:25:31.354"/>
</test>
<test id="s1-s18-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:31.363" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:31.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:31.974" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:31.359" endtime="20230928 10:25:31.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:31.975" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:31.974" endtime="20230928 10:25:31.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:31.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:31.976" endtime="20230928 10:25:31.977"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.359" endtime="20230928 10:25:31.977"/>
</kw>
<msg timestamp="20230928 10:25:31.977" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:31.358" endtime="20230928 10:25:31.977"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.357" endtime="20230928 10:25:31.977"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:31.982" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:32.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:32.575" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:31.979" endtime="20230928 10:25:32.575"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:32.576" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:32.575" endtime="20230928 10:25:32.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:32.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:32.577" endtime="20230928 10:25:32.577"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.979" endtime="20230928 10:25:32.577"/>
</kw>
<msg timestamp="20230928 10:25:32.577" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:31.978" endtime="20230928 10:25:32.578"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.978" endtime="20230928 10:25:32.578"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:32.583" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:33.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:33.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:32.580" endtime="20230928 10:25:33.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:33.188" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:33.187" endtime="20230928 10:25:33.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:33.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:33.189" endtime="20230928 10:25:33.189"/>
</kw>
<status status="PASS" starttime="20230928 10:25:32.579" endtime="20230928 10:25:33.189"/>
</kw>
<msg timestamp="20230928 10:25:33.189" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:32.579" endtime="20230928 10:25:33.189"/>
</kw>
<status status="PASS" starttime="20230928 10:25:32.578" endtime="20230928 10:25:33.190"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:33.195" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:33.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:33.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:33.191" endtime="20230928 10:25:33.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:33.802" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:33.801" endtime="20230928 10:25:33.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:33.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:33.803" endtime="20230928 10:25:33.804"/>
</kw>
<status status="PASS" starttime="20230928 10:25:33.191" endtime="20230928 10:25:33.804"/>
</kw>
<msg timestamp="20230928 10:25:33.804" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:33.190" endtime="20230928 10:25:33.804"/>
</kw>
<status status="PASS" starttime="20230928 10:25:33.190" endtime="20230928 10:25:33.804"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.357" endtime="20230928 10:25:33.805"/>
</kw>
<status status="PASS" starttime="20230928 10:25:31.357" endtime="20230928 10:25:33.805"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:31.356" endtime="20230928 10:25:33.805"/>
</test>
<test id="s1-s18-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:33.814" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:34.723" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:34.723" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:33.809" endtime="20230928 10:25:34.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:34.725" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:25:34 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:25:34.724" endtime="20230928 10:25:34.725"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:34.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:34.725" endtime="20230928 10:25:34.726"/>
</kw>
<msg timestamp="20230928 10:25:34.726" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:33.808" endtime="20230928 10:25:34.726"/>
</kw>
<msg timestamp="20230928 10:25:34.727" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:16 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:33.807" endtime="20230928 10:25:34.727"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:34.727" endtime="20230928 10:25:34.727"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:34.732" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:34.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:34.735" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:34.728" endtime="20230928 10:25:34.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:34.736" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:34.735" endtime="20230928 10:25:34.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:34.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:34.736" endtime="20230928 10:25:34.737"/>
</kw>
<msg timestamp="20230928 10:25:34.737" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:25:34.727" endtime="20230928 10:25:34.737"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:34.737" endtime="20230928 10:25:34.738"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:34.748" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:34.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:34.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:34.738" endtime="20230928 10:25:34.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:34.755" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:34.753" endtime="20230928 10:25:34.755"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:34.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:34.756" endtime="20230928 10:25:34.756"/>
</kw>
<status status="PASS" starttime="20230928 10:25:34.738" endtime="20230928 10:25:34.756"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:33.806" endtime="20230928 10:25:34.757"/>
</test>
<test id="s1-s18-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:34.763" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:35.484" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:35.484" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:34.761" endtime="20230928 10:25:35.484"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:35.486" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:25:35 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:25:35.485" endtime="20230928 10:25:35.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:35.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:35.486" endtime="20230928 10:25:35.487"/>
</kw>
<msg timestamp="20230928 10:25:35.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:34.760" endtime="20230928 10:25:35.488"/>
</kw>
<msg timestamp="20230928 10:25:35.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:25:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:25:34.759" endtime="20230928 10:25:35.488"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:35.488" endtime="20230928 10:25:35.489"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:35.493" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:35.496" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:35.496" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:25:35.490" endtime="20230928 10:25:35.496"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:35.497" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:25:35.497" endtime="20230928 10:25:35.497"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:35.498" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:35.498" endtime="20230928 10:25:35.498"/>
</kw>
<msg timestamp="20230928 10:25:35.499" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:25:35.489" endtime="20230928 10:25:35.499"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:35.499" endtime="20230928 10:25:35.499"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:35.503" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:35.505" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:35.505" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:35.500" endtime="20230928 10:25:35.505"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:35.507" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:35.506" endtime="20230928 10:25:35.507"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:35.508" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:35.507" endtime="20230928 10:25:35.508"/>
</kw>
<status status="PASS" starttime="20230928 10:25:35.500" endtime="20230928 10:25:35.508"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:25:34.758" endtime="20230928 10:25:35.508"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:25:25.202" endtime="20230928 10:25:35.510"/>
</suite>
<suite id="s1-s19" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s19-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:25:38.782" endtime="20230928 10:25:38.782"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:38.787" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:38.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:38.790" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:25:38.784" endtime="20230928 10:25:38.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:38.791" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:25:38.790" endtime="20230928 10:25:38.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:38.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:38.791" endtime="20230928 10:25:38.792"/>
</kw>
<status status="PASS" starttime="20230928 10:25:38.783" endtime="20230928 10:25:38.792"/>
</kw>
<msg timestamp="20230928 10:25:38.792" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:38.783" endtime="20230928 10:25:38.792"/>
</kw>
<msg timestamp="20230928 10:25:38.793" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 10:25:38.783" endtime="20230928 10:25:38.793"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:38.793" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=94691045857f
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 10:25:38.793" endtime="20230928 10:25:38.793"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:25:38.793" endtime="20230928 10:25:38.794"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:38.798" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:42.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:42.955" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:38.795" endtime="20230928 10:25:42.955"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:42.957" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:42.956" endtime="20230928 10:25:42.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:42.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:42.957" endtime="20230928 10:25:42.958"/>
</kw>
<status status="PASS" starttime="20230928 10:25:38.795" endtime="20230928 10:25:42.958"/>
</kw>
<msg timestamp="20230928 10:25:42.958" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:38.794" endtime="20230928 10:25:42.958"/>
</kw>
<msg timestamp="20230928 10:25:42.958" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:38.794" endtime="20230928 10:25:42.958"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:42.959" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:42.959" endtime="20230928 10:25:42.959"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:25:42.959" endtime="20230928 10:25:42.960"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:25:38.781" endtime="20230928 10:25:42.960"/>
</test>
<test id="s1-s19-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:25:42.962" endtime="20230928 10:25:42.962"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:25:42.963" endtime="20230928 10:25:42.963"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:42.968" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:46.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:46.794" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:42.965" endtime="20230928 10:25:46.794"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:46.796" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:46.795" endtime="20230928 10:25:46.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:46.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:46.796" endtime="20230928 10:25:46.797"/>
</kw>
<status status="PASS" starttime="20230928 10:25:42.964" endtime="20230928 10:25:46.797"/>
</kw>
<msg timestamp="20230928 10:25:46.797" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:42.964" endtime="20230928 10:25:46.798"/>
</kw>
<msg timestamp="20230928 10:25:46.798" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:42.963" endtime="20230928 10:25:46.798"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:46.798" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 10:25:46.798" endtime="20230928 10:25:46.798"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:25:46.799" endtime="20230928 10:25:46.799"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:25:42.961" endtime="20230928 10:25:46.800"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:25:38.730" endtime="20230928 10:25:46.801"/>
</suite>
<suite id="s1-s20" name="Snapshot-Sh" source="/opt/hadoop/smoketest/snapshot/snapshot-sh.robot">
<test id="s1-s20-t1" name="Snapshot Creation" line="31">
<kw name="Setup volume and bucket" library="snapshot-setup">
<kw name="Create volume" library="snapshot-setup">
<var>${volume}</var>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:25:49.867" level="INFO">${random} = wtabu</msg>
<status status="PASS" starttime="20230928 10:25:49.866" endtime="20230928 10:25:49.867"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${volume}</var>
<arg>vol-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:25:49.867" level="INFO">${volume} = vol-wtabu</msg>
<status status="PASS" starttime="20230928 10:25:49.867" endtime="20230928 10:25:49.867"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:49.872" level="INFO">Running command 'ozone sh volume create /vol-wtabu 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:53.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:53.903" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:49.869" endtime="20230928 10:25:53.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:53.905" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:53.904" endtime="20230928 10:25:53.905"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:53.906" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:53.905" endtime="20230928 10:25:53.906"/>
</kw>
<status status="PASS" starttime="20230928 10:25:49.868" endtime="20230928 10:25:53.906"/>
</kw>
<msg timestamp="20230928 10:25:53.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:49.868" endtime="20230928 10:25:53.906"/>
</kw>
<msg timestamp="20230928 10:25:53.907" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:25:49.868" endtime="20230928 10:25:53.907"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:53.907" endtime="20230928 10:25:53.907"/>
</kw>
<msg timestamp="20230928 10:25:53.907" level="INFO">${volume} = vol-wtabu</msg>
<status status="PASS" starttime="20230928 10:25:49.866" endtime="20230928 10:25:53.907"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${VOLUME}</arg>
<arg>${volume}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:25:53.908" level="INFO">${VOLUME} = vol-wtabu</msg>
<status status="PASS" starttime="20230928 10:25:53.908" endtime="20230928 10:25:53.908"/>
</kw>
<kw name="Create bucket" library="snapshot-setup">
<var>${bucket}</var>
<arg>${VOLUME}</arg>
<arg>FILE_SYSTEM_OPTIMIZED</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:25:53.909" level="INFO">${random} = bifij</msg>
<status status="PASS" starttime="20230928 10:25:53.909" endtime="20230928 10:25:53.909"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${bucket}</var>
<arg>buc-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:25:53.910" level="INFO">${bucket} = buc-bifij</msg>
<status status="PASS" starttime="20230928 10:25:53.909" endtime="20230928 10:25:53.910"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket create -l ${bucket_layout} /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:53.915" level="INFO">Running command 'ozone sh bucket create -l FILE_SYSTEM_OPTIMIZED /vol-wtabu/buc-bifij 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:25:57.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:25:57.999" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:53.912" endtime="20230928 10:25:57.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:25:58.001" level="INFO"/>
<status status="PASS" starttime="20230928 10:25:58.000" endtime="20230928 10:25:58.001"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:25:58.001" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:25:58.001" endtime="20230928 10:25:58.001"/>
</kw>
<status status="PASS" starttime="20230928 10:25:53.911" endtime="20230928 10:25:58.002"/>
</kw>
<msg timestamp="20230928 10:25:58.002" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:53.911" endtime="20230928 10:25:58.002"/>
</kw>
<msg timestamp="20230928 10:25:58.002" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:25:53.910" endtime="20230928 10:25:58.002"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:25:58.002" endtime="20230928 10:25:58.003"/>
</kw>
<msg timestamp="20230928 10:25:58.003" level="INFO">${bucket} = buc-bifij</msg>
<status status="PASS" starttime="20230928 10:25:53.908" endtime="20230928 10:25:58.003"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${BUCKET}</arg>
<arg>${bucket}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:25:58.003" level="INFO">${BUCKET} = buc-bifij</msg>
<status status="PASS" starttime="20230928 10:25:58.003" endtime="20230928 10:25:58.004"/>
</kw>
<status status="PASS" starttime="20230928 10:25:49.865" endtime="20230928 10:25:58.004"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/hosts</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:25:58.005" level="INFO">${random} = dribe</msg>
<status status="PASS" starttime="20230928 10:25:58.005" endtime="20230928 10:25:58.005"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:25:58.006" level="INFO">${key} = key-dribe</msg>
<status status="PASS" starttime="20230928 10:25:58.005" endtime="20230928 10:25:58.006"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:25:58.011" level="INFO">Running command 'ozone sh key put /vol-wtabu/buc-bifij/key-dribe /etc/hosts 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:04.223" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:04.223" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:25:58.007" endtime="20230928 10:26:04.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:04.225" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:04.224" endtime="20230928 10:26:04.225"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:04.226" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:04.225" endtime="20230928 10:26:04.226"/>
</kw>
<status status="PASS" starttime="20230928 10:25:58.007" endtime="20230928 10:26:04.226"/>
</kw>
<msg timestamp="20230928 10:26:04.226" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:25:58.007" endtime="20230928 10:26:04.226"/>
</kw>
<msg timestamp="20230928 10:26:04.227" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:25:58.006" endtime="20230928 10:26:04.227"/>
</kw>
<msg timestamp="20230928 10:26:04.227" level="INFO">${key_one} = key-dribe</msg>
<status status="PASS" starttime="20230928 10:25:58.004" endtime="20230928 10:26:04.227"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_ONE}</arg>
<arg>${key_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:26:04.227" level="INFO">${KEY_ONE} = key-dribe</msg>
<status status="PASS" starttime="20230928 10:26:04.227" endtime="20230928 10:26:04.227"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:04.229" level="INFO">${random} = oomro</msg>
<status status="PASS" starttime="20230928 10:26:04.228" endtime="20230928 10:26:04.229"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:04.229" level="INFO">${snapshot} = snap-oomro</msg>
<status status="PASS" starttime="20230928 10:26:04.229" endtime="20230928 10:26:04.229"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:04.235" level="INFO">Running command 'ozone sh snapshot create /vol-wtabu/buc-bifij snap-oomro 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:07.860" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:07.860" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:04.231" endtime="20230928 10:26:07.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:07.862" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:07.861" endtime="20230928 10:26:07.862"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:07.868" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:07.867" endtime="20230928 10:26:07.869"/>
</kw>
<status status="PASS" starttime="20230928 10:26:04.231" endtime="20230928 10:26:07.872"/>
</kw>
<msg timestamp="20230928 10:26:07.873" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:04.230" endtime="20230928 10:26:07.876"/>
</kw>
<msg timestamp="20230928 10:26:07.876" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:26:04.230" endtime="20230928 10:26:07.876"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:07.877" endtime="20230928 10:26:07.879"/>
</kw>
<msg timestamp="20230928 10:26:07.883" level="INFO">${snapshot_one} = snap-oomro</msg>
<status status="PASS" starttime="20230928 10:26:04.228" endtime="20230928 10:26:07.885"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_ONE}</arg>
<arg>${snapshot_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:26:07.888" level="INFO">${SNAPSHOT_ONE} = snap-oomro</msg>
<status status="PASS" starttime="20230928 10:26:07.887" endtime="20230928 10:26:07.888"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:25:49.865" endtime="20230928 10:26:07.892"/>
</test>
<test id="s1-s20-t2" name="Snapshot List" line="38">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:07.905" level="INFO">Running command 'ozone sh snapshot ls /vol-wtabu/buc-bifij 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:11.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:11.774" level="INFO">${output} = [ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "name" : "snap-oomro",
  "creationTime" : 1695896767631,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "4610d119-a628-4d0e-...</msg>
<status status="PASS" starttime="20230928 10:26:07.900" endtime="20230928 10:26:11.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:11.776" level="INFO">[ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "name" : "snap-oomro",
  "creationTime" : 1695896767631,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "4610d119-a628-4d0e-b09d-b9ba2dcdde0e",
  "snapshotPath" : "vol-wtabu/buc-bifij",
  "checkpointDir" : "-4610d119-a628-4d0e-b09d-b9ba2dcdde0e",
  "referencedSize" : 173,
  "referencedReplicatedSize" : 519,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]</msg>
<status status="PASS" starttime="20230928 10:26:11.775" endtime="20230928 10:26:11.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:11.776" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:11.776" endtime="20230928 10:26:11.776"/>
</kw>
<status status="PASS" starttime="20230928 10:26:07.899" endtime="20230928 10:26:11.777"/>
</kw>
<msg timestamp="20230928 10:26:11.777" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:07.899" endtime="20230928 10:26:11.777"/>
</kw>
<msg timestamp="20230928 10:26:11.777" level="INFO">${result} = [ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "name" : "snap-oomro",
  "creationTime" : 1695896767631,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "4610d119-a628-4d0e-...</msg>
<status status="PASS" starttime="20230928 10:26:07.898" endtime="20230928 10:26:11.777"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:11.777" endtime="20230928 10:26:11.778"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:11.778" endtime="20230928 10:26:11.778"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:26:07.895" endtime="20230928 10:26:11.779"/>
</test>
<test id="s1-s20-t3" name="Snapshot Diff" line="43">
<kw name="Create key" library="snapshot-setup">
<var>${key_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/passwd</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:11.781" level="INFO">${random} = heugk</msg>
<status status="PASS" starttime="20230928 10:26:11.781" endtime="20230928 10:26:11.781"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:11.782" level="INFO">${key} = key-heugk</msg>
<status status="PASS" starttime="20230928 10:26:11.781" endtime="20230928 10:26:11.782"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:11.787" level="INFO">Running command 'ozone sh key put /vol-wtabu/buc-bifij/key-heugk /etc/passwd 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:17.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:17.577" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:11.783" endtime="20230928 10:26:17.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:17.580" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:17.579" endtime="20230928 10:26:17.580"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:17.580" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:17.580" endtime="20230928 10:26:17.581"/>
</kw>
<status status="PASS" starttime="20230928 10:26:11.783" endtime="20230928 10:26:17.581"/>
</kw>
<msg timestamp="20230928 10:26:17.581" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:11.783" endtime="20230928 10:26:17.581"/>
</kw>
<msg timestamp="20230928 10:26:17.581" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:26:11.782" endtime="20230928 10:26:17.581"/>
</kw>
<msg timestamp="20230928 10:26:17.581" level="INFO">${key_two} = key-heugk</msg>
<status status="PASS" starttime="20230928 10:26:11.780" endtime="20230928 10:26:17.581"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_TWO}</arg>
<arg>${key_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:26:17.582" level="INFO">${KEY_TWO} = key-heugk</msg>
<status status="PASS" starttime="20230928 10:26:17.582" endtime="20230928 10:26:17.582"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_three}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/group</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:17.584" level="INFO">${random} = iiuhh</msg>
<status status="PASS" starttime="20230928 10:26:17.583" endtime="20230928 10:26:17.584"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:17.584" level="INFO">${key} = key-iiuhh</msg>
<status status="PASS" starttime="20230928 10:26:17.584" endtime="20230928 10:26:17.584"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:17.590" level="INFO">Running command 'ozone sh key put /vol-wtabu/buc-bifij/key-iiuhh /etc/group 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:23.672" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:23.672" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:17.586" endtime="20230928 10:26:23.672"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:23.674" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:23.673" endtime="20230928 10:26:23.674"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:23.675" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:23.674" endtime="20230928 10:26:23.675"/>
</kw>
<status status="PASS" starttime="20230928 10:26:17.586" endtime="20230928 10:26:23.675"/>
</kw>
<msg timestamp="20230928 10:26:23.675" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:17.585" endtime="20230928 10:26:23.675"/>
</kw>
<msg timestamp="20230928 10:26:23.676" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:26:17.585" endtime="20230928 10:26:23.676"/>
</kw>
<msg timestamp="20230928 10:26:23.676" level="INFO">${key_three} = key-iiuhh</msg>
<status status="PASS" starttime="20230928 10:26:17.583" endtime="20230928 10:26:23.676"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_THREE}</arg>
<arg>${key_three}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:26:23.677" level="INFO">${KEY_THREE} = key-iiuhh</msg>
<status status="PASS" starttime="20230928 10:26:23.676" endtime="20230928 10:26:23.677"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:23.678" level="INFO">${random} = nrctb</msg>
<status status="PASS" starttime="20230928 10:26:23.678" endtime="20230928 10:26:23.678"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:23.679" level="INFO">${snapshot} = snap-nrctb</msg>
<status status="PASS" starttime="20230928 10:26:23.679" endtime="20230928 10:26:23.679"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:23.685" level="INFO">Running command 'ozone sh snapshot create /vol-wtabu/buc-bifij snap-nrctb 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:27.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:27.710" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:23.681" endtime="20230928 10:26:27.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:27.713" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:27.712" endtime="20230928 10:26:27.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:27.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:27.713" endtime="20230928 10:26:27.714"/>
</kw>
<status status="PASS" starttime="20230928 10:26:23.680" endtime="20230928 10:26:27.714"/>
</kw>
<msg timestamp="20230928 10:26:27.715" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:23.680" endtime="20230928 10:26:27.715"/>
</kw>
<msg timestamp="20230928 10:26:27.715" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 10:26:23.679" endtime="20230928 10:26:27.715"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:27.715" endtime="20230928 10:26:27.715"/>
</kw>
<msg timestamp="20230928 10:26:27.716" level="INFO">${snapshot_two} = snap-nrctb</msg>
<status status="PASS" starttime="20230928 10:26:23.677" endtime="20230928 10:26:27.716"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_TWO}</arg>
<arg>${snapshot_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 10:26:27.716" level="INFO">${SNAPSHOT_TWO} = snap-nrctb</msg>
<status status="PASS" starttime="20230928 10:26:27.716" endtime="20230928 10:26:27.718"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:27.723" level="INFO">Running command 'ozone sh snapshot diff /vol-wtabu/buc-bifij snap-oomro snap-nrctb 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:31.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:31.623" level="INFO">${output} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 10:26:27.720" endtime="20230928 10:26:31.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:31.624" level="INFO">Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 10:26:31.624" endtime="20230928 10:26:31.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:31.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:31.625" endtime="20230928 10:26:31.626"/>
</kw>
<status status="PASS" starttime="20230928 10:26:27.719" endtime="20230928 10:26:31.626"/>
</kw>
<msg timestamp="20230928 10:26:31.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:27.719" endtime="20230928 10:26:31.626"/>
</kw>
<msg timestamp="20230928 10:26:31.626" level="INFO">${result} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 10:26:27.718" endtime="20230928 10:26:31.626"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Snapshot diff job is IN_PROGRESS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:31.626" endtime="20230928 10:26:31.627"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:31.646" level="INFO">Running command 'ozone sh snapshot diff /vol-wtabu/buc-bifij snap-oomro snap-nrctb 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:35.149" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:35.149" level="INFO">${output} = Difference between snapshot: snap-oomro and snapshot: snap-nrctb
+	./key-heugk
+	./key-iiuhh
</msg>
<status status="PASS" starttime="20230928 10:26:31.629" endtime="20230928 10:26:35.149"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:35.151" level="INFO">Difference between snapshot: snap-oomro and snapshot: snap-nrctb
+	./key-heugk
+	./key-iiuhh
</msg>
<status status="PASS" starttime="20230928 10:26:35.150" endtime="20230928 10:26:35.151"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:35.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:35.151" endtime="20230928 10:26:35.152"/>
</kw>
<status status="PASS" starttime="20230928 10:26:31.629" endtime="20230928 10:26:35.153"/>
</kw>
<msg timestamp="20230928 10:26:35.153" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:31.628" endtime="20230928 10:26:35.153"/>
</kw>
<msg timestamp="20230928 10:26:35.153" level="INFO">${result} = Difference between snapshot: snap-oomro and snapshot: snap-nrctb
+	./key-heugk
+	./key-iiuhh
</msg>
<status status="PASS" starttime="20230928 10:26:31.627" endtime="20230928 10:26:35.153"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:35.154" endtime="20230928 10:26:35.154"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_THREE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:35.155" endtime="20230928 10:26:35.155"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:26:11.779" endtime="20230928 10:26:35.155"/>
</test>
<test id="s1-s20-t4" name="List Snapshot Diff Jobs" line="56">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot listDiff /${VOLUME}/${BUCKET} --all</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:35.162" level="INFO">Running command 'ozone sh snapshot listDiff /vol-wtabu/buc-bifij --all 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:39.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:39.304" level="INFO">${output} = [ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "fromSnapshot" : "snap-oomro",
  "toSnapshot" : "snap-nrctb",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 10:26:35.159" endtime="20230928 10:26:39.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:39.305" level="INFO">[ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "fromSnapshot" : "snap-oomro",
  "toSnapshot" : "snap-nrctb",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 10:26:39.304" endtime="20230928 10:26:39.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:39.306" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:39.306" endtime="20230928 10:26:39.306"/>
</kw>
<status status="PASS" starttime="20230928 10:26:35.158" endtime="20230928 10:26:39.307"/>
</kw>
<msg timestamp="20230928 10:26:39.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:35.158" endtime="20230928 10:26:39.307"/>
</kw>
<msg timestamp="20230928 10:26:39.307" level="INFO">${result} = [ {
  "volumeName" : "vol-wtabu",
  "bucketName" : "buc-bifij",
  "fromSnapshot" : "snap-oomro",
  "toSnapshot" : "snap-nrctb",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 10:26:35.157" endtime="20230928 10:26:39.307"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${VOLUME}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:39.307" endtime="20230928 10:26:39.308"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${BUCKET}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:39.308" endtime="20230928 10:26:39.309"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:39.309" endtime="20230928 10:26:39.309"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:26:39.309" endtime="20230928 10:26:39.310"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:26:35.156" endtime="20230928 10:26:39.310"/>
</test>
<test id="s1-s20-t5" name="Read Snapshot" line="63">
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_ONE}/${KEY_ONE}</arg>
<arg>/etc/hosts</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:39.314" level="INFO">${postfix} = 10825</msg>
<status status="PASS" starttime="20230928 10:26:39.314" endtime="20230928 10:26:39.314"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:39.315" level="INFO">${tmpfile} = /tmp/tempkey-10825</msg>
<status status="PASS" starttime="20230928 10:26:39.314" endtime="20230928 10:26:39.315"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:39.320" level="INFO">Running command 'ozone sh key get /vol-wtabu/buc-bifij/.snapshot/snap-oomro/key-dribe /tmp/tempkey-10825 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:44.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:44.916" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:39.316" endtime="20230928 10:26:44.916"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:44.917" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:44.917" endtime="20230928 10:26:44.917"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:44.918" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:44.918" endtime="20230928 10:26:44.918"/>
</kw>
<status status="PASS" starttime="20230928 10:26:39.316" endtime="20230928 10:26:44.918"/>
</kw>
<msg timestamp="20230928 10:26:44.919" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:39.315" endtime="20230928 10:26:44.919"/>
</kw>
<status status="PASS" starttime="20230928 10:26:39.315" endtime="20230928 10:26:44.919"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 10:26:44.922" level="INFO">Running command 'diff -q /etc/hosts /tmp/tempkey-10825 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:44.928" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 10:26:44.919" endtime="20230928 10:26:44.928"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:44.934" level="INFO">Running command 'rm -f /tmp/tempkey-10825 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:44.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:44.936" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:44.931" endtime="20230928 10:26:44.936"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:44.938" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:44.937" endtime="20230928 10:26:44.938"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:44.939" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:44.938" endtime="20230928 10:26:44.939"/>
</kw>
<status status="PASS" starttime="20230928 10:26:44.930" endtime="20230928 10:26:44.939"/>
</kw>
<msg timestamp="20230928 10:26:44.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:44.929" endtime="20230928 10:26:44.939"/>
</kw>
<status status="PASS" starttime="20230928 10:26:44.928" endtime="20230928 10:26:44.939"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 10:26:44.940" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 10:26:44.940" endtime="20230928 10:26:44.940"/>
</kw>
<msg timestamp="20230928 10:26:44.940" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 10:26:39.313" endtime="20230928 10:26:44.940"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 10:26:44.941" endtime="20230928 10:26:44.941"/>
</kw>
<status status="PASS" starttime="20230928 10:26:39.312" endtime="20230928 10:26:44.941"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_TWO}</arg>
<arg>/etc/passwd</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:44.943" level="INFO">${postfix} = 03754</msg>
<status status="PASS" starttime="20230928 10:26:44.943" endtime="20230928 10:26:44.943"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:44.944" level="INFO">${tmpfile} = /tmp/tempkey-03754</msg>
<status status="PASS" starttime="20230928 10:26:44.943" endtime="20230928 10:26:44.944"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:44.948" level="INFO">Running command 'ozone sh key get /vol-wtabu/buc-bifij/.snapshot/snap-nrctb/key-heugk /tmp/tempkey-03754 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:50.100" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:50.100" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:44.945" endtime="20230928 10:26:50.100"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:50.101" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:50.100" endtime="20230928 10:26:50.101"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:50.102" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:50.101" endtime="20230928 10:26:50.102"/>
</kw>
<status status="PASS" starttime="20230928 10:26:44.945" endtime="20230928 10:26:50.102"/>
</kw>
<msg timestamp="20230928 10:26:50.102" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:44.944" endtime="20230928 10:26:50.103"/>
</kw>
<status status="PASS" starttime="20230928 10:26:44.944" endtime="20230928 10:26:50.103"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 10:26:50.106" level="INFO">Running command 'diff -q /etc/passwd /tmp/tempkey-03754 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:50.109" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 10:26:50.103" endtime="20230928 10:26:50.109"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:50.115" level="INFO">Running command 'rm -f /tmp/tempkey-03754 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:50.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:50.118" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:50.112" endtime="20230928 10:26:50.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:50.120" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:50.119" endtime="20230928 10:26:50.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:50.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:50.120" endtime="20230928 10:26:50.120"/>
</kw>
<status status="PASS" starttime="20230928 10:26:50.111" endtime="20230928 10:26:50.121"/>
</kw>
<msg timestamp="20230928 10:26:50.121" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:50.111" endtime="20230928 10:26:50.121"/>
</kw>
<status status="PASS" starttime="20230928 10:26:50.110" endtime="20230928 10:26:50.121"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 10:26:50.122" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 10:26:50.121" endtime="20230928 10:26:50.122"/>
</kw>
<msg timestamp="20230928 10:26:50.122" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 10:26:44.942" endtime="20230928 10:26:50.122"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 10:26:50.122" endtime="20230928 10:26:50.123"/>
</kw>
<status status="PASS" starttime="20230928 10:26:44.941" endtime="20230928 10:26:50.123"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_THREE}</arg>
<arg>/etc/group</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:26:50.125" level="INFO">${postfix} = 66035</msg>
<status status="PASS" starttime="20230928 10:26:50.124" endtime="20230928 10:26:50.125"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 10:26:50.125" level="INFO">${tmpfile} = /tmp/tempkey-66035</msg>
<status status="PASS" starttime="20230928 10:26:50.125" endtime="20230928 10:26:50.125"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:50.129" level="INFO">Running command 'ozone sh key get /vol-wtabu/buc-bifij/.snapshot/snap-nrctb/key-iiuhh /tmp/tempkey-66035 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:56.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:56.768" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:50.127" endtime="20230928 10:26:56.768"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:56.769" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:56.768" endtime="20230928 10:26:56.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:56.770" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:56.769" endtime="20230928 10:26:56.770"/>
</kw>
<status status="PASS" starttime="20230928 10:26:50.126" endtime="20230928 10:26:56.770"/>
</kw>
<msg timestamp="20230928 10:26:56.770" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:50.126" endtime="20230928 10:26:56.771"/>
</kw>
<status status="PASS" starttime="20230928 10:26:50.125" endtime="20230928 10:26:56.771"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 10:26:56.774" level="INFO">Running command 'diff -q /etc/group /tmp/tempkey-66035 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:56.777" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 10:26:56.771" endtime="20230928 10:26:56.777"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:56.783" level="INFO">Running command 'rm -f /tmp/tempkey-66035 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:26:56.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:26:56.786" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:56.780" endtime="20230928 10:26:56.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:26:56.787" level="INFO"/>
<status status="PASS" starttime="20230928 10:26:56.786" endtime="20230928 10:26:56.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:26:56.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:26:56.787" endtime="20230928 10:26:56.788"/>
</kw>
<status status="PASS" starttime="20230928 10:26:56.779" endtime="20230928 10:26:56.788"/>
</kw>
<msg timestamp="20230928 10:26:56.788" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:56.779" endtime="20230928 10:26:56.788"/>
</kw>
<status status="PASS" starttime="20230928 10:26:56.778" endtime="20230928 10:26:56.788"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 10:26:56.789" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 10:26:56.789" endtime="20230928 10:26:56.789"/>
</kw>
<msg timestamp="20230928 10:26:56.789" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 10:26:50.124" endtime="20230928 10:26:56.789"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 10:26:56.790" endtime="20230928 10:26:56.790"/>
</kw>
<status status="PASS" starttime="20230928 10:26:50.123" endtime="20230928 10:26:56.790"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:26:39.311" endtime="20230928 10:26:56.790"/>
</test>
<test id="s1-s20-t6" name="Delete snapshot" line="68">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:26:56.797" level="INFO">Running command 'ozone sh snapshot delete /vol-wtabu/buc-bifij snap-oomro 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:27:00.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:27:00.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:56.795" endtime="20230928 10:27:00.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:27:00.935" level="INFO"/>
<status status="PASS" starttime="20230928 10:27:00.934" endtime="20230928 10:27:00.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:27:00.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:27:00.935" endtime="20230928 10:27:00.936"/>
</kw>
<status status="PASS" starttime="20230928 10:26:56.794" endtime="20230928 10:27:00.936"/>
</kw>
<msg timestamp="20230928 10:27:00.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:26:56.793" endtime="20230928 10:27:00.937"/>
</kw>
<msg timestamp="20230928 10:27:00.937" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:26:56.793" endtime="20230928 10:27:00.937"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:27:00.937" endtime="20230928 10:27:00.938"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET} | jq '[.[] | select(.name == "${SNAPSHOT_ONE}") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:27:00.943" level="INFO">Running command 'ozone sh snapshot ls /vol-wtabu/buc-bifij | jq '[.[] | select(.name == "snap-oomro") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end''.</msg>
<msg timestamp="20230928 10:27:05.292" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:27:05.292" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 10:27:00.940" endtime="20230928 10:27:05.292"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:27:05.294" level="INFO">"SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 10:27:05.293" endtime="20230928 10:27:05.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:27:05.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:27:05.294" endtime="20230928 10:27:05.295"/>
</kw>
<status status="PASS" starttime="20230928 10:27:00.939" endtime="20230928 10:27:05.295"/>
</kw>
<msg timestamp="20230928 10:27:05.295" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:27:00.939" endtime="20230928 10:27:05.295"/>
</kw>
<msg timestamp="20230928 10:27:05.295" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 10:27:00.938" endtime="20230928 10:27:05.295"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:27:05.296" endtime="20230928 10:27:05.296"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:26:56.792" endtime="20230928 10:27:05.296"/>
</test>
<doc>Test for using sh commands with snapshots.</doc>
<status status="PASS" starttime="20230928 10:25:49.805" endtime="20230928 10:27:05.298"/>
</suite>
<suite id="s1-s21" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s21-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:13:04.408" level="INFO">${random} = 24148</msg>
<status status="PASS" starttime="20230928 10:13:04.408" endtime="20230928 10:13:04.408"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:04.413" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-24148 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:11.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:11.793" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:04.410" endtime="20230928 10:13:11.793"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:11.795" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:11.794" endtime="20230928 10:13:11.795"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:11.795" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:11.795" endtime="20230928 10:13:11.795"/>
</kw>
<status status="PASS" starttime="20230928 10:13:04.410" endtime="20230928 10:13:11.796"/>
</kw>
<msg timestamp="20230928 10:13:11.796" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:04.409" endtime="20230928 10:13:11.796"/>
</kw>
<msg timestamp="20230928 10:13:11.796" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:04.409" endtime="20230928 10:13:11.796"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:11.797" endtime="20230928 10:13:11.797"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:11.802" level="INFO">Running command 'cat /tmp/key-24148 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:11.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:11.806" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:11.798" endtime="20230928 10:13:11.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:11.807" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:11.807" endtime="20230928 10:13:11.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:11.808" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:11.808" endtime="20230928 10:13:11.808"/>
</kw>
<msg timestamp="20230928 10:13:11.809" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:11.797" endtime="20230928 10:13:11.809"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:11.809" endtime="20230928 10:13:11.809"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:11.813" level="INFO">Running command 'rm /tmp/key-24148 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:11.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:11.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:11.810" endtime="20230928 10:13:11.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:11.818" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:11.817" endtime="20230928 10:13:11.818"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:11.819" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:11.819" endtime="20230928 10:13:11.819"/>
</kw>
<status status="PASS" starttime="20230928 10:13:11.810" endtime="20230928 10:13:11.820"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:04.407" endtime="20230928 10:13:11.820"/>
</test>
<test id="s1-s21-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:11.828" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:12.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:12.833" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:11.825" endtime="20230928 10:13:12.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:12.835" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:12.834" endtime="20230928 10:13:12.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:12.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:12.835" endtime="20230928 10:13:12.836"/>
</kw>
<status status="PASS" starttime="20230928 10:13:11.824" endtime="20230928 10:13:12.837"/>
</kw>
<msg timestamp="20230928 10:13:12.837" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:11.824" endtime="20230928 10:13:12.837"/>
</kw>
<status status="PASS" starttime="20230928 10:13:11.823" endtime="20230928 10:13:12.837"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:12.843" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:13.599" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:13.599" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:12.839" endtime="20230928 10:13:13.599"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:13.601" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:13.600" endtime="20230928 10:13:13.601"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:13.601" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:13.601" endtime="20230928 10:13:13.601"/>
</kw>
<status status="PASS" starttime="20230928 10:13:12.838" endtime="20230928 10:13:13.602"/>
</kw>
<msg timestamp="20230928 10:13:13.602" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:12.838" endtime="20230928 10:13:13.602"/>
</kw>
<status status="PASS" starttime="20230928 10:13:12.837" endtime="20230928 10:13:13.602"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:13.607" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:14.240" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:14.240" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:13.604" endtime="20230928 10:13:14.240"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:14.242" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:14.241" endtime="20230928 10:13:14.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:14.243" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:14.242" endtime="20230928 10:13:14.243"/>
</kw>
<status status="PASS" starttime="20230928 10:13:13.603" endtime="20230928 10:13:14.243"/>
</kw>
<msg timestamp="20230928 10:13:14.243" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:13.603" endtime="20230928 10:13:14.244"/>
</kw>
<status status="PASS" starttime="20230928 10:13:13.602" endtime="20230928 10:13:14.244"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:14.249" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:14.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:14.798" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:14.245" endtime="20230928 10:13:14.798"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:14.800" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:14.799" endtime="20230928 10:13:14.800"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:14.801" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:14.800" endtime="20230928 10:13:14.801"/>
</kw>
<status status="PASS" starttime="20230928 10:13:14.245" endtime="20230928 10:13:14.801"/>
</kw>
<msg timestamp="20230928 10:13:14.801" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:14.244" endtime="20230928 10:13:14.802"/>
</kw>
<status status="PASS" starttime="20230928 10:13:14.244" endtime="20230928 10:13:14.802"/>
</kw>
<status status="PASS" starttime="20230928 10:13:11.823" endtime="20230928 10:13:14.802"/>
</kw>
<status status="PASS" starttime="20230928 10:13:11.822" endtime="20230928 10:13:14.802"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:11.821" endtime="20230928 10:13:14.802"/>
</test>
<test id="s1-s21-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:14.809" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:19.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:19.327" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:14.806" endtime="20230928 10:13:19.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:19.329" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:13:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:13:19.327" endtime="20230928 10:13:19.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:19.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:19.329" endtime="20230928 10:13:19.329"/>
</kw>
<msg timestamp="20230928 10:13:19.330" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:14.805" endtime="20230928 10:13:19.330"/>
</kw>
<msg timestamp="20230928 10:13:19.330" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:14.805" endtime="20230928 10:13:19.330"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:19.330" endtime="20230928 10:13:19.331"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:19.334" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:19.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:19.337" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:19.331" endtime="20230928 10:13:19.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:19.339" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:19.338" endtime="20230928 10:13:19.339"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:19.340" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:19.339" endtime="20230928 10:13:19.340"/>
</kw>
<msg timestamp="20230928 10:13:19.340" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:13:19.331" endtime="20230928 10:13:19.340"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:19.340" endtime="20230928 10:13:19.340"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:19.344" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:19.346" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:19.346" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:19.341" endtime="20230928 10:13:19.346"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:19.348" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:19.347" endtime="20230928 10:13:19.348"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:19.348" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:19.348" endtime="20230928 10:13:19.349"/>
</kw>
<status status="PASS" starttime="20230928 10:13:19.341" endtime="20230928 10:13:19.349"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:14.804" endtime="20230928 10:13:19.349"/>
</test>
<test id="s1-s21-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:19.355" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:20.097" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:20.097" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:19.352" endtime="20230928 10:13:20.097"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:20.099" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:13:19 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:13:20.098" endtime="20230928 10:13:20.099"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:20.099" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:20.099" endtime="20230928 10:13:20.100"/>
</kw>
<msg timestamp="20230928 10:13:20.100" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:19.352" endtime="20230928 10:13:20.100"/>
</kw>
<msg timestamp="20230928 10:13:20.100" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:09:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:13:19.351" endtime="20230928 10:13:20.100"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:20.100" endtime="20230928 10:13:20.101"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:20.104" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:20.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:20.107" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:13:20.101" endtime="20230928 10:13:20.107"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:20.108" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:13:20.107" endtime="20230928 10:13:20.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:20.109" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:20.108" endtime="20230928 10:13:20.109"/>
</kw>
<msg timestamp="20230928 10:13:20.109" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:13:20.101" endtime="20230928 10:13:20.109"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:20.109" endtime="20230928 10:13:20.110"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:20.113" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:20.116" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:20.116" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:20.111" endtime="20230928 10:13:20.116"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:20.117" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:20.116" endtime="20230928 10:13:20.117"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:20.118" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:20.117" endtime="20230928 10:13:20.118"/>
</kw>
<status status="PASS" starttime="20230928 10:13:20.110" endtime="20230928 10:13:20.118"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:19.350" endtime="20230928 10:13:20.118"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:13:04.289" endtime="20230928 10:13:20.120"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:23.585" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:13:23.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:23.588" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:23.582" endtime="20230928 10:13:23.588"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:23.589" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:23.588" endtime="20230928 10:13:23.589"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:23.590" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:23.589" endtime="20230928 10:13:23.590"/>
</kw>
<status status="PASS" starttime="20230928 10:13:23.581" endtime="20230928 10:13:23.590"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:23.595" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:32.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:32.424" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:23.593" endtime="20230928 10:13:32.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:32.426" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:32.425" endtime="20230928 10:13:32.426"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:32.427" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:32.426" endtime="20230928 10:13:32.427"/>
</kw>
<status status="PASS" starttime="20230928 10:13:23.592" endtime="20230928 10:13:32.427"/>
</kw>
<msg timestamp="20230928 10:13:32.427" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:23.591" endtime="20230928 10:13:32.427"/>
</kw>
<msg timestamp="20230928 10:13:32.428" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:23.591" endtime="20230928 10:13:32.428"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:32.428" endtime="20230928 10:13:32.428"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:32.433" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:32.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:32.439" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:32.429" endtime="20230928 10:13:32.439"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:32.440" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:32.440" endtime="20230928 10:13:32.440"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:32.441" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:32.441" endtime="20230928 10:13:32.441"/>
</kw>
<status status="PASS" starttime="20230928 10:13:32.429" endtime="20230928 10:13:32.441"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:23.581" endtime="20230928 10:13:32.442"/>
</test>
<test id="s1-s22-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:32.447" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:13:32.449" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:32.449" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:32.444" endtime="20230928 10:13:32.449"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:32.450" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:32.449" endtime="20230928 10:13:32.450"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:32.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:32.450" endtime="20230928 10:13:32.451"/>
</kw>
<status status="PASS" starttime="20230928 10:13:32.443" endtime="20230928 10:13:32.451"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:32.456" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:39.110" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:39.110" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:32.453" endtime="20230928 10:13:39.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:39.112" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:39.111" endtime="20230928 10:13:39.112"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:39.113" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:39.112" endtime="20230928 10:13:39.113"/>
</kw>
<status status="PASS" starttime="20230928 10:13:32.452" endtime="20230928 10:13:39.113"/>
</kw>
<msg timestamp="20230928 10:13:39.113" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:32.452" endtime="20230928 10:13:39.113"/>
</kw>
<msg timestamp="20230928 10:13:39.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:32.451" endtime="20230928 10:13:39.114"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:39.114" endtime="20230928 10:13:39.114"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:39.118" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:39.121" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:39.122" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:39.115" endtime="20230928 10:13:39.122"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:39.123" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:39.122" endtime="20230928 10:13:39.123"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:39.124" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:39.123" endtime="20230928 10:13:39.124"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.114" endtime="20230928 10:13:39.124"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:32.442" endtime="20230928 10:13:39.124"/>
</test>
<test id="s1-s22-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:39.132" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:39.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:39.836" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:39.130" endtime="20230928 10:13:39.836"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:39.837" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:39.837" endtime="20230928 10:13:39.838"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:39.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:39.838" endtime="20230928 10:13:39.838"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.129" endtime="20230928 10:13:39.839"/>
</kw>
<msg timestamp="20230928 10:13:39.839" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:39.129" endtime="20230928 10:13:39.839"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.129" endtime="20230928 10:13:39.839"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:39.844" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:40.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:40.408" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:39.841" endtime="20230928 10:13:40.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:40.410" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:40.409" endtime="20230928 10:13:40.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:40.410" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:40.410" endtime="20230928 10:13:40.410"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.841" endtime="20230928 10:13:40.411"/>
</kw>
<msg timestamp="20230928 10:13:40.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:39.840" endtime="20230928 10:13:40.411"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.840" endtime="20230928 10:13:40.411"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:40.416" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:41.059" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:41.059" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:40.413" endtime="20230928 10:13:41.059"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:41.061" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:41.060" endtime="20230928 10:13:41.061"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:41.062" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:41.061" endtime="20230928 10:13:41.062"/>
</kw>
<status status="PASS" starttime="20230928 10:13:40.412" endtime="20230928 10:13:41.062"/>
</kw>
<msg timestamp="20230928 10:13:41.062" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:40.412" endtime="20230928 10:13:41.063"/>
</kw>
<status status="PASS" starttime="20230928 10:13:40.411" endtime="20230928 10:13:41.063"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:41.068" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:41.659" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:41.659" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:41.065" endtime="20230928 10:13:41.659"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:41.661" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:41.660" endtime="20230928 10:13:41.661"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:41.662" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:41.661" endtime="20230928 10:13:41.662"/>
</kw>
<status status="PASS" starttime="20230928 10:13:41.064" endtime="20230928 10:13:41.662"/>
</kw>
<msg timestamp="20230928 10:13:41.662" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:41.063" endtime="20230928 10:13:41.663"/>
</kw>
<status status="PASS" starttime="20230928 10:13:41.063" endtime="20230928 10:13:41.663"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.128" endtime="20230928 10:13:41.663"/>
</kw>
<status status="PASS" starttime="20230928 10:13:39.127" endtime="20230928 10:13:41.663"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:39.127" endtime="20230928 10:13:41.663"/>
</test>
<test id="s1-s22-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:13:41.666" level="INFO">${randStr} = 1867344922</msg>
<status status="PASS" starttime="20230928 10:13:41.665" endtime="20230928 10:13:41.666"/>
</kw>
<msg timestamp="20230928 10:13:41.666" level="INFO">${random} = ozone-test-1867344922</msg>
<status status="PASS" starttime="20230928 10:13:41.665" endtime="20230928 10:13:41.666"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:41.672" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-1867344922 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:42.493" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:42.493" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1867344922"
}</msg>
<status status="PASS" starttime="20230928 10:13:41.669" endtime="20230928 10:13:42.493"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:42.495" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1867344922"
}</msg>
<status status="PASS" starttime="20230928 10:13:42.494" endtime="20230928 10:13:42.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:42.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:42.496" endtime="20230928 10:13:42.497"/>
</kw>
<status status="PASS" starttime="20230928 10:13:41.668" endtime="20230928 10:13:42.497"/>
</kw>
<msg timestamp="20230928 10:13:42.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:41.668" endtime="20230928 10:13:42.497"/>
</kw>
<msg timestamp="20230928 10:13:42.497" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1867344922"
}</msg>
<status status="PASS" starttime="20230928 10:13:41.667" endtime="20230928 10:13:42.497"/>
</kw>
<msg timestamp="20230928 10:13:42.498" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1867344922"
}</msg>
<status status="PASS" starttime="20230928 10:13:41.667" endtime="20230928 10:13:42.498"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:42.498" endtime="20230928 10:13:42.498"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:42.499" endtime="20230928 10:13:42.499"/>
</kw>
<msg timestamp="20230928 10:13:42.499" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:13:41.666" endtime="20230928 10:13:42.499"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:13:42.499" endtime="20230928 10:13:42.500"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:41.664" endtime="20230928 10:13:42.500"/>
</test>
<test id="s1-s22-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:42.506" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:13:42.508" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:42.508" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:42.502" endtime="20230928 10:13:42.508"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:42.509" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:42.509" endtime="20230928 10:13:42.510"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:42.510" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:42.510" endtime="20230928 10:13:42.511"/>
</kw>
<status status="PASS" starttime="20230928 10:13:42.502" endtime="20230928 10:13:42.511"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:42.516" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:43.874" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:43.874" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:42.513" endtime="20230928 10:13:43.874"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:43.875" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:43.874" endtime="20230928 10:13:43.876"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:43.876" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:43.876" endtime="20230928 10:13:43.877"/>
</kw>
<msg timestamp="20230928 10:13:43.877" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:42.512" endtime="20230928 10:13:43.877"/>
</kw>
<msg timestamp="20230928 10:13:43.877" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:42.511" endtime="20230928 10:13:43.877"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:43.877" endtime="20230928 10:13:43.878"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:43.882" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:43.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:43.886" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:43.879" endtime="20230928 10:13:43.886"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:43.887" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:43.886" endtime="20230928 10:13:43.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:43.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:43.887" endtime="20230928 10:13:43.888"/>
</kw>
<status status="PASS" starttime="20230928 10:13:43.878" endtime="20230928 10:13:43.888"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:42.501" endtime="20230928 10:13:43.889"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:13:23.471" endtime="20230928 10:13:43.891"/>
</suite>
<suite id="s1-s23" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s23-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:47.154" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:51.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:51.344" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:47.151" endtime="20230928 10:13:51.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:51.346" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:51.344" endtime="20230928 10:13:51.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:51.346" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:51.346" endtime="20230928 10:13:51.347"/>
</kw>
<status status="PASS" starttime="20230928 10:13:47.150" endtime="20230928 10:13:51.347"/>
</kw>
<msg timestamp="20230928 10:13:51.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:47.150" endtime="20230928 10:13:51.347"/>
</kw>
<msg timestamp="20230928 10:13:51.347" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:47.149" endtime="20230928 10:13:51.347"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:51.347" endtime="20230928 10:13:51.348"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:51.353" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:13:54.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:54.988" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:51.350" endtime="20230928 10:13:54.988"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:54.989" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:54.988" endtime="20230928 10:13:54.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:54.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:54.990" endtime="20230928 10:13:54.990"/>
</kw>
<status status="PASS" starttime="20230928 10:13:51.349" endtime="20230928 10:13:54.991"/>
</kw>
<msg timestamp="20230928 10:13:54.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:51.349" endtime="20230928 10:13:54.991"/>
</kw>
<msg timestamp="20230928 10:13:54.991" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:51.348" endtime="20230928 10:13:54.991"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:13:54.991" endtime="20230928 10:13:54.991"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:47.147" endtime="20230928 10:13:54.992"/>
</test>
<test id="s1-s23-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:54.998" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:13:54.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:13:54.999" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:54.994" endtime="20230928 10:13:54.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:13:55.001" level="INFO"/>
<status status="PASS" starttime="20230928 10:13:55.000" endtime="20230928 10:13:55.001"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:13:55.002" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:13:55.001" endtime="20230928 10:13:55.002"/>
</kw>
<status status="PASS" starttime="20230928 10:13:54.994" endtime="20230928 10:13:55.002"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:13:55.007" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:02.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:02.137" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:55.004" endtime="20230928 10:14:02.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:02.138" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:02.137" endtime="20230928 10:14:02.141"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:02.141" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:02.141" endtime="20230928 10:14:02.142"/>
</kw>
<status status="PASS" starttime="20230928 10:13:55.004" endtime="20230928 10:14:02.142"/>
</kw>
<msg timestamp="20230928 10:14:02.142" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:13:55.003" endtime="20230928 10:14:02.142"/>
</kw>
<msg timestamp="20230928 10:14:02.142" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:13:55.003" endtime="20230928 10:14:02.142"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:02.143" endtime="20230928 10:14:02.143"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:02.147" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:02.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:02.150" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:02.144" endtime="20230928 10:14:02.150"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:02.152" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:02.151" endtime="20230928 10:14:02.152"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:02.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:02.152" endtime="20230928 10:14:02.152"/>
</kw>
<status status="PASS" starttime="20230928 10:14:02.143" endtime="20230928 10:14:02.153"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:13:54.993" endtime="20230928 10:14:02.153"/>
</test>
<test id="s1-s23-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:02.159" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:06.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:06.001" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:02.156" endtime="20230928 10:14:06.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:06.003" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:06.002" endtime="20230928 10:14:06.003"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:06.004" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:06.003" endtime="20230928 10:14:06.004"/>
</kw>
<status status="PASS" starttime="20230928 10:14:02.156" endtime="20230928 10:14:06.004"/>
</kw>
<msg timestamp="20230928 10:14:06.004" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:02.156" endtime="20230928 10:14:06.005"/>
</kw>
<msg timestamp="20230928 10:14:06.005" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:02.155" endtime="20230928 10:14:06.005"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:06.005" endtime="20230928 10:14:06.006"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:02.154" endtime="20230928 10:14:06.006"/>
</test>
<test id="s1-s23-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:06.012" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:14:06.014" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:06.014" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:06.009" endtime="20230928 10:14:06.014"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:06.016" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:06.015" endtime="20230928 10:14:06.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:06.016" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:06.016" endtime="20230928 10:14:06.017"/>
</kw>
<status status="PASS" starttime="20230928 10:14:06.008" endtime="20230928 10:14:06.017"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:06.022" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:12.993" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:12.993" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:06.019" endtime="20230928 10:14:12.993"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:12.994" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:12.993" endtime="20230928 10:14:12.994"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:12.995" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:12.994" endtime="20230928 10:14:12.995"/>
</kw>
<status status="PASS" starttime="20230928 10:14:06.018" endtime="20230928 10:14:12.995"/>
</kw>
<msg timestamp="20230928 10:14:12.996" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:06.018" endtime="20230928 10:14:12.996"/>
</kw>
<msg timestamp="20230928 10:14:12.997" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:06.017" endtime="20230928 10:14:12.997"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:12.997" endtime="20230928 10:14:12.998"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:13.001" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:13.004" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:13.004" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:12.998" endtime="20230928 10:14:13.004"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:13.005" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:13.004" endtime="20230928 10:14:13.005"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:13.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:13.006" endtime="20230928 10:14:13.006"/>
</kw>
<status status="PASS" starttime="20230928 10:14:12.998" endtime="20230928 10:14:13.007"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:06.007" endtime="20230928 10:14:13.007"/>
</test>
<test id="s1-s23-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:13.015" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:13.697" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:13.697" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:13.012" endtime="20230928 10:14:13.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:13.699" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:13.698" endtime="20230928 10:14:13.699"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:13.699" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:13.699" endtime="20230928 10:14:13.700"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.012" endtime="20230928 10:14:13.700"/>
</kw>
<msg timestamp="20230928 10:14:13.700" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:13.011" endtime="20230928 10:14:13.700"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.010" endtime="20230928 10:14:13.700"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:13.705" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:14.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:14.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:13.702" endtime="20230928 10:14:14.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:14.331" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:14.331" endtime="20230928 10:14:14.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:14.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:14.332" endtime="20230928 10:14:14.332"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.701" endtime="20230928 10:14:14.333"/>
</kw>
<msg timestamp="20230928 10:14:14.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:13.701" endtime="20230928 10:14:14.333"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.700" endtime="20230928 10:14:14.333"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:14.338" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:14.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:14.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:14.335" endtime="20230928 10:14:14.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:14.936" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:14.934" endtime="20230928 10:14:14.936"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:14.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:14.936" endtime="20230928 10:14:14.937"/>
</kw>
<status status="PASS" starttime="20230928 10:14:14.334" endtime="20230928 10:14:14.937"/>
</kw>
<msg timestamp="20230928 10:14:14.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:14.334" endtime="20230928 10:14:14.938"/>
</kw>
<status status="PASS" starttime="20230928 10:14:14.333" endtime="20230928 10:14:14.938"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:14.943" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:15.501" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:15.501" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:14.940" endtime="20230928 10:14:15.501"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:15.503" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:15.502" endtime="20230928 10:14:15.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:15.504" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:15.503" endtime="20230928 10:14:15.504"/>
</kw>
<status status="PASS" starttime="20230928 10:14:14.939" endtime="20230928 10:14:15.504"/>
</kw>
<msg timestamp="20230928 10:14:15.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:14.939" endtime="20230928 10:14:15.504"/>
</kw>
<status status="PASS" starttime="20230928 10:14:14.938" endtime="20230928 10:14:15.504"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.010" endtime="20230928 10:14:15.504"/>
</kw>
<status status="PASS" starttime="20230928 10:14:13.009" endtime="20230928 10:14:15.504"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:13.008" endtime="20230928 10:14:15.505"/>
</test>
<test id="s1-s23-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:14:15.508" level="INFO">${randStr} = 1502992006</msg>
<status status="PASS" starttime="20230928 10:14:15.507" endtime="20230928 10:14:15.508"/>
</kw>
<msg timestamp="20230928 10:14:15.508" level="INFO">${random} = ozone-test-1502992006</msg>
<status status="PASS" starttime="20230928 10:14:15.507" endtime="20230928 10:14:15.508"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:15.514" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-1502992006 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:16.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:16.316" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1502992006"
}</msg>
<status status="PASS" starttime="20230928 10:14:15.511" endtime="20230928 10:14:16.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:16.317" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1502992006"
}</msg>
<status status="PASS" starttime="20230928 10:14:16.317" endtime="20230928 10:14:16.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:16.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:16.318" endtime="20230928 10:14:16.318"/>
</kw>
<status status="PASS" starttime="20230928 10:14:15.510" endtime="20230928 10:14:16.319"/>
</kw>
<msg timestamp="20230928 10:14:16.319" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:15.510" endtime="20230928 10:14:16.319"/>
</kw>
<msg timestamp="20230928 10:14:16.319" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1502992006"
}</msg>
<status status="PASS" starttime="20230928 10:14:15.509" endtime="20230928 10:14:16.319"/>
</kw>
<msg timestamp="20230928 10:14:16.319" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-1502992006"
}</msg>
<status status="PASS" starttime="20230928 10:14:15.508" endtime="20230928 10:14:16.319"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:16.319" endtime="20230928 10:14:16.320"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:16.320" endtime="20230928 10:14:16.321"/>
</kw>
<msg timestamp="20230928 10:14:16.321" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 10:14:15.508" endtime="20230928 10:14:16.321"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 10:14:16.321" endtime="20230928 10:14:16.322"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:15.506" endtime="20230928 10:14:16.322"/>
</test>
<test id="s1-s23-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:16.328" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 10:14:16.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:16.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:16.324" endtime="20230928 10:14:16.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:16.331" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:16.330" endtime="20230928 10:14:16.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:16.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:16.331" endtime="20230928 10:14:16.332"/>
</kw>
<status status="PASS" starttime="20230928 10:14:16.324" endtime="20230928 10:14:16.332"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:16.336" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:17.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:17.302" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:16.334" endtime="20230928 10:14:17.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:17.304" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:17.302" endtime="20230928 10:14:17.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:17.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:17.304" endtime="20230928 10:14:17.305"/>
</kw>
<msg timestamp="20230928 10:14:17.305" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:16.333" endtime="20230928 10:14:17.305"/>
</kw>
<msg timestamp="20230928 10:14:17.306" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:16.332" endtime="20230928 10:14:17.306"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:17.306" endtime="20230928 10:14:17.306"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:17.311" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:17.314" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:17.314" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:17.307" endtime="20230928 10:14:17.314"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:17.315" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:17.314" endtime="20230928 10:14:17.315"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:17.316" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:17.316" endtime="20230928 10:14:17.316"/>
</kw>
<status status="PASS" starttime="20230928 10:14:17.307" endtime="20230928 10:14:17.316"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:16.323" endtime="20230928 10:14:17.317"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 10:13:47.061" endtime="20230928 10:14:17.318"/>
</suite>
<suite id="s1-s24" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s24-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 10:14:20.610" level="INFO">${random} = 61318</msg>
<status status="PASS" starttime="20230928 10:14:20.610" endtime="20230928 10:14:20.610"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:20.616" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-61318 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:26.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:26.985" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:20.612" endtime="20230928 10:14:26.985"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:26.986" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:26.985" endtime="20230928 10:14:26.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:26.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:26.987" endtime="20230928 10:14:26.987"/>
</kw>
<status status="PASS" starttime="20230928 10:14:20.612" endtime="20230928 10:14:26.988"/>
</kw>
<msg timestamp="20230928 10:14:26.988" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:20.611" endtime="20230928 10:14:26.988"/>
</kw>
<msg timestamp="20230928 10:14:26.988" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:20.611" endtime="20230928 10:14:26.988"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:26.988" endtime="20230928 10:14:26.989"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:26.993" level="INFO">Running command 'cat /tmp/key-61318 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:26.997" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:26.997" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:26.989" endtime="20230928 10:14:26.997"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:26.998" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:26.998" endtime="20230928 10:14:26.998"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:26.999" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:26.998" endtime="20230928 10:14:26.999"/>
</kw>
<msg timestamp="20230928 10:14:26.999" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:26.989" endtime="20230928 10:14:26.999"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:26.999" endtime="20230928 10:14:27.000"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:27.003" level="INFO">Running command 'rm /tmp/key-61318 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:27.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:27.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:27.001" endtime="20230928 10:14:27.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:27.007" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:27.007" endtime="20230928 10:14:27.007"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:27.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:27.007" endtime="20230928 10:14:27.008"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.000" endtime="20230928 10:14:27.008"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:20.609" endtime="20230928 10:14:27.008"/>
</test>
<test id="s1-s24-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:27.015" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:27.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:27.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:27.012" endtime="20230928 10:14:27.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:27.608" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:27.607" endtime="20230928 10:14:27.608"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:27.609" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:27.608" endtime="20230928 10:14:27.609"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.012" endtime="20230928 10:14:27.609"/>
</kw>
<msg timestamp="20230928 10:14:27.609" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:27.011" endtime="20230928 10:14:27.610"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.011" endtime="20230928 10:14:27.610"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:27.615" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:28.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:28.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:27.612" endtime="20230928 10:14:28.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:28.207" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:28.207" endtime="20230928 10:14:28.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:28.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:28.208" endtime="20230928 10:14:28.208"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.611" endtime="20230928 10:14:28.208"/>
</kw>
<msg timestamp="20230928 10:14:28.209" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:27.610" endtime="20230928 10:14:28.209"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.610" endtime="20230928 10:14:28.209"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:28.214" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:28.828" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:28.828" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:28.211" endtime="20230928 10:14:28.828"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:28.829" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:28.828" endtime="20230928 10:14:28.829"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:28.830" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:28.829" endtime="20230928 10:14:28.830"/>
</kw>
<status status="PASS" starttime="20230928 10:14:28.210" endtime="20230928 10:14:28.830"/>
</kw>
<msg timestamp="20230928 10:14:28.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:28.210" endtime="20230928 10:14:28.830"/>
</kw>
<status status="PASS" starttime="20230928 10:14:28.209" endtime="20230928 10:14:28.830"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:28.835" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:29.478" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:29.478" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:28.832" endtime="20230928 10:14:29.479"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:29.480" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:29.479" endtime="20230928 10:14:29.480"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:29.480" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:29.480" endtime="20230928 10:14:29.481"/>
</kw>
<status status="PASS" starttime="20230928 10:14:28.831" endtime="20230928 10:14:29.481"/>
</kw>
<msg timestamp="20230928 10:14:29.481" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:28.831" endtime="20230928 10:14:29.481"/>
</kw>
<status status="PASS" starttime="20230928 10:14:28.830" endtime="20230928 10:14:29.481"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.010" endtime="20230928 10:14:29.481"/>
</kw>
<status status="PASS" starttime="20230928 10:14:27.010" endtime="20230928 10:14:29.481"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:27.009" endtime="20230928 10:14:29.481"/>
</test>
<test id="s1-s24-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:29.488" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:30.358" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:30.358" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:29.485" endtime="20230928 10:14:30.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:30.360" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:14:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:14:30.359" endtime="20230928 10:14:30.360"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:30.361" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:30.360" endtime="20230928 10:14:30.361"/>
</kw>
<msg timestamp="20230928 10:14:30.361" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:29.484" endtime="20230928 10:14:30.361"/>
</kw>
<msg timestamp="20230928 10:14:30.362" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:29.483" endtime="20230928 10:14:30.362"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:30.362" endtime="20230928 10:14:30.362"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:30.367" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:30.370" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:30.370" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:30.363" endtime="20230928 10:14:30.370"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:30.371" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:30.370" endtime="20230928 10:14:30.371"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:30.372" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:30.372" endtime="20230928 10:14:30.372"/>
</kw>
<msg timestamp="20230928 10:14:30.373" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 10:14:30.363" endtime="20230928 10:14:30.373"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:30.373" endtime="20230928 10:14:30.373"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:30.377" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:30.379" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:30.379" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:30.374" endtime="20230928 10:14:30.379"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:30.381" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:30.380" endtime="20230928 10:14:30.381"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:30.382" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:30.381" endtime="20230928 10:14:30.382"/>
</kw>
<status status="PASS" starttime="20230928 10:14:30.373" endtime="20230928 10:14:30.382"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:29.482" endtime="20230928 10:14:30.382"/>
</test>
<test id="s1-s24-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:30.389" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:31.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:31.105" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:30.386" endtime="20230928 10:14:31.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:31.107" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 10:14:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 10:14:31.106" endtime="20230928 10:14:31.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:31.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:31.108" endtime="20230928 10:14:31.109"/>
</kw>
<msg timestamp="20230928 10:14:31.109" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:30.385" endtime="20230928 10:14:31.109"/>
</kw>
<msg timestamp="20230928 10:14:31.109" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 10:14:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 10:14:30.385" endtime="20230928 10:14:31.110"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:31.110" endtime="20230928 10:14:31.111"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:31.116" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:31.121" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:31.121" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:14:31.112" endtime="20230928 10:14:31.121"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:31.122" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:14:31.121" endtime="20230928 10:14:31.122"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:31.123" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:31.123" endtime="20230928 10:14:31.123"/>
</kw>
<msg timestamp="20230928 10:14:31.124" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 10:14:31.111" endtime="20230928 10:14:31.124"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:31.124" endtime="20230928 10:14:31.125"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:31.129" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:31.134" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:31.134" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:31.126" endtime="20230928 10:14:31.134"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:31.136" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:31.135" endtime="20230928 10:14:31.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:31.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:31.136" endtime="20230928 10:14:31.137"/>
</kw>
<status status="PASS" starttime="20230928 10:14:31.125" endtime="20230928 10:14:31.137"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:30.384" endtime="20230928 10:14:31.138"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 10:14:20.522" endtime="20230928 10:14:31.140"/>
</suite>
<suite id="s1-s25" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s25-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:14:34.454" endtime="20230928 10:14:34.454"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:34.459" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:38.646" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:38.646" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:34.456" endtime="20230928 10:14:38.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:38.647" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:38.646" endtime="20230928 10:14:38.648"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:38.649" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:38.648" endtime="20230928 10:14:38.649"/>
</kw>
<status status="PASS" starttime="20230928 10:14:34.455" endtime="20230928 10:14:38.649"/>
</kw>
<msg timestamp="20230928 10:14:38.649" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:34.455" endtime="20230928 10:14:38.649"/>
</kw>
<msg timestamp="20230928 10:14:38.649" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:34.455" endtime="20230928 10:14:38.649"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:38.650" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:38.650" endtime="20230928 10:14:38.650"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:14:38.650" endtime="20230928 10:14:38.651"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:14:34.453" endtime="20230928 10:14:38.651"/>
</test>
<test id="s1-s25-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:14:38.654" endtime="20230928 10:14:38.655"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:38.660" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:43.293" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:43.293" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:38.657" endtime="20230928 10:14:43.293"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:43.295" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:43.294" endtime="20230928 10:14:43.295"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:43.296" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:43.296" endtime="20230928 10:14:43.296"/>
</kw>
<status status="PASS" starttime="20230928 10:14:38.656" endtime="20230928 10:14:43.297"/>
</kw>
<msg timestamp="20230928 10:14:43.297" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:14:38.656" endtime="20230928 10:14:43.297"/>
</kw>
<msg timestamp="20230928 10:14:43.297" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:38.655" endtime="20230928 10:14:43.297"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:43.298" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 10:14:43.297" endtime="20230928 10:14:43.298"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 10:14:43.298" endtime="20230928 10:14:43.299"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 10:14:38.653" endtime="20230928 10:14:43.299"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 10:14:34.396" endtime="20230928 10:14:43.301"/>
</suite>
<suite id="s1-s26" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s26-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:46.473" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:50.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:50.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:46.470" endtime="20230928 10:14:50.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:50.613" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:50.612" endtime="20230928 10:14:50.613"/>
</kw>
<msg timestamp="20230928 10:14:50.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:46.469" endtime="20230928 10:14:50.613"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:50.614" endtime="20230928 10:14:50.614"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:50.619" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:54.287" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:14:54.287" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:50.615" endtime="20230928 10:14:54.287"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:54.289" level="INFO"/>
<status status="PASS" starttime="20230928 10:14:54.288" endtime="20230928 10:14:54.289"/>
</kw>
<msg timestamp="20230928 10:14:54.290" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 10:14:50.615" endtime="20230928 10:14:54.290"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:54.290" endtime="20230928 10:14:54.290"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:54.294" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:14:58.400" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 10:14:58.400" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 10:14:54.291" endtime="20230928 10:14:58.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:14:58.402" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 10:14:58.401" endtime="20230928 10:14:58.402"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:14:58.402" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:14:58.402" endtime="20230928 10:14:58.403"/>
</kw>
<msg timestamp="20230928 10:14:58.403" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 10:14:54.291" endtime="20230928 10:14:58.403"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:14:58.403" endtime="20230928 10:14:58.404"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:46.468" endtime="20230928 10:14:58.404"/>
</test>
<test id="s1-s26-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:14:58.410" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:15:02.503" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 10:15:02.503" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 10:14:58.407" endtime="20230928 10:15:02.503"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:15:02.504" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 10:15:02.503" endtime="20230928 10:15:02.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:15:02.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:15:02.505" endtime="20230928 10:15:02.505"/>
</kw>
<msg timestamp="20230928 10:15:02.506" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 10:14:58.406" endtime="20230928 10:15:02.506"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:15:02.506" endtime="20230928 10:15:02.507"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:14:58.405" endtime="20230928 10:15:02.507"/>
</test>
<test id="s1-s26-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:15:02.513" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:15:06.652" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 10:15:06.653" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 10:15:02.510" endtime="20230928 10:15:06.653"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:15:06.654" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 10:15:06.653" endtime="20230928 10:15:06.654"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:15:06.655" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:15:06.655" endtime="20230928 10:15:06.656"/>
</kw>
<msg timestamp="20230928 10:15:06.656" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 10:15:02.509" endtime="20230928 10:15:06.656"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:15:06.656" endtime="20230928 10:15:06.657"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:15:02.508" endtime="20230928 10:15:06.657"/>
</test>
<test id="s1-s26-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:15:06.667" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:15:10.441" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 10:15:10.441" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 10:15:06.664" endtime="20230928 10:15:10.441"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:15:10.443" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 10:15:10.442" endtime="20230928 10:15:10.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:15:10.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:15:10.443" endtime="20230928 10:15:10.444"/>
</kw>
<msg timestamp="20230928 10:15:10.444" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 10:15:06.662" endtime="20230928 10:15:10.444"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:15:10.444" endtime="20230928 10:15:10.445"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:15:06.658" endtime="20230928 10:15:10.445"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230928 10:14:46.412" endtime="20230928 10:15:10.447"/>
</suite>
<suite id="s1-s27" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s27-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 10:15:13.904" endtime="20230928 10:15:13.905"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 10:15:13.905" endtime="20230928 10:15:13.905"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 10:15:13.911" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 10:15:23.359" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 10:15:23.359" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 10:15:13.907" endtime="20230928 10:15:23.359"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 10:15:23.361" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 10:15:23.360" endtime="20230928 10:15:23.361"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 10:15:23.362" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 10:15:23.361" endtime="20230928 10:15:23.362"/>
</kw>
<status status="PASS" starttime="20230928 10:15:13.906" endtime="20230928 10:15:23.362"/>
</kw>
<msg timestamp="20230928 10:15:23.362" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 10:15:13.906" endtime="20230928 10:15:23.362"/>
</kw>
<msg timestamp="20230928 10:15:23.363" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 10:15:13.906" endtime="20230928 10:15:23.363"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 10:15:23.363" endtime="20230928 10:15:23.364"/>
</kw>
<status status="PASS" starttime="20230928 10:15:23.363" endtime="20230928 10:15:23.364"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 10:15:13.903" endtime="20230928 10:15:23.364"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 10:15:13.840" endtime="20230928 10:15:23.366"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="544998"/>
</suite>
<statistics>
<total>
<stat pass="103" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="103" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s4" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s5" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s6" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s8" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s9" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s10" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s11" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Finalize">upgrade.Finalize</stat>
<stat pass="2" fail="0" skip="0" id="s1-s13" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s17" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s18" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s19" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s20" name="Snapshot-Sh">upgrade.Snapshot-Sh</stat>
<stat pass="4" fail="0" skip="0" id="s1-s21" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s23" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s24" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s25" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s26" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s27" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
