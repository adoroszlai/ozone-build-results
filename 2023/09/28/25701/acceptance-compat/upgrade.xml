<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230928 09:20:16.603" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:07:02.590" endtime="20230928 09:07:02.591"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:02.606" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:02.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:02.607" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5cb27ce66f37
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:07:02.597" endtime="20230928 09:07:02.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:02.609" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5cb27ce66f37
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:07:02.608" endtime="20230928 09:07:02.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:02.609" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:02.609" endtime="20230928 09:07:02.609"/>
</kw>
<status status="PASS" starttime="20230928 09:07:02.592" endtime="20230928 09:07:02.611"/>
</kw>
<msg timestamp="20230928 09:07:02.611" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:02.591" endtime="20230928 09:07:02.615"/>
</kw>
<msg timestamp="20230928 09:07:02.615" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5cb27ce66f37
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:07:02.591" endtime="20230928 09:07:02.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:02.616" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5cb27ce66f37
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:07:02.616" endtime="20230928 09:07:02.616"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:07:02.616" endtime="20230928 09:07:02.617"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:02.623" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:06.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:06.903" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 09:07:02.619" endtime="20230928 09:07:06.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:06.904" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 09:07:06.904" endtime="20230928 09:07:06.905"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:06.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:06.905" endtime="20230928 09:07:06.905"/>
</kw>
<status status="PASS" starttime="20230928 09:07:02.618" endtime="20230928 09:07:06.906"/>
</kw>
<msg timestamp="20230928 09:07:06.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:02.618" endtime="20230928 09:07:06.907"/>
</kw>
<msg timestamp="20230928 09:07:06.907" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 09:07:02.617" endtime="20230928 09:07:06.907"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:06.908" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 09:07:06.907" endtime="20230928 09:07:06.908"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:07:06.908" endtime="20230928 09:07:06.908"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:07:02.588" endtime="20230928 09:07:06.909"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:07:06.911" endtime="20230928 09:07:06.911"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:07:06.911" endtime="20230928 09:07:06.912"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:06.918" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:10.754" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:10.754" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:07:06.915" endtime="20230928 09:07:10.754"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:10.755" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:07:10.754" endtime="20230928 09:07:10.756"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:10.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:10.756" endtime="20230928 09:07:10.756"/>
</kw>
<status status="PASS" starttime="20230928 09:07:06.913" endtime="20230928 09:07:10.757"/>
</kw>
<msg timestamp="20230928 09:07:10.757" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:06.912" endtime="20230928 09:07:10.757"/>
</kw>
<msg timestamp="20230928 09:07:10.758" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:07:06.912" endtime="20230928 09:07:10.758"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:10.758" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:07:10.758" endtime="20230928 09:07:10.759"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:07:10.759" endtime="20230928 09:07:10.759"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:07:06.910" endtime="20230928 09:07:10.760"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 09:07:02.472" endtime="20230928 09:07:10.761"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:07:14.736" level="INFO">${random} = 16851</msg>
<status status="PASS" starttime="20230928 09:07:14.735" endtime="20230928 09:07:14.736"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:14.744" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-16851 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:21.763" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:21.763" level="INFO">${output} = 2023-09-28 09:07:19,938 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:20,072 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:14.739" endtime="20230928 09:07:21.763"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:21.764" level="INFO">2023-09-28 09:07:19,938 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:20,072 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:07:20,072 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 09:07:21.763" endtime="20230928 09:07:21.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:21.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:21.765" endtime="20230928 09:07:21.765"/>
</kw>
<status status="PASS" starttime="20230928 09:07:14.738" endtime="20230928 09:07:21.766"/>
</kw>
<msg timestamp="20230928 09:07:21.766" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:14.737" endtime="20230928 09:07:21.768"/>
</kw>
<msg timestamp="20230928 09:07:21.768" level="INFO">${output} = 2023-09-28 09:07:19,938 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:20,072 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:14.736" endtime="20230928 09:07:21.768"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:21.768" endtime="20230928 09:07:21.769"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:21.773" level="INFO">Running command 'cat /tmp/key-16851 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:21.777" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:21.777" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:21.770" endtime="20230928 09:07:21.777"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:21.778" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:21.777" endtime="20230928 09:07:21.778"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:21.779" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:21.779" endtime="20230928 09:07:21.779"/>
</kw>
<msg timestamp="20230928 09:07:21.780" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:21.769" endtime="20230928 09:07:21.780"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:21.780" endtime="20230928 09:07:21.781"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:21.784" level="INFO">Running command 'rm /tmp/key-16851 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:21.787" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:21.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:21.781" endtime="20230928 09:07:21.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:21.788" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:21.787" endtime="20230928 09:07:21.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:21.789" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:21.788" endtime="20230928 09:07:21.789"/>
</kw>
<status status="PASS" starttime="20230928 09:07:21.781" endtime="20230928 09:07:21.789"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:14.734" endtime="20230928 09:07:21.790"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:21.798" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:22.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:22.821" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:21.795" endtime="20230928 09:07:22.821"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:22.823" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:22.821" endtime="20230928 09:07:22.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:22.823" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:22.823" endtime="20230928 09:07:22.824"/>
</kw>
<status status="PASS" starttime="20230928 09:07:21.794" endtime="20230928 09:07:22.824"/>
</kw>
<msg timestamp="20230928 09:07:22.824" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:21.794" endtime="20230928 09:07:22.825"/>
</kw>
<status status="PASS" starttime="20230928 09:07:21.794" endtime="20230928 09:07:22.825"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:22.830" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:23.533" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:23.533" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:22.827" endtime="20230928 09:07:23.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:23.535" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:23.534" endtime="20230928 09:07:23.535"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:23.537" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:23.536" endtime="20230928 09:07:23.537"/>
</kw>
<status status="PASS" starttime="20230928 09:07:22.826" endtime="20230928 09:07:23.537"/>
</kw>
<msg timestamp="20230928 09:07:23.537" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:22.826" endtime="20230928 09:07:23.538"/>
</kw>
<status status="PASS" starttime="20230928 09:07:22.825" endtime="20230928 09:07:23.538"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:23.543" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:24.255" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:24.255" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:23.540" endtime="20230928 09:07:24.255"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:24.257" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:24.256" endtime="20230928 09:07:24.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:24.258" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:24.257" endtime="20230928 09:07:24.258"/>
</kw>
<status status="PASS" starttime="20230928 09:07:23.540" endtime="20230928 09:07:24.258"/>
</kw>
<msg timestamp="20230928 09:07:24.258" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:23.539" endtime="20230928 09:07:24.259"/>
</kw>
<status status="PASS" starttime="20230928 09:07:23.539" endtime="20230928 09:07:24.259"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:24.264" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:24.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:24.974" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:24.261" endtime="20230928 09:07:24.975"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:24.976" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:24.975" endtime="20230928 09:07:24.977"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:24.977" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:24.977" endtime="20230928 09:07:24.978"/>
</kw>
<status status="PASS" starttime="20230928 09:07:24.261" endtime="20230928 09:07:24.978"/>
</kw>
<msg timestamp="20230928 09:07:24.978" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:24.260" endtime="20230928 09:07:24.979"/>
</kw>
<status status="PASS" starttime="20230928 09:07:24.259" endtime="20230928 09:07:24.979"/>
</kw>
<status status="PASS" starttime="20230928 09:07:21.792" endtime="20230928 09:07:24.980"/>
</kw>
<status status="PASS" starttime="20230928 09:07:21.792" endtime="20230928 09:07:24.980"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:21.791" endtime="20230928 09:07:24.980"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:24.988" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:29.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:29.118" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:24.984" endtime="20230928 09:07:29.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:29.120" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:07:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:07:29.119" endtime="20230928 09:07:29.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:29.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:29.121" endtime="20230928 09:07:29.121"/>
</kw>
<msg timestamp="20230928 09:07:29.123" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:24.984" endtime="20230928 09:07:29.123"/>
</kw>
<msg timestamp="20230928 09:07:29.123" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:24.983" endtime="20230928 09:07:29.124"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:29.124" endtime="20230928 09:07:29.124"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:29.128" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:29.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:29.133" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:29.125" endtime="20230928 09:07:29.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:29.134" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:29.134" endtime="20230928 09:07:29.134"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:29.135" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:29.135" endtime="20230928 09:07:29.135"/>
</kw>
<msg timestamp="20230928 09:07:29.136" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:29.124" endtime="20230928 09:07:29.136"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:29.136" endtime="20230928 09:07:29.137"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:29.141" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:29.145" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:29.145" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:29.137" endtime="20230928 09:07:29.145"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:29.146" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:29.145" endtime="20230928 09:07:29.146"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:29.147" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:29.147" endtime="20230928 09:07:29.147"/>
</kw>
<status status="PASS" starttime="20230928 09:07:29.137" endtime="20230928 09:07:29.148"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:24.981" endtime="20230928 09:07:29.148"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:29.156" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:30.129" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:30.129" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:29.153" endtime="20230928 09:07:30.130"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:30.131" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:07:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:07:30.130" endtime="20230928 09:07:30.131"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:30.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:30.131" endtime="20230928 09:07:30.132"/>
</kw>
<msg timestamp="20230928 09:07:30.132" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:29.152" endtime="20230928 09:07:30.132"/>
</kw>
<msg timestamp="20230928 09:07:30.133" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:01:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:29.151" endtime="20230928 09:07:30.133"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:30.133" endtime="20230928 09:07:30.133"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:30.137" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:30.140" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:30.140" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:30.135" endtime="20230928 09:07:30.140"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:30.141" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:30.141" endtime="20230928 09:07:30.142"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:30.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:30.142" endtime="20230928 09:07:30.143"/>
</kw>
<msg timestamp="20230928 09:07:30.143" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:30.134" endtime="20230928 09:07:30.143"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:30.143" endtime="20230928 09:07:30.144"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:30.147" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:30.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:30.150" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:30.145" endtime="20230928 09:07:30.150"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:30.152" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:30.151" endtime="20230928 09:07:30.152"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:30.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:30.152" endtime="20230928 09:07:30.153"/>
</kw>
<status status="PASS" starttime="20230928 09:07:30.144" endtime="20230928 09:07:30.153"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:29.150" endtime="20230928 09:07:30.153"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:07:14.615" endtime="20230928 09:07:30.156"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:07:34.391" level="INFO">${random} = 69755</msg>
<status status="PASS" starttime="20230928 09:07:34.390" endtime="20230928 09:07:34.391"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:34.400" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-69755 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:41.635" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:41.635" level="INFO">${output} = 2023-09-28 09:07:40,080 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:40,188 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:34.394" endtime="20230928 09:07:41.635"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:41.637" level="INFO">2023-09-28 09:07:40,080 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:40,188 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:07:40,189 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 09:07:41.636" endtime="20230928 09:07:41.638"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:41.638" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:41.638" endtime="20230928 09:07:41.639"/>
</kw>
<status status="PASS" starttime="20230928 09:07:34.393" endtime="20230928 09:07:41.640"/>
</kw>
<msg timestamp="20230928 09:07:41.640" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:34.392" endtime="20230928 09:07:41.641"/>
</kw>
<msg timestamp="20230928 09:07:41.642" level="INFO">${output} = 2023-09-28 09:07:40,080 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:07:40,188 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:34.391" endtime="20230928 09:07:41.642"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:41.642" endtime="20230928 09:07:41.643"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:41.647" level="INFO">Running command 'cat /tmp/key-69755 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:41.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:41.650" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:41.644" endtime="20230928 09:07:41.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:41.652" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:41.651" endtime="20230928 09:07:41.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:41.653" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:41.652" endtime="20230928 09:07:41.653"/>
</kw>
<msg timestamp="20230928 09:07:41.653" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:41.643" endtime="20230928 09:07:41.653"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:41.654" endtime="20230928 09:07:41.654"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:41.657" level="INFO">Running command 'rm /tmp/key-69755 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:41.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:41.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:41.655" endtime="20230928 09:07:41.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:41.664" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:41.663" endtime="20230928 09:07:41.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:41.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:41.665" endtime="20230928 09:07:41.665"/>
</kw>
<status status="PASS" starttime="20230928 09:07:41.654" endtime="20230928 09:07:41.666"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:34.389" endtime="20230928 09:07:41.666"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:41.675" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:42.384" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:42.384" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:41.672" endtime="20230928 09:07:42.384"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:42.386" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:42.385" endtime="20230928 09:07:42.386"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:42.387" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:42.386" endtime="20230928 09:07:42.387"/>
</kw>
<status status="PASS" starttime="20230928 09:07:41.672" endtime="20230928 09:07:42.387"/>
</kw>
<msg timestamp="20230928 09:07:42.387" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:41.671" endtime="20230928 09:07:42.388"/>
</kw>
<status status="PASS" starttime="20230928 09:07:41.671" endtime="20230928 09:07:42.388"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:42.393" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:43.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:43.129" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:42.390" endtime="20230928 09:07:43.129"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:43.130" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:43.129" endtime="20230928 09:07:43.130"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:43.131" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:43.130" endtime="20230928 09:07:43.131"/>
</kw>
<status status="PASS" starttime="20230928 09:07:42.389" endtime="20230928 09:07:43.131"/>
</kw>
<msg timestamp="20230928 09:07:43.132" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:42.389" endtime="20230928 09:07:43.132"/>
</kw>
<status status="PASS" starttime="20230928 09:07:42.388" endtime="20230928 09:07:43.132"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:43.137" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:43.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:43.836" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:43.134" endtime="20230928 09:07:43.836"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:43.838" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:43.837" endtime="20230928 09:07:43.838"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:43.839" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:43.838" endtime="20230928 09:07:43.839"/>
</kw>
<status status="PASS" starttime="20230928 09:07:43.133" endtime="20230928 09:07:43.840"/>
</kw>
<msg timestamp="20230928 09:07:43.840" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:43.133" endtime="20230928 09:07:43.840"/>
</kw>
<status status="PASS" starttime="20230928 09:07:43.133" endtime="20230928 09:07:43.840"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:43.845" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:44.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:44.564" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:43.842" endtime="20230928 09:07:44.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:44.566" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:44.565" endtime="20230928 09:07:44.566"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:44.567" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:44.566" endtime="20230928 09:07:44.567"/>
</kw>
<status status="PASS" starttime="20230928 09:07:43.842" endtime="20230928 09:07:44.567"/>
</kw>
<msg timestamp="20230928 09:07:44.567" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:43.841" endtime="20230928 09:07:44.568"/>
</kw>
<status status="PASS" starttime="20230928 09:07:43.841" endtime="20230928 09:07:44.568"/>
</kw>
<status status="PASS" starttime="20230928 09:07:41.669" endtime="20230928 09:07:44.569"/>
</kw>
<status status="PASS" starttime="20230928 09:07:41.669" endtime="20230928 09:07:44.569"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:41.668" endtime="20230928 09:07:44.569"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:44.578" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:45.507" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:45.508" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:44.574" endtime="20230928 09:07:45.516"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:45.518" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:07:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:07:45.517" endtime="20230928 09:07:45.518"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:45.519" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:45.518" endtime="20230928 09:07:45.519"/>
</kw>
<msg timestamp="20230928 09:07:45.519" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:44.573" endtime="20230928 09:07:45.519"/>
</kw>
<msg timestamp="20230928 09:07:45.520" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:44.573" endtime="20230928 09:07:45.520"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:45.521" endtime="20230928 09:07:45.522"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:45.529" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:45.533" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:45.533" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:45.526" endtime="20230928 09:07:45.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:45.534" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:45.533" endtime="20230928 09:07:45.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:45.535" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:45.535" endtime="20230928 09:07:45.535"/>
</kw>
<msg timestamp="20230928 09:07:45.536" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:07:45.523" endtime="20230928 09:07:45.536"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:45.536" endtime="20230928 09:07:45.537"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:45.541" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:45.548" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:45.548" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:45.538" endtime="20230928 09:07:45.548"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:45.550" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:45.549" endtime="20230928 09:07:45.550"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:45.551" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:45.550" endtime="20230928 09:07:45.551"/>
</kw>
<status status="PASS" starttime="20230928 09:07:45.537" endtime="20230928 09:07:45.551"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:44.571" endtime="20230928 09:07:45.551"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:45.559" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:46.628" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:46.628" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:45.556" endtime="20230928 09:07:46.628"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:46.630" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:07:46 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:07:46.629" endtime="20230928 09:07:46.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:46.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:46.630" endtime="20230928 09:07:46.631"/>
</kw>
<msg timestamp="20230928 09:07:46.631" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:45.555" endtime="20230928 09:07:46.632"/>
</kw>
<msg timestamp="20230928 09:07:46.632" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:07:45.555" endtime="20230928 09:07:46.632"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:46.632" endtime="20230928 09:07:46.633"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:46.637" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:46.640" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:46.641" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:46.634" endtime="20230928 09:07:46.641"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:46.642" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:46.641" endtime="20230928 09:07:46.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:46.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:46.642" endtime="20230928 09:07:46.643"/>
</kw>
<msg timestamp="20230928 09:07:46.644" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:07:46.633" endtime="20230928 09:07:46.644"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:46.644" endtime="20230928 09:07:46.645"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:46.648" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:46.651" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:46.651" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:46.646" endtime="20230928 09:07:46.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:46.653" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:46.652" endtime="20230928 09:07:46.653"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:46.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:46.653" endtime="20230928 09:07:46.654"/>
</kw>
<status status="PASS" starttime="20230928 09:07:46.645" endtime="20230928 09:07:46.655"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:45.553" endtime="20230928 09:07:46.655"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:07:34.275" endtime="20230928 09:07:46.658"/>
</suite>
<suite id="s1-s4" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s4-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:50.584" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:54.506" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:54.507" level="INFO">${output} = 2023-09-28 09:07:54,380 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 09:07:50.578" endtime="20230928 09:07:54.507"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:54.512" level="INFO">2023-09-28 09:07:54,380 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 09:07:54.510" endtime="20230928 09:07:54.513"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:54.514" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:54.513" endtime="20230928 09:07:54.514"/>
</kw>
<status status="PASS" starttime="20230928 09:07:50.578" endtime="20230928 09:07:54.514"/>
</kw>
<msg timestamp="20230928 09:07:54.514" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:50.577" endtime="20230928 09:07:54.516"/>
</kw>
<msg timestamp="20230928 09:07:54.516" level="INFO">${output} = 2023-09-28 09:07:54,380 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 09:07:50.576" endtime="20230928 09:07:54.516"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:54.517" endtime="20230928 09:07:54.517"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:54.524" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:07:58.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:58.607" level="INFO">${output} = 2023-09-28 09:07:58,497 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 09:07:54.520" endtime="20230928 09:07:58.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:58.609" level="INFO">2023-09-28 09:07:58,497 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 09:07:58.608" endtime="20230928 09:07:58.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:58.610" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:58.609" endtime="20230928 09:07:58.610"/>
</kw>
<status status="PASS" starttime="20230928 09:07:54.519" endtime="20230928 09:07:58.611"/>
</kw>
<msg timestamp="20230928 09:07:58.611" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:54.519" endtime="20230928 09:07:58.612"/>
</kw>
<msg timestamp="20230928 09:07:58.612" level="INFO">${output} = 2023-09-28 09:07:58,497 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 09:07:54.517" endtime="20230928 09:07:58.612"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:07:58.612" endtime="20230928 09:07:58.613"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:50.573" endtime="20230928 09:07:58.613"/>
</test>
<test id="s1-s4-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:58.620" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:07:58.626" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:07:58.626" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:07:58.617" endtime="20230928 09:07:58.626"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:07:58.628" level="INFO"/>
<status status="PASS" starttime="20230928 09:07:58.627" endtime="20230928 09:07:58.628"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:07:58.629" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:07:58.629" endtime="20230928 09:07:58.629"/>
</kw>
<status status="PASS" starttime="20230928 09:07:58.616" endtime="20230928 09:07:58.630"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:07:58.639" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:06.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:06.758" level="INFO">${output} = 2023-09-28 09:08:04,269 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:04,441 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:58.636" endtime="20230928 09:08:06.758"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:06.759" level="INFO">2023-09-28 09:08:04,269 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:04,441 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:08:04,441 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 09:08:04,824 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 09:08:06.758" endtime="20230928 09:08:06.759"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:06.761" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:06.760" endtime="20230928 09:08:06.761"/>
</kw>
<status status="PASS" starttime="20230928 09:07:58.635" endtime="20230928 09:08:06.761"/>
</kw>
<msg timestamp="20230928 09:08:06.761" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:07:58.634" endtime="20230928 09:08:06.762"/>
</kw>
<msg timestamp="20230928 09:08:06.762" level="INFO">${output} = 2023-09-28 09:08:04,269 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:04,441 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:07:58.630" endtime="20230928 09:08:06.762"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:06.763" endtime="20230928 09:08:06.763"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:06.767" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:06.771" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:06.771" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:06.764" endtime="20230928 09:08:06.771"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:06.772" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:06.771" endtime="20230928 09:08:06.772"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:06.773" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:06.773" endtime="20230928 09:08:06.773"/>
</kw>
<status status="PASS" starttime="20230928 09:08:06.763" endtime="20230928 09:08:06.774"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:07:58.615" endtime="20230928 09:08:06.774"/>
</test>
<test id="s1-s4-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:06.781" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:10.598" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:10.598" level="INFO">${output} = 2023-09-28 09:08:10,505 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 09:08:06.778" endtime="20230928 09:08:10.598"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:10.600" level="INFO">2023-09-28 09:08:10,505 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 09:08:10.599" endtime="20230928 09:08:10.600"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:10.600" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:10.600" endtime="20230928 09:08:10.601"/>
</kw>
<status status="PASS" starttime="20230928 09:08:06.777" endtime="20230928 09:08:10.601"/>
</kw>
<msg timestamp="20230928 09:08:10.602" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:06.777" endtime="20230928 09:08:10.602"/>
</kw>
<msg timestamp="20230928 09:08:10.603" level="INFO">${output} = 2023-09-28 09:08:10,505 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 09:08:06.776" endtime="20230928 09:08:10.603"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:10.603" endtime="20230928 09:08:10.604"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:06.775" endtime="20230928 09:08:10.604"/>
</test>
<test id="s1-s4-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:10.611" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:08:10.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:10.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:10.608" endtime="20230928 09:08:10.613"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:10.615" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:10.614" endtime="20230928 09:08:10.615"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:10.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:10.615" endtime="20230928 09:08:10.615"/>
</kw>
<status status="PASS" starttime="20230928 09:08:10.607" endtime="20230928 09:08:10.616"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:10.621" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:17.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:17.917" level="INFO">${output} = 2023-09-28 09:08:15,734 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:15,917 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:10.619" endtime="20230928 09:08:17.917"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:17.919" level="INFO">2023-09-28 09:08:15,734 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:15,917 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:08:15,917 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 09:08:16,465 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 09:08:17.918" endtime="20230928 09:08:17.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:17.920" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:17.919" endtime="20230928 09:08:17.920"/>
</kw>
<status status="PASS" starttime="20230928 09:08:10.617" endtime="20230928 09:08:17.920"/>
</kw>
<msg timestamp="20230928 09:08:17.920" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:10.617" endtime="20230928 09:08:17.921"/>
</kw>
<msg timestamp="20230928 09:08:17.922" level="INFO">${output} = 2023-09-28 09:08:15,734 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:15,917 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:10.616" endtime="20230928 09:08:17.922"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:17.922" endtime="20230928 09:08:17.923"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:17.928" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:17.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:17.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:17.924" endtime="20230928 09:08:17.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:17.935" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:17.933" endtime="20230928 09:08:17.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:17.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:17.935" endtime="20230928 09:08:17.936"/>
</kw>
<status status="PASS" starttime="20230928 09:08:17.923" endtime="20230928 09:08:17.937"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:10.606" endtime="20230928 09:08:17.937"/>
</test>
<test id="s1-s4-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:17.948" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:18.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:18.609" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:17.944" endtime="20230928 09:08:18.609"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:18.611" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:18.610" endtime="20230928 09:08:18.611"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:18.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:18.611" endtime="20230928 09:08:18.612"/>
</kw>
<status status="PASS" starttime="20230928 09:08:17.943" endtime="20230928 09:08:18.612"/>
</kw>
<msg timestamp="20230928 09:08:18.612" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:17.943" endtime="20230928 09:08:18.613"/>
</kw>
<status status="PASS" starttime="20230928 09:08:17.942" endtime="20230928 09:08:18.613"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:18.618" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:19.265" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:19.265" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:18.615" endtime="20230928 09:08:19.265"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:19.267" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:19.266" endtime="20230928 09:08:19.267"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:19.267" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:19.267" endtime="20230928 09:08:19.268"/>
</kw>
<status status="PASS" starttime="20230928 09:08:18.614" endtime="20230928 09:08:19.268"/>
</kw>
<msg timestamp="20230928 09:08:19.268" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:18.614" endtime="20230928 09:08:19.269"/>
</kw>
<status status="PASS" starttime="20230928 09:08:18.613" endtime="20230928 09:08:19.269"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:19.275" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:19.943" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:19.943" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:19.272" endtime="20230928 09:08:19.943"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:19.945" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:19.944" endtime="20230928 09:08:19.945"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:19.946" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:19.945" endtime="20230928 09:08:19.946"/>
</kw>
<status status="PASS" starttime="20230928 09:08:19.270" endtime="20230928 09:08:19.946"/>
</kw>
<msg timestamp="20230928 09:08:19.946" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:19.270" endtime="20230928 09:08:19.947"/>
</kw>
<status status="PASS" starttime="20230928 09:08:19.269" endtime="20230928 09:08:19.947"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:19.952" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:20.665" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:20.665" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:19.949" endtime="20230928 09:08:20.665"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:20.667" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:20.666" endtime="20230928 09:08:20.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:20.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:20.667" endtime="20230928 09:08:20.668"/>
</kw>
<status status="PASS" starttime="20230928 09:08:19.948" endtime="20230928 09:08:20.668"/>
</kw>
<msg timestamp="20230928 09:08:20.668" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:19.948" endtime="20230928 09:08:20.669"/>
</kw>
<status status="PASS" starttime="20230928 09:08:19.947" endtime="20230928 09:08:20.669"/>
</kw>
<status status="PASS" starttime="20230928 09:08:17.941" endtime="20230928 09:08:20.669"/>
</kw>
<status status="PASS" starttime="20230928 09:08:17.941" endtime="20230928 09:08:20.670"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:17.940" endtime="20230928 09:08:20.670"/>
</test>
<test id="s1-s4-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:08:20.674" level="INFO">${randStr} = 0863790083</msg>
<status status="PASS" starttime="20230928 09:08:20.673" endtime="20230928 09:08:20.674"/>
</kw>
<msg timestamp="20230928 09:08:20.674" level="INFO">${random} = ozone-test-0863790083</msg>
<status status="PASS" starttime="20230928 09:08:20.672" endtime="20230928 09:08:20.674"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:20.680" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket-ozone-test-0863790083 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:21.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:21.644" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-0863790083"
}</msg>
<status status="PASS" starttime="20230928 09:08:20.677" endtime="20230928 09:08:21.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:21.646" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket-ozone-test-0863790083"
}</msg>
<status status="PASS" starttime="20230928 09:08:21.645" endtime="20230928 09:08:21.647"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:21.650" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:21.647" endtime="20230928 09:08:21.650"/>
</kw>
<status status="PASS" starttime="20230928 09:08:20.677" endtime="20230928 09:08:21.651"/>
</kw>
<msg timestamp="20230928 09:08:21.658" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:20.676" endtime="20230928 09:08:21.659"/>
</kw>
<msg timestamp="20230928 09:08:21.659" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-0863790083"
}</msg>
<status status="PASS" starttime="20230928 09:08:20.676" endtime="20230928 09:08:21.660"/>
</kw>
<msg timestamp="20230928 09:08:21.660" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket-ozone-test-0863790083"
}</msg>
<status status="PASS" starttime="20230928 09:08:20.675" endtime="20230928 09:08:21.660"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:21.660" endtime="20230928 09:08:21.661"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:21.661" endtime="20230928 09:08:21.662"/>
</kw>
<msg timestamp="20230928 09:08:21.662" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 09:08:20.674" endtime="20230928 09:08:21.662"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 09:08:21.662" endtime="20230928 09:08:21.663"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:20.671" endtime="20230928 09:08:21.664"/>
</test>
<test id="s1-s4-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:21.671" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:08:21.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:21.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:21.668" endtime="20230928 09:08:21.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:21.676" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:21.674" endtime="20230928 09:08:21.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:21.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:21.676" endtime="20230928 09:08:21.677"/>
</kw>
<status status="PASS" starttime="20230928 09:08:21.667" endtime="20230928 09:08:21.677"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:21.682" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:23.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:23.323" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:21.680" endtime="20230928 09:08:23.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:23.324" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:23.323" endtime="20230928 09:08:23.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:23.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:23.325" endtime="20230928 09:08:23.325"/>
</kw>
<msg timestamp="20230928 09:08:23.326" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:21.679" endtime="20230928 09:08:23.326"/>
</kw>
<msg timestamp="20230928 09:08:23.326" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:21.678" endtime="20230928 09:08:23.326"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:23.327" endtime="20230928 09:08:23.327"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:23.332" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:23.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:23.335" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:23.328" endtime="20230928 09:08:23.336"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:23.337" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:23.336" endtime="20230928 09:08:23.337"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:23.338" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:23.337" endtime="20230928 09:08:23.338"/>
</kw>
<status status="PASS" starttime="20230928 09:08:23.327" endtime="20230928 09:08:23.347"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:21.666" endtime="20230928 09:08:23.347"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 09:07:50.436" endtime="20230928 09:08:23.351"/>
</suite>
<suite id="s1-s5" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s5-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:08:27.288" level="INFO">${random} = 95206</msg>
<status status="PASS" starttime="20230928 09:08:27.288" endtime="20230928 09:08:27.289"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:27.296" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-95206 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:33.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:33.494" level="INFO">${output} = 2023-09-28 09:08:31,738 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:31,921 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:27.291" endtime="20230928 09:08:33.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:33.495" level="INFO">2023-09-28 09:08:31,738 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:31,921 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:08:31,921 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 09:08:33.495" endtime="20230928 09:08:33.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:33.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:33.496" endtime="20230928 09:08:33.497"/>
</kw>
<status status="PASS" starttime="20230928 09:08:27.291" endtime="20230928 09:08:33.497"/>
</kw>
<msg timestamp="20230928 09:08:33.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:27.289" endtime="20230928 09:08:33.499"/>
</kw>
<msg timestamp="20230928 09:08:33.499" level="INFO">${output} = 2023-09-28 09:08:31,738 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:31,921 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:27.289" endtime="20230928 09:08:33.499"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:33.499" endtime="20230928 09:08:33.500"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:33.504" level="INFO">Running command 'cat /tmp/key-95206 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:33.507" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:33.507" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:33.501" endtime="20230928 09:08:33.507"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:33.509" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:33.508" endtime="20230928 09:08:33.509"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:33.509" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:33.509" endtime="20230928 09:08:33.510"/>
</kw>
<msg timestamp="20230928 09:08:33.511" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:33.500" endtime="20230928 09:08:33.511"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:33.511" endtime="20230928 09:08:33.511"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:33.515" level="INFO">Running command 'rm /tmp/key-95206 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:33.518" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:33.518" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:33.512" endtime="20230928 09:08:33.518"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:33.519" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:33.518" endtime="20230928 09:08:33.519"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:33.520" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:33.519" endtime="20230928 09:08:33.520"/>
</kw>
<status status="PASS" starttime="20230928 09:08:33.512" endtime="20230928 09:08:33.521"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:27.287" endtime="20230928 09:08:33.521"/>
</test>
<test id="s1-s5-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:33.529" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:34.201" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:34.202" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:33.526" endtime="20230928 09:08:34.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:34.203" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:34.202" endtime="20230928 09:08:34.203"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:34.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:34.203" endtime="20230928 09:08:34.204"/>
</kw>
<status status="PASS" starttime="20230928 09:08:33.526" endtime="20230928 09:08:34.205"/>
</kw>
<msg timestamp="20230928 09:08:34.205" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:33.525" endtime="20230928 09:08:34.205"/>
</kw>
<status status="PASS" starttime="20230928 09:08:33.525" endtime="20230928 09:08:34.206"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:34.211" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:34.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:34.888" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:34.208" endtime="20230928 09:08:34.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:34.890" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:34.889" endtime="20230928 09:08:34.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:34.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:34.890" endtime="20230928 09:08:34.891"/>
</kw>
<status status="PASS" starttime="20230928 09:08:34.207" endtime="20230928 09:08:34.891"/>
</kw>
<msg timestamp="20230928 09:08:34.891" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:34.207" endtime="20230928 09:08:34.893"/>
</kw>
<status status="PASS" starttime="20230928 09:08:34.206" endtime="20230928 09:08:34.893"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:34.898" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:35.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:35.566" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:34.895" endtime="20230928 09:08:35.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:35.568" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:35.567" endtime="20230928 09:08:35.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:35.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:35.569" endtime="20230928 09:08:35.570"/>
</kw>
<status status="PASS" starttime="20230928 09:08:34.895" endtime="20230928 09:08:35.574"/>
</kw>
<msg timestamp="20230928 09:08:35.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:34.894" endtime="20230928 09:08:35.575"/>
</kw>
<status status="PASS" starttime="20230928 09:08:34.894" endtime="20230928 09:08:35.575"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:35.589" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:36.300" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:36.300" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:35.578" endtime="20230928 09:08:36.300"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:36.301" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:36.301" endtime="20230928 09:08:36.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:36.302" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:36.302" endtime="20230928 09:08:36.302"/>
</kw>
<status status="PASS" starttime="20230928 09:08:35.578" endtime="20230928 09:08:36.303"/>
</kw>
<msg timestamp="20230928 09:08:36.303" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:35.576" endtime="20230928 09:08:36.303"/>
</kw>
<status status="PASS" starttime="20230928 09:08:35.575" endtime="20230928 09:08:36.304"/>
</kw>
<status status="PASS" starttime="20230928 09:08:33.524" endtime="20230928 09:08:36.304"/>
</kw>
<status status="PASS" starttime="20230928 09:08:33.524" endtime="20230928 09:08:36.304"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:33.523" endtime="20230928 09:08:36.304"/>
</test>
<test id="s1-s5-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:36.311" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:37.139" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:37.139" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:36.308" endtime="20230928 09:08:37.139"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:37.141" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:08:37 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:08:37.140" endtime="20230928 09:08:37.141"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:37.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:37.141" endtime="20230928 09:08:37.142"/>
</kw>
<msg timestamp="20230928 09:08:37.142" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:36.307" endtime="20230928 09:08:37.143"/>
</kw>
<msg timestamp="20230928 09:08:37.143" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:36.306" endtime="20230928 09:08:37.143"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:37.143" endtime="20230928 09:08:37.144"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:37.148" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:37.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:37.153" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:37.145" endtime="20230928 09:08:37.153"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:37.154" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:37.153" endtime="20230928 09:08:37.154"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:37.155" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:37.155" endtime="20230928 09:08:37.155"/>
</kw>
<msg timestamp="20230928 09:08:37.156" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:08:37.144" endtime="20230928 09:08:37.156"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:37.156" endtime="20230928 09:08:37.157"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:37.160" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:37.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:37.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:37.157" endtime="20230928 09:08:37.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:37.167" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:37.164" endtime="20230928 09:08:37.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:37.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:37.168" endtime="20230928 09:08:37.168"/>
</kw>
<status status="PASS" starttime="20230928 09:08:37.157" endtime="20230928 09:08:37.169"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:36.305" endtime="20230928 09:08:37.169"/>
</test>
<test id="s1-s5-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:37.176" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:38.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:38.026" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:37.173" endtime="20230928 09:08:38.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:38.028" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:08:37 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:08:38.027" endtime="20230928 09:08:38.028"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:38.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:38.029" endtime="20230928 09:08:38.030"/>
</kw>
<msg timestamp="20230928 09:08:38.030" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:37.172" endtime="20230928 09:08:38.031"/>
</kw>
<msg timestamp="20230928 09:08:38.031" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:08:37.172" endtime="20230928 09:08:38.031"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:38.031" endtime="20230928 09:08:38.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:38.035" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:38.039" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:38.039" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:08:38.033" endtime="20230928 09:08:38.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:38.041" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:08:38.040" endtime="20230928 09:08:38.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:38.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:38.041" endtime="20230928 09:08:38.042"/>
</kw>
<msg timestamp="20230928 09:08:38.042" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:08:38.032" endtime="20230928 09:08:38.043"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:38.043" endtime="20230928 09:08:38.043"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:38.047" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:38.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:38.050" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:38.044" endtime="20230928 09:08:38.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:38.052" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:38.051" endtime="20230928 09:08:38.052"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:38.053" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:38.052" endtime="20230928 09:08:38.053"/>
</kw>
<status status="PASS" starttime="20230928 09:08:38.044" endtime="20230928 09:08:38.053"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:37.171" endtime="20230928 09:08:38.053"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:08:27.168" endtime="20230928 09:08:38.055"/>
</suite>
<suite id="s1-s6" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s6-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:42.054" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:08:42.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:42.059" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:42.046" endtime="20230928 09:08:42.059"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:42.061" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:42.060" endtime="20230928 09:08:42.061"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:42.062" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:42.061" endtime="20230928 09:08:42.062"/>
</kw>
<status status="PASS" starttime="20230928 09:08:42.045" endtime="20230928 09:08:42.063"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:42.072" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:48.970" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:48.970" level="INFO">${output} = 2023-09-28 09:08:46,547 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:46,663 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:42.067" endtime="20230928 09:08:48.970"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:48.972" level="INFO">2023-09-28 09:08:46,547 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:46,663 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:08:46,663 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 09:08:47,031 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 09:08:48.971" endtime="20230928 09:08:48.972"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:48.973" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:48.973" endtime="20230928 09:08:48.974"/>
</kw>
<status status="PASS" starttime="20230928 09:08:42.066" endtime="20230928 09:08:48.974"/>
</kw>
<msg timestamp="20230928 09:08:48.974" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:42.065" endtime="20230928 09:08:48.976"/>
</kw>
<msg timestamp="20230928 09:08:48.976" level="INFO">${output} = 2023-09-28 09:08:46,547 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:46,663 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:42.063" endtime="20230928 09:08:48.976"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:48.976" endtime="20230928 09:08:48.979"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:48.984" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:48.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:48.987" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:48.981" endtime="20230928 09:08:48.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:48.989" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:48.988" endtime="20230928 09:08:48.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:48.989" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:48.989" endtime="20230928 09:08:48.990"/>
</kw>
<status status="PASS" starttime="20230928 09:08:48.980" endtime="20230928 09:08:48.990"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:42.044" endtime="20230928 09:08:48.990"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:48.996" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:08:48.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:48.999" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:48.994" endtime="20230928 09:08:48.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:49.000" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:48.999" endtime="20230928 09:08:49.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:49.001" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:49.000" endtime="20230928 09:08:49.001"/>
</kw>
<status status="PASS" starttime="20230928 09:08:48.993" endtime="20230928 09:08:49.001"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:49.006" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:55.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:55.710" level="INFO">${output} = 2023-09-28 09:08:53,563 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:53,758 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:49.004" endtime="20230928 09:08:55.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:55.711" level="INFO">2023-09-28 09:08:53,563 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:53,758 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 09:08:53,758 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 09:08:54,111 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 09:08:55.711" endtime="20230928 09:08:55.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:55.712" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:55.712" endtime="20230928 09:08:55.712"/>
</kw>
<status status="PASS" starttime="20230928 09:08:49.003" endtime="20230928 09:08:55.713"/>
</kw>
<msg timestamp="20230928 09:08:55.713" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:49.003" endtime="20230928 09:08:55.713"/>
</kw>
<msg timestamp="20230928 09:08:55.714" level="INFO">${output} = 2023-09-28 09:08:53,563 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 09:08:53,758 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 09:08:49.002" endtime="20230928 09:08:55.714"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:55.714" endtime="20230928 09:08:55.715"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:55.718" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:55.722" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:55.722" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:55.716" endtime="20230928 09:08:55.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:55.723" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:55.723" endtime="20230928 09:08:55.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:55.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:55.724" endtime="20230928 09:08:55.724"/>
</kw>
<status status="PASS" starttime="20230928 09:08:55.715" endtime="20230928 09:08:55.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:48.992" endtime="20230928 09:08:55.725"/>
</test>
<test id="s1-s6-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:55.734" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:56.390" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:56.390" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:55.731" endtime="20230928 09:08:56.390"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:56.392" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:56.391" endtime="20230928 09:08:56.392"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:56.393" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:56.392" endtime="20230928 09:08:56.393"/>
</kw>
<status status="PASS" starttime="20230928 09:08:55.730" endtime="20230928 09:08:56.393"/>
</kw>
<msg timestamp="20230928 09:08:56.393" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:55.730" endtime="20230928 09:08:56.394"/>
</kw>
<status status="PASS" starttime="20230928 09:08:55.729" endtime="20230928 09:08:56.394"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:56.399" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:57.076" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:57.076" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:56.396" endtime="20230928 09:08:57.076"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:57.077" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:57.076" endtime="20230928 09:08:57.077"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:57.078" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:57.078" endtime="20230928 09:08:57.078"/>
</kw>
<status status="PASS" starttime="20230928 09:08:56.395" endtime="20230928 09:08:57.079"/>
</kw>
<msg timestamp="20230928 09:08:57.079" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:56.395" endtime="20230928 09:08:57.080"/>
</kw>
<status status="PASS" starttime="20230928 09:08:56.394" endtime="20230928 09:08:57.080"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:57.085" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:57.784" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:57.784" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:57.082" endtime="20230928 09:08:57.784"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:57.785" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:57.784" endtime="20230928 09:08:57.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:57.787" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:57.785" endtime="20230928 09:08:57.787"/>
</kw>
<status status="PASS" starttime="20230928 09:08:57.081" endtime="20230928 09:08:57.787"/>
</kw>
<msg timestamp="20230928 09:08:57.787" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:57.081" endtime="20230928 09:08:57.788"/>
</kw>
<status status="PASS" starttime="20230928 09:08:57.080" endtime="20230928 09:08:57.788"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:57.793" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:58.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:58.488" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:57.790" endtime="20230928 09:08:58.488"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:58.490" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:58.489" endtime="20230928 09:08:58.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:58.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:58.490" endtime="20230928 09:08:58.491"/>
</kw>
<status status="PASS" starttime="20230928 09:08:57.789" endtime="20230928 09:08:58.491"/>
</kw>
<msg timestamp="20230928 09:08:58.491" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:57.789" endtime="20230928 09:08:58.492"/>
</kw>
<status status="PASS" starttime="20230928 09:08:57.788" endtime="20230928 09:08:58.492"/>
</kw>
<status status="PASS" starttime="20230928 09:08:55.729" endtime="20230928 09:08:58.492"/>
</kw>
<status status="PASS" starttime="20230928 09:08:55.728" endtime="20230928 09:08:58.492"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:55.727" endtime="20230928 09:08:58.493"/>
</test>
<test id="s1-s6-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:08:58.497" level="INFO">${randStr} = 7575463625</msg>
<status status="PASS" starttime="20230928 09:08:58.497" endtime="20230928 09:08:58.497"/>
</kw>
<msg timestamp="20230928 09:08:58.498" level="INFO">${random} = ozone-test-7575463625</msg>
<status status="PASS" starttime="20230928 09:08:58.496" endtime="20230928 09:08:58.498"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:58.505" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-7575463625 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:08:59.371" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:59.371" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7575463625"
}</msg>
<status status="PASS" starttime="20230928 09:08:58.502" endtime="20230928 09:08:59.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:59.373" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7575463625"
}</msg>
<status status="PASS" starttime="20230928 09:08:59.372" endtime="20230928 09:08:59.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:59.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:59.373" endtime="20230928 09:08:59.374"/>
</kw>
<status status="PASS" starttime="20230928 09:08:58.502" endtime="20230928 09:08:59.375"/>
</kw>
<msg timestamp="20230928 09:08:59.375" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:08:58.501" endtime="20230928 09:08:59.376"/>
</kw>
<msg timestamp="20230928 09:08:59.376" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7575463625"
}</msg>
<status status="PASS" starttime="20230928 09:08:58.501" endtime="20230928 09:08:59.376"/>
</kw>
<msg timestamp="20230928 09:08:59.377" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7575463625"
}</msg>
<status status="PASS" starttime="20230928 09:08:58.500" endtime="20230928 09:08:59.377"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:59.377" endtime="20230928 09:08:59.377"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:08:59.377" endtime="20230928 09:08:59.378"/>
</kw>
<msg timestamp="20230928 09:08:59.378" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 09:08:58.498" endtime="20230928 09:08:59.378"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 09:08:59.378" endtime="20230928 09:08:59.379"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:58.495" endtime="20230928 09:08:59.379"/>
</test>
<test id="s1-s6-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:59.386" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:08:59.388" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:08:59.388" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:59.383" endtime="20230928 09:08:59.388"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:08:59.390" level="INFO"/>
<status status="PASS" starttime="20230928 09:08:59.388" endtime="20230928 09:08:59.390"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:08:59.391" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:08:59.390" endtime="20230928 09:08:59.391"/>
</kw>
<status status="PASS" starttime="20230928 09:08:59.382" endtime="20230928 09:08:59.391"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:08:59.397" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:09:00.428" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:09:00.428" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:59.393" endtime="20230928 09:09:00.428"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:09:00.430" level="INFO"/>
<status status="PASS" starttime="20230928 09:09:00.429" endtime="20230928 09:09:00.430"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:09:00.431" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:09:00.430" endtime="20230928 09:09:00.431"/>
</kw>
<msg timestamp="20230928 09:09:00.432" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:59.393" endtime="20230928 09:09:00.432"/>
</kw>
<msg timestamp="20230928 09:09:00.432" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:08:59.392" endtime="20230928 09:09:00.432"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:09:00.432" endtime="20230928 09:09:00.433"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:09:00.437" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:09:00.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:09:00.440" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:09:00.434" endtime="20230928 09:09:00.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:09:00.443" level="INFO"/>
<status status="PASS" starttime="20230928 09:09:00.442" endtime="20230928 09:09:00.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:09:00.443" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:09:00.443" endtime="20230928 09:09:00.444"/>
</kw>
<status status="PASS" starttime="20230928 09:09:00.433" endtime="20230928 09:09:00.444"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:08:59.381" endtime="20230928 09:09:00.444"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 09:08:41.915" endtime="20230928 09:09:00.446"/>
</suite>
<suite id="s1-s7" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s7-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:09:04.762" endtime="20230928 09:09:04.763"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:09:04.763" endtime="20230928 09:09:04.764"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:09:04.773" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:09:13.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:09:13.727" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230928 09:09:04.766" endtime="20230928 09:09:13.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:09:13.729" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [111]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 09:09:13.728" endtime="20230928 09:09:13.729"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:09:13.730" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:09:13.729" endtime="20230928 09:09:13.730"/>
</kw>
<status status="PASS" starttime="20230928 09:09:04.765" endtime="20230928 09:09:13.730"/>
</kw>
<msg timestamp="20230928 09:09:13.730" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:09:04.765" endtime="20230928 09:09:13.732"/>
</kw>
<msg timestamp="20230928 09:09:13.732" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [111].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230928 09:09:04.764" endtime="20230928 09:09:13.732"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:09:13.733" endtime="20230928 09:09:13.734"/>
</kw>
<status status="PASS" starttime="20230928 09:09:13.732" endtime="20230928 09:09:13.734"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:09:04.761" endtime="20230928 09:09:13.734"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 09:09:04.687" endtime="20230928 09:09:13.736"/>
</suite>
<suite id="s1-s8" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s8-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 08:55:47.886" endtime="20230928 08:55:47.887"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:55:47.895" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:55:47.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:55:47.898" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=795f891dd3ca
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 08:55:47.890" endtime="20230928 08:55:47.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:47.900" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=795f891dd3ca
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 08:55:47.899" endtime="20230928 08:55:47.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:55:47.900" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:55:47.900" endtime="20230928 08:55:47.900"/>
</kw>
<status status="PASS" starttime="20230928 08:55:47.888" endtime="20230928 08:55:47.901"/>
</kw>
<msg timestamp="20230928 08:55:47.901" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:55:47.888" endtime="20230928 08:55:47.902"/>
</kw>
<msg timestamp="20230928 08:55:47.903" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=795f891dd3ca
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 08:55:47.887" endtime="20230928 08:55:47.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:47.903" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=795f891dd3ca
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 08:55:47.903" endtime="20230928 08:55:47.903"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 08:55:47.904" endtime="20230928 08:55:47.904"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:55:47.918" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:55:51.884" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:55:51.885" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 08:55:47.915" endtime="20230928 08:55:51.885"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:51.886" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 08:55:51.885" endtime="20230928 08:55:51.886"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:55:51.887" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:55:51.886" endtime="20230928 08:55:51.887"/>
</kw>
<status status="PASS" starttime="20230928 08:55:47.914" endtime="20230928 08:55:51.888"/>
</kw>
<msg timestamp="20230928 08:55:51.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:55:47.905" endtime="20230928 08:55:51.888"/>
</kw>
<msg timestamp="20230928 08:55:51.889" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 08:55:47.904" endtime="20230928 08:55:51.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:51.889" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230928 08:55:51.889" endtime="20230928 08:55:51.890"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 08:55:51.890" endtime="20230928 08:55:51.890"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 08:55:47.885" endtime="20230928 08:55:51.891"/>
</test>
<test id="s1-s8-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 08:55:51.899" endtime="20230928 08:55:51.900"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 08:55:51.900" endtime="20230928 08:55:51.901"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:55:51.906" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:55:55.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:55:55.986" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 08:55:51.903" endtime="20230928 08:55:55.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:55.987" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 08:55:55.986" endtime="20230928 08:55:55.987"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:55:55.988" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:55:55.988" endtime="20230928 08:55:55.988"/>
</kw>
<status status="PASS" starttime="20230928 08:55:51.902" endtime="20230928 08:55:55.989"/>
</kw>
<msg timestamp="20230928 08:55:55.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:55:51.902" endtime="20230928 08:55:55.989"/>
</kw>
<msg timestamp="20230928 08:55:55.990" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 08:55:51.901" endtime="20230928 08:55:55.990"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:55:55.990" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 08:55:55.990" endtime="20230928 08:55:55.991"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 08:55:55.991" endtime="20230928 08:55:55.991"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 08:55:51.893" endtime="20230928 08:55:55.991"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 08:55:47.810" endtime="20230928 08:55:55.994"/>
</suite>
<suite id="s1-s9" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s9-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:00.052" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:03.862" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:03.862" level="INFO">${output} = 2023-09-28 08:56:03,693 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 08:56:00.047" endtime="20230928 08:56:03.862"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:03.863" level="INFO">2023-09-28 08:56:03,693 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 08:56:03.863" endtime="20230928 08:56:03.864"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:03.865" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:03.864" endtime="20230928 08:56:03.865"/>
</kw>
<status status="PASS" starttime="20230928 08:56:00.046" endtime="20230928 08:56:03.865"/>
</kw>
<msg timestamp="20230928 08:56:03.865" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:00.046" endtime="20230928 08:56:03.867"/>
</kw>
<msg timestamp="20230928 08:56:03.867" level="INFO">${output} = 2023-09-28 08:56:03,693 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230928 08:56:00.045" endtime="20230928 08:56:03.867"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:03.867" endtime="20230928 08:56:03.868"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:03.873" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:08.115" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:08.115" level="INFO">${output} = 2023-09-28 08:56:07,994 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 08:56:03.870" endtime="20230928 08:56:08.115"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:08.117" level="INFO">2023-09-28 08:56:07,994 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 08:56:08.116" endtime="20230928 08:56:08.118"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:08.118" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:08.118" endtime="20230928 08:56:08.119"/>
</kw>
<status status="PASS" starttime="20230928 08:56:03.869" endtime="20230928 08:56:08.119"/>
</kw>
<msg timestamp="20230928 08:56:08.119" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:03.869" endtime="20230928 08:56:08.120"/>
</kw>
<msg timestamp="20230928 08:56:08.120" level="INFO">${output} = 2023-09-28 08:56:07,994 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230928 08:56:03.868" endtime="20230928 08:56:08.120"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:08.120" endtime="20230928 08:56:08.121"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:00.043" endtime="20230928 08:56:08.121"/>
</test>
<test id="s1-s9-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:08.128" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 08:56:08.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:08.131" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:08.125" endtime="20230928 08:56:08.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:08.132" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:08.132" endtime="20230928 08:56:08.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:08.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:08.133" endtime="20230928 08:56:08.134"/>
</kw>
<status status="PASS" starttime="20230928 08:56:08.124" endtime="20230928 08:56:08.134"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:08.139" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:16.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:16.721" level="INFO">${output} = 2023-09-28 08:56:13,422 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:13,579 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:08.136" endtime="20230928 08:56:16.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:16.723" level="INFO">2023-09-28 08:56:13,422 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:13,579 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 08:56:13,580 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 08:56:14,041 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 08:56:16.722" endtime="20230928 08:56:16.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:16.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:16.724" endtime="20230928 08:56:16.724"/>
</kw>
<status status="PASS" starttime="20230928 08:56:08.135" endtime="20230928 08:56:16.725"/>
</kw>
<msg timestamp="20230928 08:56:16.725" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:08.135" endtime="20230928 08:56:16.726"/>
</kw>
<msg timestamp="20230928 08:56:16.727" level="INFO">${output} = 2023-09-28 08:56:13,422 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:13,579 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:08.134" endtime="20230928 08:56:16.727"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:16.727" endtime="20230928 08:56:16.727"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:16.732" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:16.736" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:16.736" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:16.728" endtime="20230928 08:56:16.736"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:16.737" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:16.737" endtime="20230928 08:56:16.737"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:16.738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:16.737" endtime="20230928 08:56:16.738"/>
</kw>
<status status="PASS" starttime="20230928 08:56:16.728" endtime="20230928 08:56:16.739"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:08.123" endtime="20230928 08:56:16.739"/>
</test>
<test id="s1-s9-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:16.750" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:20.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:20.710" level="INFO">${output} = 2023-09-28 08:56:20,638 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 08:56:16.745" endtime="20230928 08:56:20.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:20.712" level="INFO">2023-09-28 08:56:20,638 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230928 08:56:20.711" endtime="20230928 08:56:20.712"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:20.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:20.712" endtime="20230928 08:56:20.713"/>
</kw>
<status status="PASS" starttime="20230928 08:56:16.744" endtime="20230928 08:56:20.713"/>
</kw>
<msg timestamp="20230928 08:56:20.713" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:16.744" endtime="20230928 08:56:20.714"/>
</kw>
<msg timestamp="20230928 08:56:20.714" level="INFO">${output} = 2023-09-28 08:56:20,638 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230928 08:56:16.743" endtime="20230928 08:56:20.715"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:20.715" endtime="20230928 08:56:20.715"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:16.741" endtime="20230928 08:56:20.716"/>
</test>
<test id="s1-s9-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:20.722" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 08:56:20.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:20.724" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:20.719" endtime="20230928 08:56:20.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:20.725" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:20.725" endtime="20230928 08:56:20.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:20.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:20.726" endtime="20230928 08:56:20.726"/>
</kw>
<status status="PASS" starttime="20230928 08:56:20.718" endtime="20230928 08:56:20.727"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:20.732" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:27.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:27.984" level="INFO">${output} = 2023-09-28 08:56:25,673 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:25,853 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:20.729" endtime="20230928 08:56:27.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:27.985" level="INFO">2023-09-28 08:56:25,673 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:25,853 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 08:56:25,853 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-28 08:56:26,228 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230928 08:56:27.985" endtime="20230928 08:56:27.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:27.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:27.986" endtime="20230928 08:56:27.986"/>
</kw>
<status status="PASS" starttime="20230928 08:56:20.728" endtime="20230928 08:56:27.987"/>
</kw>
<msg timestamp="20230928 08:56:27.987" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:20.728" endtime="20230928 08:56:27.987"/>
</kw>
<msg timestamp="20230928 08:56:27.988" level="INFO">${output} = 2023-09-28 08:56:25,673 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:25,853 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:20.727" endtime="20230928 08:56:27.988"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:27.988" endtime="20230928 08:56:27.988"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:27.992" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:28.000" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:28.000" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:27.989" endtime="20230928 08:56:28.000"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:28.002" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:28.000" endtime="20230928 08:56:28.002"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:28.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:28.003" endtime="20230928 08:56:28.003"/>
</kw>
<status status="PASS" starttime="20230928 08:56:27.988" endtime="20230928 08:56:28.004"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:20.717" endtime="20230928 08:56:28.004"/>
</test>
<test id="s1-s9-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:28.013" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:29.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:29.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:28.010" endtime="20230928 08:56:29.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:29.133" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:29.132" endtime="20230928 08:56:29.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:29.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:29.133" endtime="20230928 08:56:29.134"/>
</kw>
<status status="PASS" starttime="20230928 08:56:28.009" endtime="20230928 08:56:29.134"/>
</kw>
<msg timestamp="20230928 08:56:29.134" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:28.009" endtime="20230928 08:56:29.135"/>
</kw>
<status status="PASS" starttime="20230928 08:56:28.007" endtime="20230928 08:56:29.135"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:29.140" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:29.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:29.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:29.137" endtime="20230928 08:56:29.827"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:29.828" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:29.827" endtime="20230928 08:56:29.828"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:29.829" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:29.829" endtime="20230928 08:56:29.829"/>
</kw>
<status status="PASS" starttime="20230928 08:56:29.137" endtime="20230928 08:56:29.830"/>
</kw>
<msg timestamp="20230928 08:56:29.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:29.136" endtime="20230928 08:56:29.831"/>
</kw>
<status status="PASS" starttime="20230928 08:56:29.135" endtime="20230928 08:56:29.831"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:29.836" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:30.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:30.597" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:29.833" endtime="20230928 08:56:30.597"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:30.598" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:30.597" endtime="20230928 08:56:30.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:30.599" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:30.599" endtime="20230928 08:56:30.599"/>
</kw>
<status status="PASS" starttime="20230928 08:56:29.832" endtime="20230928 08:56:30.600"/>
</kw>
<msg timestamp="20230928 08:56:30.600" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:29.832" endtime="20230928 08:56:30.602"/>
</kw>
<status status="PASS" starttime="20230928 08:56:29.831" endtime="20230928 08:56:30.603"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:30.608" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:31.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:31.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:30.605" endtime="20230928 08:56:31.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:31.334" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:31.333" endtime="20230928 08:56:31.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:31.335" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:31.334" endtime="20230928 08:56:31.337"/>
</kw>
<status status="PASS" starttime="20230928 08:56:30.604" endtime="20230928 08:56:31.337"/>
</kw>
<msg timestamp="20230928 08:56:31.337" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:30.604" endtime="20230928 08:56:31.338"/>
</kw>
<status status="PASS" starttime="20230928 08:56:30.603" endtime="20230928 08:56:31.338"/>
</kw>
<status status="PASS" starttime="20230928 08:56:28.007" endtime="20230928 08:56:31.339"/>
</kw>
<status status="PASS" starttime="20230928 08:56:28.007" endtime="20230928 08:56:31.339"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:28.006" endtime="20230928 08:56:31.339"/>
</test>
<test id="s1-s9-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 08:56:31.345" level="INFO">${randStr} = 1192313836</msg>
<status status="PASS" starttime="20230928 08:56:31.345" endtime="20230928 08:56:31.345"/>
</kw>
<msg timestamp="20230928 08:56:31.346" level="INFO">${random} = ozone-test-1192313836</msg>
<status status="PASS" starttime="20230928 08:56:31.341" endtime="20230928 08:56:31.346"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:31.355" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-1192313836 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:34.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:34.068" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1192313836"
}</msg>
<status status="PASS" starttime="20230928 08:56:31.351" endtime="20230928 08:56:34.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:34.070" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1192313836"
}</msg>
<status status="PASS" starttime="20230928 08:56:34.069" endtime="20230928 08:56:34.070"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:34.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:34.071" endtime="20230928 08:56:34.072"/>
</kw>
<status status="PASS" starttime="20230928 08:56:31.349" endtime="20230928 08:56:34.072"/>
</kw>
<msg timestamp="20230928 08:56:34.072" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:31.349" endtime="20230928 08:56:34.074"/>
</kw>
<msg timestamp="20230928 08:56:34.074" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1192313836"
}</msg>
<status status="PASS" starttime="20230928 08:56:31.347" endtime="20230928 08:56:34.074"/>
</kw>
<msg timestamp="20230928 08:56:34.074" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-1192313836"
}</msg>
<status status="PASS" starttime="20230928 08:56:31.347" endtime="20230928 08:56:34.074"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:34.075" endtime="20230928 08:56:34.075"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:34.075" endtime="20230928 08:56:34.076"/>
</kw>
<msg timestamp="20230928 08:56:34.076" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 08:56:31.346" endtime="20230928 08:56:34.076"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 08:56:34.076" endtime="20230928 08:56:34.077"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:31.340" endtime="20230928 08:56:34.077"/>
</test>
<test id="s1-s9-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:34.084" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 08:56:34.086" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:34.087" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:34.081" endtime="20230928 08:56:34.087"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:34.089" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:34.088" endtime="20230928 08:56:34.089"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:34.090" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:34.089" endtime="20230928 08:56:34.090"/>
</kw>
<status status="PASS" starttime="20230928 08:56:34.080" endtime="20230928 08:56:34.090"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:34.095" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:36.233" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:36.234" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:34.093" endtime="20230928 08:56:36.234"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:36.235" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:36.234" endtime="20230928 08:56:36.235"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:36.236" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:36.236" endtime="20230928 08:56:36.236"/>
</kw>
<msg timestamp="20230928 08:56:36.237" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:34.091" endtime="20230928 08:56:36.237"/>
</kw>
<msg timestamp="20230928 08:56:36.237" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:34.090" endtime="20230928 08:56:36.237"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:36.238" endtime="20230928 08:56:36.238"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:36.242" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:36.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:36.245" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:36.240" endtime="20230928 08:56:36.246"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:36.247" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:36.246" endtime="20230928 08:56:36.247"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:36.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:36.247" endtime="20230928 08:56:36.248"/>
</kw>
<status status="PASS" starttime="20230928 08:56:36.239" endtime="20230928 08:56:36.248"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:34.079" endtime="20230928 08:56:36.249"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 08:55:59.924" endtime="20230928 08:56:36.251"/>
</suite>
<suite id="s1-s10" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s10-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 08:56:40.302" level="INFO">${random} = 07818</msg>
<status status="PASS" starttime="20230928 08:56:40.301" endtime="20230928 08:56:40.302"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:40.309" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-07818 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:46.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:46.668" level="INFO">${output} = 2023-09-28 08:56:44,958 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:45,130 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:40.305" endtime="20230928 08:56:46.668"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:46.669" level="INFO">2023-09-28 08:56:44,958 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:45,130 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-28 08:56:45,130 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230928 08:56:46.669" endtime="20230928 08:56:46.669"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:46.670" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:46.670" endtime="20230928 08:56:46.670"/>
</kw>
<status status="PASS" starttime="20230928 08:56:40.304" endtime="20230928 08:56:46.671"/>
</kw>
<msg timestamp="20230928 08:56:46.671" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:40.303" endtime="20230928 08:56:46.672"/>
</kw>
<msg timestamp="20230928 08:56:46.673" level="INFO">${output} = 2023-09-28 08:56:44,958 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-28 08:56:45,130 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230928 08:56:40.302" endtime="20230928 08:56:46.673"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:46.673" endtime="20230928 08:56:46.673"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:46.679" level="INFO">Running command 'cat /tmp/key-07818 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:46.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:46.682" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:46.676" endtime="20230928 08:56:46.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:46.684" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:46.683" endtime="20230928 08:56:46.684"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:46.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:46.684" endtime="20230928 08:56:46.685"/>
</kw>
<msg timestamp="20230928 08:56:46.686" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:46.674" endtime="20230928 08:56:46.686"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:46.687" endtime="20230928 08:56:46.687"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:46.691" level="INFO">Running command 'rm /tmp/key-07818 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:46.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:46.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:46.688" endtime="20230928 08:56:46.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:46.696" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:46.695" endtime="20230928 08:56:46.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:46.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:46.696" endtime="20230928 08:56:46.697"/>
</kw>
<status status="PASS" starttime="20230928 08:56:46.687" endtime="20230928 08:56:46.698"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:40.299" endtime="20230928 08:56:46.698"/>
</test>
<test id="s1-s10-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:46.706" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:47.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:47.402" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:46.703" endtime="20230928 08:56:47.402"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:47.403" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:47.402" endtime="20230928 08:56:47.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:47.404" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:47.404" endtime="20230928 08:56:47.404"/>
</kw>
<status status="PASS" starttime="20230928 08:56:46.703" endtime="20230928 08:56:47.405"/>
</kw>
<msg timestamp="20230928 08:56:47.406" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:46.702" endtime="20230928 08:56:47.407"/>
</kw>
<status status="PASS" starttime="20230928 08:56:46.702" endtime="20230928 08:56:47.407"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:47.413" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:48.086" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:48.087" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:47.410" endtime="20230928 08:56:48.087"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:48.088" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:48.087" endtime="20230928 08:56:48.089"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:48.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:48.089" endtime="20230928 08:56:48.090"/>
</kw>
<status status="PASS" starttime="20230928 08:56:47.409" endtime="20230928 08:56:48.090"/>
</kw>
<msg timestamp="20230928 08:56:48.091" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:47.408" endtime="20230928 08:56:48.091"/>
</kw>
<status status="PASS" starttime="20230928 08:56:47.407" endtime="20230928 08:56:48.092"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:48.097" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:48.785" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:48.785" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:48.094" endtime="20230928 08:56:48.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:48.787" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:48.786" endtime="20230928 08:56:48.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:48.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:48.787" endtime="20230928 08:56:48.788"/>
</kw>
<status status="PASS" starttime="20230928 08:56:48.093" endtime="20230928 08:56:48.788"/>
</kw>
<msg timestamp="20230928 08:56:48.788" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:48.092" endtime="20230928 08:56:48.789"/>
</kw>
<status status="PASS" starttime="20230928 08:56:48.092" endtime="20230928 08:56:48.789"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:48.794" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:49.460" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:49.460" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:48.791" endtime="20230928 08:56:49.460"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:49.462" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:49.461" endtime="20230928 08:56:49.462"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:49.463" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:49.462" endtime="20230928 08:56:49.463"/>
</kw>
<status status="PASS" starttime="20230928 08:56:48.790" endtime="20230928 08:56:49.464"/>
</kw>
<msg timestamp="20230928 08:56:49.464" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:48.790" endtime="20230928 08:56:49.464"/>
</kw>
<status status="PASS" starttime="20230928 08:56:48.790" endtime="20230928 08:56:49.465"/>
</kw>
<status status="PASS" starttime="20230928 08:56:46.701" endtime="20230928 08:56:49.465"/>
</kw>
<status status="PASS" starttime="20230928 08:56:46.701" endtime="20230928 08:56:49.465"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:46.700" endtime="20230928 08:56:49.465"/>
</test>
<test id="s1-s10-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:49.475" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:50.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:50.711" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:49.470" endtime="20230928 08:56:50.711"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:50.717" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 08:56:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 08:56:50.713" endtime="20230928 08:56:50.717"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:50.722" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:50.717" endtime="20230928 08:56:50.722"/>
</kw>
<msg timestamp="20230928 08:56:50.723" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:49.469" endtime="20230928 08:56:50.723"/>
</kw>
<msg timestamp="20230928 08:56:50.723" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:49.468" endtime="20230928 08:56:50.723"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:50.724" endtime="20230928 08:56:50.725"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:50.734" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:50.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:50.739" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:50.726" endtime="20230928 08:56:50.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:50.745" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:50.740" endtime="20230928 08:56:50.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:50.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:50.746" endtime="20230928 08:56:50.747"/>
</kw>
<msg timestamp="20230928 08:56:50.747" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 08:56:50.725" endtime="20230928 08:56:50.748"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:50.748" endtime="20230928 08:56:50.750"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:50.756" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:50.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:50.763" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:50.752" endtime="20230928 08:56:50.763"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:50.764" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:50.763" endtime="20230928 08:56:50.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:50.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:50.764" endtime="20230928 08:56:50.767"/>
</kw>
<status status="PASS" starttime="20230928 08:56:50.750" endtime="20230928 08:56:50.767"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:49.467" endtime="20230928 08:56:50.768"/>
</test>
<test id="s1-s10-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:50.783" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:51.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:51.660" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:50.776" endtime="20230928 08:56:51.660"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:51.663" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 08:56:51 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 08:56:51.661" endtime="20230928 08:56:51.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:51.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:51.663" endtime="20230928 08:56:51.664"/>
</kw>
<msg timestamp="20230928 08:56:51.664" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:50.774" endtime="20230928 08:56:51.664"/>
</kw>
<msg timestamp="20230928 08:56:51.665" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 08:56:50.773" endtime="20230928 08:56:51.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:51.665" endtime="20230928 08:56:51.667"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:51.671" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:51.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:51.674" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 08:56:51.668" endtime="20230928 08:56:51.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:51.676" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 08:56:51.675" endtime="20230928 08:56:51.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:51.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:51.676" endtime="20230928 08:56:51.677"/>
</kw>
<msg timestamp="20230928 08:56:51.677" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 08:56:51.667" endtime="20230928 08:56:51.677"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:56:51.677" endtime="20230928 08:56:51.678"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:51.681" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:56:51.685" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:56:51.685" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 08:56:51.679" endtime="20230928 08:56:51.685"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:56:51.687" level="INFO"/>
<status status="PASS" starttime="20230928 08:56:51.685" endtime="20230928 08:56:51.687"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:56:51.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:56:51.687" endtime="20230928 08:56:51.688"/>
</kw>
<status status="PASS" starttime="20230928 08:56:51.678" endtime="20230928 08:56:51.688"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:50.771" endtime="20230928 08:56:51.688"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 08:56:40.189" endtime="20230928 08:56:51.691"/>
</suite>
<suite id="s1-s11" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s11-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 08:56:55.565" endtime="20230928 08:56:55.565"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 08:56:55.566" endtime="20230928 08:56:55.566"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 08:56:55.572" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 08:57:04.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 08:57:04.836" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 08:56:55.568" endtime="20230928 08:57:04.836"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 08:57:04.837" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 08:57:04.836" endtime="20230928 08:57:04.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 08:57:04.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 08:57:04.838" endtime="20230928 08:57:04.838"/>
</kw>
<status status="PASS" starttime="20230928 08:56:55.567" endtime="20230928 08:57:04.839"/>
</kw>
<msg timestamp="20230928 08:57:04.839" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 08:56:55.567" endtime="20230928 08:57:04.840"/>
</kw>
<msg timestamp="20230928 08:57:04.841" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 08:56:55.566" endtime="20230928 08:57:04.841"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 08:57:04.842" endtime="20230928 08:57:04.843"/>
</kw>
<status status="PASS" starttime="20230928 08:57:04.841" endtime="20230928 08:57:04.843"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 08:56:55.564" endtime="20230928 08:57:04.843"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 08:56:55.497" endtime="20230928 08:57:04.845"/>
</suite>
<suite id="s1-s12" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s12-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:12:42.243" endtime="20230928 09:12:42.245"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:12:42.257" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:14:37.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:14:37.917" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230928 09:12:42.248" endtime="20230928 09:14:37.917"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:37.919" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 09:14:37.918" endtime="20230928 09:14:37.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:14:37.920" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:14:37.919" endtime="20230928 09:14:37.920"/>
</kw>
<status status="PASS" starttime="20230928 09:12:42.247" endtime="20230928 09:14:37.920"/>
</kw>
<msg timestamp="20230928 09:14:37.920" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:12:42.246" endtime="20230928 09:14:37.921"/>
</kw>
<msg timestamp="20230928 09:14:37.921" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230928 09:12:42.246" endtime="20230928 09:14:37.921"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:37.922" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 09:14:37.921" endtime="20230928 09:14:37.922"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:12:42.241" endtime="20230928 09:14:37.922"/>
</test>
<test id="s1-s12-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:14:37.924" endtime="20230928 09:14:37.925"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:14:37.932" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:14:45.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:14:45.893" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230928 09:14:37.927" endtime="20230928 09:14:45.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:45.897" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 09:14:45.895" endtime="20230928 09:14:45.897"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:14:45.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:14:45.897" endtime="20230928 09:14:45.898"/>
</kw>
<status status="PASS" starttime="20230928 09:14:37.927" endtime="20230928 09:14:45.898"/>
</kw>
<msg timestamp="20230928 09:14:45.899" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:14:37.926" endtime="20230928 09:14:45.899"/>
</kw>
<msg timestamp="20230928 09:14:45.899" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
E...</msg>
<status status="PASS" starttime="20230928 09:14:37.925" endtime="20230928 09:14:45.899"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:45.900" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
No onFinalize work defined for feature: QUOTA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230928 09:14:45.899" endtime="20230928 09:14:45.900"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:14:37.923" endtime="20230928 09:14:45.901"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 09:12:42.085" endtime="20230928 09:14:45.913"/>
</suite>
<suite id="s1-s13" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s13-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:14:50.947" endtime="20230928 09:14:50.948"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:14:50.966" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:14:50.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:14:50.972" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:14:50.959" endtime="20230928 09:14:50.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:50.976" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:14:50.973" endtime="20230928 09:14:50.976"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:14:50.978" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:14:50.977" endtime="20230928 09:14:50.978"/>
</kw>
<status status="PASS" starttime="20230928 09:14:50.956" endtime="20230928 09:14:50.979"/>
</kw>
<msg timestamp="20230928 09:14:50.980" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:14:50.955" endtime="20230928 09:14:50.980"/>
</kw>
<msg timestamp="20230928 09:14:50.981" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:14:50.948" endtime="20230928 09:14:50.982"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:50.983" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:14:50.982" endtime="20230928 09:14:50.984"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:14:50.985" endtime="20230928 09:14:50.986"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:14:50.999" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:14:57.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:14:57.436" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:50.992" endtime="20230928 09:14:57.436"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:57.438" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:57.437" endtime="20230928 09:14:57.438"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:14:57.439" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:14:57.438" endtime="20230928 09:14:57.439"/>
</kw>
<status status="PASS" starttime="20230928 09:14:50.989" endtime="20230928 09:14:57.439"/>
</kw>
<msg timestamp="20230928 09:14:57.439" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:14:50.988" endtime="20230928 09:14:57.439"/>
</kw>
<msg timestamp="20230928 09:14:57.440" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:50.986" endtime="20230928 09:14:57.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:14:57.441" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:57.440" endtime="20230928 09:14:57.441"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:14:57.441" endtime="20230928 09:14:57.441"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:14:50.945" endtime="20230928 09:14:57.442"/>
</test>
<test id="s1-s13-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:14:57.444" endtime="20230928 09:14:57.445"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:14:57.445" endtime="20230928 09:14:57.446"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:14:57.457" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:06.305" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:06.305" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:57.453" endtime="20230928 09:15:06.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:06.307" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:15:06.306" endtime="20230928 09:15:06.307"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:06.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:06.308" endtime="20230928 09:15:06.309"/>
</kw>
<status status="PASS" starttime="20230928 09:14:57.453" endtime="20230928 09:15:06.309"/>
</kw>
<msg timestamp="20230928 09:15:06.309" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:14:57.452" endtime="20230928 09:15:06.310"/>
</kw>
<msg timestamp="20230928 09:15:06.310" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:14:57.446" endtime="20230928 09:15:06.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:06.311" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:15:06.311" endtime="20230928 09:15:06.311"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:15:06.312" endtime="20230928 09:15:06.313"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:14:57.443" endtime="20230928 09:15:06.313"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 09:14:50.809" endtime="20230928 09:15:06.315"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:15:10.755" level="INFO">${random} = 37689</msg>
<status status="PASS" starttime="20230928 09:15:10.754" endtime="20230928 09:15:10.755"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:10.763" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-37689 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:24.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:24.226" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:10.759" endtime="20230928 09:15:24.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:24.228" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:24.227" endtime="20230928 09:15:24.228"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:24.229" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:24.229" endtime="20230928 09:15:24.230"/>
</kw>
<status status="PASS" starttime="20230928 09:15:10.758" endtime="20230928 09:15:24.230"/>
</kw>
<msg timestamp="20230928 09:15:24.230" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:10.757" endtime="20230928 09:15:24.230"/>
</kw>
<msg timestamp="20230928 09:15:24.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:10.756" endtime="20230928 09:15:24.231"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:24.231" endtime="20230928 09:15:24.232"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:24.237" level="INFO">Running command 'cat /tmp/key-37689 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:24.244" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:24.244" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:24.233" endtime="20230928 09:15:24.245"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:24.247" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:24.245" endtime="20230928 09:15:24.247"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:24.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:24.247" endtime="20230928 09:15:24.248"/>
</kw>
<msg timestamp="20230928 09:15:24.249" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:24.232" endtime="20230928 09:15:24.249"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:24.249" endtime="20230928 09:15:24.250"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:24.255" level="INFO">Running command 'rm /tmp/key-37689 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:24.260" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:24.260" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:24.251" endtime="20230928 09:15:24.260"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:24.262" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:24.261" endtime="20230928 09:15:24.262"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:24.263" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:24.262" endtime="20230928 09:15:24.263"/>
</kw>
<status status="PASS" starttime="20230928 09:15:24.250" endtime="20230928 09:15:24.264"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:10.752" endtime="20230928 09:15:24.264"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:24.275" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:25.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:25.944" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:24.271" endtime="20230928 09:15:25.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:25.947" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:25.945" endtime="20230928 09:15:25.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:25.949" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:25.947" endtime="20230928 09:15:25.949"/>
</kw>
<status status="PASS" starttime="20230928 09:15:24.271" endtime="20230928 09:15:25.950"/>
</kw>
<msg timestamp="20230928 09:15:25.950" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:24.270" endtime="20230928 09:15:25.950"/>
</kw>
<status status="PASS" starttime="20230928 09:15:24.269" endtime="20230928 09:15:25.950"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:25.966" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:26.827" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:26.827" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:25.954" endtime="20230928 09:15:26.827"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:26.829" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:26.828" endtime="20230928 09:15:26.829"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:26.830" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:26.830" endtime="20230928 09:15:26.831"/>
</kw>
<status status="PASS" starttime="20230928 09:15:25.953" endtime="20230928 09:15:26.831"/>
</kw>
<msg timestamp="20230928 09:15:26.831" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:25.952" endtime="20230928 09:15:26.832"/>
</kw>
<status status="PASS" starttime="20230928 09:15:25.951" endtime="20230928 09:15:26.832"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:26.839" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:27.720" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:27.720" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:26.835" endtime="20230928 09:15:27.720"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:27.723" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:27.721" endtime="20230928 09:15:27.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:27.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:27.723" endtime="20230928 09:15:27.724"/>
</kw>
<status status="PASS" starttime="20230928 09:15:26.834" endtime="20230928 09:15:27.725"/>
</kw>
<msg timestamp="20230928 09:15:27.725" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:26.833" endtime="20230928 09:15:27.725"/>
</kw>
<status status="PASS" starttime="20230928 09:15:26.832" endtime="20230928 09:15:27.725"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:27.731" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:28.493" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:28.493" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:27.727" endtime="20230928 09:15:28.493"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:28.495" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:28.494" endtime="20230928 09:15:28.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:28.497" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:28.496" endtime="20230928 09:15:28.497"/>
</kw>
<status status="PASS" starttime="20230928 09:15:27.727" endtime="20230928 09:15:28.498"/>
</kw>
<msg timestamp="20230928 09:15:28.498" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:27.726" endtime="20230928 09:15:28.498"/>
</kw>
<status status="PASS" starttime="20230928 09:15:27.725" endtime="20230928 09:15:28.498"/>
</kw>
<status status="PASS" starttime="20230928 09:15:24.269" endtime="20230928 09:15:28.498"/>
</kw>
<status status="PASS" starttime="20230928 09:15:24.268" endtime="20230928 09:15:28.498"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:24.266" endtime="20230928 09:15:28.499"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:28.508" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:35.740" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:35.741" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:28.504" endtime="20230928 09:15:35.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:35.743" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:15:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:15:35.741" endtime="20230928 09:15:35.743"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:35.744" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:35.744" endtime="20230928 09:15:35.744"/>
</kw>
<msg timestamp="20230928 09:15:35.745" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:28.503" endtime="20230928 09:15:35.745"/>
</kw>
<msg timestamp="20230928 09:15:35.745" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:28.502" endtime="20230928 09:15:35.745"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:35.746" endtime="20230928 09:15:35.746"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:35.751" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:35.761" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:35.761" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:35.747" endtime="20230928 09:15:35.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:35.763" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:35.763" endtime="20230928 09:15:35.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:35.764" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:35.764" endtime="20230928 09:15:35.764"/>
</kw>
<msg timestamp="20230928 09:15:35.765" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:35.747" endtime="20230928 09:15:35.765"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:35.765" endtime="20230928 09:15:35.766"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:35.770" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:35.787" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:35.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:35.767" endtime="20230928 09:15:35.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:35.792" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:35.788" endtime="20230928 09:15:35.792"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:35.793" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:35.792" endtime="20230928 09:15:35.793"/>
</kw>
<status status="PASS" starttime="20230928 09:15:35.766" endtime="20230928 09:15:35.793"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:28.500" endtime="20230928 09:15:35.794"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:35.802" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:37.423" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:37.423" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:09:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:35.798" endtime="20230928 09:15:37.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:37.426" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:09:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:15:36 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:15:37.424" endtime="20230928 09:15:37.426"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:37.427" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:37.426" endtime="20230928 09:15:37.427"/>
</kw>
<msg timestamp="20230928 09:15:37.428" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:09:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:35.797" endtime="20230928 09:15:37.428"/>
</kw>
<msg timestamp="20230928 09:15:37.428" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:09:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:35.796" endtime="20230928 09:15:37.428"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:37.429" endtime="20230928 09:15:37.429"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:37.435" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:37.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:37.439" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:37.431" endtime="20230928 09:15:37.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:37.442" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:37.440" endtime="20230928 09:15:37.442"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:37.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:37.443" endtime="20230928 09:15:37.444"/>
</kw>
<msg timestamp="20230928 09:15:37.444" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:37.430" endtime="20230928 09:15:37.444"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:37.445" endtime="20230928 09:15:37.445"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:37.451" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:37.455" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:37.455" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:37.447" endtime="20230928 09:15:37.455"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:37.457" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:37.456" endtime="20230928 09:15:37.457"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:37.458" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:37.458" endtime="20230928 09:15:37.459"/>
</kw>
<status status="PASS" starttime="20230928 09:15:37.446" endtime="20230928 09:15:37.459"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:35.795" endtime="20230928 09:15:37.459"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:15:10.578" endtime="20230928 09:15:37.462"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:15:42.111" level="INFO">${random} = 30114</msg>
<status status="PASS" starttime="20230928 09:15:42.110" endtime="20230928 09:15:42.111"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:42.118" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-30114 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:51.371" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:51.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:42.114" endtime="20230928 09:15:51.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:51.373" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:51.372" endtime="20230928 09:15:51.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:51.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:51.373" endtime="20230928 09:15:51.374"/>
</kw>
<status status="PASS" starttime="20230928 09:15:42.113" endtime="20230928 09:15:51.374"/>
</kw>
<msg timestamp="20230928 09:15:51.375" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:42.112" endtime="20230928 09:15:51.375"/>
</kw>
<msg timestamp="20230928 09:15:51.375" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:42.111" endtime="20230928 09:15:51.375"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:51.375" endtime="20230928 09:15:51.376"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:51.381" level="INFO">Running command 'cat /tmp/key-30114 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:51.385" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:51.385" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:51.377" endtime="20230928 09:15:51.385"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:51.387" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:51.386" endtime="20230928 09:15:51.387"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:51.388" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:51.387" endtime="20230928 09:15:51.388"/>
</kw>
<msg timestamp="20230928 09:15:51.388" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:51.376" endtime="20230928 09:15:51.388"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:51.389" endtime="20230928 09:15:51.389"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:51.394" level="INFO">Running command 'rm /tmp/key-30114 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:51.399" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:51.399" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:51.391" endtime="20230928 09:15:51.399"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:51.401" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:51.400" endtime="20230928 09:15:51.401"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:51.402" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:51.402" endtime="20230928 09:15:51.403"/>
</kw>
<status status="PASS" starttime="20230928 09:15:51.390" endtime="20230928 09:15:51.403"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:42.108" endtime="20230928 09:15:51.403"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:51.415" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:52.407" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:52.407" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:51.410" endtime="20230928 09:15:52.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:52.409" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:52.408" endtime="20230928 09:15:52.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:52.410" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:52.410" endtime="20230928 09:15:52.411"/>
</kw>
<status status="PASS" starttime="20230928 09:15:51.409" endtime="20230928 09:15:52.411"/>
</kw>
<msg timestamp="20230928 09:15:52.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:51.408" endtime="20230928 09:15:52.411"/>
</kw>
<status status="PASS" starttime="20230928 09:15:51.408" endtime="20230928 09:15:52.411"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:52.423" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:53.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:53.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:52.414" endtime="20230928 09:15:53.284"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:53.286" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:53.285" endtime="20230928 09:15:53.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:53.288" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:53.287" endtime="20230928 09:15:53.288"/>
</kw>
<status status="PASS" starttime="20230928 09:15:52.413" endtime="20230928 09:15:53.288"/>
</kw>
<msg timestamp="20230928 09:15:53.288" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:52.412" endtime="20230928 09:15:53.289"/>
</kw>
<status status="PASS" starttime="20230928 09:15:52.412" endtime="20230928 09:15:53.289"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:53.296" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:54.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:54.251" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:53.292" endtime="20230928 09:15:54.252"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:54.254" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:54.253" endtime="20230928 09:15:54.254"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:54.255" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:54.254" endtime="20230928 09:15:54.255"/>
</kw>
<status status="PASS" starttime="20230928 09:15:53.291" endtime="20230928 09:15:54.256"/>
</kw>
<msg timestamp="20230928 09:15:54.256" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:53.290" endtime="20230928 09:15:54.256"/>
</kw>
<status status="PASS" starttime="20230928 09:15:53.290" endtime="20230928 09:15:54.256"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:54.264" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:55.178" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:55.178" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:54.260" endtime="20230928 09:15:55.178"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:55.179" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:55.179" endtime="20230928 09:15:55.180"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:55.181" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:55.180" endtime="20230928 09:15:55.181"/>
</kw>
<status status="PASS" starttime="20230928 09:15:54.259" endtime="20230928 09:15:55.181"/>
</kw>
<msg timestamp="20230928 09:15:55.181" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:15:54.258" endtime="20230928 09:15:55.182"/>
</kw>
<status status="PASS" starttime="20230928 09:15:54.257" endtime="20230928 09:15:55.182"/>
</kw>
<status status="PASS" starttime="20230928 09:15:51.407" endtime="20230928 09:15:55.182"/>
</kw>
<status status="PASS" starttime="20230928 09:15:51.406" endtime="20230928 09:15:55.182"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:51.405" endtime="20230928 09:15:55.182"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:55.193" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:56.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:56.433" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:55.188" endtime="20230928 09:15:56.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:56.436" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:15:56 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:15:56.435" endtime="20230928 09:15:56.437"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:56.438" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:56.437" endtime="20230928 09:15:56.439"/>
</kw>
<msg timestamp="20230928 09:15:56.439" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:55.187" endtime="20230928 09:15:56.439"/>
</kw>
<msg timestamp="20230928 09:15:56.440" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:55.185" endtime="20230928 09:15:56.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:56.440" endtime="20230928 09:15:56.441"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:56.447" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:56.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:56.451" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:56.442" endtime="20230928 09:15:56.451"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:56.454" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:56.453" endtime="20230928 09:15:56.454"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:56.455" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:56.455" endtime="20230928 09:15:56.456"/>
</kw>
<msg timestamp="20230928 09:15:56.456" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:15:56.441" endtime="20230928 09:15:56.456"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:56.456" endtime="20230928 09:15:56.457"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:56.463" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:56.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:56.467" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:56.459" endtime="20230928 09:15:56.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:56.470" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:56.468" endtime="20230928 09:15:56.470"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:56.471" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:56.471" endtime="20230928 09:15:56.472"/>
</kw>
<status status="PASS" starttime="20230928 09:15:56.458" endtime="20230928 09:15:56.472"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:55.184" endtime="20230928 09:15:56.472"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:56.481" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:57.600" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:57.600" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:56.476" endtime="20230928 09:15:57.600"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:57.602" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:15:57 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:15:57.601" endtime="20230928 09:15:57.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:57.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:57.603" endtime="20230928 09:15:57.606"/>
</kw>
<msg timestamp="20230928 09:15:57.607" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:56.475" endtime="20230928 09:15:57.607"/>
</kw>
<msg timestamp="20230928 09:15:57.607" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:15:56.475" endtime="20230928 09:15:57.607"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:57.607" endtime="20230928 09:15:57.609"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:57.615" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:57.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:57.619" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:57.610" endtime="20230928 09:15:57.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:57.621" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:57.620" endtime="20230928 09:15:57.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:57.623" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:57.622" endtime="20230928 09:15:57.623"/>
</kw>
<msg timestamp="20230928 09:15:57.624" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:15:57.610" endtime="20230928 09:15:57.624"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:15:57.624" endtime="20230928 09:15:57.626"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:15:57.632" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:15:57.637" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:15:57.637" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:15:57.627" endtime="20230928 09:15:57.637"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:15:57.639" level="INFO"/>
<status status="PASS" starttime="20230928 09:15:57.638" endtime="20230928 09:15:57.640"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:15:57.641" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:15:57.640" endtime="20230928 09:15:57.641"/>
</kw>
<status status="PASS" starttime="20230928 09:15:57.627" endtime="20230928 09:15:57.641"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:15:56.473" endtime="20230928 09:15:57.642"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:15:41.917" endtime="20230928 09:15:57.644"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:16:02.466" level="INFO">${random} = 55229</msg>
<status status="PASS" starttime="20230928 09:16:02.465" endtime="20230928 09:16:02.466"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:02.474" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-55229 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:12.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:12.189" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:02.469" endtime="20230928 09:16:12.189"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:12.191" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:12.190" endtime="20230928 09:16:12.191"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:12.192" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:12.192" endtime="20230928 09:16:12.193"/>
</kw>
<status status="PASS" starttime="20230928 09:16:02.469" endtime="20230928 09:16:12.193"/>
</kw>
<msg timestamp="20230928 09:16:12.193" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:02.468" endtime="20230928 09:16:12.193"/>
</kw>
<msg timestamp="20230928 09:16:12.194" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:02.467" endtime="20230928 09:16:12.194"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:12.194" endtime="20230928 09:16:12.195"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:12.201" level="INFO">Running command 'cat /tmp/key-55229 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:12.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:12.206" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:12.196" endtime="20230928 09:16:12.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:12.208" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:12.207" endtime="20230928 09:16:12.208"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:12.209" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:12.209" endtime="20230928 09:16:12.209"/>
</kw>
<msg timestamp="20230928 09:16:12.210" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:12.195" endtime="20230928 09:16:12.210"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:12.210" endtime="20230928 09:16:12.211"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:12.216" level="INFO">Running command 'rm /tmp/key-55229 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:12.220" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:12.220" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:12.212" endtime="20230928 09:16:12.220"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:12.221" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:12.221" endtime="20230928 09:16:12.222"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:12.223" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:12.222" endtime="20230928 09:16:12.223"/>
</kw>
<status status="PASS" starttime="20230928 09:16:12.211" endtime="20230928 09:16:12.223"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:02.464" endtime="20230928 09:16:12.223"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:12.233" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:13.181" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:13.181" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:12.229" endtime="20230928 09:16:13.181"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:13.184" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:13.182" endtime="20230928 09:16:13.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:13.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:13.184" endtime="20230928 09:16:13.185"/>
</kw>
<status status="PASS" starttime="20230928 09:16:12.228" endtime="20230928 09:16:13.185"/>
</kw>
<msg timestamp="20230928 09:16:13.185" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:12.228" endtime="20230928 09:16:13.186"/>
</kw>
<status status="PASS" starttime="20230928 09:16:12.227" endtime="20230928 09:16:13.186"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:13.192" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:14.099" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:14.099" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:13.189" endtime="20230928 09:16:14.099"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:14.101" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:14.099" endtime="20230928 09:16:14.101"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:14.102" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:14.101" endtime="20230928 09:16:14.102"/>
</kw>
<status status="PASS" starttime="20230928 09:16:13.188" endtime="20230928 09:16:14.103"/>
</kw>
<msg timestamp="20230928 09:16:14.103" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:13.187" endtime="20230928 09:16:14.103"/>
</kw>
<status status="PASS" starttime="20230928 09:16:13.186" endtime="20230928 09:16:14.103"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:14.109" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:14.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:14.967" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:14.106" endtime="20230928 09:16:14.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:14.969" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:14.968" endtime="20230928 09:16:14.969"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:14.970" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:14.969" endtime="20230928 09:16:14.970"/>
</kw>
<status status="PASS" starttime="20230928 09:16:14.105" endtime="20230928 09:16:14.971"/>
</kw>
<msg timestamp="20230928 09:16:14.971" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:14.104" endtime="20230928 09:16:14.972"/>
</kw>
<status status="PASS" starttime="20230928 09:16:14.104" endtime="20230928 09:16:14.972"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:14.978" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:15.842" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:15.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:14.974" endtime="20230928 09:16:15.842"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:15.844" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:15.843" endtime="20230928 09:16:15.844"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:15.845" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:15.844" endtime="20230928 09:16:15.845"/>
</kw>
<status status="PASS" starttime="20230928 09:16:14.973" endtime="20230928 09:16:15.846"/>
</kw>
<msg timestamp="20230928 09:16:15.846" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:14.973" endtime="20230928 09:16:15.846"/>
</kw>
<status status="PASS" starttime="20230928 09:16:14.972" endtime="20230928 09:16:15.846"/>
</kw>
<status status="PASS" starttime="20230928 09:16:12.226" endtime="20230928 09:16:15.846"/>
</kw>
<status status="PASS" starttime="20230928 09:16:12.226" endtime="20230928 09:16:15.846"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:12.225" endtime="20230928 09:16:15.847"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:15.855" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:17.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:17.063" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:15.851" endtime="20230928 09:16:17.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:17.065" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:16:16 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:16:17.064" endtime="20230928 09:16:17.065"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:17.066" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:17.066" endtime="20230928 09:16:17.066"/>
</kw>
<msg timestamp="20230928 09:16:17.067" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:15.850" endtime="20230928 09:16:17.067"/>
</kw>
<msg timestamp="20230928 09:16:17.067" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:15.850" endtime="20230928 09:16:17.067"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:17.068" endtime="20230928 09:16:17.069"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:17.074" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:17.078" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:17.078" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:17.070" endtime="20230928 09:16:17.078"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:17.082" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:17.079" endtime="20230928 09:16:17.082"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:17.083" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:17.082" endtime="20230928 09:16:17.083"/>
</kw>
<msg timestamp="20230928 09:16:17.084" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:16:17.069" endtime="20230928 09:16:17.084"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:17.084" endtime="20230928 09:16:17.085"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:17.090" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:17.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:17.095" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:17.086" endtime="20230928 09:16:17.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:17.097" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:17.095" endtime="20230928 09:16:17.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:17.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:17.097" endtime="20230928 09:16:17.098"/>
</kw>
<status status="PASS" starttime="20230928 09:16:17.085" endtime="20230928 09:16:17.098"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:15.848" endtime="20230928 09:16:17.098"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:17.106" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:18.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:18.341" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:17.103" endtime="20230928 09:16:18.341"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:18.344" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:16:18 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:16:18.342" endtime="20230928 09:16:18.344"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:18.345" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:18.344" endtime="20230928 09:16:18.345"/>
</kw>
<msg timestamp="20230928 09:16:18.346" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:17.102" endtime="20230928 09:16:18.346"/>
</kw>
<msg timestamp="20230928 09:16:18.346" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:08:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:16:17.101" endtime="20230928 09:16:18.346"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:18.346" endtime="20230928 09:16:18.347"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:18.352" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:18.357" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:18.357" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:16:18.349" endtime="20230928 09:16:18.357"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:18.359" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:16:18.358" endtime="20230928 09:16:18.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:18.360" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:18.360" endtime="20230928 09:16:18.361"/>
</kw>
<msg timestamp="20230928 09:16:18.361" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:16:18.348" endtime="20230928 09:16:18.361"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:18.361" endtime="20230928 09:16:18.362"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:18.367" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:18.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:18.372" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:18.363" endtime="20230928 09:16:18.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:18.374" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:18.373" endtime="20230928 09:16:18.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:18.375" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:18.374" endtime="20230928 09:16:18.375"/>
</kw>
<status status="PASS" starttime="20230928 09:16:18.362" endtime="20230928 09:16:18.376"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:17.100" endtime="20230928 09:16:18.376"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:16:02.265" endtime="20230928 09:16:18.378"/>
</suite>
<suite id="s1-s17" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s17-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:23.008" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:29.360" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:29.360" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:23.004" endtime="20230928 09:16:29.360"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:29.363" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:29.361" endtime="20230928 09:16:29.363"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:29.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:29.364" endtime="20230928 09:16:29.366"/>
</kw>
<status status="PASS" starttime="20230928 09:16:23.003" endtime="20230928 09:16:29.367"/>
</kw>
<msg timestamp="20230928 09:16:29.367" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:23.002" endtime="20230928 09:16:29.367"/>
</kw>
<msg timestamp="20230928 09:16:29.370" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:23.001" endtime="20230928 09:16:29.370"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:29.370" endtime="20230928 09:16:29.373"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:29.394" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:36.873" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:36.873" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:29.380" endtime="20230928 09:16:36.873"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:36.876" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:36.874" endtime="20230928 09:16:36.876"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:36.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:36.876" endtime="20230928 09:16:36.877"/>
</kw>
<status status="PASS" starttime="20230928 09:16:29.378" endtime="20230928 09:16:36.878"/>
</kw>
<msg timestamp="20230928 09:16:36.878" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:29.377" endtime="20230928 09:16:36.878"/>
</kw>
<msg timestamp="20230928 09:16:36.879" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:29.374" endtime="20230928 09:16:36.879"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:36.879" endtime="20230928 09:16:36.880"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:23.000" endtime="20230928 09:16:36.881"/>
</test>
<test id="s1-s17-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:36.894" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:16:36.897" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:36.897" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:36.888" endtime="20230928 09:16:36.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:36.900" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:36.899" endtime="20230928 09:16:36.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:36.902" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:36.901" endtime="20230928 09:16:36.902"/>
</kw>
<status status="PASS" starttime="20230928 09:16:36.886" endtime="20230928 09:16:36.903"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:36.913" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:49.392" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:49.392" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:36.907" endtime="20230928 09:16:49.393"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:49.398" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:49.395" endtime="20230928 09:16:49.398"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:49.401" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:49.399" endtime="20230928 09:16:49.402"/>
</kw>
<status status="PASS" starttime="20230928 09:16:36.905" endtime="20230928 09:16:49.402"/>
</kw>
<msg timestamp="20230928 09:16:49.402" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:36.905" endtime="20230928 09:16:49.402"/>
</kw>
<msg timestamp="20230928 09:16:49.403" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:36.903" endtime="20230928 09:16:49.403"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:49.403" endtime="20230928 09:16:49.404"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:49.413" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:49.428" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:49.428" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:49.405" endtime="20230928 09:16:49.428"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:49.431" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:49.429" endtime="20230928 09:16:49.431"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:49.433" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:49.432" endtime="20230928 09:16:49.433"/>
</kw>
<status status="PASS" starttime="20230928 09:16:49.404" endtime="20230928 09:16:49.433"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:36.884" endtime="20230928 09:16:49.434"/>
</test>
<test id="s1-s17-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:49.445" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:16:55.249" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:55.249" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:49.440" endtime="20230928 09:16:55.249"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:55.251" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:55.250" endtime="20230928 09:16:55.251"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:55.252" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:55.252" endtime="20230928 09:16:55.253"/>
</kw>
<status status="PASS" starttime="20230928 09:16:49.439" endtime="20230928 09:16:55.253"/>
</kw>
<msg timestamp="20230928 09:16:55.253" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:49.438" endtime="20230928 09:16:55.254"/>
</kw>
<msg timestamp="20230928 09:16:55.254" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:49.437" endtime="20230928 09:16:55.254"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:16:55.255" endtime="20230928 09:16:55.256"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:49.436" endtime="20230928 09:16:55.256"/>
</test>
<test id="s1-s17-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:55.266" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:16:55.268" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:16:55.269" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:55.260" endtime="20230928 09:16:55.269"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:16:55.271" level="INFO"/>
<status status="PASS" starttime="20230928 09:16:55.269" endtime="20230928 09:16:55.271"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:16:55.272" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:16:55.271" endtime="20230928 09:16:55.272"/>
</kw>
<status status="PASS" starttime="20230928 09:16:55.259" endtime="20230928 09:16:55.273"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:16:55.281" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:05.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:05.907" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:55.277" endtime="20230928 09:17:05.907"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:05.909" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:05.908" endtime="20230928 09:17:05.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:05.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:05.909" endtime="20230928 09:17:05.910"/>
</kw>
<status status="PASS" starttime="20230928 09:16:55.276" endtime="20230928 09:17:05.910"/>
</kw>
<msg timestamp="20230928 09:17:05.911" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:16:55.274" endtime="20230928 09:17:05.911"/>
</kw>
<msg timestamp="20230928 09:17:05.911" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:16:55.273" endtime="20230928 09:17:05.911"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:05.911" endtime="20230928 09:17:05.912"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:05.917" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:05.920" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:05.920" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:05.913" endtime="20230928 09:17:05.920"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:05.921" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:05.920" endtime="20230928 09:17:05.921"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:05.922" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:05.922" endtime="20230928 09:17:05.922"/>
</kw>
<status status="PASS" starttime="20230928 09:17:05.912" endtime="20230928 09:17:05.923"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:16:55.258" endtime="20230928 09:17:05.923"/>
</test>
<test id="s1-s17-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:05.933" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:06.808" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:06.808" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:05.929" endtime="20230928 09:17:06.808"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:06.810" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:06.809" endtime="20230928 09:17:06.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:06.811" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:06.811" endtime="20230928 09:17:06.811"/>
</kw>
<status status="PASS" starttime="20230928 09:17:05.928" endtime="20230928 09:17:06.812"/>
</kw>
<msg timestamp="20230928 09:17:06.812" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:05.928" endtime="20230928 09:17:06.812"/>
</kw>
<status status="PASS" starttime="20230928 09:17:05.927" endtime="20230928 09:17:06.812"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:06.819" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:07.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:07.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:06.814" endtime="20230928 09:17:07.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:07.609" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:07.608" endtime="20230928 09:17:07.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:07.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:07.610" endtime="20230928 09:17:07.611"/>
</kw>
<status status="PASS" starttime="20230928 09:17:06.814" endtime="20230928 09:17:07.612"/>
</kw>
<msg timestamp="20230928 09:17:07.612" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:06.813" endtime="20230928 09:17:07.612"/>
</kw>
<status status="PASS" starttime="20230928 09:17:06.813" endtime="20230928 09:17:07.612"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:07.618" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:08.597" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:08.597" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:07.615" endtime="20230928 09:17:08.597"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:08.599" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:08.598" endtime="20230928 09:17:08.599"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:08.600" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:08.599" endtime="20230928 09:17:08.600"/>
</kw>
<status status="PASS" starttime="20230928 09:17:07.614" endtime="20230928 09:17:08.600"/>
</kw>
<msg timestamp="20230928 09:17:08.600" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:07.613" endtime="20230928 09:17:08.601"/>
</kw>
<status status="PASS" starttime="20230928 09:17:07.612" endtime="20230928 09:17:08.601"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:08.608" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:09.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:09.684" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:08.603" endtime="20230928 09:17:09.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:09.686" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:09.684" endtime="20230928 09:17:09.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:09.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:09.687" endtime="20230928 09:17:09.687"/>
</kw>
<status status="PASS" starttime="20230928 09:17:08.602" endtime="20230928 09:17:09.688"/>
</kw>
<msg timestamp="20230928 09:17:09.688" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:08.602" endtime="20230928 09:17:09.688"/>
</kw>
<status status="PASS" starttime="20230928 09:17:08.601" endtime="20230928 09:17:09.688"/>
</kw>
<status status="PASS" starttime="20230928 09:17:05.926" endtime="20230928 09:17:09.688"/>
</kw>
<status status="PASS" starttime="20230928 09:17:05.926" endtime="20230928 09:17:09.689"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:05.925" endtime="20230928 09:17:09.689"/>
</test>
<test id="s1-s17-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:17:09.693" level="INFO">${randStr} = 9371919805</msg>
<status status="PASS" starttime="20230928 09:17:09.692" endtime="20230928 09:17:09.693"/>
</kw>
<msg timestamp="20230928 09:17:09.693" level="INFO">${random} = ozone-test-9371919805</msg>
<status status="PASS" starttime="20230928 09:17:09.692" endtime="20230928 09:17:09.693"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:09.702" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket-ozone-test-9371919805 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:11.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:11.031" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9371919805"
}</msg>
<status status="PASS" starttime="20230928 09:17:09.698" endtime="20230928 09:17:11.031"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:11.032" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9371919805"
}</msg>
<status status="PASS" starttime="20230928 09:17:11.032" endtime="20230928 09:17:11.033"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:11.033" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:11.033" endtime="20230928 09:17:11.033"/>
</kw>
<status status="PASS" starttime="20230928 09:17:09.697" endtime="20230928 09:17:11.034"/>
</kw>
<msg timestamp="20230928 09:17:11.034" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:09.697" endtime="20230928 09:17:11.034"/>
</kw>
<msg timestamp="20230928 09:17:11.034" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9371919805"
}</msg>
<status status="PASS" starttime="20230928 09:17:09.696" endtime="20230928 09:17:11.035"/>
</kw>
<msg timestamp="20230928 09:17:11.035" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket-ozone-test-9371919805"
}</msg>
<status status="PASS" starttime="20230928 09:17:09.694" endtime="20230928 09:17:11.035"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:11.035" endtime="20230928 09:17:11.036"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:11.036" endtime="20230928 09:17:11.036"/>
</kw>
<msg timestamp="20230928 09:17:11.037" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 09:17:09.694" endtime="20230928 09:17:11.037"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 09:17:11.037" endtime="20230928 09:17:11.038"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:09.690" endtime="20230928 09:17:11.038"/>
</test>
<test id="s1-s17-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:11.047" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:17:11.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:11.049" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:11.042" endtime="20230928 09:17:11.049"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:11.052" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:11.050" endtime="20230928 09:17:11.052"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:11.053" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:11.052" endtime="20230928 09:17:11.054"/>
</kw>
<status status="PASS" starttime="20230928 09:17:11.041" endtime="20230928 09:17:11.054"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:11.063" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:13.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:13.010" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:11.059" endtime="20230928 09:17:13.010"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:13.012" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:13.011" endtime="20230928 09:17:13.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:13.013" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:13.012" endtime="20230928 09:17:13.013"/>
</kw>
<msg timestamp="20230928 09:17:13.013" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:11.057" endtime="20230928 09:17:13.014"/>
</kw>
<msg timestamp="20230928 09:17:13.014" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:11.055" endtime="20230928 09:17:13.014"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:13.015" endtime="20230928 09:17:13.015"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:13.020" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:13.024" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:13.024" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:13.016" endtime="20230928 09:17:13.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:13.025" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:13.025" endtime="20230928 09:17:13.026"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:13.026" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:13.026" endtime="20230928 09:17:13.027"/>
</kw>
<status status="PASS" starttime="20230928 09:17:13.015" endtime="20230928 09:17:13.027"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:11.040" endtime="20230928 09:17:13.027"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 09:16:22.832" endtime="20230928 09:17:13.030"/>
</suite>
<suite id="s1-s18" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s18-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:17:17.599" level="INFO">${random} = 48944</msg>
<status status="PASS" starttime="20230928 09:17:17.598" endtime="20230928 09:17:17.599"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:17.607" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-48944 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:27.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:27.038" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:17.602" endtime="20230928 09:17:27.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:27.040" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:27.039" endtime="20230928 09:17:27.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:27.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:27.040" endtime="20230928 09:17:27.041"/>
</kw>
<status status="PASS" starttime="20230928 09:17:17.601" endtime="20230928 09:17:27.042"/>
</kw>
<msg timestamp="20230928 09:17:27.042" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:17.601" endtime="20230928 09:17:27.042"/>
</kw>
<msg timestamp="20230928 09:17:27.042" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:17.600" endtime="20230928 09:17:27.042"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:27.043" endtime="20230928 09:17:27.043"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:27.049" level="INFO">Running command 'cat /tmp/key-48944 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:27.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:27.054" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:27.045" endtime="20230928 09:17:27.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:27.057" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:27.056" endtime="20230928 09:17:27.057"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:27.058" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:27.058" endtime="20230928 09:17:27.059"/>
</kw>
<msg timestamp="20230928 09:17:27.059" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:27.044" endtime="20230928 09:17:27.059"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:27.060" endtime="20230928 09:17:27.061"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:27.071" level="INFO">Running command 'rm /tmp/key-48944 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:27.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:27.075" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:27.065" endtime="20230928 09:17:27.075"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:27.078" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:27.076" endtime="20230928 09:17:27.078"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:27.079" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:27.078" endtime="20230928 09:17:27.079"/>
</kw>
<status status="PASS" starttime="20230928 09:17:27.061" endtime="20230928 09:17:27.079"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:17.597" endtime="20230928 09:17:27.080"/>
</test>
<test id="s1-s18-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:27.091" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:28.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:28.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:27.087" endtime="20230928 09:17:28.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:28.030" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:28.029" endtime="20230928 09:17:28.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:28.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:28.031" endtime="20230928 09:17:28.032"/>
</kw>
<status status="PASS" starttime="20230928 09:17:27.086" endtime="20230928 09:17:28.032"/>
</kw>
<msg timestamp="20230928 09:17:28.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:27.086" endtime="20230928 09:17:28.033"/>
</kw>
<status status="PASS" starttime="20230928 09:17:27.084" endtime="20230928 09:17:28.033"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:28.053" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:29.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:29.091" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:28.047" endtime="20230928 09:17:29.091"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:29.093" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:29.092" endtime="20230928 09:17:29.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:29.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:29.093" endtime="20230928 09:17:29.094"/>
</kw>
<status status="PASS" starttime="20230928 09:17:28.046" endtime="20230928 09:17:29.095"/>
</kw>
<msg timestamp="20230928 09:17:29.095" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:28.034" endtime="20230928 09:17:29.095"/>
</kw>
<status status="PASS" starttime="20230928 09:17:28.033" endtime="20230928 09:17:29.095"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:29.102" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:29.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:29.985" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:29.098" endtime="20230928 09:17:29.985"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:29.988" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:29.986" endtime="20230928 09:17:29.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:29.989" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:29.988" endtime="20230928 09:17:29.989"/>
</kw>
<status status="PASS" starttime="20230928 09:17:29.097" endtime="20230928 09:17:29.989"/>
</kw>
<msg timestamp="20230928 09:17:29.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:29.097" endtime="20230928 09:17:29.990"/>
</kw>
<status status="PASS" starttime="20230928 09:17:29.095" endtime="20230928 09:17:29.990"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:29.996" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:30.843" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:30.844" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:29.992" endtime="20230928 09:17:30.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:30.846" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:30.844" endtime="20230928 09:17:30.846"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:30.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:30.847" endtime="20230928 09:17:30.848"/>
</kw>
<status status="PASS" starttime="20230928 09:17:29.991" endtime="20230928 09:17:30.848"/>
</kw>
<msg timestamp="20230928 09:17:30.848" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:29.991" endtime="20230928 09:17:30.848"/>
</kw>
<status status="PASS" starttime="20230928 09:17:29.990" endtime="20230928 09:17:30.849"/>
</kw>
<status status="PASS" starttime="20230928 09:17:27.084" endtime="20230928 09:17:30.849"/>
</kw>
<status status="PASS" starttime="20230928 09:17:27.083" endtime="20230928 09:17:30.849"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:27.081" endtime="20230928 09:17:30.849"/>
</test>
<test id="s1-s18-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:30.862" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:32.116" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:32.116" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:30.856" endtime="20230928 09:17:32.117"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:32.119" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:17:31 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:17:32.118" endtime="20230928 09:17:32.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:32.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:32.120" endtime="20230928 09:17:32.121"/>
</kw>
<msg timestamp="20230928 09:17:32.121" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:30.855" endtime="20230928 09:17:32.121"/>
</kw>
<msg timestamp="20230928 09:17:32.122" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:30.854" endtime="20230928 09:17:32.122"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:32.122" endtime="20230928 09:17:32.123"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:32.128" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:32.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:32.133" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:32.124" endtime="20230928 09:17:32.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:32.135" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:32.134" endtime="20230928 09:17:32.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:32.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:32.136" endtime="20230928 09:17:32.137"/>
</kw>
<msg timestamp="20230928 09:17:32.138" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:17:32.123" endtime="20230928 09:17:32.138"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:32.138" endtime="20230928 09:17:32.139"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:32.145" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:32.149" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:32.149" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:32.140" endtime="20230928 09:17:32.149"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:32.152" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:32.150" endtime="20230928 09:17:32.152"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:32.153" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:32.152" endtime="20230928 09:17:32.153"/>
</kw>
<status status="PASS" starttime="20230928 09:17:32.139" endtime="20230928 09:17:32.153"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:30.852" endtime="20230928 09:17:32.153"/>
</test>
<test id="s1-s18-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:32.160" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:33.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:33.331" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:32.157" endtime="20230928 09:17:33.331"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:33.334" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:17:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:17:33.332" endtime="20230928 09:17:33.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:33.335" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:33.334" endtime="20230928 09:17:33.335"/>
</kw>
<msg timestamp="20230928 09:17:33.335" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:32.156" endtime="20230928 09:17:33.336"/>
</kw>
<msg timestamp="20230928 09:17:33.336" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:17:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:17:32.156" endtime="20230928 09:17:33.336"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:33.336" endtime="20230928 09:17:33.337"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:33.342" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:33.346" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:33.346" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:17:33.338" endtime="20230928 09:17:33.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:33.348" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:17:33.347" endtime="20230928 09:17:33.348"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:33.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:33.348" endtime="20230928 09:17:33.349"/>
</kw>
<msg timestamp="20230928 09:17:33.349" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:17:33.337" endtime="20230928 09:17:33.349"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:17:33.350" endtime="20230928 09:17:33.350"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:33.355" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:33.358" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:33.358" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:33.351" endtime="20230928 09:17:33.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:33.360" level="INFO"/>
<status status="PASS" starttime="20230928 09:17:33.359" endtime="20230928 09:17:33.361"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:33.362" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:33.361" endtime="20230928 09:17:33.362"/>
</kw>
<status status="PASS" starttime="20230928 09:17:33.351" endtime="20230928 09:17:33.362"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:17:32.154" endtime="20230928 09:17:33.363"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:17:17.440" endtime="20230928 09:17:33.366"/>
</suite>
<suite id="s1-s19" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s19-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:17:37.764" endtime="20230928 09:17:37.764"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:37.771" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:37.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:37.775" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:17:37.767" endtime="20230928 09:17:37.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:37.776" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:17:37.775" endtime="20230928 09:17:37.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:37.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:37.777" endtime="20230928 09:17:37.778"/>
</kw>
<status status="PASS" starttime="20230928 09:17:37.766" endtime="20230928 09:17:37.778"/>
</kw>
<msg timestamp="20230928 09:17:37.778" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:37.766" endtime="20230928 09:17:37.778"/>
</kw>
<msg timestamp="20230928 09:17:37.779" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230928 09:17:37.765" endtime="20230928 09:17:37.779"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:37.780" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=5084b0b1fd58
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230928 09:17:37.779" endtime="20230928 09:17:37.780"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:17:37.780" endtime="20230928 09:17:37.781"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:37.788" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:43.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:43.967" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:37.784" endtime="20230928 09:17:43.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:43.969" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:43.968" endtime="20230928 09:17:43.970"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:43.971" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:43.970" endtime="20230928 09:17:43.971"/>
</kw>
<status status="PASS" starttime="20230928 09:17:37.783" endtime="20230928 09:17:43.971"/>
</kw>
<msg timestamp="20230928 09:17:43.971" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:37.783" endtime="20230928 09:17:43.971"/>
</kw>
<msg timestamp="20230928 09:17:43.972" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:37.782" endtime="20230928 09:17:43.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:43.972" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:43.972" endtime="20230928 09:17:43.973"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:17:43.973" endtime="20230928 09:17:43.973"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:17:37.763" endtime="20230928 09:17:43.977"/>
</test>
<test id="s1-s19-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:17:43.980" endtime="20230928 09:17:43.981"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:17:43.981" endtime="20230928 09:17:43.982"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:43.988" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:17:52.110" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:17:52.110" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:43.984" endtime="20230928 09:17:52.111"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:52.113" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:52.111" endtime="20230928 09:17:52.113"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:17:52.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:17:52.113" endtime="20230928 09:17:52.115"/>
</kw>
<status status="PASS" starttime="20230928 09:17:43.983" endtime="20230928 09:17:52.115"/>
</kw>
<msg timestamp="20230928 09:17:52.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:43.983" endtime="20230928 09:17:52.115"/>
</kw>
<msg timestamp="20230928 09:17:52.116" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:43.982" endtime="20230928 09:17:52.116"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:17:52.117" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230928 09:17:52.116" endtime="20230928 09:17:52.117"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:17:52.117" endtime="20230928 09:17:52.118"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:17:43.979" endtime="20230928 09:17:52.119"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 09:17:37.672" endtime="20230928 09:17:52.121"/>
</suite>
<suite id="s1-s20" name="Snapshot-Sh" source="/opt/hadoop/smoketest/snapshot/snapshot-sh.robot">
<test id="s1-s20-t1" name="Snapshot Creation" line="31">
<kw name="Setup volume and bucket" library="snapshot-setup">
<kw name="Create volume" library="snapshot-setup">
<var>${volume}</var>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:17:56.769" level="INFO">${random} = lziwo</msg>
<status status="PASS" starttime="20230928 09:17:56.768" endtime="20230928 09:17:56.769"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${volume}</var>
<arg>vol-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:17:56.770" level="INFO">${volume} = vol-lziwo</msg>
<status status="PASS" starttime="20230928 09:17:56.769" endtime="20230928 09:17:56.770"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:17:56.776" level="INFO">Running command 'ozone sh volume create /vol-lziwo 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:02.852" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:02.852" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:17:56.772" endtime="20230928 09:18:02.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:02.854" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:02.853" endtime="20230928 09:18:02.854"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:02.855" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:02.854" endtime="20230928 09:18:02.855"/>
</kw>
<status status="PASS" starttime="20230928 09:17:56.772" endtime="20230928 09:18:02.855"/>
</kw>
<msg timestamp="20230928 09:18:02.855" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:17:56.771" endtime="20230928 09:18:02.856"/>
</kw>
<msg timestamp="20230928 09:18:02.856" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:17:56.770" endtime="20230928 09:18:02.856"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:02.856" endtime="20230928 09:18:02.857"/>
</kw>
<msg timestamp="20230928 09:18:02.857" level="INFO">${volume} = vol-lziwo</msg>
<status status="PASS" starttime="20230928 09:17:56.768" endtime="20230928 09:18:02.857"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${VOLUME}</arg>
<arg>${volume}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:02.858" level="INFO">${VOLUME} = vol-lziwo</msg>
<status status="PASS" starttime="20230928 09:18:02.858" endtime="20230928 09:18:02.858"/>
</kw>
<kw name="Create bucket" library="snapshot-setup">
<var>${bucket}</var>
<arg>${VOLUME}</arg>
<arg>FILE_SYSTEM_OPTIMIZED</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:02.860" level="INFO">${random} = djnhy</msg>
<status status="PASS" starttime="20230928 09:18:02.859" endtime="20230928 09:18:02.860"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${bucket}</var>
<arg>buc-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:02.861" level="INFO">${bucket} = buc-djnhy</msg>
<status status="PASS" starttime="20230928 09:18:02.861" endtime="20230928 09:18:02.861"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket create -l ${bucket_layout} /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:02.868" level="INFO">Running command 'ozone sh bucket create -l FILE_SYSTEM_OPTIMIZED /vol-lziwo/buc-djnhy 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:08.796" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:08.796" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:02.864" endtime="20230928 09:18:08.796"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:08.798" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:08.797" endtime="20230928 09:18:08.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:08.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:08.798" endtime="20230928 09:18:08.802"/>
</kw>
<status status="PASS" starttime="20230928 09:18:02.863" endtime="20230928 09:18:08.802"/>
</kw>
<msg timestamp="20230928 09:18:08.803" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:02.863" endtime="20230928 09:18:08.803"/>
</kw>
<msg timestamp="20230928 09:18:08.803" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:02.861" endtime="20230928 09:18:08.803"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:08.804" endtime="20230928 09:18:08.804"/>
</kw>
<msg timestamp="20230928 09:18:08.805" level="INFO">${bucket} = buc-djnhy</msg>
<status status="PASS" starttime="20230928 09:18:02.859" endtime="20230928 09:18:08.805"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${BUCKET}</arg>
<arg>${bucket}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:08.805" level="INFO">${BUCKET} = buc-djnhy</msg>
<status status="PASS" starttime="20230928 09:18:08.805" endtime="20230928 09:18:08.806"/>
</kw>
<status status="PASS" starttime="20230928 09:17:56.767" endtime="20230928 09:18:08.806"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/hosts</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:08.808" level="INFO">${random} = clvyk</msg>
<status status="PASS" starttime="20230928 09:18:08.807" endtime="20230928 09:18:08.808"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:08.809" level="INFO">${key} = key-clvyk</msg>
<status status="PASS" starttime="20230928 09:18:08.808" endtime="20230928 09:18:08.809"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:08.815" level="INFO">Running command 'ozone sh key put /vol-lziwo/buc-djnhy/key-clvyk /etc/hosts 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:19.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:19.680" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:08.811" endtime="20230928 09:18:19.680"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:19.681" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:19.680" endtime="20230928 09:18:19.681"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:19.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:19.686" endtime="20230928 09:18:19.688"/>
</kw>
<status status="PASS" starttime="20230928 09:18:08.811" endtime="20230928 09:18:19.688"/>
</kw>
<msg timestamp="20230928 09:18:19.689" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:08.810" endtime="20230928 09:18:19.689"/>
</kw>
<msg timestamp="20230928 09:18:19.689" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:08.809" endtime="20230928 09:18:19.689"/>
</kw>
<msg timestamp="20230928 09:18:19.690" level="INFO">${key_one} = key-clvyk</msg>
<status status="PASS" starttime="20230928 09:18:08.806" endtime="20230928 09:18:19.690"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_ONE}</arg>
<arg>${key_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:19.692" level="INFO">${KEY_ONE} = key-clvyk</msg>
<status status="PASS" starttime="20230928 09:18:19.691" endtime="20230928 09:18:19.692"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_one}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:19.697" level="INFO">${random} = xuhyz</msg>
<status status="PASS" starttime="20230928 09:18:19.695" endtime="20230928 09:18:19.697"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:19.699" level="INFO">${snapshot} = snap-xuhyz</msg>
<status status="PASS" starttime="20230928 09:18:19.697" endtime="20230928 09:18:19.699"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:19.709" level="INFO">Running command 'ozone sh snapshot create /vol-lziwo/buc-djnhy snap-xuhyz 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:26.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:26.396" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:19.703" endtime="20230928 09:18:26.396"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:26.403" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:26.401" endtime="20230928 09:18:26.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:26.406" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:26.405" endtime="20230928 09:18:26.406"/>
</kw>
<status status="PASS" starttime="20230928 09:18:19.702" endtime="20230928 09:18:26.408"/>
</kw>
<msg timestamp="20230928 09:18:26.408" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:19.701" endtime="20230928 09:18:26.408"/>
</kw>
<msg timestamp="20230928 09:18:26.408" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:19.699" endtime="20230928 09:18:26.408"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:26.409" endtime="20230928 09:18:26.412"/>
</kw>
<msg timestamp="20230928 09:18:26.413" level="INFO">${snapshot_one} = snap-xuhyz</msg>
<status status="PASS" starttime="20230928 09:18:19.693" endtime="20230928 09:18:26.413"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_ONE}</arg>
<arg>${snapshot_one}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:26.414" level="INFO">${SNAPSHOT_ONE} = snap-xuhyz</msg>
<status status="PASS" starttime="20230928 09:18:26.413" endtime="20230928 09:18:26.414"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:17:56.765" endtime="20230928 09:18:26.418"/>
</test>
<test id="s1-s20-t2" name="Snapshot List" line="38">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:26.443" level="INFO">Running command 'ozone sh snapshot ls /vol-lziwo/buc-djnhy 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:33.009" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:33.009" level="INFO">${output} = [ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "name" : "snap-xuhyz",
  "creationTime" : 1695892705857,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "6c64ca6b-30fb-400c-...</msg>
<status status="PASS" starttime="20230928 09:18:26.437" endtime="20230928 09:18:33.009"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:33.012" level="INFO">[ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "name" : "snap-xuhyz",
  "creationTime" : 1695892705857,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "6c64ca6b-30fb-400c-9ca7-f6bfe27c30bf",
  "snapshotPath" : "vol-lziwo/buc-djnhy",
  "checkpointDir" : "-6c64ca6b-30fb-400c-9ca7-f6bfe27c30bf",
  "referencedSize" : 173,
  "referencedReplicatedSize" : 519,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]</msg>
<status status="PASS" starttime="20230928 09:18:33.011" endtime="20230928 09:18:33.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:33.013" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:33.012" endtime="20230928 09:18:33.013"/>
</kw>
<status status="PASS" starttime="20230928 09:18:26.434" endtime="20230928 09:18:33.013"/>
</kw>
<msg timestamp="20230928 09:18:33.013" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:26.434" endtime="20230928 09:18:33.014"/>
</kw>
<msg timestamp="20230928 09:18:33.014" level="INFO">${result} = [ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "name" : "snap-xuhyz",
  "creationTime" : 1695892705857,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "6c64ca6b-30fb-400c-...</msg>
<status status="PASS" starttime="20230928 09:18:26.430" endtime="20230928 09:18:33.014"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:33.015" endtime="20230928 09:18:33.015"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:33.016" endtime="20230928 09:18:33.016"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:18:26.423" endtime="20230928 09:18:33.016"/>
</test>
<test id="s1-s20-t3" name="Snapshot Diff" line="43">
<kw name="Create key" library="snapshot-setup">
<var>${key_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/passwd</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:33.021" level="INFO">${random} = iqfnq</msg>
<status status="PASS" starttime="20230928 09:18:33.020" endtime="20230928 09:18:33.021"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:33.022" level="INFO">${key} = key-iqfnq</msg>
<status status="PASS" starttime="20230928 09:18:33.021" endtime="20230928 09:18:33.022"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:33.029" level="INFO">Running command 'ozone sh key put /vol-lziwo/buc-djnhy/key-iqfnq /etc/passwd 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:43.290" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:43.290" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:33.025" endtime="20230928 09:18:43.290"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:43.292" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:43.290" endtime="20230928 09:18:43.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:43.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:43.292" endtime="20230928 09:18:43.293"/>
</kw>
<status status="PASS" starttime="20230928 09:18:33.024" endtime="20230928 09:18:43.293"/>
</kw>
<msg timestamp="20230928 09:18:43.293" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:33.023" endtime="20230928 09:18:43.293"/>
</kw>
<msg timestamp="20230928 09:18:43.294" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:33.022" endtime="20230928 09:18:43.294"/>
</kw>
<msg timestamp="20230928 09:18:43.294" level="INFO">${key_two} = key-iqfnq</msg>
<status status="PASS" starttime="20230928 09:18:33.019" endtime="20230928 09:18:43.294"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_TWO}</arg>
<arg>${key_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:43.295" level="INFO">${KEY_TWO} = key-iqfnq</msg>
<status status="PASS" starttime="20230928 09:18:43.294" endtime="20230928 09:18:43.295"/>
</kw>
<kw name="Create key" library="snapshot-setup">
<var>${key_three}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>/etc/group</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:43.297" level="INFO">${random} = wxkel</msg>
<status status="PASS" starttime="20230928 09:18:43.296" endtime="20230928 09:18:43.297"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${key}</var>
<arg>key-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:43.298" level="INFO">${key} = key-wxkel</msg>
<status status="PASS" starttime="20230928 09:18:43.297" endtime="20230928 09:18:43.298"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:43.304" level="INFO">Running command 'ozone sh key put /vol-lziwo/buc-djnhy/key-wxkel /etc/group 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:53.659" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:53.659" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:43.300" endtime="20230928 09:18:53.659"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:53.660" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:53.659" endtime="20230928 09:18:53.661"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:53.662" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:53.661" endtime="20230928 09:18:53.662"/>
</kw>
<status status="PASS" starttime="20230928 09:18:43.300" endtime="20230928 09:18:53.662"/>
</kw>
<msg timestamp="20230928 09:18:53.662" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:43.299" endtime="20230928 09:18:53.662"/>
</kw>
<msg timestamp="20230928 09:18:53.663" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:43.298" endtime="20230928 09:18:53.663"/>
</kw>
<msg timestamp="20230928 09:18:53.663" level="INFO">${key_three} = key-wxkel</msg>
<status status="PASS" starttime="20230928 09:18:43.296" endtime="20230928 09:18:53.663"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${KEY_THREE}</arg>
<arg>${key_three}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:53.664" level="INFO">${KEY_THREE} = key-wxkel</msg>
<status status="PASS" starttime="20230928 09:18:53.663" endtime="20230928 09:18:53.664"/>
</kw>
<kw name="Create snapshot" library="snapshot-setup">
<var>${snapshot_two}</var>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[LOWER]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:18:53.665" level="INFO">${random} = obxar</msg>
<status status="PASS" starttime="20230928 09:18:53.665" endtime="20230928 09:18:53.665"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${snapshot}</var>
<arg>snap-${random}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:18:53.666" level="INFO">${snapshot} = snap-obxar</msg>
<status status="PASS" starttime="20230928 09:18:53.666" endtime="20230928 09:18:53.666"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:53.673" level="INFO">Running command 'ozone sh snapshot create /vol-lziwo/buc-djnhy snap-obxar 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:18:59.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:18:59.872" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:18:53.669" endtime="20230928 09:18:59.872"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:18:59.874" level="INFO"/>
<status status="PASS" starttime="20230928 09:18:59.873" endtime="20230928 09:18:59.875"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:18:59.876" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:18:59.875" endtime="20230928 09:18:59.876"/>
</kw>
<status status="PASS" starttime="20230928 09:18:53.668" endtime="20230928 09:18:59.877"/>
</kw>
<msg timestamp="20230928 09:18:59.877" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:53.667" endtime="20230928 09:18:59.877"/>
</kw>
<msg timestamp="20230928 09:18:59.878" level="INFO">${result} = </msg>
<status status="PASS" starttime="20230928 09:18:53.667" endtime="20230928 09:18:59.878"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:18:59.878" endtime="20230928 09:18:59.879"/>
</kw>
<msg timestamp="20230928 09:18:59.880" level="INFO">${snapshot_two} = snap-obxar</msg>
<status status="PASS" starttime="20230928 09:18:53.664" endtime="20230928 09:18:59.880"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${SNAPSHOT_TWO}</arg>
<arg>${snapshot_two}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20230928 09:18:59.881" level="INFO">${SNAPSHOT_TWO} = snap-obxar</msg>
<status status="PASS" starttime="20230928 09:18:59.880" endtime="20230928 09:18:59.881"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:18:59.889" level="INFO">Running command 'ozone sh snapshot diff /vol-lziwo/buc-djnhy snap-xuhyz snap-obxar 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:05.664" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:05.664" level="INFO">${output} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 09:18:59.885" endtime="20230928 09:19:05.664"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:05.667" level="INFO">Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 09:19:05.665" endtime="20230928 09:19:05.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:05.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:05.667" endtime="20230928 09:19:05.668"/>
</kw>
<status status="PASS" starttime="20230928 09:18:59.884" endtime="20230928 09:19:05.669"/>
</kw>
<msg timestamp="20230928 09:19:05.669" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:18:59.883" endtime="20230928 09:19:05.669"/>
</kw>
<msg timestamp="20230928 09:19:05.670" level="INFO">${result} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<status status="PASS" starttime="20230928 09:18:59.881" endtime="20230928 09:19:05.670"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Snapshot diff job is IN_PROGRESS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:05.671" endtime="20230928 09:19:05.671"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot diff /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE} ${SNAPSHOT_TWO}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:05.687" level="INFO">Running command 'ozone sh snapshot diff /vol-lziwo/buc-djnhy snap-xuhyz snap-obxar 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:11.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:11.530" level="INFO">${output} = Difference between snapshot: snap-xuhyz and snapshot: snap-obxar
+	./key-iqfnq
+	./key-wxkel
</msg>
<status status="PASS" starttime="20230928 09:19:05.677" endtime="20230928 09:19:11.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:11.532" level="INFO">Difference between snapshot: snap-xuhyz and snapshot: snap-obxar
+	./key-iqfnq
+	./key-wxkel
</msg>
<status status="PASS" starttime="20230928 09:19:11.531" endtime="20230928 09:19:11.533"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:11.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:11.533" endtime="20230928 09:19:11.534"/>
</kw>
<status status="PASS" starttime="20230928 09:19:05.676" endtime="20230928 09:19:11.534"/>
</kw>
<msg timestamp="20230928 09:19:11.534" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:05.675" endtime="20230928 09:19:11.535"/>
</kw>
<msg timestamp="20230928 09:19:11.535" level="INFO">${result} = Difference between snapshot: snap-xuhyz and snapshot: snap-obxar
+	./key-iqfnq
+	./key-wxkel
</msg>
<status status="PASS" starttime="20230928 09:19:05.672" endtime="20230928 09:19:11.536"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:11.536" endtime="20230928 09:19:11.537"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>+</arg>
<arg>${KEY_THREE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:11.537" endtime="20230928 09:19:11.537"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:18:33.018" endtime="20230928 09:19:11.538"/>
</test>
<test id="s1-s20-t4" name="List Snapshot Diff Jobs" line="56">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh snapshot listDiff /${VOLUME}/${BUCKET} --all</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:11.547" level="INFO">Running command 'ozone sh snapshot listDiff /vol-lziwo/buc-djnhy --all 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:18.314" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:18.315" level="INFO">${output} = [ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "fromSnapshot" : "snap-xuhyz",
  "toSnapshot" : "snap-obxar",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 09:19:11.543" endtime="20230928 09:19:18.315"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:18.316" level="INFO">[ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "fromSnapshot" : "snap-xuhyz",
  "toSnapshot" : "snap-obxar",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 09:19:18.315" endtime="20230928 09:19:18.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:18.317" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:18.317" endtime="20230928 09:19:18.318"/>
</kw>
<status status="PASS" starttime="20230928 09:19:11.542" endtime="20230928 09:19:18.318"/>
</kw>
<msg timestamp="20230928 09:19:18.318" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:11.542" endtime="20230928 09:19:18.318"/>
</kw>
<msg timestamp="20230928 09:19:18.318" level="INFO">${result} = [ {
  "volumeName" : "vol-lziwo",
  "bucketName" : "buc-djnhy",
  "fromSnapshot" : "snap-xuhyz",
  "toSnapshot" : "snap-obxar",
  "jobStatus" : "DONE"
} ]</msg>
<status status="PASS" starttime="20230928 09:19:11.541" endtime="20230928 09:19:18.318"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${VOLUME}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:18.319" endtime="20230928 09:19:18.320"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${BUCKET}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:18.320" endtime="20230928 09:19:18.320"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_ONE}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:18.321" endtime="20230928 09:19:18.321"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${SNAPSHOT_TWO}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:18.321" endtime="20230928 09:19:18.322"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:19:11.540" endtime="20230928 09:19:18.322"/>
</test>
<test id="s1-s20-t5" name="Read Snapshot" line="63">
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_ONE}/${KEY_ONE}</arg>
<arg>/etc/hosts</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:19:18.327" level="INFO">${postfix} = 56419</msg>
<status status="PASS" starttime="20230928 09:19:18.326" endtime="20230928 09:19:18.327"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:19:18.328" level="INFO">${tmpfile} = /tmp/tempkey-56419</msg>
<status status="PASS" starttime="20230928 09:19:18.327" endtime="20230928 09:19:18.328"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:18.335" level="INFO">Running command 'ozone sh key get /vol-lziwo/buc-djnhy/.snapshot/snap-xuhyz/key-clvyk /tmp/tempkey-56419 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:27.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:27.483" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:18.330" endtime="20230928 09:19:27.484"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:27.486" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:27.484" endtime="20230928 09:19:27.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:27.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:27.486" endtime="20230928 09:19:27.487"/>
</kw>
<status status="PASS" starttime="20230928 09:19:18.329" endtime="20230928 09:19:27.488"/>
</kw>
<msg timestamp="20230928 09:19:27.488" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:18.329" endtime="20230928 09:19:27.488"/>
</kw>
<status status="PASS" starttime="20230928 09:19:18.328" endtime="20230928 09:19:27.489"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 09:19:27.494" level="INFO">Running command 'diff -q /etc/hosts /tmp/tempkey-56419 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:27.503" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 09:19:27.489" endtime="20230928 09:19:27.503"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:27.511" level="INFO">Running command 'rm -f /tmp/tempkey-56419 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:27.517" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:27.517" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:27.507" endtime="20230928 09:19:27.517"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:27.520" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:27.518" endtime="20230928 09:19:27.520"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:27.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:27.521" endtime="20230928 09:19:27.523"/>
</kw>
<status status="PASS" starttime="20230928 09:19:27.506" endtime="20230928 09:19:27.523"/>
</kw>
<msg timestamp="20230928 09:19:27.523" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:27.505" endtime="20230928 09:19:27.524"/>
</kw>
<status status="PASS" starttime="20230928 09:19:27.504" endtime="20230928 09:19:27.524"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 09:19:27.526" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 09:19:27.525" endtime="20230928 09:19:27.526"/>
</kw>
<msg timestamp="20230928 09:19:27.527" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 09:19:18.325" endtime="20230928 09:19:27.527"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 09:19:27.527" endtime="20230928 09:19:27.528"/>
</kw>
<status status="PASS" starttime="20230928 09:19:18.324" endtime="20230928 09:19:27.528"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_TWO}</arg>
<arg>/etc/passwd</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:19:27.532" level="INFO">${postfix} = 59331</msg>
<status status="PASS" starttime="20230928 09:19:27.531" endtime="20230928 09:19:27.532"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:19:27.533" level="INFO">${tmpfile} = /tmp/tempkey-59331</msg>
<status status="PASS" starttime="20230928 09:19:27.532" endtime="20230928 09:19:27.533"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:27.542" level="INFO">Running command 'ozone sh key get /vol-lziwo/buc-djnhy/.snapshot/snap-obxar/key-iqfnq /tmp/tempkey-59331 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:37.842" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:37.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:27.536" endtime="20230928 09:19:37.843"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:37.844" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:37.843" endtime="20230928 09:19:37.844"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:37.845" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:37.845" endtime="20230928 09:19:37.846"/>
</kw>
<status status="PASS" starttime="20230928 09:19:27.535" endtime="20230928 09:19:37.846"/>
</kw>
<msg timestamp="20230928 09:19:37.846" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:27.534" endtime="20230928 09:19:37.846"/>
</kw>
<status status="PASS" starttime="20230928 09:19:27.533" endtime="20230928 09:19:37.846"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 09:19:37.851" level="INFO">Running command 'diff -q /etc/passwd /tmp/tempkey-59331 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:37.855" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 09:19:37.847" endtime="20230928 09:19:37.855"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:37.862" level="INFO">Running command 'rm -f /tmp/tempkey-59331 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:37.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:37.867" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:37.859" endtime="20230928 09:19:37.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:37.868" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:37.867" endtime="20230928 09:19:37.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:37.870" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:37.869" endtime="20230928 09:19:37.870"/>
</kw>
<status status="PASS" starttime="20230928 09:19:37.858" endtime="20230928 09:19:37.870"/>
</kw>
<msg timestamp="20230928 09:19:37.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:37.857" endtime="20230928 09:19:37.871"/>
</kw>
<status status="PASS" starttime="20230928 09:19:37.856" endtime="20230928 09:19:37.871"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 09:19:37.872" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 09:19:37.871" endtime="20230928 09:19:37.872"/>
</kw>
<msg timestamp="20230928 09:19:37.872" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 09:19:27.530" endtime="20230928 09:19:37.872"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 09:19:37.872" endtime="20230928 09:19:37.873"/>
</kw>
<status status="PASS" starttime="20230928 09:19:27.529" endtime="20230928 09:19:37.873"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/${VOLUME}/${BUCKET}/${SNAPSHOT_INDICATOR}/${SNAPSHOT_TWO}/${KEY_THREE}</arg>
<arg>/etc/group</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:19:37.876" level="INFO">${postfix} = 43714</msg>
<status status="PASS" starttime="20230928 09:19:37.875" endtime="20230928 09:19:37.876"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230928 09:19:37.877" level="INFO">${tmpfile} = /tmp/tempkey-43714</msg>
<status status="PASS" starttime="20230928 09:19:37.876" endtime="20230928 09:19:37.877"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:37.883" level="INFO">Running command 'ozone sh key get /vol-lziwo/buc-djnhy/.snapshot/snap-obxar/key-wxkel /tmp/tempkey-43714 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:46.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:46.749" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:37.879" endtime="20230928 09:19:46.749"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:46.751" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:46.750" endtime="20230928 09:19:46.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:46.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:46.752" endtime="20230928 09:19:46.753"/>
</kw>
<status status="PASS" starttime="20230928 09:19:37.879" endtime="20230928 09:19:46.754"/>
</kw>
<msg timestamp="20230928 09:19:46.754" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:37.878" endtime="20230928 09:19:46.754"/>
</kw>
<status status="PASS" starttime="20230928 09:19:37.877" endtime="20230928 09:19:46.754"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230928 09:19:46.758" level="INFO">Running command 'diff -q /etc/group /tmp/tempkey-43714 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:46.763" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230928 09:19:46.755" endtime="20230928 09:19:46.763"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:46.771" level="INFO">Running command 'rm -f /tmp/tempkey-43714 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:46.777" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:46.777" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:46.767" endtime="20230928 09:19:46.777"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:46.779" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:46.778" endtime="20230928 09:19:46.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:46.781" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:46.780" endtime="20230928 09:19:46.781"/>
</kw>
<status status="PASS" starttime="20230928 09:19:46.766" endtime="20230928 09:19:46.781"/>
</kw>
<msg timestamp="20230928 09:19:46.782" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:46.765" endtime="20230928 09:19:46.782"/>
</kw>
<status status="PASS" starttime="20230928 09:19:46.764" endtime="20230928 09:19:46.782"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230928 09:19:46.785" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230928 09:19:46.784" endtime="20230928 09:19:46.785"/>
</kw>
<msg timestamp="20230928 09:19:46.786" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230928 09:19:37.875" endtime="20230928 09:19:46.786"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230928 09:19:46.786" endtime="20230928 09:19:46.787"/>
</kw>
<status status="PASS" starttime="20230928 09:19:37.874" endtime="20230928 09:19:46.787"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:19:18.323" endtime="20230928 09:19:46.787"/>
</test>
<test id="s1-s20-t6" name="Delete snapshot" line="68">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /${VOLUME}/${BUCKET} ${SNAPSHOT_ONE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:46.797" level="INFO">Running command 'ozone sh snapshot delete /vol-lziwo/buc-djnhy snap-xuhyz 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:19:52.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:52.135" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:46.793" endtime="20230928 09:19:52.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:52.137" level="INFO"/>
<status status="PASS" starttime="20230928 09:19:52.136" endtime="20230928 09:19:52.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:52.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:52.138" endtime="20230928 09:19:52.139"/>
</kw>
<status status="PASS" starttime="20230928 09:19:46.792" endtime="20230928 09:19:52.139"/>
</kw>
<msg timestamp="20230928 09:19:52.139" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:46.791" endtime="20230928 09:19:52.139"/>
</kw>
<msg timestamp="20230928 09:19:52.139" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:19:46.790" endtime="20230928 09:19:52.140"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:52.140" endtime="20230928 09:19:52.140"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /${VOLUME}/${BUCKET} | jq '[.[] | select(.name == "${SNAPSHOT_ONE}") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:19:52.147" level="INFO">Running command 'ozone sh snapshot ls /vol-lziwo/buc-djnhy | jq '[.[] | select(.name == "snap-xuhyz") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end''.</msg>
<msg timestamp="20230928 09:19:58.432" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:19:58.432" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 09:19:52.143" endtime="20230928 09:19:58.432"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:19:58.435" level="INFO">"SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 09:19:58.434" endtime="20230928 09:19:58.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:19:58.437" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:19:58.436" endtime="20230928 09:19:58.437"/>
</kw>
<status status="PASS" starttime="20230928 09:19:52.142" endtime="20230928 09:19:58.439"/>
</kw>
<msg timestamp="20230928 09:19:58.439" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:19:52.142" endtime="20230928 09:19:58.440"/>
</kw>
<msg timestamp="20230928 09:19:58.440" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230928 09:19:52.141" endtime="20230928 09:19:58.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:19:58.440" endtime="20230928 09:19:58.441"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:19:46.789" endtime="20230928 09:19:58.441"/>
</test>
<doc>Test for using sh commands with snapshots.</doc>
<status status="PASS" starttime="20230928 09:17:56.622" endtime="20230928 09:19:58.446"/>
</suite>
<suite id="s1-s21" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s21-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:00:36.209" level="INFO">${random} = 11319</msg>
<status status="PASS" starttime="20230928 09:00:36.207" endtime="20230928 09:00:36.209"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:36.216" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-11319 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:47.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:47.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:36.212" endtime="20230928 09:00:47.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:47.615" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:47.610" endtime="20230928 09:00:47.615"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:47.616" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:47.615" endtime="20230928 09:00:47.616"/>
</kw>
<status status="PASS" starttime="20230928 09:00:36.211" endtime="20230928 09:00:47.616"/>
</kw>
<msg timestamp="20230928 09:00:47.616" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:00:36.210" endtime="20230928 09:00:47.617"/>
</kw>
<msg timestamp="20230928 09:00:47.617" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:36.209" endtime="20230928 09:00:47.617"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:00:47.617" endtime="20230928 09:00:47.618"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:47.624" level="INFO">Running command 'cat /tmp/key-11319 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:47.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:47.629" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:47.620" endtime="20230928 09:00:47.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:47.632" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:47.630" endtime="20230928 09:00:47.632"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:47.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:47.632" endtime="20230928 09:00:47.633"/>
</kw>
<msg timestamp="20230928 09:00:47.633" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:47.618" endtime="20230928 09:00:47.633"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:00:47.634" endtime="20230928 09:00:47.634"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:47.639" level="INFO">Running command 'rm /tmp/key-11319 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:47.645" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:47.645" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:47.636" endtime="20230928 09:00:47.645"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:47.646" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:47.645" endtime="20230928 09:00:47.646"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:47.647" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:47.647" endtime="20230928 09:00:47.647"/>
</kw>
<status status="PASS" starttime="20230928 09:00:47.635" endtime="20230928 09:00:47.648"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:00:36.206" endtime="20230928 09:00:47.648"/>
</test>
<test id="s1-s21-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:47.657" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:49.264" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:49.265" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:47.654" endtime="20230928 09:00:49.265"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:49.268" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:49.266" endtime="20230928 09:00:49.268"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:49.271" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:49.270" endtime="20230928 09:00:49.271"/>
</kw>
<status status="PASS" starttime="20230928 09:00:47.653" endtime="20230928 09:00:49.272"/>
</kw>
<msg timestamp="20230928 09:00:49.272" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:00:47.652" endtime="20230928 09:00:49.272"/>
</kw>
<status status="PASS" starttime="20230928 09:00:47.652" endtime="20230928 09:00:49.272"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:49.280" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:50.213" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:50.213" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:49.276" endtime="20230928 09:00:50.213"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:50.216" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:50.214" endtime="20230928 09:00:50.216"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:50.218" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:50.217" endtime="20230928 09:00:50.218"/>
</kw>
<status status="PASS" starttime="20230928 09:00:49.275" endtime="20230928 09:00:50.219"/>
</kw>
<msg timestamp="20230928 09:00:50.219" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:00:49.274" endtime="20230928 09:00:50.219"/>
</kw>
<status status="PASS" starttime="20230928 09:00:49.273" endtime="20230928 09:00:50.219"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:50.228" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:51.236" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:51.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:50.223" endtime="20230928 09:00:51.236"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:51.238" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:51.237" endtime="20230928 09:00:51.238"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:51.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:51.239" endtime="20230928 09:00:51.241"/>
</kw>
<status status="PASS" starttime="20230928 09:00:50.221" endtime="20230928 09:00:51.241"/>
</kw>
<msg timestamp="20230928 09:00:51.241" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:00:50.221" endtime="20230928 09:00:51.241"/>
</kw>
<status status="PASS" starttime="20230928 09:00:50.220" endtime="20230928 09:00:51.242"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:51.250" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:52.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:52.049" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:51.246" endtime="20230928 09:00:52.049"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:52.051" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:52.050" endtime="20230928 09:00:52.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:52.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:52.052" endtime="20230928 09:00:52.054"/>
</kw>
<status status="PASS" starttime="20230928 09:00:51.244" endtime="20230928 09:00:52.055"/>
</kw>
<msg timestamp="20230928 09:00:52.055" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:00:51.243" endtime="20230928 09:00:52.055"/>
</kw>
<status status="PASS" starttime="20230928 09:00:51.242" endtime="20230928 09:00:52.055"/>
</kw>
<status status="PASS" starttime="20230928 09:00:47.651" endtime="20230928 09:00:52.056"/>
</kw>
<status status="PASS" starttime="20230928 09:00:47.651" endtime="20230928 09:00:52.056"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:00:47.649" endtime="20230928 09:00:52.056"/>
</test>
<test id="s1-s21-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:52.065" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:58.718" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:58.719" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:52.061" endtime="20230928 09:00:58.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:58.721" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:00:53 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:00:58.720" endtime="20230928 09:00:58.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:58.722" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:58.722" endtime="20230928 09:00:58.723"/>
</kw>
<msg timestamp="20230928 09:00:58.723" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:52.060" endtime="20230928 09:00:58.723"/>
</kw>
<msg timestamp="20230928 09:00:58.723" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:27 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:52.060" endtime="20230928 09:00:58.723"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:00:58.724" endtime="20230928 09:00:58.725"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:58.730" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:58.733" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:58.733" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:58.726" endtime="20230928 09:00:58.733"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:58.735" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:58.734" endtime="20230928 09:00:58.735"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:58.736" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:58.735" endtime="20230928 09:00:58.736"/>
</kw>
<msg timestamp="20230928 09:00:58.736" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:00:58.725" endtime="20230928 09:00:58.736"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:00:58.737" endtime="20230928 09:00:58.737"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:58.742" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:00:58.745" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:00:58.745" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:00:58.738" endtime="20230928 09:00:58.745"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:00:58.747" level="INFO"/>
<status status="PASS" starttime="20230928 09:00:58.746" endtime="20230928 09:00:58.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:00:58.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:00:58.747" endtime="20230928 09:00:58.748"/>
</kw>
<status status="PASS" starttime="20230928 09:00:58.737" endtime="20230928 09:00:58.748"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:00:52.058" endtime="20230928 09:00:58.749"/>
</test>
<test id="s1-s21-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:00:58.756" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:00.052" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:00.052" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:58.753" endtime="20230928 09:01:00.052"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:00.059" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:00:59 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:01:00.053" endtime="20230928 09:01:00.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:00.061" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:00.060" endtime="20230928 09:01:00.061"/>
</kw>
<msg timestamp="20230928 09:01:00.061" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:58.752" endtime="20230928 09:01:00.062"/>
</kw>
<msg timestamp="20230928 09:01:00.062" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 08:56:36 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:00:58.752" endtime="20230928 09:01:00.062"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:00.063" endtime="20230928 09:01:00.064"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:00.070" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:00.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:00.075" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:01:00.065" endtime="20230928 09:01:00.075"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:00.077" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:01:00.076" endtime="20230928 09:01:00.077"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:00.078" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:00.077" endtime="20230928 09:01:00.078"/>
</kw>
<msg timestamp="20230928 09:01:00.080" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:01:00.064" endtime="20230928 09:01:00.080"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:00.080" endtime="20230928 09:01:00.081"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:00.087" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:00.092" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:00.092" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:00.082" endtime="20230928 09:01:00.092"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:00.095" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:00.094" endtime="20230928 09:01:00.095"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:00.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:00.096" endtime="20230928 09:01:00.097"/>
</kw>
<status status="PASS" starttime="20230928 09:01:00.081" endtime="20230928 09:01:00.098"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:00:58.751" endtime="20230928 09:01:00.099"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:00:36.023" endtime="20230928 09:01:00.101"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:04.429" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:01:04.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:04.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:04.426" endtime="20230928 09:01:04.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:04.434" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:04.434" endtime="20230928 09:01:04.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:04.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:04.435" endtime="20230928 09:01:04.436"/>
</kw>
<status status="PASS" starttime="20230928 09:01:04.425" endtime="20230928 09:01:04.436"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:04.443" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:17.906" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:17.906" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:04.439" endtime="20230928 09:01:17.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:17.908" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:17.907" endtime="20230928 09:01:17.908"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:17.909" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:17.908" endtime="20230928 09:01:17.909"/>
</kw>
<status status="PASS" starttime="20230928 09:01:04.438" endtime="20230928 09:01:17.909"/>
</kw>
<msg timestamp="20230928 09:01:17.909" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:04.437" endtime="20230928 09:01:17.910"/>
</kw>
<msg timestamp="20230928 09:01:17.910" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:04.436" endtime="20230928 09:01:17.910"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:17.910" endtime="20230928 09:01:17.911"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:17.915" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:17.921" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:17.921" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:17.911" endtime="20230928 09:01:17.921"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:17.922" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:17.921" endtime="20230928 09:01:17.922"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:17.923" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:17.923" endtime="20230928 09:01:17.924"/>
</kw>
<status status="PASS" starttime="20230928 09:01:17.911" endtime="20230928 09:01:17.924"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:04.424" endtime="20230928 09:01:17.924"/>
</test>
<test id="s1-s22-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:17.931" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:01:17.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:17.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:17.928" endtime="20230928 09:01:17.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:17.935" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:17.934" endtime="20230928 09:01:17.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:17.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:17.935" endtime="20230928 09:01:17.936"/>
</kw>
<status status="PASS" starttime="20230928 09:01:17.927" endtime="20230928 09:01:17.936"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:17.941" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:29.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:29.619" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:17.938" endtime="20230928 09:01:29.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:29.621" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:29.620" endtime="20230928 09:01:29.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:29.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:29.621" endtime="20230928 09:01:29.622"/>
</kw>
<status status="PASS" starttime="20230928 09:01:17.937" endtime="20230928 09:01:29.622"/>
</kw>
<msg timestamp="20230928 09:01:29.622" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:17.937" endtime="20230928 09:01:29.623"/>
</kw>
<msg timestamp="20230928 09:01:29.623" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:17.936" endtime="20230928 09:01:29.623"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:29.623" endtime="20230928 09:01:29.624"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:29.629" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:29.633" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:29.633" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:29.625" endtime="20230928 09:01:29.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:29.634" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:29.634" endtime="20230928 09:01:29.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:29.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:29.635" endtime="20230928 09:01:29.635"/>
</kw>
<status status="PASS" starttime="20230928 09:01:29.624" endtime="20230928 09:01:29.636"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:17.926" endtime="20230928 09:01:29.636"/>
</test>
<test id="s1-s22-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:29.645" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:30.506" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:30.506" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:29.642" endtime="20230928 09:01:30.506"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:30.509" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:30.507" endtime="20230928 09:01:30.509"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:30.510" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:30.509" endtime="20230928 09:01:30.510"/>
</kw>
<status status="PASS" starttime="20230928 09:01:29.641" endtime="20230928 09:01:30.511"/>
</kw>
<msg timestamp="20230928 09:01:30.511" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:29.641" endtime="20230928 09:01:30.511"/>
</kw>
<status status="PASS" starttime="20230928 09:01:29.640" endtime="20230928 09:01:30.511"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:30.517" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:31.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:31.368" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:30.514" endtime="20230928 09:01:31.369"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:31.371" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:31.369" endtime="20230928 09:01:31.371"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:31.373" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:31.371" endtime="20230928 09:01:31.373"/>
</kw>
<status status="PASS" starttime="20230928 09:01:30.513" endtime="20230928 09:01:31.374"/>
</kw>
<msg timestamp="20230928 09:01:31.374" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:30.512" endtime="20230928 09:01:31.374"/>
</kw>
<status status="PASS" starttime="20230928 09:01:30.512" endtime="20230928 09:01:31.375"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:31.383" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:32.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:32.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:31.378" endtime="20230928 09:01:32.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:32.546" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:32.544" endtime="20230928 09:01:32.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:32.548" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:32.547" endtime="20230928 09:01:32.548"/>
</kw>
<status status="PASS" starttime="20230928 09:01:31.377" endtime="20230928 09:01:32.549"/>
</kw>
<msg timestamp="20230928 09:01:32.549" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:31.376" endtime="20230928 09:01:32.549"/>
</kw>
<status status="PASS" starttime="20230928 09:01:31.375" endtime="20230928 09:01:32.549"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:32.557" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:33.490" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:33.490" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:32.552" endtime="20230928 09:01:33.490"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:33.492" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:33.491" endtime="20230928 09:01:33.493"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:33.495" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:33.493" endtime="20230928 09:01:33.495"/>
</kw>
<status status="PASS" starttime="20230928 09:01:32.552" endtime="20230928 09:01:33.495"/>
</kw>
<msg timestamp="20230928 09:01:33.495" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:32.551" endtime="20230928 09:01:33.495"/>
</kw>
<status status="PASS" starttime="20230928 09:01:32.550" endtime="20230928 09:01:33.496"/>
</kw>
<status status="PASS" starttime="20230928 09:01:29.639" endtime="20230928 09:01:33.496"/>
</kw>
<status status="PASS" starttime="20230928 09:01:29.638" endtime="20230928 09:01:33.496"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:29.637" endtime="20230928 09:01:33.496"/>
</test>
<test id="s1-s22-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:01:33.501" level="INFO">${randStr} = 2659723664</msg>
<status status="PASS" starttime="20230928 09:01:33.500" endtime="20230928 09:01:33.501"/>
</kw>
<msg timestamp="20230928 09:01:33.501" level="INFO">${random} = ozone-test-2659723664</msg>
<status status="PASS" starttime="20230928 09:01:33.500" endtime="20230928 09:01:33.502"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:33.510" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-2659723664 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:34.931" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:34.932" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2659723664"
}</msg>
<status status="PASS" starttime="20230928 09:01:33.506" endtime="20230928 09:01:34.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:34.934" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2659723664"
}</msg>
<status status="PASS" starttime="20230928 09:01:34.933" endtime="20230928 09:01:34.934"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:34.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:34.935" endtime="20230928 09:01:34.936"/>
</kw>
<status status="PASS" starttime="20230928 09:01:33.506" endtime="20230928 09:01:34.936"/>
</kw>
<msg timestamp="20230928 09:01:34.936" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:33.505" endtime="20230928 09:01:34.936"/>
</kw>
<msg timestamp="20230928 09:01:34.937" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2659723664"
}</msg>
<status status="PASS" starttime="20230928 09:01:33.504" endtime="20230928 09:01:34.937"/>
</kw>
<msg timestamp="20230928 09:01:34.937" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-2659723664"
}</msg>
<status status="PASS" starttime="20230928 09:01:33.503" endtime="20230928 09:01:34.937"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:34.937" endtime="20230928 09:01:34.938"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:34.938" endtime="20230928 09:01:34.939"/>
</kw>
<msg timestamp="20230928 09:01:34.939" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 09:01:33.502" endtime="20230928 09:01:34.939"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 09:01:34.940" endtime="20230928 09:01:34.940"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:33.498" endtime="20230928 09:01:34.941"/>
</test>
<test id="s1-s22-t5" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:34.948" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:01:34.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:34.951" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:34.944" endtime="20230928 09:01:34.951"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:34.953" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:34.952" endtime="20230928 09:01:34.953"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:34.954" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:34.953" endtime="20230928 09:01:34.954"/>
</kw>
<status status="PASS" starttime="20230928 09:01:34.944" endtime="20230928 09:01:34.954"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:34.961" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:36.886" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:36.887" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:34.957" endtime="20230928 09:01:36.887"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:36.889" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:36.887" endtime="20230928 09:01:36.889"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:36.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:36.889" endtime="20230928 09:01:36.890"/>
</kw>
<msg timestamp="20230928 09:01:36.890" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:34.955" endtime="20230928 09:01:36.890"/>
</kw>
<msg timestamp="20230928 09:01:36.891" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:34.955" endtime="20230928 09:01:36.891"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:36.891" endtime="20230928 09:01:36.891"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:36.898" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:36.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:36.902" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:36.892" endtime="20230928 09:01:36.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:36.904" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:36.903" endtime="20230928 09:01:36.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:36.906" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:36.905" endtime="20230928 09:01:36.906"/>
</kw>
<status status="PASS" starttime="20230928 09:01:36.892" endtime="20230928 09:01:36.906"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:34.942" endtime="20230928 09:01:36.907"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 09:01:04.283" endtime="20230928 09:01:36.909"/>
</suite>
<suite id="s1-s23" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s23-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:41.557" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:48.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:48.247" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:41.553" endtime="20230928 09:01:48.247"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:48.252" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:48.248" endtime="20230928 09:01:48.252"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:48.253" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:48.252" endtime="20230928 09:01:48.254"/>
</kw>
<status status="PASS" starttime="20230928 09:01:41.551" endtime="20230928 09:01:48.254"/>
</kw>
<msg timestamp="20230928 09:01:48.254" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:41.551" endtime="20230928 09:01:48.254"/>
</kw>
<msg timestamp="20230928 09:01:48.255" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:41.549" endtime="20230928 09:01:48.255"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:48.255" endtime="20230928 09:01:48.256"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:48.262" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:01:55.099" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:55.099" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:48.258" endtime="20230928 09:01:55.100"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:55.102" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:55.101" endtime="20230928 09:01:55.102"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:55.103" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:55.102" endtime="20230928 09:01:55.103"/>
</kw>
<status status="PASS" starttime="20230928 09:01:48.258" endtime="20230928 09:01:55.104"/>
</kw>
<msg timestamp="20230928 09:01:55.104" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:48.257" endtime="20230928 09:01:55.104"/>
</kw>
<msg timestamp="20230928 09:01:55.104" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:48.256" endtime="20230928 09:01:55.105"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:01:55.105" endtime="20230928 09:01:55.106"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:41.547" endtime="20230928 09:01:55.106"/>
</test>
<test id="s1-s23-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:55.114" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:01:55.117" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:01:55.118" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:55.110" endtime="20230928 09:01:55.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:01:55.120" level="INFO"/>
<status status="PASS" starttime="20230928 09:01:55.118" endtime="20230928 09:01:55.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:01:55.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:01:55.120" endtime="20230928 09:01:55.121"/>
</kw>
<status status="PASS" starttime="20230928 09:01:55.109" endtime="20230928 09:01:55.122"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:01:55.129" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:07.103" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:07.103" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:55.126" endtime="20230928 09:02:07.103"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:07.105" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:07.104" endtime="20230928 09:02:07.105"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:07.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:07.105" endtime="20230928 09:02:07.106"/>
</kw>
<status status="PASS" starttime="20230928 09:01:55.125" endtime="20230928 09:02:07.107"/>
</kw>
<msg timestamp="20230928 09:02:07.107" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:01:55.124" endtime="20230928 09:02:07.107"/>
</kw>
<msg timestamp="20230928 09:02:07.107" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:01:55.122" endtime="20230928 09:02:07.107"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:07.108" endtime="20230928 09:02:07.108"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:07.113" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:07.116" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:07.117" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:07.109" endtime="20230928 09:02:07.117"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:07.119" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:07.118" endtime="20230928 09:02:07.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:07.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:07.120" endtime="20230928 09:02:07.121"/>
</kw>
<status status="PASS" starttime="20230928 09:02:07.108" endtime="20230928 09:02:07.121"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:01:55.108" endtime="20230928 09:02:07.122"/>
</test>
<test id="s1-s23-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:07.131" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:13.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:13.735" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:07.127" endtime="20230928 09:02:13.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:13.737" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:13.736" endtime="20230928 09:02:13.737"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:13.738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:13.737" endtime="20230928 09:02:13.738"/>
</kw>
<status status="PASS" starttime="20230928 09:02:07.126" endtime="20230928 09:02:13.738"/>
</kw>
<msg timestamp="20230928 09:02:13.738" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:07.126" endtime="20230928 09:02:13.739"/>
</kw>
<msg timestamp="20230928 09:02:13.739" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:07.125" endtime="20230928 09:02:13.739"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:13.739" endtime="20230928 09:02:13.740"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:07.123" endtime="20230928 09:02:13.740"/>
</test>
<test id="s1-s23-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:13.747" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:02:13.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:13.750" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:13.743" endtime="20230928 09:02:13.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:13.752" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:13.751" endtime="20230928 09:02:13.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:13.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:13.753" endtime="20230928 09:02:13.753"/>
</kw>
<status status="PASS" starttime="20230928 09:02:13.743" endtime="20230928 09:02:13.754"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:13.760" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:24.039" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:24.039" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:13.756" endtime="20230928 09:02:24.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:24.041" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:24.040" endtime="20230928 09:02:24.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:24.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:24.042" endtime="20230928 09:02:24.043"/>
</kw>
<status status="PASS" starttime="20230928 09:02:13.756" endtime="20230928 09:02:24.043"/>
</kw>
<msg timestamp="20230928 09:02:24.043" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:13.755" endtime="20230928 09:02:24.043"/>
</kw>
<msg timestamp="20230928 09:02:24.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:13.754" endtime="20230928 09:02:24.044"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:24.044" endtime="20230928 09:02:24.045"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:24.051" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:24.056" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:24.056" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:24.047" endtime="20230928 09:02:24.056"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:24.058" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:24.057" endtime="20230928 09:02:24.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:24.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:24.058" endtime="20230928 09:02:24.059"/>
</kw>
<status status="PASS" starttime="20230928 09:02:24.046" endtime="20230928 09:02:24.062"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:13.742" endtime="20230928 09:02:24.062"/>
</test>
<test id="s1-s23-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:24.073" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:25.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:25.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:24.069" endtime="20230928 09:02:25.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:25.057" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:25.055" endtime="20230928 09:02:25.057"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:25.058" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:25.057" endtime="20230928 09:02:25.058"/>
</kw>
<status status="PASS" starttime="20230928 09:02:24.068" endtime="20230928 09:02:25.058"/>
</kw>
<msg timestamp="20230928 09:02:25.058" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:24.068" endtime="20230928 09:02:25.059"/>
</kw>
<status status="PASS" starttime="20230928 09:02:24.067" endtime="20230928 09:02:25.059"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:25.065" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:25.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:25.924" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:25.061" endtime="20230928 09:02:25.924"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:25.925" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:25.924" endtime="20230928 09:02:25.926"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:25.926" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:25.926" endtime="20230928 09:02:25.927"/>
</kw>
<status status="PASS" starttime="20230928 09:02:25.061" endtime="20230928 09:02:25.927"/>
</kw>
<msg timestamp="20230928 09:02:25.927" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:25.060" endtime="20230928 09:02:25.927"/>
</kw>
<status status="PASS" starttime="20230928 09:02:25.059" endtime="20230928 09:02:25.927"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:25.934" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:26.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:26.832" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:25.930" endtime="20230928 09:02:26.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:26.835" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:26.833" endtime="20230928 09:02:26.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:26.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:26.835" endtime="20230928 09:02:26.836"/>
</kw>
<status status="PASS" starttime="20230928 09:02:25.929" endtime="20230928 09:02:26.836"/>
</kw>
<msg timestamp="20230928 09:02:26.836" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:25.928" endtime="20230928 09:02:26.837"/>
</kw>
<status status="PASS" starttime="20230928 09:02:25.928" endtime="20230928 09:02:26.837"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:26.842" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:27.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:27.729" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:26.839" endtime="20230928 09:02:27.730"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:27.732" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:27.730" endtime="20230928 09:02:27.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:27.733" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:27.732" endtime="20230928 09:02:27.733"/>
</kw>
<status status="PASS" starttime="20230928 09:02:26.838" endtime="20230928 09:02:27.734"/>
</kw>
<msg timestamp="20230928 09:02:27.734" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:26.838" endtime="20230928 09:02:27.734"/>
</kw>
<status status="PASS" starttime="20230928 09:02:26.837" endtime="20230928 09:02:27.734"/>
</kw>
<status status="PASS" starttime="20230928 09:02:24.066" endtime="20230928 09:02:27.734"/>
</kw>
<status status="PASS" starttime="20230928 09:02:24.065" endtime="20230928 09:02:27.735"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:24.064" endtime="20230928 09:02:27.735"/>
</test>
<test id="s1-s23-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Generate Ozone String" library="commonawslib">
<var>${random}</var>
<kw name="Generate Random String" library="String">
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:02:27.740" level="INFO">${randStr} = 7397440823</msg>
<status status="PASS" starttime="20230928 09:02:27.739" endtime="20230928 09:02:27.740"/>
</kw>
<msg timestamp="20230928 09:02:27.740" level="INFO">${random} = ozone-test-7397440823</msg>
<status status="PASS" starttime="20230928 09:02:27.738" endtime="20230928 09:02:27.740"/>
</kw>
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:27.749" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-7397440823 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:29.186" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:29.186" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-7397440823"
}</msg>
<status status="PASS" starttime="20230928 09:02:27.745" endtime="20230928 09:02:29.186"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:29.188" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-7397440823"
}</msg>
<status status="PASS" starttime="20230928 09:02:29.187" endtime="20230928 09:02:29.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:29.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:29.188" endtime="20230928 09:02:29.189"/>
</kw>
<status status="PASS" starttime="20230928 09:02:27.744" endtime="20230928 09:02:29.190"/>
</kw>
<msg timestamp="20230928 09:02:29.190" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:27.743" endtime="20230928 09:02:29.190"/>
</kw>
<msg timestamp="20230928 09:02:29.191" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-7397440823"
}</msg>
<status status="PASS" starttime="20230928 09:02:27.743" endtime="20230928 09:02:29.191"/>
</kw>
<msg timestamp="20230928 09:02:29.191" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-7397440823"
}</msg>
<status status="PASS" starttime="20230928 09:02:27.741" endtime="20230928 09:02:29.191"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:29.192" endtime="20230928 09:02:29.192"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:29.193" endtime="20230928 09:02:29.194"/>
</kw>
<msg timestamp="20230928 09:02:29.196" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230928 09:02:27.740" endtime="20230928 09:02:29.196"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230928 09:02:29.197" endtime="20230928 09:02:29.197"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:27.737" endtime="20230928 09:02:29.198"/>
</test>
<test id="s1-s23-t7" name="Create key using S3 API" line="62">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:29.207" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230928 09:02:29.210" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:29.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:29.202" endtime="20230928 09:02:29.210"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:29.212" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:29.211" endtime="20230928 09:02:29.212"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:29.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:29.213" endtime="20230928 09:02:29.214"/>
</kw>
<status status="PASS" starttime="20230928 09:02:29.201" endtime="20230928 09:02:29.214"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:29.235" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:30.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:30.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:29.217" endtime="20230928 09:02:30.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:30.824" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:30.823" endtime="20230928 09:02:30.827"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:30.828" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:30.827" endtime="20230928 09:02:30.829"/>
</kw>
<msg timestamp="20230928 09:02:30.829" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:29.216" endtime="20230928 09:02:30.829"/>
</kw>
<msg timestamp="20230928 09:02:30.829" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:29.215" endtime="20230928 09:02:30.830"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:30.830" endtime="20230928 09:02:30.831"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:30.836" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:30.842" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:30.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:30.832" endtime="20230928 09:02:30.842"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:30.844" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:30.843" endtime="20230928 09:02:30.844"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:30.845" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:30.845" endtime="20230928 09:02:30.846"/>
</kw>
<status status="PASS" starttime="20230928 09:02:30.831" endtime="20230928 09:02:30.846"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:29.200" endtime="20230928 09:02:30.846"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230928 09:01:41.335" endtime="20230928 09:02:30.849"/>
</suite>
<suite id="s1-s24" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s24-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230928 09:02:35.330" level="INFO">${random} = 03718</msg>
<status status="PASS" starttime="20230928 09:02:35.329" endtime="20230928 09:02:35.331"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:35.336" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-03718 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:45.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:45.151" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:35.333" endtime="20230928 09:02:45.151"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:45.154" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:45.152" endtime="20230928 09:02:45.154"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:45.155" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:45.154" endtime="20230928 09:02:45.155"/>
</kw>
<status status="PASS" starttime="20230928 09:02:35.332" endtime="20230928 09:02:45.155"/>
</kw>
<msg timestamp="20230928 09:02:45.156" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:35.332" endtime="20230928 09:02:45.156"/>
</kw>
<msg timestamp="20230928 09:02:45.156" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:35.331" endtime="20230928 09:02:45.156"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:45.157" endtime="20230928 09:02:45.158"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:45.164" level="INFO">Running command 'cat /tmp/key-03718 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:45.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:45.169" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:45.160" endtime="20230928 09:02:45.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:45.171" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:45.169" endtime="20230928 09:02:45.171"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:45.172" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:45.171" endtime="20230928 09:02:45.172"/>
</kw>
<msg timestamp="20230928 09:02:45.173" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:45.158" endtime="20230928 09:02:45.173"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:45.173" endtime="20230928 09:02:45.174"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:45.179" level="INFO">Running command 'rm /tmp/key-03718 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:45.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:45.183" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:45.175" endtime="20230928 09:02:45.183"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:45.184" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:45.184" endtime="20230928 09:02:45.185"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:45.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:45.185" endtime="20230928 09:02:45.186"/>
</kw>
<status status="PASS" starttime="20230928 09:02:45.174" endtime="20230928 09:02:45.186"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:35.328" endtime="20230928 09:02:45.187"/>
</test>
<test id="s1-s24-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:45.200" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:46.083" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:46.084" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:45.196" endtime="20230928 09:02:46.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:46.085" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:46.084" endtime="20230928 09:02:46.085"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:46.086" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:46.086" endtime="20230928 09:02:46.089"/>
</kw>
<status status="PASS" starttime="20230928 09:02:45.195" endtime="20230928 09:02:46.091"/>
</kw>
<msg timestamp="20230928 09:02:46.091" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:45.195" endtime="20230928 09:02:46.091"/>
</kw>
<status status="PASS" starttime="20230928 09:02:45.194" endtime="20230928 09:02:46.091"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:46.098" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:46.991" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:46.991" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:46.094" endtime="20230928 09:02:46.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:46.993" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:46.992" endtime="20230928 09:02:46.993"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:46.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:46.994" endtime="20230928 09:02:46.995"/>
</kw>
<status status="PASS" starttime="20230928 09:02:46.093" endtime="20230928 09:02:46.995"/>
</kw>
<msg timestamp="20230928 09:02:46.995" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:46.092" endtime="20230928 09:02:46.995"/>
</kw>
<status status="PASS" starttime="20230928 09:02:46.091" endtime="20230928 09:02:46.995"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:47.002" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:47.900" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:47.900" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:46.998" endtime="20230928 09:02:47.900"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:47.903" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:47.901" endtime="20230928 09:02:47.903"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:47.904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:47.903" endtime="20230928 09:02:47.905"/>
</kw>
<status status="PASS" starttime="20230928 09:02:46.997" endtime="20230928 09:02:47.905"/>
</kw>
<msg timestamp="20230928 09:02:47.905" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:46.996" endtime="20230928 09:02:47.905"/>
</kw>
<status status="PASS" starttime="20230928 09:02:46.996" endtime="20230928 09:02:47.905"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:47.913" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:48.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:48.875" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:47.908" endtime="20230928 09:02:48.875"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:48.877" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:48.876" endtime="20230928 09:02:48.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:48.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:48.878" endtime="20230928 09:02:48.879"/>
</kw>
<status status="PASS" starttime="20230928 09:02:47.907" endtime="20230928 09:02:48.880"/>
</kw>
<msg timestamp="20230928 09:02:48.880" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:47.907" endtime="20230928 09:02:48.880"/>
</kw>
<status status="PASS" starttime="20230928 09:02:47.906" endtime="20230928 09:02:48.880"/>
</kw>
<status status="PASS" starttime="20230928 09:02:45.192" endtime="20230928 09:02:48.881"/>
</kw>
<status status="PASS" starttime="20230928 09:02:45.191" endtime="20230928 09:02:48.881"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:45.190" endtime="20230928 09:02:48.881"/>
</test>
<test id="s1-s24-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:48.891" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:50.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:50.327" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:48.887" endtime="20230928 09:02:50.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:50.329" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:02:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:02:50.328" endtime="20230928 09:02:50.330"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:50.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:50.330" endtime="20230928 09:02:50.331"/>
</kw>
<msg timestamp="20230928 09:02:50.331" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:48.886" endtime="20230928 09:02:50.331"/>
</kw>
<msg timestamp="20230928 09:02:50.332" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:48.885" endtime="20230928 09:02:50.332"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:50.332" endtime="20230928 09:02:50.332"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:50.337" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:50.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:50.343" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:50.334" endtime="20230928 09:02:50.343"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:50.345" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:50.344" endtime="20230928 09:02:50.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:50.347" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:50.346" endtime="20230928 09:02:50.348"/>
</kw>
<msg timestamp="20230928 09:02:50.348" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230928 09:02:50.333" endtime="20230928 09:02:50.349"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:50.349" endtime="20230928 09:02:50.350"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:50.356" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:50.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:50.362" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:50.352" endtime="20230928 09:02:50.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:50.365" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:50.363" endtime="20230928 09:02:50.366"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:50.367" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:50.366" endtime="20230928 09:02:50.367"/>
</kw>
<status status="PASS" starttime="20230928 09:02:50.350" endtime="20230928 09:02:50.367"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:48.884" endtime="20230928 09:02:50.368"/>
</test>
<test id="s1-s24-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:50.378" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:51.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:51.532" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:50.373" endtime="20230928 09:02:51.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:51.534" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 28 Sep 2023 09:02:51 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230928 09:02:51.533" endtime="20230928 09:02:51.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:51.535" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:51.535" endtime="20230928 09:02:51.536"/>
</kw>
<msg timestamp="20230928 09:02:51.536" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:50.372" endtime="20230928 09:02:51.536"/>
</kw>
<msg timestamp="20230928 09:02:51.536" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 28 Sep 2023 09:02:30 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230928 09:02:50.371" endtime="20230928 09:02:51.537"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:51.537" endtime="20230928 09:02:51.538"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:51.543" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:51.546" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:51.546" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:02:51.539" endtime="20230928 09:02:51.546"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:51.550" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:02:51.547" endtime="20230928 09:02:51.551"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:51.552" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:51.551" endtime="20230928 09:02:51.552"/>
</kw>
<msg timestamp="20230928 09:02:51.552" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230928 09:02:51.538" endtime="20230928 09:02:51.553"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:02:51.553" endtime="20230928 09:02:51.553"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:51.560" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:02:51.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:02:51.565" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:02:51.555" endtime="20230928 09:02:51.565"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:02:51.567" level="INFO"/>
<status status="PASS" starttime="20230928 09:02:51.566" endtime="20230928 09:02:51.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:02:51.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:02:51.568" endtime="20230928 09:02:51.570"/>
</kw>
<status status="PASS" starttime="20230928 09:02:51.554" endtime="20230928 09:02:51.570"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:02:50.370" endtime="20230928 09:02:51.571"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230928 09:02:35.197" endtime="20230928 09:02:51.574"/>
</suite>
<suite id="s1-s25" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s25-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:02:55.942" endtime="20230928 09:02:55.943"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:02:55.951" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:03.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:03:03.106" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:02:55.945" endtime="20230928 09:03:03.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:03.108" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:03.107" endtime="20230928 09:03:03.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:03.109" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:03.108" endtime="20230928 09:03:03.109"/>
</kw>
<status status="PASS" starttime="20230928 09:02:55.945" endtime="20230928 09:03:03.109"/>
</kw>
<msg timestamp="20230928 09:03:03.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:02:55.944" endtime="20230928 09:03:03.110"/>
</kw>
<msg timestamp="20230928 09:03:03.110" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:02:55.943" endtime="20230928 09:03:03.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:03.111" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:03.110" endtime="20230928 09:03:03.111"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:03:03.111" endtime="20230928 09:03:03.112"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:02:55.940" endtime="20230928 09:03:03.112"/>
</test>
<test id="s1-s25-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:03:03.115" endtime="20230928 09:03:03.124"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:03.140" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:09.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:03:09.163" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:03.130" endtime="20230928 09:03:09.163"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:09.166" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:09.164" endtime="20230928 09:03:09.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:09.167" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:09.167" endtime="20230928 09:03:09.168"/>
</kw>
<status status="PASS" starttime="20230928 09:03:03.130" endtime="20230928 09:03:09.168"/>
</kw>
<msg timestamp="20230928 09:03:09.168" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:03:03.127" endtime="20230928 09:03:09.168"/>
</kw>
<msg timestamp="20230928 09:03:09.169" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:03.126" endtime="20230928 09:03:09.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:09.170" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230928 09:03:09.169" endtime="20230928 09:03:09.170"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230928 09:03:09.170" endtime="20230928 09:03:09.171"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230928 09:03:03.114" endtime="20230928 09:03:09.171"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230928 09:02:55.841" endtime="20230928 09:03:09.173"/>
</suite>
<suite id="s1-s26" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s26-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:13.481" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:19.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:03:19.876" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:03:13.476" endtime="20230928 09:03:19.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:19.878" level="INFO"/>
<status status="PASS" starttime="20230928 09:03:19.877" endtime="20230928 09:03:19.878"/>
</kw>
<msg timestamp="20230928 09:03:19.878" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:03:13.473" endtime="20230928 09:03:19.879"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:19.879" endtime="20230928 09:03:19.879"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:19.883" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:26.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:03:26.202" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:03:19.880" endtime="20230928 09:03:26.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:26.208" level="INFO"/>
<status status="PASS" starttime="20230928 09:03:26.206" endtime="20230928 09:03:26.208"/>
</kw>
<msg timestamp="20230928 09:03:26.209" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230928 09:03:19.880" endtime="20230928 09:03:26.209"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:26.210" endtime="20230928 09:03:26.211"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:26.218" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:32.304" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 09:03:32.304" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 09:03:26.213" endtime="20230928 09:03:32.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:32.306" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 09:03:32.305" endtime="20230928 09:03:32.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:32.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:32.307" endtime="20230928 09:03:32.307"/>
</kw>
<msg timestamp="20230928 09:03:32.308" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 09:03:26.211" endtime="20230928 09:03:32.308"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:32.308" endtime="20230928 09:03:32.308"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:03:13.471" endtime="20230928 09:03:32.309"/>
</test>
<test id="s1-s26-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:32.316" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:37.975" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 09:03:37.975" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 09:03:32.313" endtime="20230928 09:03:37.975"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:37.978" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 09:03:37.976" endtime="20230928 09:03:37.978"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:37.979" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:37.979" endtime="20230928 09:03:37.980"/>
</kw>
<msg timestamp="20230928 09:03:37.980" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 09:03:32.312" endtime="20230928 09:03:37.981"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:37.981" endtime="20230928 09:03:37.982"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:03:32.310" endtime="20230928 09:03:37.982"/>
</test>
<test id="s1-s26-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:37.991" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:44.090" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 09:03:44.090" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 09:03:37.987" endtime="20230928 09:03:44.090"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:44.092" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 09:03:44.091" endtime="20230928 09:03:44.092"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:44.093" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:44.092" endtime="20230928 09:03:44.093"/>
</kw>
<msg timestamp="20230928 09:03:44.094" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230928 09:03:37.986" endtime="20230928 09:03:44.094"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:44.094" endtime="20230928 09:03:44.094"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:03:37.984" endtime="20230928 09:03:44.095"/>
</test>
<test id="s1-s26-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:44.102" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:03:50.106" level="INFO">${rc} = 255</msg>
<msg timestamp="20230928 09:03:50.106" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 09:03:44.098" endtime="20230928 09:03:50.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:03:50.111" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230928 09:03:50.109" endtime="20230928 09:03:50.111"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:03:50.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:03:50.113" endtime="20230928 09:03:50.114"/>
</kw>
<msg timestamp="20230928 09:03:50.115" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230928 09:03:44.097" endtime="20230928 09:03:50.115"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:03:50.115" endtime="20230928 09:03:50.116"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:03:44.096" endtime="20230928 09:03:50.116"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230928 09:03:13.330" endtime="20230928 09:03:50.118"/>
</suite>
<suite id="s1-s27" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s27-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230928 09:03:54.596" endtime="20230928 09:03:54.597"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230928 09:03:54.598" endtime="20230928 09:03:54.598"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230928 09:03:54.606" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230928 09:04:06.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20230928 09:04:06.804" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 09:03:54.601" endtime="20230928 09:04:06.804"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 09:04:06.806" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230928 09:04:06.805" endtime="20230928 09:04:06.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230928 09:04:06.808" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230928 09:04:06.808" endtime="20230928 09:04:06.808"/>
</kw>
<status status="PASS" starttime="20230928 09:03:54.600" endtime="20230928 09:04:06.809"/>
</kw>
<msg timestamp="20230928 09:04:06.809" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230928 09:03:54.600" endtime="20230928 09:04:06.809"/>
</kw>
<msg timestamp="20230928 09:04:06.809" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230928 09:03:54.599" endtime="20230928 09:04:06.809"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230928 09:04:06.811" endtime="20230928 09:04:06.812"/>
</kw>
<status status="PASS" starttime="20230928 09:04:06.810" endtime="20230928 09:04:06.812"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230928 09:03:54.595" endtime="20230928 09:04:06.812"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230928 09:03:54.468" endtime="20230928 09:04:06.815"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="758473"/>
</suite>
<statistics>
<total>
<stat pass="103" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="103" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s4" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s5" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s6" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s8" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s9" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s10" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s11" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Finalize">upgrade.Finalize</stat>
<stat pass="2" fail="0" skip="0" id="s1-s13" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s17" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s18" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s19" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s20" name="Snapshot-Sh">upgrade.Snapshot-Sh</stat>
<stat pass="4" fail="0" skip="0" id="s1-s21" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s23" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s24" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s25" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s26" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s27" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
