<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20230915 05:12:46.405" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:05:24.684" endtime="20230915 05:05:24.684"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:24.693" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:24.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:24.698" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9b0e249cb070
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230915 05:05:24.686" endtime="20230915 05:05:24.698"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:24.699" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9b0e249cb070
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230915 05:05:24.698" endtime="20230915 05:05:24.699"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:24.700" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:24.699" endtime="20230915 05:05:24.700"/>
</kw>
<status status="PASS" starttime="20230915 05:05:24.686" endtime="20230915 05:05:24.700"/>
</kw>
<msg timestamp="20230915 05:05:24.700" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:24.685" endtime="20230915 05:05:24.703"/>
</kw>
<msg timestamp="20230915 05:05:24.703" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9b0e249cb070
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230915 05:05:24.685" endtime="20230915 05:05:24.703"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:24.704" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=9b0e249cb070
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230915 05:05:24.704" endtime="20230915 05:05:24.704"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 05:05:24.704" endtime="20230915 05:05:24.705"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:24.711" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:28.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:28.613" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 05:05:24.708" endtime="20230915 05:05:28.614"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:28.615" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 05:05:28.614" endtime="20230915 05:05:28.615"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:28.616" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:28.615" endtime="20230915 05:05:28.616"/>
</kw>
<status status="PASS" starttime="20230915 05:05:24.708" endtime="20230915 05:05:28.616"/>
</kw>
<msg timestamp="20230915 05:05:28.616" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:24.707" endtime="20230915 05:05:28.617"/>
</kw>
<msg timestamp="20230915 05:05:28.617" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 05:05:24.705" endtime="20230915 05:05:28.617"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:28.618" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 05:05:28.617" endtime="20230915 05:05:28.618"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 05:05:28.618" endtime="20230915 05:05:28.619"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 05:05:24.682" endtime="20230915 05:05:28.619"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:05:28.622" endtime="20230915 05:05:28.622"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 05:05:28.623" endtime="20230915 05:05:28.623"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:28.627" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:32.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:32.241" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 05:05:28.625" endtime="20230915 05:05:32.241"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:32.242" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 05:05:32.241" endtime="20230915 05:05:32.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:32.243" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:32.243" endtime="20230915 05:05:32.243"/>
</kw>
<status status="PASS" starttime="20230915 05:05:28.624" endtime="20230915 05:05:32.244"/>
</kw>
<msg timestamp="20230915 05:05:32.244" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:28.624" endtime="20230915 05:05:32.245"/>
</kw>
<msg timestamp="20230915 05:05:32.245" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 05:05:28.623" endtime="20230915 05:05:32.245"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:32.245" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 05:05:32.245" endtime="20230915 05:05:32.246"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 05:05:32.246" endtime="20230915 05:05:32.246"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 05:05:28.620" endtime="20230915 05:05:32.246"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230915 05:05:24.597" endtime="20230915 05:05:32.248"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 05:05:36.021" level="INFO">${random} = 86999</msg>
<status status="PASS" starttime="20230915 05:05:36.020" endtime="20230915 05:05:36.021"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:36.028" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-86999 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:42.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:42.483" level="INFO">${output} = 2023-09-15 05:05:40,849 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:41,001 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:05:36.024" endtime="20230915 05:05:42.483"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:42.484" level="INFO">2023-09-15 05:05:40,849 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:41,001 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:05:41,001 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230915 05:05:42.483" endtime="20230915 05:05:42.484"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:42.485" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:42.485" endtime="20230915 05:05:42.485"/>
</kw>
<status status="PASS" starttime="20230915 05:05:36.023" endtime="20230915 05:05:42.486"/>
</kw>
<msg timestamp="20230915 05:05:42.486" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:36.022" endtime="20230915 05:05:42.488"/>
</kw>
<msg timestamp="20230915 05:05:42.488" level="INFO">${output} = 2023-09-15 05:05:40,849 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:41,001 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:05:36.021" endtime="20230915 05:05:42.488"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:42.488" endtime="20230915 05:05:42.489"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:42.493" level="INFO">Running command 'cat /tmp/key-86999 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:42.495" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:42.495" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:42.490" endtime="20230915 05:05:42.496"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:42.498" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:42.496" endtime="20230915 05:05:42.498"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:42.499" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:42.498" endtime="20230915 05:05:42.499"/>
</kw>
<msg timestamp="20230915 05:05:42.499" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:42.489" endtime="20230915 05:05:42.499"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:42.500" endtime="20230915 05:05:42.500"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:42.505" level="INFO">Running command 'rm /tmp/key-86999 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:42.508" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:42.508" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:42.502" endtime="20230915 05:05:42.508"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:42.510" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:42.509" endtime="20230915 05:05:42.510"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:42.511" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:42.510" endtime="20230915 05:05:42.511"/>
</kw>
<status status="PASS" starttime="20230915 05:05:42.501" endtime="20230915 05:05:42.512"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:05:36.019" endtime="20230915 05:05:42.512"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:42.521" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:43.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:43.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:42.519" endtime="20230915 05:05:43.571"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:43.572" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:43.571" endtime="20230915 05:05:43.572"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:43.573" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:43.572" endtime="20230915 05:05:43.573"/>
</kw>
<status status="PASS" starttime="20230915 05:05:42.517" endtime="20230915 05:05:43.574"/>
</kw>
<msg timestamp="20230915 05:05:43.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:42.517" endtime="20230915 05:05:43.574"/>
</kw>
<status status="PASS" starttime="20230915 05:05:42.516" endtime="20230915 05:05:43.575"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:43.579" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:44.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:44.304" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:43.577" endtime="20230915 05:05:44.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:44.306" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:44.305" endtime="20230915 05:05:44.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:44.306" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:44.306" endtime="20230915 05:05:44.307"/>
</kw>
<status status="PASS" starttime="20230915 05:05:43.576" endtime="20230915 05:05:44.307"/>
</kw>
<msg timestamp="20230915 05:05:44.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:43.576" endtime="20230915 05:05:44.308"/>
</kw>
<status status="PASS" starttime="20230915 05:05:43.575" endtime="20230915 05:05:44.309"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:44.314" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:44.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:44.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:44.311" endtime="20230915 05:05:44.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:44.935" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:44.934" endtime="20230915 05:05:44.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:44.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:44.935" endtime="20230915 05:05:44.936"/>
</kw>
<status status="PASS" starttime="20230915 05:05:44.310" endtime="20230915 05:05:44.936"/>
</kw>
<msg timestamp="20230915 05:05:44.936" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:44.310" endtime="20230915 05:05:44.937"/>
</kw>
<status status="PASS" starttime="20230915 05:05:44.309" endtime="20230915 05:05:44.937"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:44.942" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:45.537" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:45.537" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:44.939" endtime="20230915 05:05:45.537"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:45.538" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:45.537" endtime="20230915 05:05:45.538"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:45.539" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:45.539" endtime="20230915 05:05:45.539"/>
</kw>
<status status="PASS" starttime="20230915 05:05:44.938" endtime="20230915 05:05:45.540"/>
</kw>
<msg timestamp="20230915 05:05:45.540" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:44.938" endtime="20230915 05:05:45.540"/>
</kw>
<status status="PASS" starttime="20230915 05:05:44.938" endtime="20230915 05:05:45.541"/>
</kw>
<status status="PASS" starttime="20230915 05:05:42.515" endtime="20230915 05:05:45.541"/>
</kw>
<status status="PASS" starttime="20230915 05:05:42.515" endtime="20230915 05:05:45.541"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:05:42.513" endtime="20230915 05:05:45.541"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:45.548" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:49.516" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:49.516" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:02 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:45.545" endtime="20230915 05:05:49.516"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:49.521" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:02 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:05:46 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:05:49.517" endtime="20230915 05:05:49.521"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:49.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:49.521" endtime="20230915 05:05:49.522"/>
</kw>
<msg timestamp="20230915 05:05:49.522" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:02 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:45.544" endtime="20230915 05:05:49.522"/>
</kw>
<msg timestamp="20230915 05:05:49.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:02 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:45.543" endtime="20230915 05:05:49.523"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:49.523" endtime="20230915 05:05:49.523"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:49.532" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:49.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:49.544" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:49.524" endtime="20230915 05:05:49.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:49.545" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:49.545" endtime="20230915 05:05:49.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:49.546" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:49.546" endtime="20230915 05:05:49.547"/>
</kw>
<msg timestamp="20230915 05:05:49.549" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:05:49.524" endtime="20230915 05:05:49.549"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:49.550" endtime="20230915 05:05:49.550"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:49.558" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:49.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:49.564" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:49.555" endtime="20230915 05:05:49.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:49.565" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:49.564" endtime="20230915 05:05:49.565"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:49.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:49.569" endtime="20230915 05:05:49.570"/>
</kw>
<status status="PASS" starttime="20230915 05:05:49.550" endtime="20230915 05:05:49.570"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:05:45.542" endtime="20230915 05:05:49.573"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:49.586" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:50.592" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:50.592" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:09 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:49.582" endtime="20230915 05:05:50.592"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:50.594" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:09 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:05:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:05:50.593" endtime="20230915 05:05:50.594"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:50.595" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:50.594" endtime="20230915 05:05:50.595"/>
</kw>
<msg timestamp="20230915 05:05:50.596" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:09 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:49.580" endtime="20230915 05:05:50.596"/>
</kw>
<msg timestamp="20230915 05:05:50.596" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:09 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:05:49.580" endtime="20230915 05:05:50.596"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:50.597" endtime="20230915 05:05:50.597"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:50.600" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:50.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:50.604" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:05:50.598" endtime="20230915 05:05:50.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:50.606" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:05:50.605" endtime="20230915 05:05:50.606"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:50.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:50.606" endtime="20230915 05:05:50.607"/>
</kw>
<msg timestamp="20230915 05:05:50.607" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:05:50.597" endtime="20230915 05:05:50.607"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:05:50.607" endtime="20230915 05:05:50.608"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:50.612" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:05:50.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:05:50.615" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:05:50.609" endtime="20230915 05:05:50.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:05:50.616" level="INFO"/>
<status status="PASS" starttime="20230915 05:05:50.616" endtime="20230915 05:05:50.617"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:05:50.617" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:05:50.617" endtime="20230915 05:05:50.617"/>
</kw>
<status status="PASS" starttime="20230915 05:05:50.608" endtime="20230915 05:05:50.618"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:05:49.575" endtime="20230915 05:05:50.618"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 05:05:35.918" endtime="20230915 05:05:50.620"/>
</suite>
<suite id="s1-s3" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s3-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 05:05:54.344" level="INFO">${random} = 16019</msg>
<status status="PASS" starttime="20230915 05:05:54.343" endtime="20230915 05:05:54.344"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:05:54.352" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-16019 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:01.096" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:01.096" level="INFO">${output} = 2023-09-15 05:05:59,075 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:59,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:05:54.347" endtime="20230915 05:06:01.097"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:01.098" level="INFO">2023-09-15 05:05:59,075 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:59,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:05:59,251 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230915 05:06:01.098" endtime="20230915 05:06:01.099"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:01.099" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:01.099" endtime="20230915 05:06:01.099"/>
</kw>
<status status="PASS" starttime="20230915 05:05:54.347" endtime="20230915 05:06:01.100"/>
</kw>
<msg timestamp="20230915 05:06:01.100" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:05:54.345" endtime="20230915 05:06:01.101"/>
</kw>
<msg timestamp="20230915 05:06:01.102" level="INFO">${output} = 2023-09-15 05:05:59,075 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:05:59,251 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:05:54.344" endtime="20230915 05:06:01.102"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:01.102" endtime="20230915 05:06:01.102"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:01.106" level="INFO">Running command 'cat /tmp/key-16019 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:01.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:01.109" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:01.103" endtime="20230915 05:06:01.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:01.110" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:01.110" endtime="20230915 05:06:01.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:01.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:01.111" endtime="20230915 05:06:01.111"/>
</kw>
<msg timestamp="20230915 05:06:01.112" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:01.103" endtime="20230915 05:06:01.112"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:01.112" endtime="20230915 05:06:01.113"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:01.116" level="INFO">Running command 'rm /tmp/key-16019 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:01.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:01.120" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:01.114" endtime="20230915 05:06:01.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:01.121" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:01.120" endtime="20230915 05:06:01.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:01.122" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:01.121" endtime="20230915 05:06:01.122"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.113" endtime="20230915 05:06:01.123"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:05:54.342" endtime="20230915 05:06:01.123"/>
</test>
<test id="s1-s3-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:01.132" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:01.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:01.803" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:01.129" endtime="20230915 05:06:01.803"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:01.804" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:01.803" endtime="20230915 05:06:01.804"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:01.805" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:01.805" endtime="20230915 05:06:01.805"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.128" endtime="20230915 05:06:01.806"/>
</kw>
<msg timestamp="20230915 05:06:01.806" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:01.127" endtime="20230915 05:06:01.806"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.126" endtime="20230915 05:06:01.807"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:01.811" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:02.461" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:02.461" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:01.809" endtime="20230915 05:06:02.461"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:02.462" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:02.461" endtime="20230915 05:06:02.463"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:02.463" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:02.463" endtime="20230915 05:06:02.463"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.808" endtime="20230915 05:06:02.464"/>
</kw>
<msg timestamp="20230915 05:06:02.464" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:01.808" endtime="20230915 05:06:02.465"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.807" endtime="20230915 05:06:02.465"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:02.470" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:03.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:03.043" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:02.466" endtime="20230915 05:06:03.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:03.045" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:03.044" endtime="20230915 05:06:03.046"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:03.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:03.046" endtime="20230915 05:06:03.046"/>
</kw>
<status status="PASS" starttime="20230915 05:06:02.466" endtime="20230915 05:06:03.047"/>
</kw>
<msg timestamp="20230915 05:06:03.047" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:02.465" endtime="20230915 05:06:03.048"/>
</kw>
<status status="PASS" starttime="20230915 05:06:02.465" endtime="20230915 05:06:03.048"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:03.053" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:03.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:03.682" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:03.050" endtime="20230915 05:06:03.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:03.683" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:03.682" endtime="20230915 05:06:03.683"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:03.684" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:03.684" endtime="20230915 05:06:03.684"/>
</kw>
<status status="PASS" starttime="20230915 05:06:03.049" endtime="20230915 05:06:03.685"/>
</kw>
<msg timestamp="20230915 05:06:03.685" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:03.049" endtime="20230915 05:06:03.685"/>
</kw>
<status status="PASS" starttime="20230915 05:06:03.048" endtime="20230915 05:06:03.685"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.126" endtime="20230915 05:06:03.686"/>
</kw>
<status status="PASS" starttime="20230915 05:06:01.125" endtime="20230915 05:06:03.686"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:01.124" endtime="20230915 05:06:03.686"/>
</test>
<test id="s1-s3-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:03.692" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:04.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:04.531" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:03.690" endtime="20230915 05:06:04.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:04.533" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:06:04 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:06:04.532" endtime="20230915 05:06:04.533"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:04.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:04.533" endtime="20230915 05:06:04.534"/>
</kw>
<msg timestamp="20230915 05:06:04.535" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:03.689" endtime="20230915 05:06:04.535"/>
</kw>
<msg timestamp="20230915 05:06:04.535" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:03.688" endtime="20230915 05:06:04.535"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:04.536" endtime="20230915 05:06:04.538"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:04.542" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:04.546" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:04.546" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:04.539" endtime="20230915 05:06:04.546"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:04.547" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:04.546" endtime="20230915 05:06:04.547"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:04.548" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:04.547" endtime="20230915 05:06:04.549"/>
</kw>
<msg timestamp="20230915 05:06:04.549" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:04.538" endtime="20230915 05:06:04.549"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:04.549" endtime="20230915 05:06:04.550"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:04.554" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:04.557" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:04.557" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:04.551" endtime="20230915 05:06:04.557"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:04.559" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:04.558" endtime="20230915 05:06:04.559"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:04.560" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:04.559" endtime="20230915 05:06:04.560"/>
</kw>
<status status="PASS" starttime="20230915 05:06:04.550" endtime="20230915 05:06:04.560"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:03.687" endtime="20230915 05:06:04.561"/>
</test>
<test id="s1-s3-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:04.568" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:05.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:05.434" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:04.565" endtime="20230915 05:06:05.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:05.435" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:06:05 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:06:05.434" endtime="20230915 05:06:05.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:05.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:05.435" endtime="20230915 05:06:05.436"/>
</kw>
<msg timestamp="20230915 05:06:05.437" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:04.564" endtime="20230915 05:06:05.437"/>
</kw>
<msg timestamp="20230915 05:06:05.437" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:04.563" endtime="20230915 05:06:05.437"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:05.437" endtime="20230915 05:06:05.438"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:05.441" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:05.446" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:05.447" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:05.439" endtime="20230915 05:06:05.447"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:05.448" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:05.447" endtime="20230915 05:06:05.448"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:05.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:05.448" endtime="20230915 05:06:05.449"/>
</kw>
<msg timestamp="20230915 05:06:05.450" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:05.438" endtime="20230915 05:06:05.450"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:05.450" endtime="20230915 05:06:05.451"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:05.455" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:05.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:05.458" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:05.452" endtime="20230915 05:06:05.458"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:05.459" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:05.458" endtime="20230915 05:06:05.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:05.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:05.460" endtime="20230915 05:06:05.461"/>
</kw>
<status status="PASS" starttime="20230915 05:06:05.451" endtime="20230915 05:06:05.461"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:04.562" endtime="20230915 05:06:05.461"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 05:05:54.216" endtime="20230915 05:06:05.463"/>
</suite>
<suite id="s1-s4" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s4-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:09.371" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:12.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:12.738" level="INFO">${output} = 2023-09-15 05:06:12,602 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 05:06:09.366" endtime="20230915 05:06:12.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:12.740" level="INFO">2023-09-15 05:06:12,602 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 05:06:12.739" endtime="20230915 05:06:12.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:12.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:12.740" endtime="20230915 05:06:12.741"/>
</kw>
<status status="PASS" starttime="20230915 05:06:09.366" endtime="20230915 05:06:12.744"/>
</kw>
<msg timestamp="20230915 05:06:12.744" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:09.365" endtime="20230915 05:06:12.747"/>
</kw>
<msg timestamp="20230915 05:06:12.747" level="INFO">${output} = 2023-09-15 05:06:12,602 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 05:06:09.364" endtime="20230915 05:06:12.748"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:12.748" endtime="20230915 05:06:12.750"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:12.760" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:16.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:16.254" level="INFO">${output} = 2023-09-15 05:06:16,172 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230915 05:06:12.755" endtime="20230915 05:06:16.254"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:16.255" level="INFO">2023-09-15 05:06:16,172 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230915 05:06:16.254" endtime="20230915 05:06:16.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:16.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:16.255" endtime="20230915 05:06:16.256"/>
</kw>
<status status="PASS" starttime="20230915 05:06:12.752" endtime="20230915 05:06:16.257"/>
</kw>
<msg timestamp="20230915 05:06:16.257" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:12.752" endtime="20230915 05:06:16.257"/>
</kw>
<msg timestamp="20230915 05:06:16.258" level="INFO">${output} = 2023-09-15 05:06:16,172 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230915 05:06:12.751" endtime="20230915 05:06:16.258"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:16.258" endtime="20230915 05:06:16.258"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:09.363" endtime="20230915 05:06:16.259"/>
</test>
<test id="s1-s4-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:16.266" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:06:16.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:16.274" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:16.264" endtime="20230915 05:06:16.274"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:16.277" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:16.275" endtime="20230915 05:06:16.277"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:16.277" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:16.277" endtime="20230915 05:06:16.278"/>
</kw>
<status status="PASS" starttime="20230915 05:06:16.263" endtime="20230915 05:06:16.279"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:16.284" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:23.397" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:23.397" level="INFO">${output} = 2023-09-15 05:06:21,233 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:21,350 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:16.281" endtime="20230915 05:06:23.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:23.399" level="INFO">2023-09-15 05:06:21,233 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:21,350 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:06:21,351 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 05:06:21,738 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 05:06:23.398" endtime="20230915 05:06:23.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:23.400" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:23.399" endtime="20230915 05:06:23.400"/>
</kw>
<status status="PASS" starttime="20230915 05:06:16.281" endtime="20230915 05:06:23.401"/>
</kw>
<msg timestamp="20230915 05:06:23.401" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:16.280" endtime="20230915 05:06:23.401"/>
</kw>
<msg timestamp="20230915 05:06:23.401" level="INFO">${output} = 2023-09-15 05:06:21,233 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:21,350 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:16.279" endtime="20230915 05:06:23.401"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:23.402" endtime="20230915 05:06:23.402"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:23.406" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:23.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:23.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:23.403" endtime="20230915 05:06:23.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:23.410" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:23.410" endtime="20230915 05:06:23.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:23.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:23.411" endtime="20230915 05:06:23.412"/>
</kw>
<status status="PASS" starttime="20230915 05:06:23.402" endtime="20230915 05:06:23.412"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:16.261" endtime="20230915 05:06:23.413"/>
</test>
<test id="s1-s4-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:23.420" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:27.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:27.203" level="INFO">${output} = 2023-09-15 05:06:27,117 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230915 05:06:23.418" endtime="20230915 05:06:27.203"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:27.204" level="INFO">2023-09-15 05:06:27,117 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230915 05:06:27.203" endtime="20230915 05:06:27.204"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:27.205" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:27.205" endtime="20230915 05:06:27.206"/>
</kw>
<status status="PASS" starttime="20230915 05:06:23.417" endtime="20230915 05:06:27.206"/>
</kw>
<msg timestamp="20230915 05:06:27.206" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:23.417" endtime="20230915 05:06:27.207"/>
</kw>
<msg timestamp="20230915 05:06:27.207" level="INFO">${output} = 2023-09-15 05:06:27,117 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230915 05:06:23.415" endtime="20230915 05:06:27.207"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:27.207" endtime="20230915 05:06:27.208"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:23.414" endtime="20230915 05:06:27.209"/>
</test>
<test id="s1-s4-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:27.214" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:06:27.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:27.216" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:27.212" endtime="20230915 05:06:27.216"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:27.217" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:27.217" endtime="20230915 05:06:27.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:27.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:27.218" endtime="20230915 05:06:27.219"/>
</kw>
<status status="PASS" starttime="20230915 05:06:27.211" endtime="20230915 05:06:27.219"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:27.224" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:34.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:34.050" level="INFO">${output} = 2023-09-15 05:06:31,960 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:32,164 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:27.222" endtime="20230915 05:06:34.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:34.052" level="INFO">2023-09-15 05:06:31,960 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:32,164 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:06:32,164 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 05:06:32,521 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 05:06:34.051" endtime="20230915 05:06:34.052"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:34.053" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:34.052" endtime="20230915 05:06:34.053"/>
</kw>
<status status="PASS" starttime="20230915 05:06:27.221" endtime="20230915 05:06:34.053"/>
</kw>
<msg timestamp="20230915 05:06:34.053" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:27.221" endtime="20230915 05:06:34.054"/>
</kw>
<msg timestamp="20230915 05:06:34.054" level="INFO">${output} = 2023-09-15 05:06:31,960 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:32,164 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:27.220" endtime="20230915 05:06:34.055"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:34.055" endtime="20230915 05:06:34.055"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:34.059" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:34.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:34.063" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:34.057" endtime="20230915 05:06:34.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:34.064" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:34.063" endtime="20230915 05:06:34.064"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:34.065" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:34.064" endtime="20230915 05:06:34.065"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.056" endtime="20230915 05:06:34.065"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:27.210" endtime="20230915 05:06:34.066"/>
</test>
<test id="s1-s4-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:34.073" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:34.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:34.673" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:34.070" endtime="20230915 05:06:34.673"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:34.675" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:34.674" endtime="20230915 05:06:34.675"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:34.675" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:34.675" endtime="20230915 05:06:34.676"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.070" endtime="20230915 05:06:34.676"/>
</kw>
<msg timestamp="20230915 05:06:34.676" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:34.069" endtime="20230915 05:06:34.677"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.069" endtime="20230915 05:06:34.677"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:34.682" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:35.297" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:35.297" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:34.679" endtime="20230915 05:06:35.297"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:35.298" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:35.297" endtime="20230915 05:06:35.298"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:35.299" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:35.298" endtime="20230915 05:06:35.299"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.678" endtime="20230915 05:06:35.300"/>
</kw>
<msg timestamp="20230915 05:06:35.300" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:34.678" endtime="20230915 05:06:35.300"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.677" endtime="20230915 05:06:35.301"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:35.305" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:35.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:35.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:35.303" endtime="20230915 05:06:35.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:35.934" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:35.934" endtime="20230915 05:06:35.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:35.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:35.935" endtime="20230915 05:06:35.935"/>
</kw>
<status status="PASS" starttime="20230915 05:06:35.302" endtime="20230915 05:06:35.936"/>
</kw>
<msg timestamp="20230915 05:06:35.936" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:35.301" endtime="20230915 05:06:35.937"/>
</kw>
<status status="PASS" starttime="20230915 05:06:35.301" endtime="20230915 05:06:35.937"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:35.941" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:36.562" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:36.562" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:35.939" endtime="20230915 05:06:36.562"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:36.564" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:36.563" endtime="20230915 05:06:36.564"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:36.565" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:36.564" endtime="20230915 05:06:36.565"/>
</kw>
<status status="PASS" starttime="20230915 05:06:35.938" endtime="20230915 05:06:36.565"/>
</kw>
<msg timestamp="20230915 05:06:36.565" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:35.938" endtime="20230915 05:06:36.566"/>
</kw>
<status status="PASS" starttime="20230915 05:06:35.937" endtime="20230915 05:06:36.567"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.069" endtime="20230915 05:06:36.567"/>
</kw>
<status status="PASS" starttime="20230915 05:06:34.068" endtime="20230915 05:06:36.567"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:34.067" endtime="20230915 05:06:36.568"/>
</test>
<test id="s1-s4-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:36.577" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:37.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:37.403" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:06:36.574" endtime="20230915 05:06:37.404"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:37.407" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:06:37.406" endtime="20230915 05:06:37.407"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:37.408" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:37.407" endtime="20230915 05:06:37.408"/>
</kw>
<status status="PASS" starttime="20230915 05:06:36.574" endtime="20230915 05:06:37.408"/>
</kw>
<msg timestamp="20230915 05:06:37.408" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:36.573" endtime="20230915 05:06:37.409"/>
</kw>
<msg timestamp="20230915 05:06:37.410" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:06:36.572" endtime="20230915 05:06:37.410"/>
</kw>
<msg timestamp="20230915 05:06:37.410" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:06:36.571" endtime="20230915 05:06:37.410"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:37.410" endtime="20230915 05:06:37.411"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:37.411" endtime="20230915 05:06:37.413"/>
</kw>
<msg timestamp="20230915 05:06:37.413" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230915 05:06:36.570" endtime="20230915 05:06:37.413"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230915 05:06:37.413" endtime="20230915 05:06:37.414"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:36.569" endtime="20230915 05:06:37.414"/>
</test>
<test id="s1-s4-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:37.420" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:06:37.423" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:37.423" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:37.418" endtime="20230915 05:06:37.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:37.424" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:37.424" endtime="20230915 05:06:37.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:37.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:37.425" endtime="20230915 05:06:37.425"/>
</kw>
<status status="PASS" starttime="20230915 05:06:37.417" endtime="20230915 05:06:37.426"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:37.431" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:38.818" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:38.818" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:37.428" endtime="20230915 05:06:38.818"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:38.820" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:38.818" endtime="20230915 05:06:38.820"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:38.822" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:38.821" endtime="20230915 05:06:38.822"/>
</kw>
<msg timestamp="20230915 05:06:38.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:37.427" endtime="20230915 05:06:38.823"/>
</kw>
<msg timestamp="20230915 05:06:38.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:37.426" endtime="20230915 05:06:38.823"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:38.823" endtime="20230915 05:06:38.824"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:38.829" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:38.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:38.832" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:38.825" endtime="20230915 05:06:38.832"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:38.834" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:38.833" endtime="20230915 05:06:38.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:38.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:38.834" endtime="20230915 05:06:38.835"/>
</kw>
<status status="PASS" starttime="20230915 05:06:38.825" endtime="20230915 05:06:38.836"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:37.416" endtime="20230915 05:06:38.836"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230915 05:06:09.238" endtime="20230915 05:06:38.839"/>
</suite>
<suite id="s1-s5" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s5-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 05:06:42.617" level="INFO">${random} = 81249</msg>
<status status="PASS" starttime="20230915 05:06:42.617" endtime="20230915 05:06:42.617"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:42.625" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-81249 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:48.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:48.317" level="INFO">${output} = 2023-09-15 05:06:46,854 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:46,959 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:42.620" endtime="20230915 05:06:48.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:48.318" level="INFO">2023-09-15 05:06:46,854 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:46,959 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:06:46,959 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230915 05:06:48.317" endtime="20230915 05:06:48.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:48.319" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:48.318" endtime="20230915 05:06:48.319"/>
</kw>
<status status="PASS" starttime="20230915 05:06:42.619" endtime="20230915 05:06:48.320"/>
</kw>
<msg timestamp="20230915 05:06:48.320" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:42.618" endtime="20230915 05:06:48.321"/>
</kw>
<msg timestamp="20230915 05:06:48.322" level="INFO">${output} = 2023-09-15 05:06:46,854 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:06:46,959 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:42.618" endtime="20230915 05:06:48.322"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:48.322" endtime="20230915 05:06:48.322"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:48.326" level="INFO">Running command 'cat /tmp/key-81249 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:48.334" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:48.334" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:48.323" endtime="20230915 05:06:48.334"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:48.336" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:48.335" endtime="20230915 05:06:48.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:48.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:48.337" endtime="20230915 05:06:48.337"/>
</kw>
<msg timestamp="20230915 05:06:48.338" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:48.323" endtime="20230915 05:06:48.338"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:48.338" endtime="20230915 05:06:48.339"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:48.343" level="INFO">Running command 'rm /tmp/key-81249 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:48.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:48.347" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:48.340" endtime="20230915 05:06:48.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:48.348" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:48.348" endtime="20230915 05:06:48.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:48.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:48.349" endtime="20230915 05:06:48.349"/>
</kw>
<status status="PASS" starttime="20230915 05:06:48.339" endtime="20230915 05:06:48.350"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:42.616" endtime="20230915 05:06:48.350"/>
</test>
<test id="s1-s5-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:48.359" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:49.129" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:49.129" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:48.356" endtime="20230915 05:06:49.129"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:49.131" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:49.130" endtime="20230915 05:06:49.131"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:49.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:49.131" endtime="20230915 05:06:49.132"/>
</kw>
<status status="PASS" starttime="20230915 05:06:48.355" endtime="20230915 05:06:49.133"/>
</kw>
<msg timestamp="20230915 05:06:49.133" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:48.355" endtime="20230915 05:06:49.134"/>
</kw>
<status status="PASS" starttime="20230915 05:06:48.354" endtime="20230915 05:06:49.134"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:49.139" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:49.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:49.767" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:49.136" endtime="20230915 05:06:49.767"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:49.769" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:49.767" endtime="20230915 05:06:49.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:49.770" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:49.769" endtime="20230915 05:06:49.770"/>
</kw>
<status status="PASS" starttime="20230915 05:06:49.135" endtime="20230915 05:06:49.771"/>
</kw>
<msg timestamp="20230915 05:06:49.771" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:49.135" endtime="20230915 05:06:49.772"/>
</kw>
<status status="PASS" starttime="20230915 05:06:49.134" endtime="20230915 05:06:49.772"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:49.777" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:50.474" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:50.474" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:49.774" endtime="20230915 05:06:50.474"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:50.476" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:50.475" endtime="20230915 05:06:50.476"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:50.477" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:50.476" endtime="20230915 05:06:50.477"/>
</kw>
<status status="PASS" starttime="20230915 05:06:49.773" endtime="20230915 05:06:50.477"/>
</kw>
<msg timestamp="20230915 05:06:50.477" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:49.773" endtime="20230915 05:06:50.478"/>
</kw>
<status status="PASS" starttime="20230915 05:06:49.772" endtime="20230915 05:06:50.478"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:50.483" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:51.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:51.095" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:50.480" endtime="20230915 05:06:51.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:51.097" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:51.096" endtime="20230915 05:06:51.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:51.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:51.097" endtime="20230915 05:06:51.098"/>
</kw>
<status status="PASS" starttime="20230915 05:06:50.479" endtime="20230915 05:06:51.098"/>
</kw>
<msg timestamp="20230915 05:06:51.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:50.479" endtime="20230915 05:06:51.099"/>
</kw>
<status status="PASS" starttime="20230915 05:06:50.478" endtime="20230915 05:06:51.099"/>
</kw>
<status status="PASS" starttime="20230915 05:06:48.353" endtime="20230915 05:06:51.099"/>
</kw>
<status status="PASS" starttime="20230915 05:06:48.353" endtime="20230915 05:06:51.099"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:48.352" endtime="20230915 05:06:51.100"/>
</test>
<test id="s1-s5-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:51.106" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:51.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:51.888" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.103" endtime="20230915 05:06:51.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:51.890" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:06:51 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:06:51.889" endtime="20230915 05:06:51.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:51.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:51.890" endtime="20230915 05:06:51.891"/>
</kw>
<msg timestamp="20230915 05:06:51.891" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.102" endtime="20230915 05:06:51.891"/>
</kw>
<msg timestamp="20230915 05:06:51.892" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.101" endtime="20230915 05:06:51.892"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:51.892" endtime="20230915 05:06:51.893"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:51.896" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:51.899" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:51.899" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:51.894" endtime="20230915 05:06:51.899"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:51.900" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:51.899" endtime="20230915 05:06:51.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:51.901" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:51.900" endtime="20230915 05:06:51.901"/>
</kw>
<msg timestamp="20230915 05:06:51.901" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:06:51.893" endtime="20230915 05:06:51.901"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:51.902" endtime="20230915 05:06:51.902"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:51.905" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:51.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:51.908" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:51.903" endtime="20230915 05:06:51.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:51.909" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:51.909" endtime="20230915 05:06:51.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:51.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:51.910" endtime="20230915 05:06:51.910"/>
</kw>
<status status="PASS" starttime="20230915 05:06:51.902" endtime="20230915 05:06:51.911"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:51.100" endtime="20230915 05:06:51.911"/>
</test>
<test id="s1-s5-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:51.917" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:52.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:52.708" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:38 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.914" endtime="20230915 05:06:52.708"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:52.709" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:38 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:06:52 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:06:52.709" endtime="20230915 05:06:52.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:52.710" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:52.710" endtime="20230915 05:06:52.710"/>
</kw>
<msg timestamp="20230915 05:06:52.711" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:38 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.914" endtime="20230915 05:06:52.711"/>
</kw>
<msg timestamp="20230915 05:06:52.711" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:06:38 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:06:51.913" endtime="20230915 05:06:52.712"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:52.712" endtime="20230915 05:06:52.712"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:52.716" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:52.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:52.719" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:52.713" endtime="20230915 05:06:52.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:52.721" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:52.720" endtime="20230915 05:06:52.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:52.722" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:52.721" endtime="20230915 05:06:52.722"/>
</kw>
<msg timestamp="20230915 05:06:52.722" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:06:52.713" endtime="20230915 05:06:52.722"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:06:52.723" endtime="20230915 05:06:52.724"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:52.727" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:06:52.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:52.730" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:52.725" endtime="20230915 05:06:52.730"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:52.731" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:52.730" endtime="20230915 05:06:52.731"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:52.732" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:52.731" endtime="20230915 05:06:52.732"/>
</kw>
<status status="PASS" starttime="20230915 05:06:52.724" endtime="20230915 05:06:52.733"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:51.912" endtime="20230915 05:06:52.734"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 05:06:42.507" endtime="20230915 05:06:52.736"/>
</suite>
<suite id="s1-s6" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s6-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:56.475" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:06:56.478" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:06:56.478" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:06:56.469" endtime="20230915 05:06:56.479"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:06:56.480" level="INFO"/>
<status status="PASS" starttime="20230915 05:06:56.479" endtime="20230915 05:06:56.480"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:06:56.481" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:06:56.480" endtime="20230915 05:06:56.481"/>
</kw>
<status status="PASS" starttime="20230915 05:06:56.468" endtime="20230915 05:06:56.481"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:06:56.485" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:03.041" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:03.041" level="INFO">${output} = 2023-09-15 05:07:00,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:01,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:56.483" endtime="20230915 05:07:03.041"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:03.043" level="INFO">2023-09-15 05:07:00,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:01,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:07:01,092 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 05:07:01,500 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 05:07:03.042" endtime="20230915 05:07:03.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:03.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:03.043" endtime="20230915 05:07:03.044"/>
</kw>
<status status="PASS" starttime="20230915 05:06:56.482" endtime="20230915 05:07:03.045"/>
</kw>
<msg timestamp="20230915 05:07:03.045" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:06:56.482" endtime="20230915 05:07:03.046"/>
</kw>
<msg timestamp="20230915 05:07:03.047" level="INFO">${output} = 2023-09-15 05:07:00,934 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:01,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:06:56.481" endtime="20230915 05:07:03.047"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:07:03.047" endtime="20230915 05:07:03.048"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:03.051" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:03.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:03.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:03.049" endtime="20230915 05:07:03.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:03.056" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:03.055" endtime="20230915 05:07:03.056"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:03.057" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:03.057" endtime="20230915 05:07:03.057"/>
</kw>
<status status="PASS" starttime="20230915 05:07:03.048" endtime="20230915 05:07:03.058"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:06:56.467" endtime="20230915 05:07:03.058"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:03.066" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:07:03.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:03.068" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:03.062" endtime="20230915 05:07:03.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:03.069" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:03.068" endtime="20230915 05:07:03.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:03.070" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:03.069" endtime="20230915 05:07:03.070"/>
</kw>
<status status="PASS" starttime="20230915 05:07:03.061" endtime="20230915 05:07:03.071"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:03.076" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:09.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:09.530" level="INFO">${output} = 2023-09-15 05:07:07,492 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:07,626 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:07:03.073" endtime="20230915 05:07:09.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:09.532" level="INFO">2023-09-15 05:07:07,492 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:07,626 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 05:07:07,626 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 05:07:08,045 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 05:07:09.531" endtime="20230915 05:07:09.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:09.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:09.533" endtime="20230915 05:07:09.534"/>
</kw>
<status status="PASS" starttime="20230915 05:07:03.072" endtime="20230915 05:07:09.534"/>
</kw>
<msg timestamp="20230915 05:07:09.534" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:03.072" endtime="20230915 05:07:09.535"/>
</kw>
<msg timestamp="20230915 05:07:09.535" level="INFO">${output} = 2023-09-15 05:07:07,492 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 05:07:07,626 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 05:07:03.071" endtime="20230915 05:07:09.535"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:07:09.535" endtime="20230915 05:07:09.536"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:09.539" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:09.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:09.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:09.537" endtime="20230915 05:07:09.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:09.544" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:09.543" endtime="20230915 05:07:09.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:09.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:09.545" endtime="20230915 05:07:09.545"/>
</kw>
<status status="PASS" starttime="20230915 05:07:09.536" endtime="20230915 05:07:09.546"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:07:03.060" endtime="20230915 05:07:09.546"/>
</test>
<test id="s1-s6-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:09.555" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:10.205" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:10.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:09.552" endtime="20230915 05:07:10.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:10.208" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:10.207" endtime="20230915 05:07:10.208"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:10.209" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:10.208" endtime="20230915 05:07:10.209"/>
</kw>
<status status="PASS" starttime="20230915 05:07:09.552" endtime="20230915 05:07:10.210"/>
</kw>
<msg timestamp="20230915 05:07:10.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:09.551" endtime="20230915 05:07:10.211"/>
</kw>
<status status="PASS" starttime="20230915 05:07:09.550" endtime="20230915 05:07:10.211"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:10.217" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:10.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:10.880" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:10.213" endtime="20230915 05:07:10.880"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:10.883" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:10.881" endtime="20230915 05:07:10.883"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:10.884" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:10.883" endtime="20230915 05:07:10.884"/>
</kw>
<status status="PASS" starttime="20230915 05:07:10.213" endtime="20230915 05:07:10.884"/>
</kw>
<msg timestamp="20230915 05:07:10.884" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:10.212" endtime="20230915 05:07:10.885"/>
</kw>
<status status="PASS" starttime="20230915 05:07:10.211" endtime="20230915 05:07:10.886"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:10.891" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:11.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:11.553" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:10.888" endtime="20230915 05:07:11.553"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:11.554" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:11.553" endtime="20230915 05:07:11.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:11.555" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:11.554" endtime="20230915 05:07:11.555"/>
</kw>
<status status="PASS" starttime="20230915 05:07:10.887" endtime="20230915 05:07:11.556"/>
</kw>
<msg timestamp="20230915 05:07:11.556" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:10.887" endtime="20230915 05:07:11.556"/>
</kw>
<status status="PASS" starttime="20230915 05:07:10.886" endtime="20230915 05:07:11.557"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:11.562" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:12.190" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:12.190" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:11.559" endtime="20230915 05:07:12.190"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:12.192" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:12.191" endtime="20230915 05:07:12.192"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:12.193" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:12.192" endtime="20230915 05:07:12.193"/>
</kw>
<status status="PASS" starttime="20230915 05:07:11.558" endtime="20230915 05:07:12.193"/>
</kw>
<msg timestamp="20230915 05:07:12.194" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:11.558" endtime="20230915 05:07:12.195"/>
</kw>
<status status="PASS" starttime="20230915 05:07:11.557" endtime="20230915 05:07:12.195"/>
</kw>
<status status="PASS" starttime="20230915 05:07:09.549" endtime="20230915 05:07:12.195"/>
</kw>
<status status="PASS" starttime="20230915 05:07:09.549" endtime="20230915 05:07:12.195"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:07:09.548" endtime="20230915 05:07:12.196"/>
</test>
<test id="s1-s6-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:12.206" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:13.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:13.053" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:07:12.203" endtime="20230915 05:07:13.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:13.054" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:07:13.053" endtime="20230915 05:07:13.054"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:13.055" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:13.054" endtime="20230915 05:07:13.055"/>
</kw>
<status status="PASS" starttime="20230915 05:07:12.202" endtime="20230915 05:07:13.056"/>
</kw>
<msg timestamp="20230915 05:07:13.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:07:12.202" endtime="20230915 05:07:13.056"/>
</kw>
<msg timestamp="20230915 05:07:13.057" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:07:12.201" endtime="20230915 05:07:13.057"/>
</kw>
<msg timestamp="20230915 05:07:13.057" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:07:12.200" endtime="20230915 05:07:13.057"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:07:13.057" endtime="20230915 05:07:13.058"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:07:13.058" endtime="20230915 05:07:13.059"/>
</kw>
<msg timestamp="20230915 05:07:13.059" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230915 05:07:12.200" endtime="20230915 05:07:13.059"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230915 05:07:13.059" endtime="20230915 05:07:13.060"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:07:12.198" endtime="20230915 05:07:13.060"/>
</test>
<test id="s1-s6-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:13.067" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:07:13.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:13.070" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:13.064" endtime="20230915 05:07:13.070"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:13.071" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:13.070" endtime="20230915 05:07:13.071"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:13.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:13.072" endtime="20230915 05:07:13.073"/>
</kw>
<status status="PASS" starttime="20230915 05:07:13.063" endtime="20230915 05:07:13.073"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:13.079" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:14.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:14.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:13.075" endtime="20230915 05:07:14.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:14.048" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:14.045" endtime="20230915 05:07:14.048"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:14.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:14.049" endtime="20230915 05:07:14.052"/>
</kw>
<msg timestamp="20230915 05:07:14.053" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:13.074" endtime="20230915 05:07:14.053"/>
</kw>
<msg timestamp="20230915 05:07:14.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:13.073" endtime="20230915 05:07:14.054"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:07:14.054" endtime="20230915 05:07:14.056"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:14.062" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:07:14.066" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:07:14.067" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:07:14.058" endtime="20230915 05:07:14.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:07:14.068" level="INFO"/>
<status status="PASS" starttime="20230915 05:07:14.067" endtime="20230915 05:07:14.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:07:14.070" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:07:14.069" endtime="20230915 05:07:14.079"/>
</kw>
<status status="PASS" starttime="20230915 05:07:14.057" endtime="20230915 05:07:14.080"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:07:13.062" endtime="20230915 05:07:14.080"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230915 05:06:56.333" endtime="20230915 05:07:14.083"/>
</suite>
<suite id="s1-s7" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s7-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:07:17.739" endtime="20230915 05:07:17.740"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 05:07:17.740" endtime="20230915 05:07:17.740"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:07:17.747" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:12:17.739" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230915 05:07:17.742" endtime="20230915 05:12:17.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230915 05:12:17.740" endtime="20230915 05:12:17.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230915 05:12:17.740" endtime="20230915 05:12:17.740"/>
</kw>
<status status="FAIL" starttime="20230915 05:07:17.741" endtime="20230915 05:12:17.741"/>
</kw>
<msg timestamp="20230915 05:12:17.741" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230915 05:07:17.741" endtime="20230915 05:12:17.743"/>
</kw>
<status status="FAIL" starttime="20230915 05:07:17.740" endtime="20230915 05:12:17.743"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230915 05:12:17.744" endtime="20230915 05:12:17.744"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230915 05:07:17.737" endtime="20230915 05:12:17.746">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230915 05:07:17.666" endtime="20230915 05:12:17.748"/>
</suite>
<suite id="s1-s8" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s8-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 04:54:26.351" endtime="20230915 04:54:26.352"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:26.360" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:26.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:26.363" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e98900df1c81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230915 04:54:26.354" endtime="20230915 04:54:26.363"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:26.365" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e98900df1c81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230915 04:54:26.363" endtime="20230915 04:54:26.365"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:26.366" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:26.365" endtime="20230915 04:54:26.366"/>
</kw>
<status status="PASS" starttime="20230915 04:54:26.353" endtime="20230915 04:54:26.367"/>
</kw>
<msg timestamp="20230915 04:54:26.367" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:26.353" endtime="20230915 04:54:26.369"/>
</kw>
<msg timestamp="20230915 04:54:26.369" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e98900df1c81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.serv...</msg>
<status status="PASS" starttime="20230915 04:54:26.352" endtime="20230915 04:54:26.369"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:26.370" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=e98900df1c81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230915 04:54:26.369" endtime="20230915 04:54:26.370"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 04:54:26.370" endtime="20230915 04:54:26.371"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:26.375" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:30.633" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:30.633" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 04:54:26.372" endtime="20230915 04:54:30.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:30.634" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 04:54:30.633" endtime="20230915 04:54:30.634"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:30.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:30.635" endtime="20230915 04:54:30.635"/>
</kw>
<status status="PASS" starttime="20230915 04:54:26.372" endtime="20230915 04:54:30.636"/>
</kw>
<msg timestamp="20230915 04:54:30.636" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:26.371" endtime="20230915 04:54:30.636"/>
</kw>
<msg timestamp="20230915 04:54:30.637" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 04:54:26.371" endtime="20230915 04:54:30.637"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:30.637" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230915 04:54:30.637" endtime="20230915 04:54:30.637"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 04:54:30.637" endtime="20230915 04:54:30.638"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 04:54:26.350" endtime="20230915 04:54:30.638"/>
</test>
<test id="s1-s8-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 04:54:30.642" endtime="20230915 04:54:30.643"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 04:54:30.643" endtime="20230915 04:54:30.643"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:30.648" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:34.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:34.750" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 04:54:30.645" endtime="20230915 04:54:34.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:34.752" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 04:54:34.751" endtime="20230915 04:54:34.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:34.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:34.752" endtime="20230915 04:54:34.753"/>
</kw>
<status status="PASS" starttime="20230915 04:54:30.644" endtime="20230915 04:54:34.753"/>
</kw>
<msg timestamp="20230915 04:54:34.753" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:30.644" endtime="20230915 04:54:34.754"/>
</kw>
<msg timestamp="20230915 04:54:34.754" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 04:54:30.643" endtime="20230915 04:54:34.754"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:34.755" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230915 04:54:34.754" endtime="20230915 04:54:34.755"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 04:54:34.756" endtime="20230915 04:54:34.756"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 04:54:30.641" endtime="20230915 04:54:34.756"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230915 04:54:26.271" endtime="20230915 04:54:34.758"/>
</suite>
<suite id="s1-s9" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s9-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:38.830" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:42.931" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:42.931" level="INFO">${output} = 2023-09-15 04:54:42,559 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 04:54:38.825" endtime="20230915 04:54:42.931"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:42.934" level="INFO">2023-09-15 04:54:42,559 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 04:54:42.933" endtime="20230915 04:54:42.934"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:42.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:42.934" endtime="20230915 04:54:42.938"/>
</kw>
<status status="PASS" starttime="20230915 04:54:38.824" endtime="20230915 04:54:42.938"/>
</kw>
<msg timestamp="20230915 04:54:42.938" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:38.823" endtime="20230915 04:54:42.944"/>
</kw>
<msg timestamp="20230915 04:54:42.945" level="INFO">${output} = 2023-09-15 04:54:42,559 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230915 04:54:38.823" endtime="20230915 04:54:42.945"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:54:42.945" endtime="20230915 04:54:42.945"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:42.964" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:47.013" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:47.013" level="INFO">${output} = 2023-09-15 04:54:46,873 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230915 04:54:42.960" endtime="20230915 04:54:47.013"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:47.014" level="INFO">2023-09-15 04:54:46,873 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230915 04:54:47.013" endtime="20230915 04:54:47.014"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:47.015" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:47.015" endtime="20230915 04:54:47.015"/>
</kw>
<status status="PASS" starttime="20230915 04:54:42.955" endtime="20230915 04:54:47.016"/>
</kw>
<msg timestamp="20230915 04:54:47.016" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:42.946" endtime="20230915 04:54:47.016"/>
</kw>
<msg timestamp="20230915 04:54:47.017" level="INFO">${output} = 2023-09-15 04:54:46,873 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230915 04:54:42.946" endtime="20230915 04:54:47.017"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:54:47.017" endtime="20230915 04:54:47.018"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:54:38.821" endtime="20230915 04:54:47.019"/>
</test>
<test id="s1-s9-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:47.026" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 04:54:47.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:47.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:54:47.023" endtime="20230915 04:54:47.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:47.029" level="INFO"/>
<status status="PASS" starttime="20230915 04:54:47.029" endtime="20230915 04:54:47.029"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:47.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:47.030" endtime="20230915 04:54:47.030"/>
</kw>
<status status="PASS" starttime="20230915 04:54:47.022" endtime="20230915 04:54:47.031"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:47.036" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:54.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:54.987" level="INFO">${output} = 2023-09-15 04:54:52,125 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:54:52,300 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:54:47.033" endtime="20230915 04:54:54.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:54.989" level="INFO">2023-09-15 04:54:52,125 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:54:52,300 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 04:54:52,300 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 04:54:52,703 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 04:54:54.988" endtime="20230915 04:54:54.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:54.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:54.989" endtime="20230915 04:54:54.990"/>
</kw>
<status status="PASS" starttime="20230915 04:54:47.033" endtime="20230915 04:54:54.990"/>
</kw>
<msg timestamp="20230915 04:54:54.990" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:47.032" endtime="20230915 04:54:54.991"/>
</kw>
<msg timestamp="20230915 04:54:54.991" level="INFO">${output} = 2023-09-15 04:54:52,125 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:54:52,300 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:54:47.031" endtime="20230915 04:54:54.991"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:54:54.991" endtime="20230915 04:54:54.992"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:54.996" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:54.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:54.999" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:54:54.993" endtime="20230915 04:54:54.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:55.001" level="INFO"/>
<status status="PASS" starttime="20230915 04:54:54.999" endtime="20230915 04:54:55.001"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:55.002" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:55.001" endtime="20230915 04:54:55.002"/>
</kw>
<status status="PASS" starttime="20230915 04:54:54.992" endtime="20230915 04:54:55.003"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:54:47.021" endtime="20230915 04:54:55.003"/>
</test>
<test id="s1-s9-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:55.011" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:54:58.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:58.601" level="INFO">${output} = 2023-09-15 04:54:58,543 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230915 04:54:55.009" endtime="20230915 04:54:58.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:58.603" level="INFO">2023-09-15 04:54:58,543 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230915 04:54:58.602" endtime="20230915 04:54:58.603"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:58.604" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:58.603" endtime="20230915 04:54:58.604"/>
</kw>
<status status="PASS" starttime="20230915 04:54:55.008" endtime="20230915 04:54:58.604"/>
</kw>
<msg timestamp="20230915 04:54:58.605" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:55.007" endtime="20230915 04:54:58.605"/>
</kw>
<msg timestamp="20230915 04:54:58.605" level="INFO">${output} = 2023-09-15 04:54:58,543 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230915 04:54:55.006" endtime="20230915 04:54:58.605"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:54:58.606" endtime="20230915 04:54:58.606"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:54:55.005" endtime="20230915 04:54:58.606"/>
</test>
<test id="s1-s9-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:58.612" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 04:54:58.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:54:58.614" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:54:58.609" endtime="20230915 04:54:58.614"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:54:58.615" level="INFO"/>
<status status="PASS" starttime="20230915 04:54:58.614" endtime="20230915 04:54:58.616"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:54:58.616" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:54:58.616" endtime="20230915 04:54:58.617"/>
</kw>
<status status="PASS" starttime="20230915 04:54:58.609" endtime="20230915 04:54:58.617"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:54:58.621" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:05.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:05.570" level="INFO">${output} = 2023-09-15 04:55:03,140 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:03,394 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:54:58.619" endtime="20230915 04:55:05.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:05.572" level="INFO">2023-09-15 04:55:03,140 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:03,394 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 04:55:03,394 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-09-15 04:55:03,779 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230915 04:55:05.571" endtime="20230915 04:55:05.572"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:05.573" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:05.572" endtime="20230915 04:55:05.573"/>
</kw>
<status status="PASS" starttime="20230915 04:54:58.618" endtime="20230915 04:55:05.573"/>
</kw>
<msg timestamp="20230915 04:55:05.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:54:58.618" endtime="20230915 04:55:05.574"/>
</kw>
<msg timestamp="20230915 04:55:05.575" level="INFO">${output} = 2023-09-15 04:55:03,140 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:03,394 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:54:58.617" endtime="20230915 04:55:05.575"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:05.575" endtime="20230915 04:55:05.576"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:05.579" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:05.583" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:05.584" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:05.577" endtime="20230915 04:55:05.584"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:05.586" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:05.585" endtime="20230915 04:55:05.586"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:05.587" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:05.586" endtime="20230915 04:55:05.587"/>
</kw>
<status status="PASS" starttime="20230915 04:55:05.576" endtime="20230915 04:55:05.587"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:54:58.607" endtime="20230915 04:55:05.588"/>
</test>
<test id="s1-s9-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:05.596" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:06.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:06.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:05.593" endtime="20230915 04:55:06.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:06.589" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:06.588" endtime="20230915 04:55:06.589"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:06.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:06.589" endtime="20230915 04:55:06.590"/>
</kw>
<status status="PASS" starttime="20230915 04:55:05.592" endtime="20230915 04:55:06.590"/>
</kw>
<msg timestamp="20230915 04:55:06.590" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:05.592" endtime="20230915 04:55:06.591"/>
</kw>
<status status="PASS" starttime="20230915 04:55:05.591" endtime="20230915 04:55:06.591"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:06.596" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:07.296" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:07.296" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:06.593" endtime="20230915 04:55:07.297"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:07.298" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:07.297" endtime="20230915 04:55:07.299"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:07.300" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:07.300" endtime="20230915 04:55:07.301"/>
</kw>
<status status="PASS" starttime="20230915 04:55:06.592" endtime="20230915 04:55:07.301"/>
</kw>
<msg timestamp="20230915 04:55:07.301" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:06.592" endtime="20230915 04:55:07.302"/>
</kw>
<status status="PASS" starttime="20230915 04:55:06.591" endtime="20230915 04:55:07.303"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:07.308" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:08.012" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:08.012" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:07.305" endtime="20230915 04:55:08.012"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:08.014" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:08.013" endtime="20230915 04:55:08.014"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:08.015" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:08.014" endtime="20230915 04:55:08.015"/>
</kw>
<status status="PASS" starttime="20230915 04:55:07.304" endtime="20230915 04:55:08.015"/>
</kw>
<msg timestamp="20230915 04:55:08.015" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:07.303" endtime="20230915 04:55:08.016"/>
</kw>
<status status="PASS" starttime="20230915 04:55:07.303" endtime="20230915 04:55:08.016"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:08.021" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:08.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:08.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:08.018" endtime="20230915 04:55:08.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:08.664" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:08.663" endtime="20230915 04:55:08.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:08.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:08.664" endtime="20230915 04:55:08.665"/>
</kw>
<status status="PASS" starttime="20230915 04:55:08.017" endtime="20230915 04:55:08.666"/>
</kw>
<msg timestamp="20230915 04:55:08.666" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:08.017" endtime="20230915 04:55:08.668"/>
</kw>
<status status="PASS" starttime="20230915 04:55:08.017" endtime="20230915 04:55:08.668"/>
</kw>
<status status="PASS" starttime="20230915 04:55:05.591" endtime="20230915 04:55:08.668"/>
</kw>
<status status="PASS" starttime="20230915 04:55:05.590" endtime="20230915 04:55:08.668"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:05.589" endtime="20230915 04:55:08.669"/>
</test>
<test id="s1-s9-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:08.678" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:11.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:11.402" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 04:55:08.675" endtime="20230915 04:55:11.402"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:11.403" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 04:55:11.402" endtime="20230915 04:55:11.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:11.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:11.404" endtime="20230915 04:55:11.405"/>
</kw>
<status status="PASS" starttime="20230915 04:55:08.675" endtime="20230915 04:55:11.406"/>
</kw>
<msg timestamp="20230915 04:55:11.406" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:08.674" endtime="20230915 04:55:11.407"/>
</kw>
<msg timestamp="20230915 04:55:11.407" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 04:55:08.673" endtime="20230915 04:55:11.407"/>
</kw>
<msg timestamp="20230915 04:55:11.408" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 04:55:08.672" endtime="20230915 04:55:11.408"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:11.408" endtime="20230915 04:55:11.409"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:11.409" endtime="20230915 04:55:11.409"/>
</kw>
<msg timestamp="20230915 04:55:11.410" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230915 04:55:08.671" endtime="20230915 04:55:11.410"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230915 04:55:11.410" endtime="20230915 04:55:11.411"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:08.670" endtime="20230915 04:55:11.411"/>
</test>
<test id="s1-s9-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:11.419" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 04:55:11.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:11.422" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:11.416" endtime="20230915 04:55:11.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:11.423" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:11.423" endtime="20230915 04:55:11.423"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:11.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:11.424" endtime="20230915 04:55:11.425"/>
</kw>
<status status="PASS" starttime="20230915 04:55:11.415" endtime="20230915 04:55:11.425"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:11.431" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:14.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:14.225" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:11.428" endtime="20230915 04:55:14.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:14.226" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:14.225" endtime="20230915 04:55:14.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:14.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:14.227" endtime="20230915 04:55:14.228"/>
</kw>
<msg timestamp="20230915 04:55:14.228" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:11.427" endtime="20230915 04:55:14.228"/>
</kw>
<msg timestamp="20230915 04:55:14.229" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:11.426" endtime="20230915 04:55:14.229"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:14.229" endtime="20230915 04:55:14.230"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:14.234" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:14.237" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:14.237" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:14.231" endtime="20230915 04:55:14.237"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:14.238" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:14.238" endtime="20230915 04:55:14.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:14.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:14.239" endtime="20230915 04:55:14.240"/>
</kw>
<status status="PASS" starttime="20230915 04:55:14.230" endtime="20230915 04:55:14.241"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:11.413" endtime="20230915 04:55:14.241"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230915 04:54:38.712" endtime="20230915 04:55:14.243"/>
</suite>
<suite id="s1-s10" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s10-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 04:55:18.198" level="INFO">${random} = 44841</msg>
<status status="PASS" starttime="20230915 04:55:18.198" endtime="20230915 04:55:18.198"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:18.207" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-44841 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:24.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:24.081" level="INFO">${output} = 2023-09-15 04:55:22,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:22,540 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:55:18.201" endtime="20230915 04:55:24.081"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:24.082" level="INFO">2023-09-15 04:55:22,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:22,540 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-09-15 04:55:22,540 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230915 04:55:24.081" endtime="20230915 04:55:24.082"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:24.083" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:24.083" endtime="20230915 04:55:24.083"/>
</kw>
<status status="PASS" starttime="20230915 04:55:18.200" endtime="20230915 04:55:24.084"/>
</kw>
<msg timestamp="20230915 04:55:24.084" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:18.199" endtime="20230915 04:55:24.085"/>
</kw>
<msg timestamp="20230915 04:55:24.086" level="INFO">${output} = 2023-09-15 04:55:22,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-09-15 04:55:22,540 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230915 04:55:18.199" endtime="20230915 04:55:24.086"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:24.086" endtime="20230915 04:55:24.087"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:24.090" level="INFO">Running command 'cat /tmp/key-44841 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:24.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:24.095" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:24.087" endtime="20230915 04:55:24.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:24.097" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:24.095" endtime="20230915 04:55:24.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:24.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:24.097" endtime="20230915 04:55:24.098"/>
</kw>
<msg timestamp="20230915 04:55:24.098" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:24.087" endtime="20230915 04:55:24.098"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:24.098" endtime="20230915 04:55:24.099"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:24.102" level="INFO">Running command 'rm /tmp/key-44841 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:24.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:24.105" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:24.100" endtime="20230915 04:55:24.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:24.106" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:24.105" endtime="20230915 04:55:24.106"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:24.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:24.107" endtime="20230915 04:55:24.108"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.099" endtime="20230915 04:55:24.108"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:18.196" endtime="20230915 04:55:24.109"/>
</test>
<test id="s1-s10-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:24.116" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:24.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:24.804" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:24.114" endtime="20230915 04:55:24.804"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:24.807" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:24.805" endtime="20230915 04:55:24.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:24.807" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:24.807" endtime="20230915 04:55:24.808"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.113" endtime="20230915 04:55:24.808"/>
</kw>
<msg timestamp="20230915 04:55:24.808" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:24.113" endtime="20230915 04:55:24.809"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.112" endtime="20230915 04:55:24.809"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:24.813" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:25.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:25.457" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:24.811" endtime="20230915 04:55:25.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:25.458" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:25.458" endtime="20230915 04:55:25.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:25.459" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:25.459" endtime="20230915 04:55:25.459"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.810" endtime="20230915 04:55:25.460"/>
</kw>
<msg timestamp="20230915 04:55:25.460" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:24.810" endtime="20230915 04:55:25.461"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.809" endtime="20230915 04:55:25.461"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:25.465" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:26.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:26.094" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:25.463" endtime="20230915 04:55:26.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:26.095" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:26.094" endtime="20230915 04:55:26.095"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:26.096" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:26.096" endtime="20230915 04:55:26.096"/>
</kw>
<status status="PASS" starttime="20230915 04:55:25.462" endtime="20230915 04:55:26.097"/>
</kw>
<msg timestamp="20230915 04:55:26.097" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:25.462" endtime="20230915 04:55:26.098"/>
</kw>
<status status="PASS" starttime="20230915 04:55:25.461" endtime="20230915 04:55:26.098"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:26.103" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:26.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:26.734" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:26.100" endtime="20230915 04:55:26.734"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:26.735" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:26.734" endtime="20230915 04:55:26.735"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:26.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:26.736" endtime="20230915 04:55:26.737"/>
</kw>
<status status="PASS" starttime="20230915 04:55:26.099" endtime="20230915 04:55:26.737"/>
</kw>
<msg timestamp="20230915 04:55:26.737" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:26.099" endtime="20230915 04:55:26.738"/>
</kw>
<status status="PASS" starttime="20230915 04:55:26.098" endtime="20230915 04:55:26.738"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.111" endtime="20230915 04:55:26.738"/>
</kw>
<status status="PASS" starttime="20230915 04:55:24.111" endtime="20230915 04:55:26.739"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:24.110" endtime="20230915 04:55:26.739"/>
</test>
<test id="s1-s10-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:26.745" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:27.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:27.867" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:26.743" endtime="20230915 04:55:27.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:27.869" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 04:55:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 04:55:27.868" endtime="20230915 04:55:27.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:27.870" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:27.869" endtime="20230915 04:55:27.870"/>
</kw>
<msg timestamp="20230915 04:55:27.871" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:26.742" endtime="20230915 04:55:27.871"/>
</kw>
<msg timestamp="20230915 04:55:27.871" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:26.741" endtime="20230915 04:55:27.871"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:27.871" endtime="20230915 04:55:27.872"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:27.875" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:27.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:27.878" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:27.873" endtime="20230915 04:55:27.879"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:27.880" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:27.879" endtime="20230915 04:55:27.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:27.881" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:27.880" endtime="20230915 04:55:27.881"/>
</kw>
<msg timestamp="20230915 04:55:27.882" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:55:27.872" endtime="20230915 04:55:27.882"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:27.882" endtime="20230915 04:55:27.883"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:27.886" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:27.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:27.889" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:27.884" endtime="20230915 04:55:27.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:27.890" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:27.889" endtime="20230915 04:55:27.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:27.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:27.890" endtime="20230915 04:55:27.891"/>
</kw>
<status status="PASS" starttime="20230915 04:55:27.883" endtime="20230915 04:55:27.892"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:26.740" endtime="20230915 04:55:27.892"/>
</test>
<test id="s1-s10-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:27.898" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:28.744" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:28.745" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:27.896" endtime="20230915 04:55:28.745"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:28.746" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 04:55:28 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 04:55:28.745" endtime="20230915 04:55:28.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:28.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:28.746" endtime="20230915 04:55:28.747"/>
</kw>
<msg timestamp="20230915 04:55:28.748" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:27.896" endtime="20230915 04:55:28.748"/>
</kw>
<msg timestamp="20230915 04:55:28.748" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:55:27.895" endtime="20230915 04:55:28.748"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:28.749" endtime="20230915 04:55:28.749"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:28.753" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:28.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:28.756" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:55:28.750" endtime="20230915 04:55:28.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:28.757" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:55:28.757" endtime="20230915 04:55:28.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:28.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:28.758" endtime="20230915 04:55:28.759"/>
</kw>
<msg timestamp="20230915 04:55:28.759" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:55:28.750" endtime="20230915 04:55:28.759"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:28.759" endtime="20230915 04:55:28.760"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:28.763" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:28.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:28.766" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:55:28.761" endtime="20230915 04:55:28.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:28.768" level="INFO"/>
<status status="PASS" starttime="20230915 04:55:28.767" endtime="20230915 04:55:28.768"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:28.769" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:28.768" endtime="20230915 04:55:28.769"/>
</kw>
<status status="PASS" starttime="20230915 04:55:28.760" endtime="20230915 04:55:28.769"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:27.894" endtime="20230915 04:55:28.770"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 04:55:18.078" endtime="20230915 04:55:28.771"/>
</suite>
<suite id="s1-s11" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s11-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 04:55:32.629" endtime="20230915 04:55:32.630"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 04:55:32.630" endtime="20230915 04:55:32.630"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:55:32.638" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:55:41.759" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:55:41.759" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230915 04:55:32.632" endtime="20230915 04:55:41.759"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:55:41.761" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230915 04:55:41.760" endtime="20230915 04:55:41.761"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:55:41.762" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:55:41.761" endtime="20230915 04:55:41.763"/>
</kw>
<status status="PASS" starttime="20230915 04:55:32.632" endtime="20230915 04:55:41.763"/>
</kw>
<msg timestamp="20230915 04:55:41.763" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:55:32.631" endtime="20230915 04:55:41.765"/>
</kw>
<msg timestamp="20230915 04:55:41.765" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230915 04:55:32.631" endtime="20230915 04:55:41.765"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:55:41.766" endtime="20230915 04:55:41.766"/>
</kw>
<status status="PASS" starttime="20230915 04:55:41.765" endtime="20230915 04:55:41.767"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:55:32.627" endtime="20230915 04:55:41.767"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230915 04:55:32.561" endtime="20230915 04:55:41.770"/>
</suite>
<suite id="s1-s12" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s12-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 04:59:05.080" level="INFO">${random} = 97737</msg>
<status status="PASS" starttime="20230915 04:59:05.079" endtime="20230915 04:59:05.080"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:05.089" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-97737 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:20.749" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:20.750" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:05.083" endtime="20230915 04:59:20.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:20.753" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:20.751" endtime="20230915 04:59:20.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:20.755" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:20.754" endtime="20230915 04:59:20.755"/>
</kw>
<status status="PASS" starttime="20230915 04:59:05.082" endtime="20230915 04:59:20.755"/>
</kw>
<msg timestamp="20230915 04:59:20.756" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:05.081" endtime="20230915 04:59:20.756"/>
</kw>
<msg timestamp="20230915 04:59:20.756" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:05.080" endtime="20230915 04:59:20.757"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:20.757" endtime="20230915 04:59:20.758"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:20.766" level="INFO">Running command 'cat /tmp/key-97737 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:20.773" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:20.774" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:20.759" endtime="20230915 04:59:20.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:20.775" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:20.774" endtime="20230915 04:59:20.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:20.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:20.776" endtime="20230915 04:59:20.777"/>
</kw>
<msg timestamp="20230915 04:59:20.778" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:20.758" endtime="20230915 04:59:20.778"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:20.778" endtime="20230915 04:59:20.779"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:20.786" level="INFO">Running command 'rm /tmp/key-97737 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:20.791" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:20.791" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:20.781" endtime="20230915 04:59:20.791"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:20.793" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:20.792" endtime="20230915 04:59:20.794"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:20.795" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:20.794" endtime="20230915 04:59:20.795"/>
</kw>
<status status="PASS" starttime="20230915 04:59:20.780" endtime="20230915 04:59:20.795"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:05.077" endtime="20230915 04:59:20.796"/>
</test>
<test id="s1-s12-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:20.808" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:22.441" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:22.441" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:20.804" endtime="20230915 04:59:22.441"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:22.443" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:22.442" endtime="20230915 04:59:22.444"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:22.445" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:22.444" endtime="20230915 04:59:22.445"/>
</kw>
<status status="PASS" starttime="20230915 04:59:20.803" endtime="20230915 04:59:22.445"/>
</kw>
<msg timestamp="20230915 04:59:22.445" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:20.802" endtime="20230915 04:59:22.446"/>
</kw>
<status status="PASS" starttime="20230915 04:59:20.800" endtime="20230915 04:59:22.446"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:22.452" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:23.380" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:23.380" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:22.448" endtime="20230915 04:59:23.380"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:23.382" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:23.381" endtime="20230915 04:59:23.382"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:23.384" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:23.383" endtime="20230915 04:59:23.384"/>
</kw>
<status status="PASS" starttime="20230915 04:59:22.447" endtime="20230915 04:59:23.384"/>
</kw>
<msg timestamp="20230915 04:59:23.384" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:22.447" endtime="20230915 04:59:23.384"/>
</kw>
<status status="PASS" starttime="20230915 04:59:22.446" endtime="20230915 04:59:23.385"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:23.391" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:24.319" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:24.319" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:23.387" endtime="20230915 04:59:24.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:24.322" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:24.320" endtime="20230915 04:59:24.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:24.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:24.322" endtime="20230915 04:59:24.323"/>
</kw>
<status status="PASS" starttime="20230915 04:59:23.386" endtime="20230915 04:59:24.324"/>
</kw>
<msg timestamp="20230915 04:59:24.324" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:23.386" endtime="20230915 04:59:24.324"/>
</kw>
<status status="PASS" starttime="20230915 04:59:23.385" endtime="20230915 04:59:24.324"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:24.331" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:25.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:25.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:24.327" endtime="20230915 04:59:25.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:25.114" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:25.113" endtime="20230915 04:59:25.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:25.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:25.115" endtime="20230915 04:59:25.115"/>
</kw>
<status status="PASS" starttime="20230915 04:59:24.326" endtime="20230915 04:59:25.116"/>
</kw>
<msg timestamp="20230915 04:59:25.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:24.326" endtime="20230915 04:59:25.116"/>
</kw>
<status status="PASS" starttime="20230915 04:59:24.325" endtime="20230915 04:59:25.116"/>
</kw>
<status status="PASS" starttime="20230915 04:59:20.800" endtime="20230915 04:59:25.116"/>
</kw>
<status status="PASS" starttime="20230915 04:59:20.799" endtime="20230915 04:59:25.116"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:20.797" endtime="20230915 04:59:25.117"/>
</test>
<test id="s1-s12-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:25.124" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:32.265" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:32.265" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:25.121" endtime="20230915 04:59:32.265"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:32.268" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 04:59:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 04:59:32.266" endtime="20230915 04:59:32.268"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:32.270" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:32.268" endtime="20230915 04:59:32.270"/>
</kw>
<msg timestamp="20230915 04:59:32.270" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:25.119" endtime="20230915 04:59:32.271"/>
</kw>
<msg timestamp="20230915 04:59:32.271" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:05 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:25.119" endtime="20230915 04:59:32.271"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:32.271" endtime="20230915 04:59:32.272"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:32.285" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:32.290" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:32.290" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:32.274" endtime="20230915 04:59:32.290"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:32.292" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:32.291" endtime="20230915 04:59:32.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:32.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:32.293" endtime="20230915 04:59:32.294"/>
</kw>
<msg timestamp="20230915 04:59:32.295" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 04:59:32.273" endtime="20230915 04:59:32.295"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:32.298" endtime="20230915 04:59:32.301"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:32.308" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:32.315" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:32.315" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:32.303" endtime="20230915 04:59:32.315"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:32.318" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:32.316" endtime="20230915 04:59:32.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:32.319" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:32.318" endtime="20230915 04:59:32.319"/>
</kw>
<status status="PASS" starttime="20230915 04:59:32.302" endtime="20230915 04:59:32.319"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:25.117" endtime="20230915 04:59:32.320"/>
</test>
<test id="s1-s12-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:32.334" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:33.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:33.908" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:32.329" endtime="20230915 04:59:33.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:33.910" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 04:59:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 04:59:33.909" endtime="20230915 04:59:33.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:33.911" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:33.910" endtime="20230915 04:59:33.911"/>
</kw>
<msg timestamp="20230915 04:59:33.912" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:32.328" endtime="20230915 04:59:33.912"/>
</kw>
<msg timestamp="20230915 04:59:33.912" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 04:55:14 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 04:59:32.325" endtime="20230915 04:59:33.912"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:33.912" endtime="20230915 04:59:33.913"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:33.918" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:33.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:33.923" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:59:33.915" endtime="20230915 04:59:33.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:33.924" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:59:33.923" endtime="20230915 04:59:33.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:33.926" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:33.925" endtime="20230915 04:59:33.926"/>
</kw>
<msg timestamp="20230915 04:59:33.927" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 04:59:33.914" endtime="20230915 04:59:33.927"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:33.928" endtime="20230915 04:59:33.929"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:33.933" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:33.937" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:33.937" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:33.930" endtime="20230915 04:59:33.937"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:33.939" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:33.938" endtime="20230915 04:59:33.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:33.940" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:33.940" endtime="20230915 04:59:33.941"/>
</kw>
<status status="PASS" starttime="20230915 04:59:33.929" endtime="20230915 04:59:33.941"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:32.323" endtime="20230915 04:59:33.942"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 04:59:04.915" endtime="20230915 04:59:33.944"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:38.609" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 04:59:38.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:38.615" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:38.605" endtime="20230915 04:59:38.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:38.617" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:38.616" endtime="20230915 04:59:38.617"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:38.618" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:38.617" endtime="20230915 04:59:38.618"/>
</kw>
<status status="PASS" starttime="20230915 04:59:38.604" endtime="20230915 04:59:38.619"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:38.625" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:51.720" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:51.720" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:38.622" endtime="20230915 04:59:51.721"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:51.723" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:51.722" endtime="20230915 04:59:51.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:51.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:51.723" endtime="20230915 04:59:51.725"/>
</kw>
<status status="PASS" starttime="20230915 04:59:38.621" endtime="20230915 04:59:51.725"/>
</kw>
<msg timestamp="20230915 04:59:51.725" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:38.620" endtime="20230915 04:59:51.725"/>
</kw>
<msg timestamp="20230915 04:59:51.726" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:38.619" endtime="20230915 04:59:51.726"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 04:59:51.726" endtime="20230915 04:59:51.727"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:51.731" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 04:59:51.736" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:51.736" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:51.728" endtime="20230915 04:59:51.736"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:51.737" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:51.736" endtime="20230915 04:59:51.737"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:51.739" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:51.738" endtime="20230915 04:59:51.739"/>
</kw>
<status status="PASS" starttime="20230915 04:59:51.727" endtime="20230915 04:59:51.739"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:38.603" endtime="20230915 04:59:51.740"/>
</test>
<test id="s1-s13-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:51.747" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 04:59:51.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 04:59:51.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:51.744" endtime="20230915 04:59:51.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 04:59:51.755" level="INFO"/>
<status status="PASS" starttime="20230915 04:59:51.753" endtime="20230915 04:59:51.755"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 04:59:51.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 04:59:51.755" endtime="20230915 04:59:51.756"/>
</kw>
<status status="PASS" starttime="20230915 04:59:51.743" endtime="20230915 04:59:51.757"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 04:59:51.762" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:02.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:02.774" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:51.759" endtime="20230915 05:00:02.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:02.776" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:02.775" endtime="20230915 05:00:02.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:02.778" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:02.777" endtime="20230915 05:00:02.778"/>
</kw>
<status status="PASS" starttime="20230915 04:59:51.758" endtime="20230915 05:00:02.779"/>
</kw>
<msg timestamp="20230915 05:00:02.779" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 04:59:51.758" endtime="20230915 05:00:02.779"/>
</kw>
<msg timestamp="20230915 05:00:02.779" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 04:59:51.757" endtime="20230915 05:00:02.779"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:02.779" endtime="20230915 05:00:02.780"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:02.786" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:02.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:02.790" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:02.781" endtime="20230915 05:00:02.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:02.791" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:02.790" endtime="20230915 05:00:02.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:02.793" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:02.792" endtime="20230915 05:00:02.793"/>
</kw>
<status status="PASS" starttime="20230915 05:00:02.780" endtime="20230915 05:00:02.793"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 04:59:51.741" endtime="20230915 05:00:02.794"/>
</test>
<test id="s1-s13-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:02.803" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:03.725" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:03.726" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:02.800" endtime="20230915 05:00:03.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:03.730" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:03.728" endtime="20230915 05:00:03.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:03.734" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:03.732" endtime="20230915 05:00:03.734"/>
</kw>
<status status="PASS" starttime="20230915 05:00:02.800" endtime="20230915 05:00:03.734"/>
</kw>
<msg timestamp="20230915 05:00:03.736" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:02.799" endtime="20230915 05:00:03.736"/>
</kw>
<status status="PASS" starttime="20230915 05:00:02.798" endtime="20230915 05:00:03.737"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:03.743" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:04.468" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:04.468" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:03.740" endtime="20230915 05:00:04.468"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:04.470" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:04.469" endtime="20230915 05:00:04.470"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:04.471" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:04.471" endtime="20230915 05:00:04.471"/>
</kw>
<status status="PASS" starttime="20230915 05:00:03.738" endtime="20230915 05:00:04.472"/>
</kw>
<msg timestamp="20230915 05:00:04.472" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:03.738" endtime="20230915 05:00:04.472"/>
</kw>
<status status="PASS" starttime="20230915 05:00:03.737" endtime="20230915 05:00:04.472"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:04.481" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:05.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:05.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:04.476" endtime="20230915 05:00:05.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:05.350" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:05.349" endtime="20230915 05:00:05.350"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:05.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:05.350" endtime="20230915 05:00:05.351"/>
</kw>
<status status="PASS" starttime="20230915 05:00:04.474" endtime="20230915 05:00:05.352"/>
</kw>
<msg timestamp="20230915 05:00:05.352" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:04.473" endtime="20230915 05:00:05.352"/>
</kw>
<status status="PASS" starttime="20230915 05:00:04.473" endtime="20230915 05:00:05.352"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:05.357" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:06.142" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:06.142" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:05.354" endtime="20230915 05:00:06.142"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:06.144" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:06.143" endtime="20230915 05:00:06.145"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:06.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:06.145" endtime="20230915 05:00:06.146"/>
</kw>
<status status="PASS" starttime="20230915 05:00:05.354" endtime="20230915 05:00:06.146"/>
</kw>
<msg timestamp="20230915 05:00:06.146" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:05.353" endtime="20230915 05:00:06.147"/>
</kw>
<status status="PASS" starttime="20230915 05:00:05.353" endtime="20230915 05:00:06.147"/>
</kw>
<status status="PASS" starttime="20230915 05:00:02.798" endtime="20230915 05:00:06.147"/>
</kw>
<status status="PASS" starttime="20230915 05:00:02.797" endtime="20230915 05:00:06.147"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:02.796" endtime="20230915 05:00:06.147"/>
</test>
<test id="s1-s13-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:06.161" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:07.504" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:07.505" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:06.155" endtime="20230915 05:00:07.505"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:07.506" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:07.505" endtime="20230915 05:00:07.507"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:07.508" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:07.507" endtime="20230915 05:00:07.508"/>
</kw>
<status status="PASS" starttime="20230915 05:00:06.154" endtime="20230915 05:00:07.508"/>
</kw>
<msg timestamp="20230915 05:00:07.509" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:06.153" endtime="20230915 05:00:07.509"/>
</kw>
<msg timestamp="20230915 05:00:07.509" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:06.152" endtime="20230915 05:00:07.509"/>
</kw>
<msg timestamp="20230915 05:00:07.509" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:06.151" endtime="20230915 05:00:07.510"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:07.510" endtime="20230915 05:00:07.510"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:07.511" endtime="20230915 05:00:07.511"/>
</kw>
<msg timestamp="20230915 05:00:07.511" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230915 05:00:06.150" endtime="20230915 05:00:07.511"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230915 05:00:07.512" endtime="20230915 05:00:07.512"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:06.149" endtime="20230915 05:00:07.513"/>
</test>
<test id="s1-s13-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:07.520" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:00:07.523" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:07.524" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:07.516" endtime="20230915 05:00:07.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:07.527" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:07.525" endtime="20230915 05:00:07.527"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:07.529" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:07.528" endtime="20230915 05:00:07.529"/>
</kw>
<status status="PASS" starttime="20230915 05:00:07.515" endtime="20230915 05:00:07.530"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:07.536" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:09.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:09.457" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:07.532" endtime="20230915 05:00:09.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:09.459" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:09.458" endtime="20230915 05:00:09.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:09.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:09.460" endtime="20230915 05:00:09.461"/>
</kw>
<msg timestamp="20230915 05:00:09.461" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:07.531" endtime="20230915 05:00:09.461"/>
</kw>
<msg timestamp="20230915 05:00:09.461" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:07.530" endtime="20230915 05:00:09.461"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:09.462" endtime="20230915 05:00:09.462"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:09.467" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:09.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:09.471" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:09.463" endtime="20230915 05:00:09.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:09.473" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:09.472" endtime="20230915 05:00:09.474"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:09.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:09.474" endtime="20230915 05:00:09.475"/>
</kw>
<status status="PASS" starttime="20230915 05:00:09.462" endtime="20230915 05:00:09.475"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:07.514" endtime="20230915 05:00:09.476"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230915 04:59:38.442" endtime="20230915 05:00:09.479"/>
</suite>
<suite id="s1-s14" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s14-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:13.597" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:19.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:19.214" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:13.591" endtime="20230915 05:00:19.215"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:19.218" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:19.216" endtime="20230915 05:00:19.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:19.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:19.218" endtime="20230915 05:00:19.219"/>
</kw>
<status status="PASS" starttime="20230915 05:00:13.590" endtime="20230915 05:00:19.220"/>
</kw>
<msg timestamp="20230915 05:00:19.220" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:13.589" endtime="20230915 05:00:19.220"/>
</kw>
<msg timestamp="20230915 05:00:19.220" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:13.588" endtime="20230915 05:00:19.220"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:19.221" endtime="20230915 05:00:19.222"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:19.234" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:25.144" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:25.144" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:19.224" endtime="20230915 05:00:25.145"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:25.147" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:25.146" endtime="20230915 05:00:25.147"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:25.148" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:25.148" endtime="20230915 05:00:25.149"/>
</kw>
<status status="PASS" starttime="20230915 05:00:19.224" endtime="20230915 05:00:25.149"/>
</kw>
<msg timestamp="20230915 05:00:25.149" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:19.223" endtime="20230915 05:00:25.149"/>
</kw>
<msg timestamp="20230915 05:00:25.150" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:19.222" endtime="20230915 05:00:25.150"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:25.150" endtime="20230915 05:00:25.151"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:13.586" endtime="20230915 05:00:25.151"/>
</test>
<test id="s1-s14-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:25.159" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:00:25.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:25.163" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:25.155" endtime="20230915 05:00:25.163"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:25.165" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:25.164" endtime="20230915 05:00:25.165"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:25.166" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:25.166" endtime="20230915 05:00:25.167"/>
</kw>
<status status="PASS" starttime="20230915 05:00:25.154" endtime="20230915 05:00:25.167"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:25.174" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:35.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:35.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:25.170" endtime="20230915 05:00:35.455"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:35.458" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:35.457" endtime="20230915 05:00:35.458"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:35.459" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:35.458" endtime="20230915 05:00:35.459"/>
</kw>
<status status="PASS" starttime="20230915 05:00:25.169" endtime="20230915 05:00:35.459"/>
</kw>
<msg timestamp="20230915 05:00:35.459" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:25.169" endtime="20230915 05:00:35.460"/>
</kw>
<msg timestamp="20230915 05:00:35.460" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:25.167" endtime="20230915 05:00:35.460"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:35.460" endtime="20230915 05:00:35.461"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:35.466" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:35.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:35.470" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:35.462" endtime="20230915 05:00:35.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:35.472" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:35.471" endtime="20230915 05:00:35.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:35.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:35.472" endtime="20230915 05:00:35.473"/>
</kw>
<status status="PASS" starttime="20230915 05:00:35.461" endtime="20230915 05:00:35.473"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:25.153" endtime="20230915 05:00:35.474"/>
</test>
<test id="s1-s14-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:35.481" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:41.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:41.609" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:35.478" endtime="20230915 05:00:41.609"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:41.611" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:41.610" endtime="20230915 05:00:41.612"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:41.613" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:41.612" endtime="20230915 05:00:41.613"/>
</kw>
<status status="PASS" starttime="20230915 05:00:35.477" endtime="20230915 05:00:41.613"/>
</kw>
<msg timestamp="20230915 05:00:41.613" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:35.477" endtime="20230915 05:00:41.613"/>
</kw>
<msg timestamp="20230915 05:00:41.614" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:35.476" endtime="20230915 05:00:41.614"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:41.614" endtime="20230915 05:00:41.615"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:35.474" endtime="20230915 05:00:41.615"/>
</test>
<test id="s1-s14-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:41.622" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:00:41.624" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:41.624" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:41.618" endtime="20230915 05:00:41.624"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:41.625" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:41.625" endtime="20230915 05:00:41.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:41.626" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:41.626" endtime="20230915 05:00:41.626"/>
</kw>
<status status="PASS" starttime="20230915 05:00:41.617" endtime="20230915 05:00:41.627"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:41.632" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:52.901" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:52.901" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:41.629" endtime="20230915 05:00:52.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:52.903" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:52.902" endtime="20230915 05:00:52.903"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:52.904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:52.903" endtime="20230915 05:00:52.904"/>
</kw>
<status status="PASS" starttime="20230915 05:00:41.628" endtime="20230915 05:00:52.904"/>
</kw>
<msg timestamp="20230915 05:00:52.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:41.628" endtime="20230915 05:00:52.904"/>
</kw>
<msg timestamp="20230915 05:00:52.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:41.627" endtime="20230915 05:00:52.905"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:52.905" endtime="20230915 05:00:52.906"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:52.910" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:52.914" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:52.914" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:52.907" endtime="20230915 05:00:52.914"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:52.917" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:52.915" endtime="20230915 05:00:52.917"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:52.918" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:52.917" endtime="20230915 05:00:52.918"/>
</kw>
<status status="PASS" starttime="20230915 05:00:52.906" endtime="20230915 05:00:52.919"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:41.616" endtime="20230915 05:00:52.920"/>
</test>
<test id="s1-s14-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:52.932" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:53.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:53.806" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:52.929" endtime="20230915 05:00:53.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:53.808" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:53.807" endtime="20230915 05:00:53.808"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:53.809" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:53.809" endtime="20230915 05:00:53.810"/>
</kw>
<status status="PASS" starttime="20230915 05:00:52.928" endtime="20230915 05:00:53.810"/>
</kw>
<msg timestamp="20230915 05:00:53.810" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:52.928" endtime="20230915 05:00:53.810"/>
</kw>
<status status="PASS" starttime="20230915 05:00:52.927" endtime="20230915 05:00:53.811"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:53.817" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:54.637" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:54.637" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:53.813" endtime="20230915 05:00:54.637"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:54.639" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:54.638" endtime="20230915 05:00:54.639"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:54.640" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:54.639" endtime="20230915 05:00:54.640"/>
</kw>
<status status="PASS" starttime="20230915 05:00:53.812" endtime="20230915 05:00:54.640"/>
</kw>
<msg timestamp="20230915 05:00:54.641" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:53.812" endtime="20230915 05:00:54.641"/>
</kw>
<status status="PASS" starttime="20230915 05:00:53.811" endtime="20230915 05:00:54.641"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:54.652" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:55.500" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:55.500" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:54.648" endtime="20230915 05:00:55.500"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:55.502" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:55.501" endtime="20230915 05:00:55.502"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:55.503" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:55.502" endtime="20230915 05:00:55.503"/>
</kw>
<status status="PASS" starttime="20230915 05:00:54.647" endtime="20230915 05:00:55.503"/>
</kw>
<msg timestamp="20230915 05:00:55.503" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:54.647" endtime="20230915 05:00:55.504"/>
</kw>
<status status="PASS" starttime="20230915 05:00:54.644" endtime="20230915 05:00:55.504"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:55.509" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:56.342" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:56.342" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:55.506" endtime="20230915 05:00:56.342"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:56.344" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:56.343" endtime="20230915 05:00:56.344"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:56.345" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:56.345" endtime="20230915 05:00:56.345"/>
</kw>
<status status="PASS" starttime="20230915 05:00:55.505" endtime="20230915 05:00:56.346"/>
</kw>
<msg timestamp="20230915 05:00:56.346" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:55.505" endtime="20230915 05:00:56.346"/>
</kw>
<status status="PASS" starttime="20230915 05:00:55.504" endtime="20230915 05:00:56.346"/>
</kw>
<status status="PASS" starttime="20230915 05:00:52.926" endtime="20230915 05:00:56.346"/>
</kw>
<status status="PASS" starttime="20230915 05:00:52.926" endtime="20230915 05:00:56.347"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:52.924" endtime="20230915 05:00:56.347"/>
</test>
<test id="s1-s14-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:56.357" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:57.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:57.859" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:56.354" endtime="20230915 05:00:57.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:57.864" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:57.860" endtime="20230915 05:00:57.864"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:57.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:57.867" endtime="20230915 05:00:57.880"/>
</kw>
<status status="PASS" starttime="20230915 05:00:56.353" endtime="20230915 05:00:57.882"/>
</kw>
<msg timestamp="20230915 05:00:57.882" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:00:56.352" endtime="20230915 05:00:57.882"/>
</kw>
<msg timestamp="20230915 05:00:57.882" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:56.351" endtime="20230915 05:00:57.883"/>
</kw>
<msg timestamp="20230915 05:00:57.884" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230915 05:00:56.350" endtime="20230915 05:00:57.885"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:57.885" endtime="20230915 05:00:57.886"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:57.886" endtime="20230915 05:00:57.889"/>
</kw>
<msg timestamp="20230915 05:00:57.890" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230915 05:00:56.350" endtime="20230915 05:00:57.890"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230915 05:00:57.890" endtime="20230915 05:00:57.892"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:56.348" endtime="20230915 05:00:57.892"/>
</test>
<test id="s1-s14-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:57.901" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230915 05:00:57.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:57.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:57.896" endtime="20230915 05:00:57.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:57.908" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:57.906" endtime="20230915 05:00:57.908"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:57.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:57.909" endtime="20230915 05:00:57.910"/>
</kw>
<status status="PASS" starttime="20230915 05:00:57.895" endtime="20230915 05:00:57.911"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:57.920" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:59.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:59.578" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:57.915" endtime="20230915 05:00:59.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:59.580" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:59.579" endtime="20230915 05:00:59.580"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:59.581" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:59.580" endtime="20230915 05:00:59.581"/>
</kw>
<msg timestamp="20230915 05:00:59.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:57.913" endtime="20230915 05:00:59.582"/>
</kw>
<msg timestamp="20230915 05:00:59.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:57.912" endtime="20230915 05:00:59.582"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:00:59.583" endtime="20230915 05:00:59.583"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:00:59.588" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:00:59.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:00:59.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:00:59.584" endtime="20230915 05:00:59.593"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:00:59.595" level="INFO"/>
<status status="PASS" starttime="20230915 05:00:59.594" endtime="20230915 05:00:59.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:00:59.598" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:00:59.597" endtime="20230915 05:00:59.598"/>
</kw>
<status status="PASS" starttime="20230915 05:00:59.584" endtime="20230915 05:00:59.599"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:00:57.894" endtime="20230915 05:00:59.599"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230915 05:00:13.448" endtime="20230915 05:00:59.603"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230915 05:01:04.113" level="INFO">${random} = 53728</msg>
<status status="PASS" starttime="20230915 05:01:04.112" endtime="20230915 05:01:04.113"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:04.119" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-53728 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:13.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:13.794" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:04.115" endtime="20230915 05:01:13.794"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:13.796" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:13.795" endtime="20230915 05:01:13.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:13.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:13.797" endtime="20230915 05:01:13.798"/>
</kw>
<status status="PASS" starttime="20230915 05:01:04.115" endtime="20230915 05:01:13.798"/>
</kw>
<msg timestamp="20230915 05:01:13.798" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:04.114" endtime="20230915 05:01:13.798"/>
</kw>
<msg timestamp="20230915 05:01:13.799" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:04.113" endtime="20230915 05:01:13.799"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:13.799" endtime="20230915 05:01:13.800"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:13.807" level="INFO">Running command 'cat /tmp/key-53728 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:13.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:13.812" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:13.802" endtime="20230915 05:01:13.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:13.814" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:13.813" endtime="20230915 05:01:13.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:13.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:13.814" endtime="20230915 05:01:13.815"/>
</kw>
<msg timestamp="20230915 05:01:13.816" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:13.801" endtime="20230915 05:01:13.816"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:13.816" endtime="20230915 05:01:13.817"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:13.822" level="INFO">Running command 'rm /tmp/key-53728 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:13.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:13.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:13.818" endtime="20230915 05:01:13.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:13.828" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:13.827" endtime="20230915 05:01:13.828"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:13.830" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:13.828" endtime="20230915 05:01:13.831"/>
</kw>
<status status="PASS" starttime="20230915 05:01:13.817" endtime="20230915 05:01:13.831"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:04.110" endtime="20230915 05:01:13.832"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:13.843" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:14.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:14.671" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:13.838" endtime="20230915 05:01:14.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:14.673" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:14.672" endtime="20230915 05:01:14.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:14.674" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:14.673" endtime="20230915 05:01:14.674"/>
</kw>
<status status="PASS" starttime="20230915 05:01:13.838" endtime="20230915 05:01:14.674"/>
</kw>
<msg timestamp="20230915 05:01:14.675" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:13.835" endtime="20230915 05:01:14.675"/>
</kw>
<status status="PASS" starttime="20230915 05:01:13.835" endtime="20230915 05:01:14.675"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:14.680" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:15.655" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:15.655" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:14.678" endtime="20230915 05:01:15.655"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:15.657" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:15.656" endtime="20230915 05:01:15.658"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:15.658" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:15.658" endtime="20230915 05:01:15.659"/>
</kw>
<status status="PASS" starttime="20230915 05:01:14.677" endtime="20230915 05:01:15.659"/>
</kw>
<msg timestamp="20230915 05:01:15.659" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:14.676" endtime="20230915 05:01:15.659"/>
</kw>
<status status="PASS" starttime="20230915 05:01:14.675" endtime="20230915 05:01:15.659"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:15.665" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:16.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:16.467" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:15.662" endtime="20230915 05:01:16.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:16.469" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:16.468" endtime="20230915 05:01:16.469"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:16.470" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:16.470" endtime="20230915 05:01:16.470"/>
</kw>
<status status="PASS" starttime="20230915 05:01:15.661" endtime="20230915 05:01:16.471"/>
</kw>
<msg timestamp="20230915 05:01:16.471" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:15.661" endtime="20230915 05:01:16.472"/>
</kw>
<status status="PASS" starttime="20230915 05:01:15.660" endtime="20230915 05:01:16.472"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:16.477" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:17.443" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:17.444" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:16.474" endtime="20230915 05:01:17.444"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:17.448" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:17.446" endtime="20230915 05:01:17.448"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:17.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:17.449" endtime="20230915 05:01:17.450"/>
</kw>
<status status="PASS" starttime="20230915 05:01:16.473" endtime="20230915 05:01:17.450"/>
</kw>
<msg timestamp="20230915 05:01:17.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:16.473" endtime="20230915 05:01:17.450"/>
</kw>
<status status="PASS" starttime="20230915 05:01:16.472" endtime="20230915 05:01:17.451"/>
</kw>
<status status="PASS" starttime="20230915 05:01:13.834" endtime="20230915 05:01:17.451"/>
</kw>
<status status="PASS" starttime="20230915 05:01:13.833" endtime="20230915 05:01:17.451"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:13.833" endtime="20230915 05:01:17.451"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:17.461" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:18.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:18.738" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:17.457" endtime="20230915 05:01:18.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:18.740" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:01:18 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:01:18.739" endtime="20230915 05:01:18.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:18.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:18.740" endtime="20230915 05:01:18.741"/>
</kw>
<msg timestamp="20230915 05:01:18.742" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:17.456" endtime="20230915 05:01:18.742"/>
</kw>
<msg timestamp="20230915 05:01:18.742" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:52 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:17.455" endtime="20230915 05:01:18.742"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:18.743" endtime="20230915 05:01:18.743"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:18.749" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:18.754" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:18.754" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:18.745" endtime="20230915 05:01:18.755"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:18.756" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:18.755" endtime="20230915 05:01:18.756"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:18.757" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:18.757" endtime="20230915 05:01:18.758"/>
</kw>
<msg timestamp="20230915 05:01:18.759" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230915 05:01:18.744" endtime="20230915 05:01:18.759"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:18.759" endtime="20230915 05:01:18.760"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:18.764" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:18.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:18.770" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:18.761" endtime="20230915 05:01:18.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:18.772" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:18.770" endtime="20230915 05:01:18.772"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:18.773" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:18.773" endtime="20230915 05:01:18.774"/>
</kw>
<status status="PASS" starttime="20230915 05:01:18.761" endtime="20230915 05:01:18.774"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:17.453" endtime="20230915 05:01:18.775"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:18.783" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:19.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:19.793" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:18.779" endtime="20230915 05:01:19.793"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:19.795" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Fri, 15 Sep 2023 05:01:19 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230915 05:01:19.794" endtime="20230915 05:01:19.795"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:19.796" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:19.795" endtime="20230915 05:01:19.796"/>
</kw>
<msg timestamp="20230915 05:01:19.798" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:18.778" endtime="20230915 05:01:19.798"/>
</kw>
<msg timestamp="20230915 05:01:19.800" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Fri, 15 Sep 2023 05:00:59 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230915 05:01:18.777" endtime="20230915 05:01:19.801"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:19.801" endtime="20230915 05:01:19.802"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:19.809" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:19.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:19.821" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:01:19.803" endtime="20230915 05:01:19.821"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:19.823" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:01:19.822" endtime="20230915 05:01:19.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:19.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:19.824" endtime="20230915 05:01:19.825"/>
</kw>
<msg timestamp="20230915 05:01:19.825" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230915 05:01:19.802" endtime="20230915 05:01:19.825"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:19.826" endtime="20230915 05:01:19.826"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:19.831" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:19.835" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:19.835" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:19.828" endtime="20230915 05:01:19.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:19.837" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:19.836" endtime="20230915 05:01:19.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:19.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:19.838" endtime="20230915 05:01:19.839"/>
</kw>
<status status="PASS" starttime="20230915 05:01:19.827" endtime="20230915 05:01:19.839"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:18.776" endtime="20230915 05:01:19.839"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230915 05:01:03.960" endtime="20230915 05:01:19.842"/>
</suite>
<suite id="s1-s16" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s16-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:01:24.317" endtime="20230915 05:01:24.318"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:24.325" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:30.487" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:30.487" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:24.320" endtime="20230915 05:01:30.487"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:30.490" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:30.488" endtime="20230915 05:01:30.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:30.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:30.490" endtime="20230915 05:01:30.492"/>
</kw>
<status status="PASS" starttime="20230915 05:01:24.319" endtime="20230915 05:01:30.496"/>
</kw>
<msg timestamp="20230915 05:01:30.496" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:24.319" endtime="20230915 05:01:30.497"/>
</kw>
<msg timestamp="20230915 05:01:30.497" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:24.318" endtime="20230915 05:01:30.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:30.499" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:30.498" endtime="20230915 05:01:30.499"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 05:01:30.499" endtime="20230915 05:01:30.500"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 05:01:24.314" endtime="20230915 05:01:30.501"/>
</test>
<test id="s1-s16-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:01:30.507" endtime="20230915 05:01:30.508"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:30.517" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:38.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:38.457" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:30.512" endtime="20230915 05:01:38.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:38.459" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:38.458" endtime="20230915 05:01:38.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:38.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:38.459" endtime="20230915 05:01:38.460"/>
</kw>
<status status="PASS" starttime="20230915 05:01:30.511" endtime="20230915 05:01:38.460"/>
</kw>
<msg timestamp="20230915 05:01:38.460" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:01:30.510" endtime="20230915 05:01:38.460"/>
</kw>
<msg timestamp="20230915 05:01:38.461" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:30.509" endtime="20230915 05:01:38.461"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:38.462" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230915 05:01:38.461" endtime="20230915 05:01:38.462"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230915 05:01:38.462" endtime="20230915 05:01:38.463"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230915 05:01:30.505" endtime="20230915 05:01:38.463"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230915 05:01:24.193" endtime="20230915 05:01:38.465"/>
</suite>
<suite id="s1-s17" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s17-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:42.787" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:48.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:48.147" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:42.783" endtime="20230915 05:01:48.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:48.149" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:48.148" endtime="20230915 05:01:48.149"/>
</kw>
<msg timestamp="20230915 05:01:48.149" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:42.783" endtime="20230915 05:01:48.149"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:48.150" endtime="20230915 05:01:48.150"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:48.155" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:53.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:01:53.944" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:48.151" endtime="20230915 05:01:53.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:53.949" level="INFO"/>
<status status="PASS" starttime="20230915 05:01:53.945" endtime="20230915 05:01:53.950"/>
</kw>
<msg timestamp="20230915 05:01:53.951" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230915 05:01:48.151" endtime="20230915 05:01:53.951"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:53.951" endtime="20230915 05:01:53.952"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:53.957" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:01:59.895" level="INFO">${rc} = 255</msg>
<msg timestamp="20230915 05:01:59.895" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230915 05:01:53.953" endtime="20230915 05:01:59.895"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:01:59.897" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230915 05:01:59.896" endtime="20230915 05:01:59.898"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:01:59.899" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:01:59.898" endtime="20230915 05:01:59.899"/>
</kw>
<msg timestamp="20230915 05:01:59.899" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230915 05:01:53.953" endtime="20230915 05:01:59.899"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:01:59.900" endtime="20230915 05:01:59.901"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:42.781" endtime="20230915 05:01:59.901"/>
</test>
<test id="s1-s17-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:01:59.911" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:02:05.131" level="INFO">${rc} = 255</msg>
<msg timestamp="20230915 05:02:05.131" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230915 05:01:59.907" endtime="20230915 05:02:05.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:02:05.133" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230915 05:02:05.132" endtime="20230915 05:02:05.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:02:05.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:02:05.133" endtime="20230915 05:02:05.134"/>
</kw>
<msg timestamp="20230915 05:02:05.135" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230915 05:01:59.906" endtime="20230915 05:02:05.135"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:02:05.135" endtime="20230915 05:02:05.136"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:01:59.904" endtime="20230915 05:02:05.136"/>
</test>
<test id="s1-s17-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:02:05.143" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:02:11.120" level="INFO">${rc} = 255</msg>
<msg timestamp="20230915 05:02:11.120" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230915 05:02:05.140" endtime="20230915 05:02:11.121"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:02:11.122" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230915 05:02:11.121" endtime="20230915 05:02:11.123"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:02:11.124" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:02:11.123" endtime="20230915 05:02:11.124"/>
</kw>
<msg timestamp="20230915 05:02:11.125" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230915 05:02:05.139" endtime="20230915 05:02:11.125"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:02:11.125" endtime="20230915 05:02:11.126"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:02:05.137" endtime="20230915 05:02:11.126"/>
</test>
<test id="s1-s17-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:02:11.134" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:02:16.331" level="INFO">${rc} = 255</msg>
<msg timestamp="20230915 05:02:16.331" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230915 05:02:11.130" endtime="20230915 05:02:16.331"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:02:16.333" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230915 05:02:16.331" endtime="20230915 05:02:16.333"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:02:16.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:02:16.333" endtime="20230915 05:02:16.334"/>
</kw>
<msg timestamp="20230915 05:02:16.335" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230915 05:02:11.129" endtime="20230915 05:02:16.335"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:02:16.335" endtime="20230915 05:02:16.335"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:02:11.128" endtime="20230915 05:02:16.336"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230915 05:01:42.691" endtime="20230915 05:02:16.339"/>
</suite>
<suite id="s1-s18" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s18-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230915 05:02:20.399" endtime="20230915 05:02:20.399"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230915 05:02:20.400" endtime="20230915 05:02:20.400"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230915 05:02:20.406" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230915 05:02:31.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20230915 05:02:31.816" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230915 05:02:20.402" endtime="20230915 05:02:31.816"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230915 05:02:31.818" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230915 05:02:31.817" endtime="20230915 05:02:31.818"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230915 05:02:31.821" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230915 05:02:31.820" endtime="20230915 05:02:31.821"/>
</kw>
<status status="PASS" starttime="20230915 05:02:20.401" endtime="20230915 05:02:31.821"/>
</kw>
<msg timestamp="20230915 05:02:31.821" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230915 05:02:20.401" endtime="20230915 05:02:31.821"/>
</kw>
<msg timestamp="20230915 05:02:31.822" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230915 05:02:20.400" endtime="20230915 05:02:31.822"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230915 05:02:31.823" endtime="20230915 05:02:31.824"/>
</kw>
<status status="PASS" starttime="20230915 05:02:31.822" endtime="20230915 05:02:31.824"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230915 05:02:20.398" endtime="20230915 05:02:31.824"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230915 05:02:20.302" endtime="20230915 05:02:31.826"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="636729"/>
</suite>
<statistics>
<total>
<stat pass="67" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="3" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="3" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="67" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s3" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s4" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s5" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s6" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s7" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s8" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s9" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s10" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s11" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s12" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s14" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s16" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s17" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s18" name="Prepare">upgrade.Prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
