rm: cannot remove '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/*': No such file or directory
Executing test ozonesecure-ha/test-root-ca-rotation.sh
Removing network ozonesecure-ha_ozone_net
Network ozonesecure-ha_ozone_net not found.
Creating network "ozonesecure-ha_ozone_net" with the default driver
Pulling kms (apache/hadoop:3.3.6)...
3.3.6: Pulling from apache/hadoop
Digest: sha256:62a22627f35a1bbf29c721192c02fe311c93749cc43d51df01792b2ac40ff144
Status: Downloaded newer image for apache/hadoop:3.3.6
Pulling scm1.org (apache/ozone-runner:20230615-1)...
20230615-1: Pulling from apache/ozone-runner
Digest: sha256:46c59e4f69c94a8f886d621c9f1898fda8cc4d5de59059c6c74175ffa4718474
Status: Downloaded newer image for apache/ozone-runner:20230615-1
Pulling kdc (apache/ozone-testkrb5:20230318-1)...
20230318-1: Pulling from apache/ozone-testkrb5
Digest: sha256:6a7eeac1ebd12e8968e34ab93fb8d21f2b92ae52bc0a85b662a2d41065f05d3a
Status: Downloaded newer image for apache/ozone-testkrb5:20230318-1
Creating ozonesecure-ha_om3_1 ... 
Creating ozonesecure-ha_om2_1 ... 
Creating ozonesecure-ha_scm1.org_1 ... 
Creating ozonesecure-ha_httpfs_1   ... 
Creating ozonesecure-ha_datanode1_1 ... 
Creating ozonesecure-ha_datanode3_1 ... 
Creating ozonesecure-ha_kms_1       ... 
Creating ozonesecure-ha_kdc_1       ... 
Creating ozonesecure-ha_scm3.org_1  ... 
Creating ozonesecure-ha_datanode2_1 ... 
Creating ozonesecure-ha_recon_1     ... 
Creating ozonesecure-ha_scm2.org_1  ... 
Creating ozonesecure-ha_s3g_1       ... 
Creating ozonesecure-ha_om1_1       ... 
Creating ozonesecure-ha_datanode3_1 ... done
Creating ozonesecure-ha_httpfs_1    ... done
Creating ozonesecure-ha_kdc_1       ... done
Creating ozonesecure-ha_om3_1       ... done
Creating ozonesecure-ha_recon_1     ... done
Creating ozonesecure-ha_datanode1_1 ... done
Creating ozonesecure-ha_om1_1       ... done
Creating ozonesecure-ha_scm3.org_1  ... done
Creating ozonesecure-ha_scm1.org_1  ... done
Creating ozonesecure-ha_s3g_1       ... done
Creating ozonesecure-ha_om2_1       ... done
Creating ozonesecure-ha_kms_1       ... done
Creating ozonesecure-ha_datanode2_1 ... done
Creating ozonesecure-ha_scm2.org_1  ... done
Port 88 is available on kdc
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is available on scm1.org
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 236
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 200
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 199
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 198
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 197
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 196
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 195
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 194
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 193
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 192
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 191
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 190
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 189
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 188
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 187
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 186
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 185
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 184
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 183
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 182
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 181
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 180
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 179
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 178
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 177
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 176
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 175
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 174
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 173
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 172
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 171
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 170
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 169
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 168
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 167
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 166
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 165
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 164
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 163
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 162
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 161
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 160
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 159
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 158
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 157
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 156
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 155
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 154
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 153
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 152
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 151
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 150
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 149
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 148
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 147
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 146
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 145
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 144
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 143
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 142
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 141
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 140
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 139
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 138
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 137
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 136
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 135
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 134
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 133
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 132
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 131
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 130
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 129
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 128
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 127
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 126
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 125
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 124
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 123
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 122
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 121
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 120
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 118
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 117
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 116
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 115
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 114
SCM is out of safe mode.
Found OM leader for service omservice: om1 : LEADER (om1)
Replaced OM order with om1,om3,om2 in ozonesecure-ha_datanode1_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_datanode2_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_datanode3_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_recon_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_s3g_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_scm1.org_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_scm2.org_1
Replaced OM order with om1,om3,om2 in ozonesecure-ha_scm3.org_1
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=722.83ms elapsed=201.30s tid=0x00007f1c2e504800 nid=0x25a waiting on condition  [0x00007f1beb123000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs  | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm1.org,OU=a70fee8a-720e-42c0-9156-9df00b5a43ff,O=CID-b75e58e7-6f60-4b33-accf-6cf69da37d79
           Start Date: Fri Sep 15 06:17:29 UTC 2023
           Final Date: Fri Sep 15 06:21:29 UTC 2023
            SubjectDN: CN=scm-2@scm1.org,OU=a70fee8a-720e-42c0-9156-9df00b5a43ff,O=CID-b75e58e7-6f60-4b33-accf-6cf69da37d79
           Public Key: RSA Public Key [e1:2c:be:f8:7c:ca:62:ab:3e:ce:e5:c1:58:c4:b0:2b:bb:7f:8d:b5],[56:66:d1:a4]
        modulus: dd74601d1cbc99d1d42457aec13b6c7f98a236f6fc169530314984673612c0660ad06d1e8627b2e77283241c92b79e634fc6397c8c2d21ea89e05a377e9a5dce35ec0633d72b98c128754599f61977a7f9c125ff26af6a54ace43f6caf48452bb60581a8b2cc963f97b763eca2cf2d766db4eb1bcabc9f15fd2d1c273d217a7f3cfcb9db7e7a797e77a99668d7e51d0a9c049c805480e0b5489cb280d3b09114f98adecf5ee2f9da46c9c40db779a0fcadbf32aaea1206651ad1e37e3e30a4fbed706f58e252e0dd27cf5d7623608d821ff8e0d3a1d3d30206ff29e9a0572ebfdd4b404b9668692f49bcda58a4ba43d87e3bd81027bf059d1ce235a254ead441
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 124ff5db46bad9232c1a7bdb0fa3eb8ed22c36f3
                       97b47dff02073d2d782be5d6bed38d659601b29f
                       27a73cd4100b4c5ab9c89db2890fbf4814f7d28f
                       78a3eef71e67ae1dc60cff2b17e7461ddfb2b36e
                       03cc8ce38999cecd9bceb97286d436bbb1a8e556
                       419878f65e2807871b88454a785b3e9880303845
                       63533120399151ba24d5837141ee1524b2b6e93a
                       cc378ca3749d025f5bc99442e894619ddc80deed
                       4025a967562c7f4aa3ac9e2347cb53f89bf20c1a
                       87e7c06d8fdfb5a5c3ec1ea46d6f08853c23e393
                       03f71f21c7b8cf649306eb1fc49784d04ad87bc1
                       dff0e780725e2c2c28390f84ade98278c48432ab
                       8c15e3802fd01d103ba360bd8fad6715
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 2 succeed
==============================================================================
Scm-Leader-Transfer :: Smoketest ozone cluster startup                        
==============================================================================
Transfer Leadership                                                   | PASS |
------------------------------------------------------------------------------
Scm-Leader-Transfer :: Smoketest ozone cluster startup                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-2.xml
"RootCARotationManager-Inactive" #271 daemon prio=5 os_prio=0 cpu=735.26ms elapsed=250.33s tid=0x00007f1c2e504800 nid=0x25a waiting on condition  [0x00007f1beb123000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Inactive' succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | FAIL |
255 != 0
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | FAIL |
3 tests, 2 passed, 1 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-3.xml
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack
Stopping ozonesecure-ha_s3g_1       ... 
Stopping ozonesecure-ha_scm2.org_1  ... 
Stopping ozonesecure-ha_om1_1       ... 
Stopping ozonesecure-ha_datanode2_1 ... 
Stopping ozonesecure-ha_kdc_1       ... 
Stopping ozonesecure-ha_recon_1     ... 
Stopping ozonesecure-ha_scm3.org_1  ... 
Stopping ozonesecure-ha_kms_1       ... 
Stopping ozonesecure-ha_datanode3_1 ... 
Stopping ozonesecure-ha_datanode1_1 ... 
Stopping ozonesecure-ha_httpfs_1    ... 
Stopping ozonesecure-ha_scm1.org_1  ... 
Stopping ozonesecure-ha_om3_1       ... 
Stopping ozonesecure-ha_om2_1       ... 
Stopping ozonesecure-ha_kdc_1       ... done
Stopping ozonesecure-ha_kms_1       ... done
Stopping ozonesecure-ha_httpfs_1    ... done
Stopping ozonesecure-ha_s3g_1       ... done
Stopping ozonesecure-ha_recon_1     ... done
Stopping ozonesecure-ha_datanode3_1 ... done
Stopping ozonesecure-ha_datanode1_1 ... done
Stopping ozonesecure-ha_datanode2_1 ... done
Stopping ozonesecure-ha_om1_1       ... done
Stopping ozonesecure-ha_om3_1       ... done
Stopping ozonesecure-ha_scm3.org_1  ... done
Stopping ozonesecure-ha_om2_1       ... done
Stopping ozonesecure-ha_scm2.org_1  ... done
Stopping ozonesecure-ha_scm1.org_1  ... done
Removing ozonesecure-ha_s3g_1       ... 
Removing ozonesecure-ha_scm2.org_1  ... 
Removing ozonesecure-ha_om1_1       ... 
Removing ozonesecure-ha_datanode2_1 ... 
Removing ozonesecure-ha_kdc_1       ... 
Removing ozonesecure-ha_recon_1     ... 
Removing ozonesecure-ha_scm3.org_1  ... 
Removing ozonesecure-ha_kms_1       ... 
Removing ozonesecure-ha_datanode3_1 ... 
Removing ozonesecure-ha_datanode1_1 ... 
Removing ozonesecure-ha_httpfs_1    ... 
Removing ozonesecure-ha_scm1.org_1  ... 
Removing ozonesecure-ha_om3_1       ... 
Removing ozonesecure-ha_om2_1       ... 
Removing ozonesecure-ha_kms_1       ... done
Removing ozonesecure-ha_datanode1_1 ... done
Removing ozonesecure-ha_kdc_1       ... done
Removing ozonesecure-ha_httpfs_1    ... done
Removing ozonesecure-ha_scm2.org_1  ... done
Removing ozonesecure-ha_om2_1       ... done
Removing ozonesecure-ha_s3g_1       ... done
Removing ozonesecure-ha_om1_1       ... done
Removing ozonesecure-ha_om3_1       ... done
Removing ozonesecure-ha_datanode3_1 ... done
Removing ozonesecure-ha_scm1.org_1  ... done
Removing ozonesecure-ha_scm3.org_1  ... done
Removing ozonesecure-ha_recon_1     ... done
Removing ozonesecure-ha_datanode2_1 ... done
Removing network ozonesecure-ha_ozone_net
ERROR: Test execution of ozonesecure-ha/test-root-ca-rotation.sh is FAILED!!!!
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha-root-ca-rotation.xml
removed 'ozonesecure-ha/result/robot-1.xml'
removed 'ozonesecure-ha/result/robot-2.xml'
removed 'ozonesecure-ha/result/robot-3.xml'
renamed 'ozonesecure-ha/result/dn-audit-366ac031911e.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-366ac031911e.log'
renamed 'ozonesecure-ha/result/dn-audit-3e501a1dfba4.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-3e501a1dfba4.log'
renamed 'ozonesecure-ha/result/dn-audit-94547146c482.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-94547146c482.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_httpfs_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kdc_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kms_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_recon_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_s3g_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm1.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm1.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm2.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm2.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm3.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm3.org_1.log'
renamed 'ozonesecure-ha/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure-ha/result/om-audit-om1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om1.log'
renamed 'ozonesecure-ha/result/om-audit-om2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om2.log'
renamed 'ozonesecure-ha/result/om-audit-om3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om3.log'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om1_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om2_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om3_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_recon_1_ReconServer.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_s3g_1_Gateway.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure-ha/result/scm-audit-scm1.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm1.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm2.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm2.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm3.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm3.org.log'
Executing test ozonesecure/test-certificate-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_kms_1 ... 
Creating ozonesecure_kdc_1 ... 
Creating ozonesecure_om_1  ... 
Creating ozonesecure_s3g_1 ... 
Creating ozonesecure_recon_1 ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_httpfs_1   ... 
Creating ozonesecure_scm_1      ... 
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_om_1       ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_datanode_3 ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 238
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 237
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 236
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
Certrotation                                                                  
==============================================================================
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup                 
==============================================================================
Test datanode functions before and after certificate rotation         depth=2 CN = scm-1@scm, OU = 1f415e10-eb03-4565-b051-7ae4d5de49e1, O = CID-798c1294-e8db-4759-be67-a53aea53bd68
verify error:num=19:self signed certificate in certificate chain
depth=2 CN = scm-1@scm, OU = 1f415e10-eb03-4565-b051-7ae4d5de49e1, O = CID-798c1294-e8db-4759-be67-a53aea53bd68
verify error:num=19:self signed certificate in certificate chain
depth=2 CN = scm-1@scm, OU = 1f415e10-eb03-4565-b051-7ae4d5de49e1, O = CID-798c1294-e8db-4759-be67-a53aea53bd68
verify error:num=19:self signed certificate in certificate chain
| PASS |
------------------------------------------------------------------------------
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup         | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data                  
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data          | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Certrotation                                                          | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_om_1       ... done
Stopping ozonesecure_scm_1      ... done
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_om_1       ... done
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_datanode_3 ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_kdc_1      ... done
Removing network ozonesecure_default
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-certificate-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
renamed 'ozonesecure/result/dn-audit-2c2003282615.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-2c2003282615.log'
renamed 'ozonesecure/result/dn-audit-69c494d66808.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-69c494d66808.log'
renamed 'ozonesecure/result/dn-audit-a5b51acbee87.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-a5b51acbee87.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/scm-audit-scm.log'
Executing test ozonesecure/test-root-ca-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_scm_1 ... 
Creating ozonesecure_s3g_1 ... 
Creating ozonesecure_recon_1 ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_kdc_1      ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_om_1       ... 
Creating ozonesecure_kms_1      ... 
Creating ozonesecure_httpfs_1   ... 
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_om_1       ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is out of safe mode.
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=10.09ms elapsed=55.00s tid=0x00007fdd4abf8800 nid=0x2ca waiting on condition  [0x00007fdd07796000]
jps | grep StorageContainerManagerStarter |  sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate not found
ozone admin cert info 2 hasn't succeed yet
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm,OU=09466819-c295-4df6-8493-40864f2bde35,O=CID-84da3226-25be-440e-b1c3-c1879234358b
           Start Date: Fri Sep 15 06:26:20 UTC 2023
           Final Date: Fri Sep 15 06:29:20 UTC 2023
            SubjectDN: CN=scm-2@scm,OU=09466819-c295-4df6-8493-40864f2bde35,O=CID-84da3226-25be-440e-b1c3-c1879234358b
           Public Key: RSA Public Key [de:c9:64:27:f8:7f:78:dc:49:cb:65:ac:e3:bd:9d:1b:23:a4:03:bc],[56:66:d1:a4]
        modulus: c8b16cebe4dafc9479d981462f46fd4d008ffb00ced014bf6971a870e85676918840c754818ce8f2cdf0da1dae62612470b115516fb658ed563fdd229d6142bdd88c555ad0ea8051744bb1e07c613cf6868a657cf62edf009f55520d2e05858f761f61ab34fce69aee876947588b27fd9dba28247f9b4de3f41d8cb424cb9ed67766594db59dbb13cb0c457480133b8e8c37c022392d35d1a20394682026a60334e392835750e44d156abe2b63d43e9ce675bedc770a493708a397232ce157afcc5dd99215eb2bd0bc6b84b6f5f17191e47bb751556f0c182c1f0d2406e74898604a9d57f81b7e5eb428ac22d8050adef90188ea673d8eeb093aa2e8fb77076d
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 3340729bceacd75fc1c5d2c8f437c79f302ed2a5
                       d12323f6a26455cf6a09ffb48e8baf42eab7d49d
                       e955c50dd10e6c869448764c225f1457d9d5a60b
                       511ca209da2a181fce95b53620983277727925de
                       7093dedc98ad941fb38a75bfb5c068dfa831efdf
                       00bbc90f0a6e90c8ad30da027b24c85f7cafc364
                       f96b8d82fd7efb2070c779074288e1045cc90586
                       98be81c5aff4fc90e16e7197d2358d9da11a08a9
                       d811d58a90bc5c4d41c6680a01cdc6c0f256b719
                       306865c3f166702df05c1139af0ae57ba684f28c
                       d8c8bc03b1c18de6c61ca26ed05892bef50f6fb7
                       e53a3b2c01bdd4f2d57712012296c0102f37dfb6
                       1d1dda59ff4a531fba3071f54efc510a
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 2 succeed
find: '/data/metadata/dn/certs/ROOTCA-2.crt': No such file or directory
find /data/metadata/dn/certs/ROOTCA-2.crt hasn't succeed yet
/data/metadata/dn/certs/ROOTCA-2.crt
find /data/metadata/dn/certs/ROOTCA-2.crt succeed
/data/metadata/om/certs/ROOTCA-2.crt
find /data/metadata/om/certs/ROOTCA-2.crt succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-2.xml
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate id: 3
  [0]         Version: 3
         SerialNumber: 3
             IssuerDN: CN=scm-3@scm,OU=09466819-c295-4df6-8493-40864f2bde35,O=CID-84da3226-25be-440e-b1c3-c1879234358b
           Start Date: Fri Sep 15 06:27:50 UTC 2023
           Final Date: Fri Sep 15 06:30:50 UTC 2023
            SubjectDN: CN=scm-3@scm,OU=09466819-c295-4df6-8493-40864f2bde35,O=CID-84da3226-25be-440e-b1c3-c1879234358b
           Public Key: RSA Public Key [9e:3a:14:b9:98:8e:71:7c:dd:aa:7c:43:3a:e4:b1:4c:5b:bd:22:e9],[56:66:d1:a4]
        modulus: d7eead41312f0097c6aa14d76602eeaf438a496882d9708b655ddfc3657fae3a0fa10aec53889b4e11f7b7d269ab6ab0805ac14ae239c19b569fa395fa97bc1d579f24f11df49c6b34e2ace1ec9779d5a01bf025499f8bb68059ec5a9f76c8830ff953c84cf8f210f1e0c96846bb193d79293b7e93c563972a6374c6344b11eeb573b9e6f7bc54089cd24ffed008f4aed5bb2b0fc8db5d83f50a68b1156cd506a5cc39229b852a281f26d77b746dbeb4f3c2982a81241c1ccbc30462e2d6ce810dec5507e5d480e7069c3bbec9b48bb358597c1b0716dc4da644bdd2b39c998d64e088521a67c07d17c9e23fbe236253a50e63ec0d552d3142e99e3c4cebec95
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 050aa0db66c29d009a7ba63ad78252c21b951dc0
                       41cf605384cd1ef9c6b51fb24eae116a9460bd18
                       1c20240fae445f62f6f8b326bac6927eef7cedf5
                       b7e7c7c975730aaa526c37ecacf0bf3b41ed95cf
                       9bcf8e32b786c73d870da7ab510a7c83d0e57439
                       b62bb7245c6301d7dffbcf1d63ecb2c5ed61d359
                       7521395f06996d7ee85ea121798ea58b9a54f4de
                       4f9f05474b5db9e4ca708e1a15e824c9255e28ee
                       864503a6c4dbca51d3e35d434b7be20a8e924048
                       d5e2b56fef8f46eb4b833125d9aec6871cf6f417
                       a26f1d03c215a70e735ddf86434c65b5fd138164
                       c8265055d277d52dee2b3686885e694fc0ee083f
                       dc7bc93d9d8bec3ef40d33eee5641cbe
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 3 succeed
/data/metadata/om/certs/ROOTCA-3.crt
find /data/metadata/om/certs/ROOTCA-3.crt succeed
Certificate not found
! ozone admin cert info 1 succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-3.xml
==============================================================================
Root-Ca-Rotation :: Smoketest ozone cluster startup                           
==============================================================================
Verify root CA rotation metrics                                       | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation :: Smoketest ozone cluster startup                   | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-4.xml
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_scm_1      ... done
Stopping ozonesecure_om_1       ... done
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_datanode_3 ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_om_1       ... done
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_recon_1    ... done
Removing network ozonesecure_default
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/report.html
Removing network ozonesecure_default
Network ozonesecure_default not found.
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-root-ca-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
removed 'ozonesecure/result/robot-2.xml'
removed 'ozonesecure/result/robot-3.xml'
removed 'ozonesecure/result/robot-4.xml'
removed 'ozonesecure/result/log.html'
removed 'ozonesecure/result/report.html'
renamed 'ozonesecure/result/dn-audit-862a62d960db.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-862a62d960db.log'
renamed 'ozonesecure/result/dn-audit-ac3870c125c5.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-ac3870c125c5.log'
renamed 'ozonesecure/result/dn-audit-fb5a02524ed8.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-fb5a02524ed8.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/scm-audit-scm.log'
Exception in thread "main" java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:474)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at org.apache.hadoop.test.JacocoServer.main(JacocoServer.java:60)
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/report.html
