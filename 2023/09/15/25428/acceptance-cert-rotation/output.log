rm: cannot remove '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/*': No such file or directory
Executing test ozonesecure-ha/test-root-ca-rotation.sh
Removing network ozonesecure-ha_ozone_net
Network ozonesecure-ha_ozone_net not found.
Creating network "ozonesecure-ha_ozone_net" with the default driver
Pulling om1 (apache/ozone-runner:20230615-1)...
20230615-1: Pulling from apache/ozone-runner
Digest: sha256:46c59e4f69c94a8f886d621c9f1898fda8cc4d5de59059c6c74175ffa4718474
Status: Downloaded newer image for apache/ozone-runner:20230615-1
Pulling kms (apache/hadoop:3.3.6)...
3.3.6: Pulling from apache/hadoop
Digest: sha256:62a22627f35a1bbf29c721192c02fe311c93749cc43d51df01792b2ac40ff144
Status: Downloaded newer image for apache/hadoop:3.3.6
Pulling kdc (apache/ozone-testkrb5:20230318-1)...
20230318-1: Pulling from apache/ozone-testkrb5
Digest: sha256:6a7eeac1ebd12e8968e34ab93fb8d21f2b92ae52bc0a85b662a2d41065f05d3a
Status: Downloaded newer image for apache/ozone-testkrb5:20230318-1
Creating ozonesecure-ha_om3_1 ... 
Creating ozonesecure-ha_datanode2_1 ... 
Creating ozonesecure-ha_recon_1     ... 
Creating ozonesecure-ha_kdc_1       ... 
Creating ozonesecure-ha_httpfs_1    ... 
Creating ozonesecure-ha_kms_1       ... 
Creating ozonesecure-ha_datanode1_1 ... 
Creating ozonesecure-ha_scm1.org_1  ... 
Creating ozonesecure-ha_datanode3_1 ... 
Creating ozonesecure-ha_om2_1       ... 
Creating ozonesecure-ha_scm2.org_1  ... 
Creating ozonesecure-ha_scm3.org_1  ... 
Creating ozonesecure-ha_s3g_1       ... 
Creating ozonesecure-ha_om1_1       ... 
Creating ozonesecure-ha_om3_1       ... done
Creating ozonesecure-ha_kms_1       ... done
Creating ozonesecure-ha_datanode2_1 ... done
Creating ozonesecure-ha_recon_1     ... done
Creating ozonesecure-ha_om1_1       ... done
Creating ozonesecure-ha_kdc_1       ... done
Creating ozonesecure-ha_datanode3_1 ... done
Creating ozonesecure-ha_httpfs_1    ... done
Creating ozonesecure-ha_om2_1       ... done
Creating ozonesecure-ha_s3g_1       ... done
Creating ozonesecure-ha_scm1.org_1  ... done
Creating ozonesecure-ha_datanode1_1 ... done
Creating ozonesecure-ha_scm2.org_1  ... done
Creating ozonesecure-ha_scm3.org_1  ... done
Port 88 is available on kdc
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is not available on scm1.org yet
Port 9860 is available on scm1.org
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 200
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 199
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 198
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 197
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 196
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 195
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 194
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 193
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 192
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 191
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 190
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 189
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 188
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 187
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 186
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 185
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 184
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 183
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 182
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 181
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 180
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 179
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 178
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 177
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 176
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 175
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 174
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 173
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 172
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 171
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 170
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 169
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 168
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 167
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 166
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 165
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 164
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 163
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 162
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 161
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 160
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 159
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 158
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 157
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 156
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 155
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 154
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 153
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 152
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 151
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 150
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 149
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 148
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 147
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 146
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 145
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 144
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 143
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 142
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 141
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 140
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 139
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 138
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 137
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 136
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 135
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 134
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 133
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 132
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 131
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 130
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 129
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 128
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 127
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 126
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 125
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 124
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 123
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 122
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 121
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 120
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 119
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 118
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 117
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 116
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 114
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 113
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 112
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 111
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 110
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 109
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 108
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 107
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 106
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 105
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 104
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 103
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 102
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 101
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 100
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 99
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 98
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 97
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 96
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 95
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 94
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 93
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 92
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 91
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 90
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 89
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 88
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 87
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 86
SCM is out of safe mode.
Found OM leader for service omservice: om3 : LEADER (om3)
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode1_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode2_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_datanode3_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_recon_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_s3g_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm1.org_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm2.org_1
Replaced OM order with om3,om2,om1 in ozonesecure-ha_scm3.org_1
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=789.14ms elapsed=256.90s tid=0x00007f4e093b0800 nid=0x263 waiting on condition  [0x00007f4dc5279000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs  | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm1.org,OU=4f4f6bf2-4e5c-452e-91d1-f08f37034a8e,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Start Date: Fri Sep 15 20:19:13 UTC 2023
           Final Date: Fri Sep 15 20:23:13 UTC 2023
            SubjectDN: CN=scm-2@scm1.org,OU=4f4f6bf2-4e5c-452e-91d1-f08f37034a8e,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Public Key: RSA Public Key [b9:b9:d2:be:b8:5c:f9:47:74:a8:2b:1b:85:28:c4:fa:83:e3:ad:86],[56:66:d1:a4]
        modulus: b97a6147fd7adad3b83e6001014db9b8e59e12dd36b804ea62d2e46d9b6dbc5784eeb348d0b4e9f922b7636dd4f584b72f824b1d54c96e076c82e52b46e7537ad70a9aa92551cb13e213fb689267a18af96ec32e6a50f3b064d7d39c7d87327aa1facf379a0cb1b843cf880e874dc830c46445eac15774f81f83c175290c4eea4ea0db7c343446f9c6f8cf02f0e275907557cd15a5c0f2a62008041ff4f25d00da70d67a95f7b0ea04a944f6b40317408782c3f7c9bb99348a0ee9557e9645e3a82810fa003e209c4bca9575b4090cb98f11aaffd9cbb1b634e25ac889a8d4cfefc2d851ce77bbee4b8011405c862b1e0bc7fea29ebae679e91135fed65367b5
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 8961049f8797d7579d2b348716900d2292207cc4
                       d34243c0cc6e7b3bee3ad2216a9dcae28bd4b8d6
                       ab7ed439d476d96a8e6e22cc2c5df6b0a1cd8dbf
                       3d0a855a15b84d009b0c09ad6a8c0ab694cf82cc
                       2de501f6b66eea591d4b8e2f6adc180902b3ddcc
                       8c9c08a6ee5603733f8eb9580bc97dd1d8462e4f
                       39b3e622e92ffdbe792707ba737a47426b35024b
                       ed1dbf35e282f23424f0651cccf0940d67bb6f87
                       77abe4dcd0c2f8775848630a4a1d6e4430587f9d
                       b8c4b97e8164af1eaeb84d6ee21431ed474987f4
                       46a2bb0817903b3c92376280036ff4d91c445393
                       9e46492a50dec223eefd06459b6d0c623c1d175f
                       47e6738d697129749bfb18451fe454d4
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 2 succeed
==============================================================================
Scm-Leader-Transfer :: Smoketest ozone cluster startup                        
==============================================================================
Transfer Leadership                                                   | PASS |
------------------------------------------------------------------------------
Scm-Leader-Transfer :: Smoketest ozone cluster startup                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-2.xml
"RootCARotationManager-Inactive" #271 daemon prio=5 os_prio=0 cpu=804.82ms elapsed=312.65s tid=0x00007f4e093b0800 nid=0x263 waiting on condition  [0x00007f4dc5279000]
jps | grep StorageContainerManagerStarter | sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Inactive' succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-3.xml
==============================================================================
Pipeline :: Test ozone admin pipeline command                                 
==============================================================================
Create pipeline                                                       | PASS |
------------------------------------------------------------------------------
List pipelines                                                        | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host                                     | PASS |
------------------------------------------------------------------------------
Deactivate pipeline                                                   | PASS |
------------------------------------------------------------------------------
Activate pipeline                                                     | PASS |
------------------------------------------------------------------------------
Close pipeline                                                        | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Pipeline :: Test ozone admin pipeline command                         | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-4.xml
Certificate id: 3
  [0]         Version: 3
         SerialNumber: 3
             IssuerDN: CN=scm-3@scm2.org,OU=49a1a242-8a71-4366-b94d-a4e0c824d0dd,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Start Date: Fri Sep 15 20:21:45 UTC 2023
           Final Date: Fri Sep 15 20:25:45 UTC 2023
            SubjectDN: CN=scm-3@scm2.org,OU=49a1a242-8a71-4366-b94d-a4e0c824d0dd,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Public Key: RSA Public Key [bd:02:32:33:92:10:88:a0:66:84:f7:2e:7e:fe:aa:22:cb:5f:d9:15],[56:66:d1:a4]
        modulus: bfc0c259693a9711eb9819b52402292ed325970d67f64def9d82128daeb7aefd23eaf444f2a178ef68e64ce155f47b25b6df8955129d529523c6efe2c9c0af4ce517e533bcc573c1db8cad507efd0d9aacf388d15acb4d4a408f32b9bff810eb3f92cd01335e8b44a915ddac440712203688400b26e94863ca5216e7ebf6347cdefcd3bbe0145eca4bbedbb7467187403cc994e78c0d9cb91e51c4a354268d78a3774b0494636941af209f3d7dca20cf95f823a48da1ba44d82e783d050feb9042aed92dd7fe6e366b409a57559aa0753238a98fc89bc89bb1e164c7b9b11c438ab1673c51a55b707bf00d937e3dd6456d672417614314968a07f492e5d3e02f
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 09cc7899dc84819ade233e3e442186a99000fec6
                       478bfb192aa8e3b021ff2940b1ff980b1901b026
                       b737a3bb0445a3d90b63af3592083dac93557c1f
                       590a25c7865cfb50e1de7fc2ab987571eeddc260
                       246bbbddf166f030c2a0fab00e69b7b5d84109c0
                       a91b107944c3893c3aa6a8596b5c085b92ced760
                       bf2ceffc65d9deec5db8490b49ce70c100f006a1
                       f518f9fcbac41fd554a59a5e3743c7618f879076
                       0dc2138477ea905a9b1f75ed082e44efc9f029cd
                       cf12788595293097f8a05cf8af9af17b75d6a9f0
                       9435a9b5247e93ce0ef774717e8d18c3d7ccd412
                       61bacb14e1aa92c2a0622b323af3df26ce7ede5d
                       3db454d02fbeb6800bba0a548be43b54
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 3 succeed
Creating ozonesecure-ha_scm4.org_1 ... 
Creating ozonesecure-ha_scm4.org_1 ... done
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is not available on scm4.org yet
Port 9894 is available on scm4.org
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-5.xml
scm4.org:9894:FOLLOWER:7f4791ae-b463-4974-8df8-c44ed8e42889:172.25.0.120
ozone admin scm roles | grep scm4.org succeed
831310773726      Fri Sep 15 20:25:04 UTC 2023   Fri Sep 15 20:29:04 UTC 2023   CN=scm-sub-830052481560@scm4.org,OU=7f4791ae-b463-4974-8df8-c44ed8e42889,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a CN=scm-sub-783502520671@scm2.org,OU=49a1a242-8a71-4366-b94d-a4e0c824d0dd,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
ozone admin cert list --role=scm | grep scm4.org succeed
Certificate id: 4
  [0]         Version: 3
         SerialNumber: 4
             IssuerDN: CN=scm-4@scm2.org,OU=49a1a242-8a71-4366-b94d-a4e0c824d0dd,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Start Date: Fri Sep 15 20:24:15 UTC 2023
           Final Date: Fri Sep 15 20:28:15 UTC 2023
            SubjectDN: CN=scm-4@scm2.org,OU=49a1a242-8a71-4366-b94d-a4e0c824d0dd,O=CID-a2925678-c3f0-47ed-bf82-10351b11271a
           Public Key: RSA Public Key [1f:56:b5:0f:e4:ba:86:57:d8:91:ba:18:1e:98:82:3d:52:dd:3f:a3],[56:66:d1:a4]
        modulus: c4e9ace3656bc31259b2c89fd8cf30dd4a268af8f24fc7141495b35c3a6a00a09ba6d13396092d4156f7dab9a90780cc16d411197b1da679f8de10b1b0bc99ab89e2ed0950dbfe18c424f6971eb18ef3f66b70d2b53d5c1aaabe0e11409e52ca47517b01ac7d723423252e626aea1f3d684a98e2b8d38ed0a7448266b6d75ce9fa71fba80ca0c0877a3afeadc202b110529c9c94122ba178c52e054ec9a8a05c9ec515a10502bad05f24d7daa84e7a1df2df96ec138798ee581b95ef2749362cf5c2cc8b66c6ebabfdd699400077799f8b07ea84fd240fe0e9b31c064b4c6d70c544d5f509e00f5a55d04e344ba16eb06f87126a0546a65c7626d2a45faaea23
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: b8ef8072c39cf10fadd5ead7d88ba00d67fea5be
                       0a44d0864cfe6a10235cbcff67f680b485011e47
                       090269558961e1623a4c97be38aa8148ee406a73
                       eecafdf1a38b2e90ef34c92dffdfb79c3fcd2c59
                       a07be746087490505ec33f3a08718efabaa3a7a5
                       defb7839aaf7b696a184d4ec0f363a5a57416403
                       01b1b86a649331bd348cb7200556d571c5850379
                       4b4137eba2029e5dd080bcbc87847d96a62d0d99
                       7b5fe9758b01656ce4f5fccb6d1e8ecc0d3bb8b0
                       ae37a2ebc48c3f6f1a74d3b411a18d12f97e45e2
                       75bc44ce8b2891d4d5590d4d1cc01b23dc3aa630
                       b296009c58c33be1b8d1dd9a9469a93fbfef1add
                       eb346cbc585cb6182ee4be30b834be5a
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 
    Tagged [2] IMPLICIT 
        DER Octet String[8] 


ozone admin cert info 4 succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
/data/metadata/om/certs/ROOTCA-4.crt
find /data/metadata/om/certs/ROOTCA-4.crt succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | FAIL |
Test timeout 5 minutes exceeded.
------------------------------------------------------------------------------
Read data from previously created key                                 | FAIL |
255 != 0
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | FAIL |
3 tests, 1 passed, 2 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure-ha/result/robot-6.xml
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack
jstack 8 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack
jstack 1191 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_OzoneShell.stack
Stopping ozonesecure-ha_scm4.org_1  ... 
Stopping ozonesecure-ha_om1_1       ... 
Stopping ozonesecure-ha_s3g_1       ... 
Stopping ozonesecure-ha_scm2.org_1  ... 
Stopping ozonesecure-ha_scm3.org_1  ... 
Stopping ozonesecure-ha_datanode3_1 ... 
Stopping ozonesecure-ha_om2_1       ... 
Stopping ozonesecure-ha_scm1.org_1  ... 
Stopping ozonesecure-ha_datanode1_1 ... 
Stopping ozonesecure-ha_kms_1       ... 
Stopping ozonesecure-ha_httpfs_1    ... 
Stopping ozonesecure-ha_kdc_1       ... 
Stopping ozonesecure-ha_recon_1     ... 
Stopping ozonesecure-ha_datanode2_1 ... 
Stopping ozonesecure-ha_om3_1       ... 
Stopping ozonesecure-ha_kdc_1       ... done
Stopping ozonesecure-ha_kms_1       ... done
Stopping ozonesecure-ha_httpfs_1    ... done
Stopping ozonesecure-ha_s3g_1       ... done
Stopping ozonesecure-ha_recon_1     ... done
Stopping ozonesecure-ha_datanode2_1 ... done
Stopping ozonesecure-ha_datanode1_1 ... done
Stopping ozonesecure-ha_datanode3_1 ... done
Stopping ozonesecure-ha_om1_1       ... done
Stopping ozonesecure-ha_scm1.org_1  ... done
Stopping ozonesecure-ha_scm4.org_1  ... done
Stopping ozonesecure-ha_om2_1       ... done
Stopping ozonesecure-ha_scm3.org_1  ... done
Stopping ozonesecure-ha_om3_1       ... done
Stopping ozonesecure-ha_scm2.org_1  ... done
Removing ozonesecure-ha_scm4.org_1  ... 
Removing ozonesecure-ha_om1_1       ... 
Removing ozonesecure-ha_s3g_1       ... 
Removing ozonesecure-ha_scm2.org_1  ... 
Removing ozonesecure-ha_scm3.org_1  ... 
Removing ozonesecure-ha_datanode3_1 ... 
Removing ozonesecure-ha_om2_1       ... 
Removing ozonesecure-ha_scm1.org_1  ... 
Removing ozonesecure-ha_datanode1_1 ... 
Removing ozonesecure-ha_kms_1       ... 
Removing ozonesecure-ha_httpfs_1    ... 
Removing ozonesecure-ha_kdc_1       ... 
Removing ozonesecure-ha_recon_1     ... 
Removing ozonesecure-ha_datanode2_1 ... 
Removing ozonesecure-ha_om3_1       ... 
Removing ozonesecure-ha_kdc_1       ... done
Removing ozonesecure-ha_scm4.org_1  ... done
Removing ozonesecure-ha_datanode2_1 ... done
Removing ozonesecure-ha_httpfs_1    ... done
Removing ozonesecure-ha_s3g_1       ... done
Removing ozonesecure-ha_om1_1       ... done
Removing ozonesecure-ha_scm1.org_1  ... done
Removing ozonesecure-ha_datanode3_1 ... done
Removing ozonesecure-ha_recon_1     ... done
Removing ozonesecure-ha_kms_1       ... done
Removing ozonesecure-ha_datanode1_1 ... done
Removing ozonesecure-ha_om2_1       ... done
Removing ozonesecure-ha_scm3.org_1  ... done
Removing ozonesecure-ha_scm2.org_1  ... done
Removing ozonesecure-ha_om3_1       ... done
Removing network ozonesecure-ha_ozone_net
ERROR: Test execution of ozonesecure-ha/test-root-ca-rotation.sh is FAILED!!!!
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha-root-ca-rotation.xml
removed 'ozonesecure-ha/result/robot-1.xml'
removed 'ozonesecure-ha/result/robot-2.xml'
removed 'ozonesecure-ha/result/robot-3.xml'
removed 'ozonesecure-ha/result/robot-4.xml'
removed 'ozonesecure-ha/result/robot-5.xml'
removed 'ozonesecure-ha/result/robot-6.xml'
renamed 'ozonesecure-ha/result/dn-audit-26b74f651bdf.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-26b74f651bdf.log'
renamed 'ozonesecure-ha/result/dn-audit-47d51c47ede4.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-47d51c47ede4.log'
renamed 'ozonesecure-ha/result/dn-audit-bb6af614b6eb.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/dn-audit-bb6af614b6eb.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_datanode3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_datanode3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_httpfs_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kdc_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_kms_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om1_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om1_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om2_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om2_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_om3_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_om3_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_recon_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_s3g_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm1.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm1.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm2.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm2.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm3.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm3.org_1.log'
renamed 'ozonesecure-ha/result/docker-ozonesecure-ha_scm4.org_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/docker-ozonesecure-ha_scm4.org_1.log'
renamed 'ozonesecure-ha/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure-ha/result/om-audit-om1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om1.log'
renamed 'ozonesecure-ha/result/om-audit-om2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om2.log'
renamed 'ozonesecure-ha/result/om-audit-om3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/om-audit-om3.log'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode1_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode2_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_datanode3_1_HddsDatanodeService.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om1_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om1_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om2_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om2_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_om3_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_om3_1_OzoneManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_recon_1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_recon_1_ReconServer.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_s3g_1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_s3g_1_Gateway.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm1.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm2.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm3.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_OzoneShell.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm4.org_1_OzoneShell.stack'
renamed 'ozonesecure-ha/result/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/ozonesecure-ha_scm4.org_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure-ha/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure-ha/result/scm-audit-scm1.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm1.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm2.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm2.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm3.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm3.org.log'
renamed 'ozonesecure-ha/result/scm-audit-scm4.org.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-ha/root-ca-rotation/scm-audit-scm4.org.log'
Executing test ozonesecure/test-certificate-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_httpfs_1 ... 
Creating ozonesecure_kms_1    ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_s3g_1      ... 
Creating ozonesecure_om_1       ... 
Creating ozonesecure_scm_1      ... 
Creating ozonesecure_kdc_1      ... 
Creating ozonesecure_recon_1    ... 
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_om_1       ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 199
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 198
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 197
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 196
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 195
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 194
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 193
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 192
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 191
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 190
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 189
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 188
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 187
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 186
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 185
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 184
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 183
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 182
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 181
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 180
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 179
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 178
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 177
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 176
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 175
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 174
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 173
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 172
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 171
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 170
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 169
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 168
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
Certrotation                                                                  
==============================================================================
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup                 
==============================================================================
Test datanode functions before and after certificate rotation         depth=2 CN = scm-1@scm, OU = 1991b0d4-83f0-4f6f-8f66-30eeaea992ba, O = CID-2c3016c9-fea2-4a7a-8d62-5f95c6013b2d
verify error:num=19:self signed certificate in certificate chain
depth=2 CN = scm-1@scm, OU = 1991b0d4-83f0-4f6f-8f66-30eeaea992ba, O = CID-2c3016c9-fea2-4a7a-8d62-5f95c6013b2d
verify error:num=19:self signed certificate in certificate chain
| PASS |
------------------------------------------------------------------------------
Certrotation.Cert-Rotation :: Smoketest ozone cluster startup         | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data                  
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Certrotation.Root-Ca-Rotation-Client-Checks :: Generate data          | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Certrotation                                                          | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_om_1       ... done
Stopping ozonesecure_scm_1      ... done
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_om_1       ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_datanode_3 ... done
Removing network ozonesecure_default
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-certificate-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
renamed 'ozonesecure/result/dn-audit-05653c30c588.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-05653c30c588.log'
renamed 'ozonesecure/result/dn-audit-3f2c6b0ad9ca.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-3f2c6b0ad9ca.log'
renamed 'ozonesecure/result/dn-audit-e858a03d42ea.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/dn-audit-e858a03d42ea.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/certificate-rotation/scm-audit-scm.log'
Executing test ozonesecure/test-root-ca-rotation.sh
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Creating ozonesecure_scm_1 ... 
Creating ozonesecure_kdc_1 ... 
Creating ozonesecure_om_1  ... 
Creating ozonesecure_kms_1 ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_recon_1    ... 
Creating ozonesecure_httpfs_1   ... 
Creating ozonesecure_s3g_1      ... 
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_om_1       ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_datanode_2 ... done
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 207
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 206
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 205
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 204
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 203
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 202
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 201
SCM is out of safe mode.
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@662b4c69 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-1.xml
"RootCARotationManager-Active" #271 daemon prio=5 os_prio=0 cpu=692.21ms elapsed=66.20s tid=0x00007f10503cf800 nid=0x29e waiting on condition  [0x00007f100ece9000]
jps | grep StorageContainerManagerStarter |  sed 's/StorageContainerManagerStarter//' | xargs | xargs -I {} jstack {} | grep 'RootCARotationManager-Active' succeed
Certificate id: 2
  [0]         Version: 3
         SerialNumber: 2
             IssuerDN: CN=scm-2@scm,OU=e78b5bf6-731e-46ad-b802-f672da020335,O=CID-3fc2a2f6-b627-4da2-9a53-375e40ac9619
           Start Date: Fri Sep 15 20:39:28 UTC 2023
           Final Date: Fri Sep 15 20:42:28 UTC 2023
            SubjectDN: CN=scm-2@scm,OU=e78b5bf6-731e-46ad-b802-f672da020335,O=CID-3fc2a2f6-b627-4da2-9a53-375e40ac9619
           Public Key: RSA Public Key [70:a3:27:11:15:fd:c4:70:77:4b:ee:09:4d:91:0b:0a:93:f8:1f:dd],[56:66:d1:a4]
        modulus: b43c77d87d03f2f4c4e4ab763735df67830ebee49ac7ac047714eef13c0b32a62d87de7b994735439235bac0d1073e53532ed84af320eab1d852c195615fd08b09972c7497953611ca2bfbb7c71e6a0e04ae155326693c907e49d146b2b4f179d19728ae152d3f42dd1ea2718f5f22da882512045a0a4d6fd2d5e36b76e58e0a74e4da1c3cd9600ec67bf08f12726b977dc5de838281a4eacaa2d8008f98383c523b3d9dd9aace8e0bedb3349889d4d819b48a81dc4b7140ea755612cc4fc0162892489861a2773ccc3672625552661a82798b815207fae626e7d0ec350b03f23198e05f0599f2eb786039d1ff344885ff0f4a1a16adf303d2dd51949df7b389
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 599ba7ee7a466d8d2f613952703da18dc080f200
                       f185a768b41dd4d62221e8c069c6e2ff5d94d853
                       b9b56aefd954d548216d7d34368f87226d980fb0
                       8e5130942aa89569925b24c251536efe4a581cb1
                       6789637a58da7d8b8ce7465e0d217edc56cd8abb
                       e1ef1522abd0907d19f6e208ff3290cd597e0a6e
                       8ee960b6f5b011986d18b027b2897ef09814ee24
                       60e14b20de8980c9fd54cf9f54acd99211393f84
                       e75b8bfde7885f683248ecff280a2423ec739914
                       b9d1737061167719dea9cd04bb39efe36d9c9f6d
                       02cb27a5b3b398aed01bb492177af0e01adce107
                       e7844530534ca968a6c92807097102c79edf5340
                       6addc83eda0cd2e425ab50f29b0bd1d4
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 2 succeed
/data/metadata/dn/certs/ROOTCA-2.crt
find /data/metadata/dn/certs/ROOTCA-2.crt succeed
/data/metadata/om/certs/ROOTCA-2.crt
find /data/metadata/om/certs/ROOTCA-2.crt succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-2.xml
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate not found
ozone admin cert info 3 hasn't succeed yet
Certificate id: 3
  [0]         Version: 3
         SerialNumber: 3
             IssuerDN: CN=scm-3@scm,OU=e78b5bf6-731e-46ad-b802-f672da020335,O=CID-3fc2a2f6-b627-4da2-9a53-375e40ac9619
           Start Date: Fri Sep 15 20:40:59 UTC 2023
           Final Date: Fri Sep 15 20:43:59 UTC 2023
            SubjectDN: CN=scm-3@scm,OU=e78b5bf6-731e-46ad-b802-f672da020335,O=CID-3fc2a2f6-b627-4da2-9a53-375e40ac9619
           Public Key: RSA Public Key [b4:36:75:a0:3c:2c:02:15:a6:72:cb:78:dd:46:d8:a8:98:b3:ad:a3],[56:66:d1:a4]
        modulus: 8a9d1667ace237b071d28f02ba32b52fb4b258d89decd89185b58a87d4948186e84db3fb0ca98243196e007f626f3e7f3529042048e324745baa88d48f5429ace6b0a33c0a520deec110f2f83822956adbee40aa6fafa3eb747edf02fcefa4d819d60f653977c75af7d18532f756b00890c60ca311bd253b877ad9ad9eb3efe083e4ba29427fb95522a229da77fea741f77a98dc569aa9c90827d357056f099ed00c24d03da165a05f5269f15027a8cd59533068add68df4eda608d27b8486873599f4923bad672fa51b097f9ff663961aa2e6dfaa283e59fe41087f7b91084a22d40b0350d29abbe5ac006da541a9ec55648aa64c247d4be06cac83e5c4f59d
public exponent: 10001

  Signature Algorithm: SHA256withRSA
            Signature: 31f7ddb8eb207e85bd0c2c2bdcfe1526e1c5dae9
                       cea6833a87cc3b23476a53ef0cfe077178fbab16
                       1c4a4d23cfc3f4acec383b7cac8f7f193be8b7b3
                       a9ca83438f50751fb82eacaeca178ed465ee0693
                       dd2f76a5070a2af8eca2c8148d4ac3eacef276e4
                       097868fb5d75d50b650404cc30a94afb18f9a7fe
                       7d2120950a21514322347c32bc3d67204a5eb012
                       fb2e5c50f9a0bb0e494d88008843ea2257dfe25e
                       ae3d338884b479dfd6a9e4cc8bf2793038cc6d83
                       b7efbb74c67972b8213830d2f3f87d024783847a
                       dd393b786448997042784d2279f5ad843a57b02a
                       8c6f87941e5206dbff4ae80a9d4ccead49c50ab3
                       bd7b7536cc2eff76b821dd446367bc87
       Extensions: 
                       critical(true) BasicConstraints: isCa(true)
                       critical(true) KeyUsage: 0x6
                       critical(false) 2.5.29.17 value = Sequence
    Tagged [7] IMPLICIT 
        DER Octet String[4] 


ozone admin cert info 3 succeed
/data/metadata/om/certs/ROOTCA-3.crt
find /data/metadata/om/certs/ROOTCA-3.crt succeed
Certificate not found
! ozone admin cert info 1 succeed
==============================================================================
Root-Ca-Rotation-Client-Checks :: Generate data                               
==============================================================================
Create a volume and bucket                                            | PASS |
------------------------------------------------------------------------------
Create key                                                            | PASS |
------------------------------------------------------------------------------
Read data from previously created key                                 | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation-Client-Checks :: Generate data                       | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-3.xml
==============================================================================
Root-Ca-Rotation :: Smoketest ozone cluster startup                           
==============================================================================
Verify root CA rotation metrics                                       | PASS |
------------------------------------------------------------------------------
Root-Ca-Rotation :: Smoketest ozone cluster startup                   | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-4.xml
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_scm_1      ... done
Stopping ozonesecure_om_1       ... done
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_datanode_3 ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_datanode_2 ... done
Removing ozonesecure_om_1       ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_kms_1      ... done
Removing network ozonesecure_default
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/report.html
Removing network ozonesecure_default
Network ozonesecure_default not found.
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure-root-ca-rotation.xml
removed 'ozonesecure/result/robot-1.xml'
removed 'ozonesecure/result/robot-2.xml'
removed 'ozonesecure/result/robot-3.xml'
removed 'ozonesecure/result/robot-4.xml'
removed 'ozonesecure/result/log.html'
removed 'ozonesecure/result/report.html'
renamed 'ozonesecure/result/dn-audit-0daeb1d11968.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-0daeb1d11968.log'
renamed 'ozonesecure/result/dn-audit-0f9ad66d3e8b.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-0f9ad66d3e8b.log'
renamed 'ozonesecure/result/dn-audit-42720ff044ed.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/dn-audit-42720ff044ed.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_2.log'
renamed 'ozonesecure/result/docker-ozonesecure_datanode_3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_datanode_3.log'
renamed 'ozonesecure/result/docker-ozonesecure_httpfs_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_httpfs_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kdc_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kdc_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_kms_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_kms_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_om_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_om_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_recon_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_recon_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_s3g_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_s3g_1.log'
renamed 'ozonesecure/result/docker-ozonesecure_scm_1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/docker-ozonesecure_scm_1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/om-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/root-ca-rotation/scm-audit-scm.log'
Exception in thread "main" java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:474)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at org.apache.hadoop.test.JacocoServer.main(JacocoServer.java:60)
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/report.html
