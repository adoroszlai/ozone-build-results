<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230418 15:37:40.837" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:30:47.227" level="INFO">${random} = 25893</msg>
<status status="PASS" starttime="20230418 15:30:47.227" endtime="20230418 15:30:47.227"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:47.233" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-25893 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:51.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:51.878" level="INFO">${output} = 2023-04-18 15:30:50,590 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:30:50,667 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:30:47.229" endtime="20230418 15:30:51.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:51.879" level="INFO">2023-04-18 15:30:50,590 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:30:50,667 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:30:50,667 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 15:30:51.879" endtime="20230418 15:30:51.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:51.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:51.879" endtime="20230418 15:30:51.880"/>
</kw>
<status status="PASS" starttime="20230418 15:30:47.229" endtime="20230418 15:30:51.880"/>
</kw>
<msg timestamp="20230418 15:30:51.880" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:47.228" endtime="20230418 15:30:51.881"/>
</kw>
<msg timestamp="20230418 15:30:51.882" level="INFO">${output} = 2023-04-18 15:30:50,590 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:30:50,667 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:30:47.228" endtime="20230418 15:30:51.882"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:51.882" endtime="20230418 15:30:51.882"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:51.885" level="INFO">Running command 'cat /tmp/key-25893 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:51.887" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:51.887" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:51.883" endtime="20230418 15:30:51.887"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:51.888" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:51.888" endtime="20230418 15:30:51.889"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:51.889" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:51.889" endtime="20230418 15:30:51.889"/>
</kw>
<msg timestamp="20230418 15:30:51.889" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:51.882" endtime="20230418 15:30:51.889"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:51.890" endtime="20230418 15:30:51.890"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:51.892" level="INFO">Running command 'rm /tmp/key-25893 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:51.895" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:51.895" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:51.891" endtime="20230418 15:30:51.895"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:51.896" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:51.895" endtime="20230418 15:30:51.896"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:51.897" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:51.896" endtime="20230418 15:30:51.897"/>
</kw>
<status status="PASS" starttime="20230418 15:30:51.890" endtime="20230418 15:30:51.897"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:30:47.226" endtime="20230418 15:30:51.897"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:51.903" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:52.367" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:52.367" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:51.901" endtime="20230418 15:30:52.367"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:52.368" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:52.367" endtime="20230418 15:30:52.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:52.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:52.368" endtime="20230418 15:30:52.368"/>
</kw>
<status status="PASS" starttime="20230418 15:30:51.900" endtime="20230418 15:30:52.369"/>
</kw>
<msg timestamp="20230418 15:30:52.369" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:51.900" endtime="20230418 15:30:52.369"/>
</kw>
<status status="PASS" starttime="20230418 15:30:51.900" endtime="20230418 15:30:52.369"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:52.373" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:52.869" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:52.869" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:52.371" endtime="20230418 15:30:52.869"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:52.871" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:52.870" endtime="20230418 15:30:52.871"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:52.871" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:52.871" endtime="20230418 15:30:52.871"/>
</kw>
<status status="PASS" starttime="20230418 15:30:52.370" endtime="20230418 15:30:52.871"/>
</kw>
<msg timestamp="20230418 15:30:52.872" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:52.370" endtime="20230418 15:30:52.872"/>
</kw>
<status status="PASS" starttime="20230418 15:30:52.370" endtime="20230418 15:30:52.872"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:52.882" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:53.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:53.503" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:52.873" endtime="20230418 15:30:53.503"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:53.504" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:53.503" endtime="20230418 15:30:53.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:53.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:53.504" endtime="20230418 15:30:53.505"/>
</kw>
<status status="PASS" starttime="20230418 15:30:52.873" endtime="20230418 15:30:53.505"/>
</kw>
<msg timestamp="20230418 15:30:53.505" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:52.873" endtime="20230418 15:30:53.506"/>
</kw>
<status status="PASS" starttime="20230418 15:30:52.872" endtime="20230418 15:30:53.506"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:53.509" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:53.964" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:53.964" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:53.507" endtime="20230418 15:30:53.964"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:53.965" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:53.964" endtime="20230418 15:30:53.965"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:53.965" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:53.965" endtime="20230418 15:30:53.966"/>
</kw>
<status status="PASS" starttime="20230418 15:30:53.507" endtime="20230418 15:30:53.966"/>
</kw>
<msg timestamp="20230418 15:30:53.966" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:53.506" endtime="20230418 15:30:53.967"/>
</kw>
<status status="PASS" starttime="20230418 15:30:53.506" endtime="20230418 15:30:53.967"/>
</kw>
<status status="PASS" starttime="20230418 15:30:51.899" endtime="20230418 15:30:53.967"/>
</kw>
<status status="PASS" starttime="20230418 15:30:51.899" endtime="20230418 15:30:53.967"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:30:51.898" endtime="20230418 15:30:53.967"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:53.973" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:56.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:56.803" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:53.970" endtime="20230418 15:30:56.803"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:56.804" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:30:54 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:30:56.804" endtime="20230418 15:30:56.804"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:56.805" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:56.804" endtime="20230418 15:30:56.805"/>
</kw>
<msg timestamp="20230418 15:30:56.805" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:53.970" endtime="20230418 15:30:56.805"/>
</kw>
<msg timestamp="20230418 15:30:56.805" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:38 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:53.969" endtime="20230418 15:30:56.806"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:56.806" endtime="20230418 15:30:56.806"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:56.809" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:56.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:56.812" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:56.807" endtime="20230418 15:30:56.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:56.813" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:56.813" endtime="20230418 15:30:56.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:56.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:56.813" endtime="20230418 15:30:56.815"/>
</kw>
<msg timestamp="20230418 15:30:56.815" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:30:56.806" endtime="20230418 15:30:56.815"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:56.816" endtime="20230418 15:30:56.816"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:56.819" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:56.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:56.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:56.817" endtime="20230418 15:30:56.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:56.823" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:56.822" endtime="20230418 15:30:56.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:56.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:56.823" endtime="20230418 15:30:56.824"/>
</kw>
<status status="PASS" starttime="20230418 15:30:56.816" endtime="20230418 15:30:56.824"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:30:53.969" endtime="20230418 15:30:56.824"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:56.830" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:57.429" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:57.429" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:56.828" endtime="20230418 15:30:57.429"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:57.431" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:30:57 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:30:57.430" endtime="20230418 15:30:57.431"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:57.431" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:57.431" endtime="20230418 15:30:57.431"/>
</kw>
<msg timestamp="20230418 15:30:57.432" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:56.827" endtime="20230418 15:30:57.432"/>
</kw>
<msg timestamp="20230418 15:30:57.432" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:27:43 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:30:56.826" endtime="20230418 15:30:57.432"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:57.432" endtime="20230418 15:30:57.432"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:57.435" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:57.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:57.437" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:30:57.433" endtime="20230418 15:30:57.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:57.438" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:30:57.438" endtime="20230418 15:30:57.438"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:57.439" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:57.439" endtime="20230418 15:30:57.439"/>
</kw>
<msg timestamp="20230418 15:30:57.439" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:30:57.433" endtime="20230418 15:30:57.439"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:30:57.440" endtime="20230418 15:30:57.440"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:57.442" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:57.445" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:57.445" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:30:57.441" endtime="20230418 15:30:57.445"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:57.446" level="INFO"/>
<status status="PASS" starttime="20230418 15:30:57.445" endtime="20230418 15:30:57.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:57.446" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:57.446" endtime="20230418 15:30:57.447"/>
</kw>
<status status="PASS" starttime="20230418 15:30:57.440" endtime="20230418 15:30:57.447"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:30:56.826" endtime="20230418 15:30:57.447"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:30:47.153" endtime="20230418 15:30:57.449"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:31:01.335" level="INFO">${random} = 45595</msg>
<status status="PASS" starttime="20230418 15:31:01.335" endtime="20230418 15:31:01.335"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:01.341" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-45595 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:05.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:05.613" level="INFO">${output} = 2023-04-18 15:31:04,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:04,382 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:01.337" endtime="20230418 15:31:05.613"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:05.614" level="INFO">2023-04-18 15:31:04,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:04,382 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:04,382 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 15:31:05.613" endtime="20230418 15:31:05.614"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:05.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:05.614" endtime="20230418 15:31:05.615"/>
</kw>
<status status="PASS" starttime="20230418 15:31:01.337" endtime="20230418 15:31:05.615"/>
</kw>
<msg timestamp="20230418 15:31:05.615" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:01.336" endtime="20230418 15:31:05.616"/>
</kw>
<msg timestamp="20230418 15:31:05.616" level="INFO">${output} = 2023-04-18 15:31:04,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:04,382 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:01.336" endtime="20230418 15:31:05.616"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:05.617" endtime="20230418 15:31:05.617"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:05.619" level="INFO">Running command 'cat /tmp/key-45595 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:05.622" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:05.622" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:05.617" endtime="20230418 15:31:05.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:05.623" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:05.622" endtime="20230418 15:31:05.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:05.624" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:05.623" endtime="20230418 15:31:05.624"/>
</kw>
<msg timestamp="20230418 15:31:05.624" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:05.617" endtime="20230418 15:31:05.624"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:05.625" endtime="20230418 15:31:05.625"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:05.627" level="INFO">Running command 'rm /tmp/key-45595 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:05.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:05.630" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:05.626" endtime="20230418 15:31:05.630"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:05.631" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:05.630" endtime="20230418 15:31:05.631"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:05.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:05.631" endtime="20230418 15:31:05.631"/>
</kw>
<status status="PASS" starttime="20230418 15:31:05.625" endtime="20230418 15:31:05.632"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:01.334" endtime="20230418 15:31:05.632"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:05.637" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:06.111" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:06.111" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:05.636" endtime="20230418 15:31:06.111"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:06.112" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:06.111" endtime="20230418 15:31:06.112"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:06.113" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:06.112" endtime="20230418 15:31:06.113"/>
</kw>
<status status="PASS" starttime="20230418 15:31:05.635" endtime="20230418 15:31:06.113"/>
</kw>
<msg timestamp="20230418 15:31:06.113" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:05.635" endtime="20230418 15:31:06.113"/>
</kw>
<status status="PASS" starttime="20230418 15:31:05.635" endtime="20230418 15:31:06.114"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:06.117" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:06.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:06.578" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:06.115" endtime="20230418 15:31:06.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:06.579" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:06.578" endtime="20230418 15:31:06.579"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:06.580" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:06.579" endtime="20230418 15:31:06.580"/>
</kw>
<status status="PASS" starttime="20230418 15:31:06.114" endtime="20230418 15:31:06.580"/>
</kw>
<msg timestamp="20230418 15:31:06.580" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:06.114" endtime="20230418 15:31:06.580"/>
</kw>
<status status="PASS" starttime="20230418 15:31:06.114" endtime="20230418 15:31:06.581"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:06.584" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:07.062" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:07.062" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:06.582" endtime="20230418 15:31:07.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:07.064" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:07.063" endtime="20230418 15:31:07.064"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:07.064" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:07.064" endtime="20230418 15:31:07.064"/>
</kw>
<status status="PASS" starttime="20230418 15:31:06.581" endtime="20230418 15:31:07.065"/>
</kw>
<msg timestamp="20230418 15:31:07.065" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:06.581" endtime="20230418 15:31:07.065"/>
</kw>
<status status="PASS" starttime="20230418 15:31:06.581" endtime="20230418 15:31:07.065"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:07.069" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:07.521" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:07.521" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:07.067" endtime="20230418 15:31:07.521"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:07.522" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:07.521" endtime="20230418 15:31:07.522"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:07.523" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:07.522" endtime="20230418 15:31:07.523"/>
</kw>
<status status="PASS" starttime="20230418 15:31:07.066" endtime="20230418 15:31:07.523"/>
</kw>
<msg timestamp="20230418 15:31:07.523" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:07.066" endtime="20230418 15:31:07.524"/>
</kw>
<status status="PASS" starttime="20230418 15:31:07.065" endtime="20230418 15:31:07.524"/>
</kw>
<status status="PASS" starttime="20230418 15:31:05.634" endtime="20230418 15:31:07.524"/>
</kw>
<status status="PASS" starttime="20230418 15:31:05.634" endtime="20230418 15:31:07.524"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:05.633" endtime="20230418 15:31:07.524"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:07.529" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.144" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.144" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:07.527" endtime="20230418 15:31:08.144"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.146" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:31:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:31:08.145" endtime="20230418 15:31:08.146"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.146" endtime="20230418 15:31:08.146"/>
</kw>
<msg timestamp="20230418 15:31:08.147" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:07.526" endtime="20230418 15:31:08.147"/>
</kw>
<msg timestamp="20230418 15:31:08.147" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:07.526" endtime="20230418 15:31:08.147"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:08.147" endtime="20230418 15:31:08.147"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:08.150" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.152" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:08.148" endtime="20230418 15:31:08.152"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.153" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:08.153" endtime="20230418 15:31:08.153"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.154" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.154" endtime="20230418 15:31:08.154"/>
</kw>
<msg timestamp="20230418 15:31:08.154" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:08.148" endtime="20230418 15:31:08.154"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:08.154" endtime="20230418 15:31:08.155"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:08.162" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:08.156" endtime="20230418 15:31:08.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.165" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:08.164" endtime="20230418 15:31:08.165"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.166" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.165" endtime="20230418 15:31:08.166"/>
</kw>
<status status="PASS" starttime="20230418 15:31:08.155" endtime="20230418 15:31:08.166"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:07.525" endtime="20230418 15:31:08.166"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:08.170" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.775" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:08.168" endtime="20230418 15:31:08.776"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.777" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:31:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:31:08.776" endtime="20230418 15:31:08.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.777" endtime="20230418 15:31:08.777"/>
</kw>
<msg timestamp="20230418 15:31:08.778" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:08.168" endtime="20230418 15:31:08.778"/>
</kw>
<msg timestamp="20230418 15:31:08.778" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:08.167" endtime="20230418 15:31:08.778"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:08.778" endtime="20230418 15:31:08.779"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:08.781" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.784" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.784" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:08.779" endtime="20230418 15:31:08.784"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.785" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:08.784" endtime="20230418 15:31:08.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.785" endtime="20230418 15:31:08.785"/>
</kw>
<msg timestamp="20230418 15:31:08.786" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:08.779" endtime="20230418 15:31:08.786"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:08.786" endtime="20230418 15:31:08.786"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:08.789" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:08.791" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:08.791" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:08.787" endtime="20230418 15:31:08.791"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:08.792" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:08.792" endtime="20230418 15:31:08.792"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:08.793" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:08.793" endtime="20230418 15:31:08.793"/>
</kw>
<status status="PASS" starttime="20230418 15:31:08.786" endtime="20230418 15:31:08.793"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:08.167" endtime="20230418 15:31:08.794"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:31:01.256" endtime="20230418 15:31:08.795"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:12.700" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:15.144" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:15.144" level="INFO">${output} = 2023-04-18 15:31:14,973 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:31:12.696" endtime="20230418 15:31:15.144"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:15.146" level="INFO">2023-04-18 15:31:14,973 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:31:15.145" endtime="20230418 15:31:15.146"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:15.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:15.146" endtime="20230418 15:31:15.147"/>
</kw>
<status status="PASS" starttime="20230418 15:31:12.696" endtime="20230418 15:31:15.147"/>
</kw>
<msg timestamp="20230418 15:31:15.147" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:12.695" endtime="20230418 15:31:15.148"/>
</kw>
<msg timestamp="20230418 15:31:15.148" level="INFO">${output} = 2023-04-18 15:31:14,973 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:31:12.695" endtime="20230418 15:31:15.148"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:15.154" endtime="20230418 15:31:15.154"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:15.168" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:18.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:18.057" level="INFO">${output} = 2023-04-18 15:31:17,998 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 15:31:15.164" endtime="20230418 15:31:18.057"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:18.059" level="INFO">2023-04-18 15:31:17,998 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 15:31:18.058" endtime="20230418 15:31:18.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:18.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:18.059" endtime="20230418 15:31:18.060"/>
</kw>
<status status="PASS" starttime="20230418 15:31:15.162" endtime="20230418 15:31:18.060"/>
</kw>
<msg timestamp="20230418 15:31:18.060" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:15.162" endtime="20230418 15:31:18.060"/>
</kw>
<msg timestamp="20230418 15:31:18.061" level="INFO">${output} = 2023-04-18 15:31:17,998 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 15:31:15.161" endtime="20230418 15:31:18.061"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:18.061" endtime="20230418 15:31:18.061"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:12.694" endtime="20230418 15:31:18.061"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:18.067" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:31:18.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:18.068" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:18.064" endtime="20230418 15:31:18.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:18.069" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:18.069" endtime="20230418 15:31:18.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:18.070" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:18.069" endtime="20230418 15:31:18.070"/>
</kw>
<status status="PASS" starttime="20230418 15:31:18.064" endtime="20230418 15:31:18.070"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:18.074" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:23.529" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:23.529" level="INFO">${output} = 2023-04-18 15:31:21,860 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:21,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:18.072" endtime="20230418 15:31:23.529"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:23.531" level="INFO">2023-04-18 15:31:21,860 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:21,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:21,982 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:31:22,252 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:31:23.530" endtime="20230418 15:31:23.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:23.531" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:23.531" endtime="20230418 15:31:23.531"/>
</kw>
<status status="PASS" starttime="20230418 15:31:18.072" endtime="20230418 15:31:23.532"/>
</kw>
<msg timestamp="20230418 15:31:23.532" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:18.071" endtime="20230418 15:31:23.532"/>
</kw>
<msg timestamp="20230418 15:31:23.532" level="INFO">${output} = 2023-04-18 15:31:21,860 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:21,982 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:18.070" endtime="20230418 15:31:23.532"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:23.533" endtime="20230418 15:31:23.533"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:23.536" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:23.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:23.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:23.534" endtime="20230418 15:31:23.538"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:23.540" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:23.539" endtime="20230418 15:31:23.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:23.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:23.540" endtime="20230418 15:31:23.540"/>
</kw>
<status status="PASS" starttime="20230418 15:31:23.533" endtime="20230418 15:31:23.541"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:18.063" endtime="20230418 15:31:23.541"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:23.546" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:26.261" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:26.261" level="INFO">${output} = 2023-04-18 15:31:26,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 15:31:23.544" endtime="20230418 15:31:26.261"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:26.262" level="INFO">2023-04-18 15:31:26,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 15:31:26.262" endtime="20230418 15:31:26.263"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:26.263" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:26.263" endtime="20230418 15:31:26.263"/>
</kw>
<status status="PASS" starttime="20230418 15:31:23.544" endtime="20230418 15:31:26.264"/>
</kw>
<msg timestamp="20230418 15:31:26.264" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:23.544" endtime="20230418 15:31:26.264"/>
</kw>
<msg timestamp="20230418 15:31:26.264" level="INFO">${output} = 2023-04-18 15:31:26,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 15:31:23.543" endtime="20230418 15:31:26.264"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:26.264" endtime="20230418 15:31:26.265"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:23.542" endtime="20230418 15:31:26.265"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:26.270" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:31:26.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:26.272" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:26.268" endtime="20230418 15:31:26.272"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:26.273" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:26.272" endtime="20230418 15:31:26.273"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:26.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:26.273" endtime="20230418 15:31:26.274"/>
</kw>
<status status="PASS" starttime="20230418 15:31:26.267" endtime="20230418 15:31:26.274"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:26.278" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:31.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:31.028" level="INFO">${output} = 2023-04-18 15:31:29,589 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:29,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:26.276" endtime="20230418 15:31:31.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:31.030" level="INFO">2023-04-18 15:31:29,589 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:29,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:29,690 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:31:29,961 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:31:31.029" endtime="20230418 15:31:31.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:31.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:31.030" endtime="20230418 15:31:31.030"/>
</kw>
<status status="PASS" starttime="20230418 15:31:26.275" endtime="20230418 15:31:31.031"/>
</kw>
<msg timestamp="20230418 15:31:31.031" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:26.275" endtime="20230418 15:31:31.031"/>
</kw>
<msg timestamp="20230418 15:31:31.031" level="INFO">${output} = 2023-04-18 15:31:29,589 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:29,690 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:26.274" endtime="20230418 15:31:31.031"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:31.031" endtime="20230418 15:31:31.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:31.034" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:31.037" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:31.037" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:31.032" endtime="20230418 15:31:31.037"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:31.038" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:31.037" endtime="20230418 15:31:31.038"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:31.039" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:31.038" endtime="20230418 15:31:31.039"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.032" endtime="20230418 15:31:31.039"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:26.266" endtime="20230418 15:31:31.039"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:31.044" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:31.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:31.532" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:31.042" endtime="20230418 15:31:31.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:31.534" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:31.533" endtime="20230418 15:31:31.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:31.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:31.534" endtime="20230418 15:31:31.535"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.042" endtime="20230418 15:31:31.535"/>
</kw>
<msg timestamp="20230418 15:31:31.535" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:31.041" endtime="20230418 15:31:31.535"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.041" endtime="20230418 15:31:31.535"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:31.539" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:32.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:32.022" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:31.537" endtime="20230418 15:31:32.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:32.024" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:32.023" endtime="20230418 15:31:32.024"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:32.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:32.024" endtime="20230418 15:31:32.024"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.536" endtime="20230418 15:31:32.025"/>
</kw>
<msg timestamp="20230418 15:31:32.025" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:31.536" endtime="20230418 15:31:32.025"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.536" endtime="20230418 15:31:32.025"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:32.029" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:32.498" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:32.498" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:32.027" endtime="20230418 15:31:32.498"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:32.499" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:32.499" endtime="20230418 15:31:32.500"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:32.500" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:32.500" endtime="20230418 15:31:32.500"/>
</kw>
<status status="PASS" starttime="20230418 15:31:32.026" endtime="20230418 15:31:32.500"/>
</kw>
<msg timestamp="20230418 15:31:32.501" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:32.026" endtime="20230418 15:31:32.501"/>
</kw>
<status status="PASS" starttime="20230418 15:31:32.025" endtime="20230418 15:31:32.501"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:32.505" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:33.013" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:33.013" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:32.502" endtime="20230418 15:31:33.013"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:33.014" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:33.014" endtime="20230418 15:31:33.014"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:33.015" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:33.015" endtime="20230418 15:31:33.015"/>
</kw>
<status status="PASS" starttime="20230418 15:31:32.502" endtime="20230418 15:31:33.015"/>
</kw>
<msg timestamp="20230418 15:31:33.015" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:32.502" endtime="20230418 15:31:33.016"/>
</kw>
<status status="PASS" starttime="20230418 15:31:32.501" endtime="20230418 15:31:33.016"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.041" endtime="20230418 15:31:33.016"/>
</kw>
<status status="PASS" starttime="20230418 15:31:31.040" endtime="20230418 15:31:33.016"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:31.040" endtime="20230418 15:31:33.017"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:33.022" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:33.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:33.683" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:31:33.020" endtime="20230418 15:31:33.683"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:33.684" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:31:33.684" endtime="20230418 15:31:33.685"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:33.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:33.685" endtime="20230418 15:31:33.685"/>
</kw>
<status status="PASS" starttime="20230418 15:31:33.019" endtime="20230418 15:31:33.685"/>
</kw>
<msg timestamp="20230418 15:31:33.685" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:33.019" endtime="20230418 15:31:33.686"/>
</kw>
<msg timestamp="20230418 15:31:33.687" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:31:33.019" endtime="20230418 15:31:33.687"/>
</kw>
<msg timestamp="20230418 15:31:33.687" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:31:33.018" endtime="20230418 15:31:33.687"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:33.687" endtime="20230418 15:31:33.687"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:33.688" endtime="20230418 15:31:33.688"/>
</kw>
<msg timestamp="20230418 15:31:33.688" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 15:31:33.018" endtime="20230418 15:31:33.688"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 15:31:33.688" endtime="20230418 15:31:33.689"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:33.017" endtime="20230418 15:31:33.689"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:33.693" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:31:33.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:33.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:33.691" endtime="20230418 15:31:33.694"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:33.695" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:33.695" endtime="20230418 15:31:33.695"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:33.696" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:33.696" endtime="20230418 15:31:33.696"/>
</kw>
<status status="PASS" starttime="20230418 15:31:33.690" endtime="20230418 15:31:33.696"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:33.700" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:34.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:34.660" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:33.698" endtime="20230418 15:31:34.660"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:34.661" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:34.661" endtime="20230418 15:31:34.661"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:34.662" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:34.662" endtime="20230418 15:31:34.662"/>
</kw>
<msg timestamp="20230418 15:31:34.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:33.697" endtime="20230418 15:31:34.662"/>
</kw>
<msg timestamp="20230418 15:31:34.663" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:33.697" endtime="20230418 15:31:34.663"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:34.663" endtime="20230418 15:31:34.663"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:34.666" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:34.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:34.668" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:34.664" endtime="20230418 15:31:34.668"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:34.670" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:34.669" endtime="20230418 15:31:34.670"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:34.671" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:34.670" endtime="20230418 15:31:34.671"/>
</kw>
<status status="PASS" starttime="20230418 15:31:34.664" endtime="20230418 15:31:34.671"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:33.690" endtime="20230418 15:31:34.671"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 15:31:12.618" endtime="20230418 15:31:34.673"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:31:38.537" level="INFO">${random} = 02349</msg>
<status status="PASS" starttime="20230418 15:31:38.537" endtime="20230418 15:31:38.537"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:38.543" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-02349 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:42.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:42.893" level="INFO">${output} = 2023-04-18 15:31:41,641 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:41,772 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:38.539" endtime="20230418 15:31:42.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:42.895" level="INFO">2023-04-18 15:31:41,641 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:41,772 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:41,775 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 15:31:42.894" endtime="20230418 15:31:42.895"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:42.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:42.895" endtime="20230418 15:31:42.895"/>
</kw>
<status status="PASS" starttime="20230418 15:31:38.539" endtime="20230418 15:31:42.896"/>
</kw>
<msg timestamp="20230418 15:31:42.896" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:38.538" endtime="20230418 15:31:42.897"/>
</kw>
<msg timestamp="20230418 15:31:42.897" level="INFO">${output} = 2023-04-18 15:31:41,641 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:41,772 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:38.537" endtime="20230418 15:31:42.897"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:42.897" endtime="20230418 15:31:42.898"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:42.900" level="INFO">Running command 'cat /tmp/key-02349 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:42.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:42.903" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:42.898" endtime="20230418 15:31:42.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:42.904" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:42.903" endtime="20230418 15:31:42.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:42.904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:42.904" endtime="20230418 15:31:42.905"/>
</kw>
<msg timestamp="20230418 15:31:42.905" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:42.898" endtime="20230418 15:31:42.905"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:42.905" endtime="20230418 15:31:42.905"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:42.908" level="INFO">Running command 'rm /tmp/key-02349 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:42.910" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:42.910" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:42.906" endtime="20230418 15:31:42.910"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:42.911" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:42.911" endtime="20230418 15:31:42.911"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:42.912" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:42.912" endtime="20230418 15:31:42.912"/>
</kw>
<status status="PASS" starttime="20230418 15:31:42.905" endtime="20230418 15:31:42.912"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:38.536" endtime="20230418 15:31:42.913"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:42.918" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:43.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:43.376" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:42.916" endtime="20230418 15:31:43.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:43.377" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:43.376" endtime="20230418 15:31:43.377"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:43.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:43.377" endtime="20230418 15:31:43.378"/>
</kw>
<status status="PASS" starttime="20230418 15:31:42.916" endtime="20230418 15:31:43.378"/>
</kw>
<msg timestamp="20230418 15:31:43.378" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:42.916" endtime="20230418 15:31:43.379"/>
</kw>
<status status="PASS" starttime="20230418 15:31:42.915" endtime="20230418 15:31:43.379"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:43.382" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:43.844" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:43.844" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:43.380" endtime="20230418 15:31:43.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:43.845" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:43.844" endtime="20230418 15:31:43.845"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:43.846" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:43.845" endtime="20230418 15:31:43.846"/>
</kw>
<status status="PASS" starttime="20230418 15:31:43.380" endtime="20230418 15:31:43.846"/>
</kw>
<msg timestamp="20230418 15:31:43.846" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:43.379" endtime="20230418 15:31:43.847"/>
</kw>
<status status="PASS" starttime="20230418 15:31:43.379" endtime="20230418 15:31:43.847"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:43.850" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:44.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:44.311" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:43.848" endtime="20230418 15:31:44.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:44.312" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:44.311" endtime="20230418 15:31:44.312"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:44.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:44.312" endtime="20230418 15:31:44.313"/>
</kw>
<status status="PASS" starttime="20230418 15:31:43.848" endtime="20230418 15:31:44.313"/>
</kw>
<msg timestamp="20230418 15:31:44.313" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:43.847" endtime="20230418 15:31:44.314"/>
</kw>
<status status="PASS" starttime="20230418 15:31:43.847" endtime="20230418 15:31:44.314"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:44.318" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:44.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:44.786" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:44.316" endtime="20230418 15:31:44.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:44.788" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:44.787" endtime="20230418 15:31:44.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:44.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:44.788" endtime="20230418 15:31:44.788"/>
</kw>
<status status="PASS" starttime="20230418 15:31:44.315" endtime="20230418 15:31:44.789"/>
</kw>
<msg timestamp="20230418 15:31:44.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:44.315" endtime="20230418 15:31:44.789"/>
</kw>
<status status="PASS" starttime="20230418 15:31:44.315" endtime="20230418 15:31:44.789"/>
</kw>
<status status="PASS" starttime="20230418 15:31:42.915" endtime="20230418 15:31:44.789"/>
</kw>
<status status="PASS" starttime="20230418 15:31:42.914" endtime="20230418 15:31:44.789"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:42.913" endtime="20230418 15:31:44.790"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:44.795" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.367" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.367" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:30 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:44.793" endtime="20230418 15:31:45.367"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.368" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:30 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:31:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:31:45.368" endtime="20230418 15:31:45.369"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.369" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.369" endtime="20230418 15:31:45.369"/>
</kw>
<msg timestamp="20230418 15:31:45.369" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:30 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:44.792" endtime="20230418 15:31:45.369"/>
</kw>
<msg timestamp="20230418 15:31:45.370" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:30 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:44.792" endtime="20230418 15:31:45.370"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:45.370" endtime="20230418 15:31:45.370"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:45.373" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.376" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:45.371" endtime="20230418 15:31:45.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.377" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:45.376" endtime="20230418 15:31:45.377"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.377" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.377" endtime="20230418 15:31:45.378"/>
</kw>
<msg timestamp="20230418 15:31:45.378" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:31:45.370" endtime="20230418 15:31:45.378"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:45.378" endtime="20230418 15:31:45.378"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:45.381" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.383" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.383" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:45.379" endtime="20230418 15:31:45.383"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.384" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:45.384" endtime="20230418 15:31:45.384"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.385" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.384" endtime="20230418 15:31:45.385"/>
</kw>
<status status="PASS" starttime="20230418 15:31:45.379" endtime="20230418 15:31:45.385"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:44.791" endtime="20230418 15:31:45.385"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:45.391" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.974" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:34 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:45.389" endtime="20230418 15:31:45.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.975" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:34 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:31:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:31:45.974" endtime="20230418 15:31:45.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.975" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.975" endtime="20230418 15:31:45.975"/>
</kw>
<msg timestamp="20230418 15:31:45.976" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:34 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:45.388" endtime="20230418 15:31:45.976"/>
</kw>
<msg timestamp="20230418 15:31:45.976" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:31:34 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:31:45.388" endtime="20230418 15:31:45.976"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:45.976" endtime="20230418 15:31:45.977"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:45.979" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.982" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.982" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:45.977" endtime="20230418 15:31:45.982"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.983" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:45.982" endtime="20230418 15:31:45.983"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.983" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.983" endtime="20230418 15:31:45.983"/>
</kw>
<msg timestamp="20230418 15:31:45.984" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:31:45.977" endtime="20230418 15:31:45.984"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:45.984" endtime="20230418 15:31:45.984"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:45.987" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:45.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:45.989" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:45.985" endtime="20230418 15:31:45.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:45.991" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:45.990" endtime="20230418 15:31:45.991"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:45.991" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:45.991" endtime="20230418 15:31:45.991"/>
</kw>
<status status="PASS" starttime="20230418 15:31:45.984" endtime="20230418 15:31:45.992"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:45.387" endtime="20230418 15:31:45.992"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:31:38.460" endtime="20230418 15:31:45.994"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:49.912" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:31:49.914" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:49.914" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:49.907" endtime="20230418 15:31:49.914"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:49.915" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:49.914" endtime="20230418 15:31:49.915"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:49.916" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:49.915" endtime="20230418 15:31:49.916"/>
</kw>
<status status="PASS" starttime="20230418 15:31:49.907" endtime="20230418 15:31:49.916"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:49.920" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:54.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:54.757" level="INFO">${output} = 2023-04-18 15:31:53,090 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:53,178 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:49.918" endtime="20230418 15:31:54.757"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:54.758" level="INFO">2023-04-18 15:31:53,090 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:53,178 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:53,178 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:31:53,484 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:31:54.757" endtime="20230418 15:31:54.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:54.759" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:54.758" endtime="20230418 15:31:54.759"/>
</kw>
<status status="PASS" starttime="20230418 15:31:49.917" endtime="20230418 15:31:54.759"/>
</kw>
<msg timestamp="20230418 15:31:54.759" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:49.917" endtime="20230418 15:31:54.760"/>
</kw>
<msg timestamp="20230418 15:31:54.760" level="INFO">${output} = 2023-04-18 15:31:53,090 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:53,178 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:49.916" endtime="20230418 15:31:54.760"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:54.761" endtime="20230418 15:31:54.761"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:54.764" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:54.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:54.766" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:54.762" endtime="20230418 15:31:54.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:54.767" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:54.767" endtime="20230418 15:31:54.767"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:54.768" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:54.767" endtime="20230418 15:31:54.768"/>
</kw>
<status status="PASS" starttime="20230418 15:31:54.761" endtime="20230418 15:31:54.768"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:49.906" endtime="20230418 15:31:54.768"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:54.773" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:31:54.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:54.774" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:54.771" endtime="20230418 15:31:54.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:54.775" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:54.775" endtime="20230418 15:31:54.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:54.776" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:54.776" endtime="20230418 15:31:54.776"/>
</kw>
<status status="PASS" starttime="20230418 15:31:54.770" endtime="20230418 15:31:54.776"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:54.780" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:59.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:59.454" level="INFO">${output} = 2023-04-18 15:31:57,952 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:58,023 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:54.778" endtime="20230418 15:31:59.454"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:59.455" level="INFO">2023-04-18 15:31:57,952 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:58,023 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:31:58,023 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:31:58,239 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:31:59.454" endtime="20230418 15:31:59.455"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:59.456" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:59.455" endtime="20230418 15:31:59.456"/>
</kw>
<status status="PASS" starttime="20230418 15:31:54.777" endtime="20230418 15:31:59.456"/>
</kw>
<msg timestamp="20230418 15:31:59.456" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:54.777" endtime="20230418 15:31:59.456"/>
</kw>
<msg timestamp="20230418 15:31:59.457" level="INFO">${output} = 2023-04-18 15:31:57,952 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:31:58,023 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:31:54.777" endtime="20230418 15:31:59.457"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:31:59.457" endtime="20230418 15:31:59.457"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:59.460" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:59.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:59.463" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:59.458" endtime="20230418 15:31:59.463"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:59.464" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:59.463" endtime="20230418 15:31:59.464"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:59.464" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:59.464" endtime="20230418 15:31:59.465"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.458" endtime="20230418 15:31:59.465"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:54.769" endtime="20230418 15:31:59.465"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:59.470" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:31:59.938" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:31:59.938" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:59.468" endtime="20230418 15:31:59.938"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:31:59.939" level="INFO"/>
<status status="PASS" starttime="20230418 15:31:59.939" endtime="20230418 15:31:59.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:31:59.940" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:31:59.940" endtime="20230418 15:31:59.940"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.468" endtime="20230418 15:31:59.940"/>
</kw>
<msg timestamp="20230418 15:31:59.940" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:59.468" endtime="20230418 15:31:59.941"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.467" endtime="20230418 15:31:59.941"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:31:59.945" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:00.431" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:00.431" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:31:59.942" endtime="20230418 15:32:00.431"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:00.432" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:00.432" endtime="20230418 15:32:00.432"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:00.433" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:00.433" endtime="20230418 15:32:00.433"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.942" endtime="20230418 15:32:00.433"/>
</kw>
<msg timestamp="20230418 15:32:00.433" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:31:59.942" endtime="20230418 15:32:00.434"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.941" endtime="20230418 15:32:00.434"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:00.437" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:00.897" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:00.897" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:00.435" endtime="20230418 15:32:00.897"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:00.898" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:00.898" endtime="20230418 15:32:00.898"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:00.899" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:00.899" endtime="20230418 15:32:00.899"/>
</kw>
<status status="PASS" starttime="20230418 15:32:00.435" endtime="20230418 15:32:00.899"/>
</kw>
<msg timestamp="20230418 15:32:00.899" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:32:00.435" endtime="20230418 15:32:00.900"/>
</kw>
<status status="PASS" starttime="20230418 15:32:00.434" endtime="20230418 15:32:00.900"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:00.903" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:01.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:01.377" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:00.901" endtime="20230418 15:32:01.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:01.378" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:01.378" endtime="20230418 15:32:01.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:01.379" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:01.379" endtime="20230418 15:32:01.379"/>
</kw>
<status status="PASS" starttime="20230418 15:32:00.901" endtime="20230418 15:32:01.379"/>
</kw>
<msg timestamp="20230418 15:32:01.380" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:32:00.901" endtime="20230418 15:32:01.381"/>
</kw>
<status status="PASS" starttime="20230418 15:32:00.900" endtime="20230418 15:32:01.381"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.467" endtime="20230418 15:32:01.381"/>
</kw>
<status status="PASS" starttime="20230418 15:31:59.467" endtime="20230418 15:32:01.381"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:31:59.466" endtime="20230418 15:32:01.381"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:01.387" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:01.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:01.988" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:32:01.385" endtime="20230418 15:32:01.988"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:01.989" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:32:01.989" endtime="20230418 15:32:01.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:01.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:01.989" endtime="20230418 15:32:01.990"/>
</kw>
<status status="PASS" starttime="20230418 15:32:01.385" endtime="20230418 15:32:01.990"/>
</kw>
<msg timestamp="20230418 15:32:01.990" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:32:01.384" endtime="20230418 15:32:01.991"/>
</kw>
<msg timestamp="20230418 15:32:01.992" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:32:01.384" endtime="20230418 15:32:01.992"/>
</kw>
<msg timestamp="20230418 15:32:01.992" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:32:01.383" endtime="20230418 15:32:01.992"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:32:01.992" endtime="20230418 15:32:01.992"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:32:01.993" endtime="20230418 15:32:01.993"/>
</kw>
<msg timestamp="20230418 15:32:01.993" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 15:32:01.383" endtime="20230418 15:32:01.993"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 15:32:01.994" endtime="20230418 15:32:01.994"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:32:01.382" endtime="20230418 15:32:01.994"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:02.000" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:32:02.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:02.002" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:01.998" endtime="20230418 15:32:02.002"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:02.003" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:02.002" endtime="20230418 15:32:02.003"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:02.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:02.003" endtime="20230418 15:32:02.003"/>
</kw>
<status status="PASS" starttime="20230418 15:32:01.997" endtime="20230418 15:32:02.004"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:02.007" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:02.761" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:02.761" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:02.005" endtime="20230418 15:32:02.761"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:02.762" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:02.762" endtime="20230418 15:32:02.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:02.763" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:02.763" endtime="20230418 15:32:02.763"/>
</kw>
<msg timestamp="20230418 15:32:02.764" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:02.004" endtime="20230418 15:32:02.764"/>
</kw>
<msg timestamp="20230418 15:32:02.764" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:02.004" endtime="20230418 15:32:02.764"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:32:02.764" endtime="20230418 15:32:02.764"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:02.768" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:32:02.771" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:32:02.771" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:32:02.766" endtime="20230418 15:32:02.771"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:32:02.772" level="INFO"/>
<status status="PASS" starttime="20230418 15:32:02.771" endtime="20230418 15:32:02.772"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:32:02.773" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:32:02.772" endtime="20230418 15:32:02.773"/>
</kw>
<status status="PASS" starttime="20230418 15:32:02.765" endtime="20230418 15:32:02.773"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:32:01.996" endtime="20230418 15:32:02.773"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 15:31:49.824" endtime="20230418 15:32:02.776"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:32:06.563" endtime="20230418 15:32:06.564"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:32:06.564" endtime="20230418 15:32:06.564"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:32:06.569" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:37:06.563" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230418 15:32:06.565" endtime="20230418 15:37:06.563"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230418 15:37:06.564" endtime="20230418 15:37:06.564"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230418 15:37:06.564" endtime="20230418 15:37:06.564"/>
</kw>
<status status="FAIL" starttime="20230418 15:32:06.565" endtime="20230418 15:37:06.564"/>
</kw>
<msg timestamp="20230418 15:37:06.564" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230418 15:32:06.565" endtime="20230418 15:37:06.566"/>
</kw>
<status status="FAIL" starttime="20230418 15:32:06.564" endtime="20230418 15:37:06.566"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230418 15:37:06.566" endtime="20230418 15:37:06.566"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230418 15:32:06.562" endtime="20230418 15:37:06.567">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230418 15:32:06.518" endtime="20230418 15:37:06.568"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:30:37.901" endtime="20230418 15:30:37.902"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:37.906" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:37.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:37.909" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=fe32f05b1f81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 15:30:37.903" endtime="20230418 15:30:37.909"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:37.910" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=fe32f05b1f81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 15:30:37.909" endtime="20230418 15:30:37.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:37.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:37.910" endtime="20230418 15:30:37.910"/>
</kw>
<status status="PASS" starttime="20230418 15:30:37.902" endtime="20230418 15:30:37.911"/>
</kw>
<msg timestamp="20230418 15:30:37.911" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:37.902" endtime="20230418 15:30:37.912"/>
</kw>
<msg timestamp="20230418 15:30:37.912" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=fe32f05b1f81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 15:30:37.902" endtime="20230418 15:30:37.912"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:37.912" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=fe32f05b1f81
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 15:30:37.912" endtime="20230418 15:30:37.912"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:30:37.913" endtime="20230418 15:30:37.913"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:37.916" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:40.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:40.705" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:30:37.914" endtime="20230418 15:30:40.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:40.707" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:30:40.706" endtime="20230418 15:30:40.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:40.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:40.707" endtime="20230418 15:30:40.708"/>
</kw>
<status status="PASS" starttime="20230418 15:30:37.914" endtime="20230418 15:30:40.708"/>
</kw>
<msg timestamp="20230418 15:30:40.708" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:37.913" endtime="20230418 15:30:40.708"/>
</kw>
<msg timestamp="20230418 15:30:40.708" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:30:37.913" endtime="20230418 15:30:40.709"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:40.709" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:30:40.709" endtime="20230418 15:30:40.709"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 15:30:40.709" endtime="20230418 15:30:40.709"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 15:30:37.900" endtime="20230418 15:30:40.710"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:30:40.712" endtime="20230418 15:30:40.712"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:30:40.712" endtime="20230418 15:30:40.712"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:30:40.716" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:30:43.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:30:43.345" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:30:40.714" endtime="20230418 15:30:43.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:43.346" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:30:43.345" endtime="20230418 15:30:43.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:30:43.347" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:30:43.346" endtime="20230418 15:30:43.347"/>
</kw>
<status status="PASS" starttime="20230418 15:30:40.713" endtime="20230418 15:30:43.347"/>
</kw>
<msg timestamp="20230418 15:30:43.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:30:40.713" endtime="20230418 15:30:43.348"/>
</kw>
<msg timestamp="20230418 15:30:43.348" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:30:40.713" endtime="20230418 15:30:43.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:30:43.348" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:30:43.348" endtime="20230418 15:30:43.348"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 15:30:43.348" endtime="20230418 15:30:43.349"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 15:30:40.711" endtime="20230418 15:30:43.349"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230418 15:30:37.854" endtime="20230418 15:30:43.350"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:23:55.088" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:23:57.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:23:57.799" level="INFO">${output} = 2023-04-18 15:23:57,599 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:23:55.072" endtime="20230418 15:23:57.799"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:57.800" level="INFO">2023-04-18 15:23:57,599 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:23:57.799" endtime="20230418 15:23:57.800"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:23:57.801" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:23:57.800" endtime="20230418 15:23:57.801"/>
</kw>
<status status="PASS" starttime="20230418 15:23:55.072" endtime="20230418 15:23:57.802"/>
</kw>
<msg timestamp="20230418 15:23:57.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:23:55.071" endtime="20230418 15:23:57.804"/>
</kw>
<msg timestamp="20230418 15:23:57.804" level="INFO">${output} = 2023-04-18 15:23:57,599 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 15:23:55.071" endtime="20230418 15:23:57.804"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:23:57.804" endtime="20230418 15:23:57.805"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:23:57.809" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:00.444" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:00.444" level="INFO">${output} = 2023-04-18 15:24:00,379 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 15:23:57.806" endtime="20230418 15:24:00.444"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:00.450" level="INFO">2023-04-18 15:24:00,379 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 15:24:00.445" endtime="20230418 15:24:00.450"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:00.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:00.450" endtime="20230418 15:24:00.451"/>
</kw>
<status status="PASS" starttime="20230418 15:23:57.806" endtime="20230418 15:24:00.452"/>
</kw>
<msg timestamp="20230418 15:24:00.452" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:23:57.805" endtime="20230418 15:24:00.453"/>
</kw>
<msg timestamp="20230418 15:24:00.453" level="INFO">${output} = 2023-04-18 15:24:00,379 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 15:23:57.805" endtime="20230418 15:24:00.453"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:00.453" endtime="20230418 15:24:00.455"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:23:55.069" endtime="20230418 15:24:00.455"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:00.465" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:24:00.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:00.467" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:00.463" endtime="20230418 15:24:00.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:00.468" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:00.468" endtime="20230418 15:24:00.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:00.472" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:00.468" endtime="20230418 15:24:00.472"/>
</kw>
<status status="PASS" starttime="20230418 15:24:00.462" endtime="20230418 15:24:00.473"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:00.485" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:08.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:08.575" level="INFO">${output} = 2023-04-18 15:24:03,911 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:04,039 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:00.480" endtime="20230418 15:24:08.575"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:08.576" level="INFO">2023-04-18 15:24:03,911 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:04,039 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:24:04,039 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:24:04,303 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:24:08.575" endtime="20230418 15:24:08.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:08.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:08.577" endtime="20230418 15:24:08.577"/>
</kw>
<status status="PASS" starttime="20230418 15:24:00.476" endtime="20230418 15:24:08.578"/>
</kw>
<msg timestamp="20230418 15:24:08.578" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:00.476" endtime="20230418 15:24:08.578"/>
</kw>
<msg timestamp="20230418 15:24:08.578" level="INFO">${output} = 2023-04-18 15:24:03,911 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:04,039 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:00.473" endtime="20230418 15:24:08.578"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:08.578" endtime="20230418 15:24:08.579"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:08.581" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:08.584" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:08.584" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:08.579" endtime="20230418 15:24:08.584"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:08.585" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:08.585" endtime="20230418 15:24:08.585"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:08.586" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:08.586" endtime="20230418 15:24:08.586"/>
</kw>
<status status="PASS" starttime="20230418 15:24:08.579" endtime="20230418 15:24:08.586"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:00.457" endtime="20230418 15:24:08.586"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:08.592" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:11.261" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:11.261" level="INFO">${output} = 2023-04-18 15:24:11,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 15:24:08.589" endtime="20230418 15:24:11.261"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:11.263" level="INFO">2023-04-18 15:24:11,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 15:24:11.262" endtime="20230418 15:24:11.263"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:11.263" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:11.263" endtime="20230418 15:24:11.263"/>
</kw>
<status status="PASS" starttime="20230418 15:24:08.589" endtime="20230418 15:24:11.264"/>
</kw>
<msg timestamp="20230418 15:24:11.264" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:08.589" endtime="20230418 15:24:11.264"/>
</kw>
<msg timestamp="20230418 15:24:11.264" level="INFO">${output} = 2023-04-18 15:24:11,205 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 15:24:08.588" endtime="20230418 15:24:11.265"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:11.265" endtime="20230418 15:24:11.265"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:08.587" endtime="20230418 15:24:11.265"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:11.271" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:24:11.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:11.272" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:11.268" endtime="20230418 15:24:11.272"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:11.273" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:11.273" endtime="20230418 15:24:11.274"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:11.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:11.274" endtime="20230418 15:24:11.274"/>
</kw>
<status status="PASS" starttime="20230418 15:24:11.268" endtime="20230418 15:24:11.275"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:11.278" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:16.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:16.071" level="INFO">${output} = 2023-04-18 15:24:14,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:14,606 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:11.277" endtime="20230418 15:24:16.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:16.073" level="INFO">2023-04-18 15:24:14,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:14,606 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:24:14,606 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 15:24:14,857 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 15:24:16.072" endtime="20230418 15:24:16.073"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:16.073" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:16.073" endtime="20230418 15:24:16.073"/>
</kw>
<status status="PASS" starttime="20230418 15:24:11.276" endtime="20230418 15:24:16.073"/>
</kw>
<msg timestamp="20230418 15:24:16.074" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:11.275" endtime="20230418 15:24:16.074"/>
</kw>
<msg timestamp="20230418 15:24:16.074" level="INFO">${output} = 2023-04-18 15:24:14,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:14,606 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:11.275" endtime="20230418 15:24:16.074"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:16.074" endtime="20230418 15:24:16.075"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:16.077" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:16.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:16.079" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:16.075" endtime="20230418 15:24:16.080"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:16.081" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:16.080" endtime="20230418 15:24:16.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:16.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:16.081" endtime="20230418 15:24:16.081"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.075" endtime="20230418 15:24:16.081"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:11.267" endtime="20230418 15:24:16.082"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:16.087" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:16.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:16.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:16.085" endtime="20230418 15:24:16.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:16.742" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:16.742" endtime="20230418 15:24:16.742"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:16.743" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:16.742" endtime="20230418 15:24:16.743"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.085" endtime="20230418 15:24:16.743"/>
</kw>
<msg timestamp="20230418 15:24:16.743" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:16.085" endtime="20230418 15:24:16.744"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.084" endtime="20230418 15:24:16.744"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:16.748" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:17.211" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:17.211" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:16.746" endtime="20230418 15:24:17.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:17.213" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:17.212" endtime="20230418 15:24:17.213"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:17.213" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:17.213" endtime="20230418 15:24:17.213"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.745" endtime="20230418 15:24:17.213"/>
</kw>
<msg timestamp="20230418 15:24:17.214" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:16.745" endtime="20230418 15:24:17.214"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.744" endtime="20230418 15:24:17.214"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:17.218" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:17.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:17.681" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:17.216" endtime="20230418 15:24:17.681"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:17.683" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:17.682" endtime="20230418 15:24:17.683"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:17.683" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:17.683" endtime="20230418 15:24:17.683"/>
</kw>
<status status="PASS" starttime="20230418 15:24:17.215" endtime="20230418 15:24:17.684"/>
</kw>
<msg timestamp="20230418 15:24:17.684" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:17.215" endtime="20230418 15:24:17.684"/>
</kw>
<status status="PASS" starttime="20230418 15:24:17.214" endtime="20230418 15:24:17.684"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:17.687" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:18.195" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:18.195" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:17.685" endtime="20230418 15:24:18.195"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:18.197" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:18.196" endtime="20230418 15:24:18.197"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:18.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:18.197" endtime="20230418 15:24:18.197"/>
</kw>
<status status="PASS" starttime="20230418 15:24:17.685" endtime="20230418 15:24:18.197"/>
</kw>
<msg timestamp="20230418 15:24:18.198" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:17.685" endtime="20230418 15:24:18.198"/>
</kw>
<status status="PASS" starttime="20230418 15:24:17.684" endtime="20230418 15:24:18.198"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.084" endtime="20230418 15:24:18.198"/>
</kw>
<status status="PASS" starttime="20230418 15:24:16.084" endtime="20230418 15:24:18.198"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:16.083" endtime="20230418 15:24:18.199"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:18.204" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:20.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:20.043" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:24:18.202" endtime="20230418 15:24:20.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:20.044" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:24:20.044" endtime="20230418 15:24:20.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:20.045" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:20.044" endtime="20230418 15:24:20.045"/>
</kw>
<status status="PASS" starttime="20230418 15:24:18.202" endtime="20230418 15:24:20.045"/>
</kw>
<msg timestamp="20230418 15:24:20.045" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:18.201" endtime="20230418 15:24:20.046"/>
</kw>
<msg timestamp="20230418 15:24:20.046" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:24:18.201" endtime="20230418 15:24:20.046"/>
</kw>
<msg timestamp="20230418 15:24:20.046" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:24:18.200" endtime="20230418 15:24:20.046"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:20.047" endtime="20230418 15:24:20.047"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:20.047" endtime="20230418 15:24:20.048"/>
</kw>
<msg timestamp="20230418 15:24:20.048" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 15:24:18.200" endtime="20230418 15:24:20.048"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 15:24:20.048" endtime="20230418 15:24:20.048"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:18.199" endtime="20230418 15:24:20.049"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:20.053" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:24:20.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:20.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:20.051" endtime="20230418 15:24:20.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:20.056" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:20.055" endtime="20230418 15:24:20.056"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:20.057" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:20.056" endtime="20230418 15:24:20.057"/>
</kw>
<status status="PASS" starttime="20230418 15:24:20.050" endtime="20230418 15:24:20.057"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:20.061" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:21.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:21.530" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:20.059" endtime="20230418 15:24:21.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:21.532" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:21.531" endtime="20230418 15:24:21.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:21.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:21.532" endtime="20230418 15:24:21.532"/>
</kw>
<msg timestamp="20230418 15:24:21.533" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:20.058" endtime="20230418 15:24:21.533"/>
</kw>
<msg timestamp="20230418 15:24:21.533" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:20.057" endtime="20230418 15:24:21.533"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:21.533" endtime="20230418 15:24:21.533"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:21.536" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:21.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:21.539" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:21.534" endtime="20230418 15:24:21.539"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:21.540" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:21.539" endtime="20230418 15:24:21.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:21.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:21.540" endtime="20230418 15:24:21.540"/>
</kw>
<status status="PASS" starttime="20230418 15:24:21.534" endtime="20230418 15:24:21.541"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:20.049" endtime="20230418 15:24:21.541"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 15:23:54.982" endtime="20230418 15:24:21.543"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:24:25.426" level="INFO">${random} = 76653</msg>
<status status="PASS" starttime="20230418 15:24:25.426" endtime="20230418 15:24:25.426"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:25.432" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-76653 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:30.298" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:30.298" level="INFO">${output} = 2023-04-18 15:24:28,915 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:29,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:25.428" endtime="20230418 15:24:30.298"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:30.299" level="INFO">2023-04-18 15:24:28,915 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:29,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 15:24:29,057 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 15:24:30.298" endtime="20230418 15:24:30.299"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:30.300" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:30.299" endtime="20230418 15:24:30.300"/>
</kw>
<status status="PASS" starttime="20230418 15:24:25.428" endtime="20230418 15:24:30.300"/>
</kw>
<msg timestamp="20230418 15:24:30.300" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:25.427" endtime="20230418 15:24:30.301"/>
</kw>
<msg timestamp="20230418 15:24:30.301" level="INFO">${output} = 2023-04-18 15:24:28,915 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 15:24:29,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 15:24:25.426" endtime="20230418 15:24:30.301"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:30.302" endtime="20230418 15:24:30.302"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:30.305" level="INFO">Running command 'cat /tmp/key-76653 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:30.308" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:30.308" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:30.303" endtime="20230418 15:24:30.308"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:30.309" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:30.308" endtime="20230418 15:24:30.309"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:30.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:30.309" endtime="20230418 15:24:30.309"/>
</kw>
<msg timestamp="20230418 15:24:30.310" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:30.302" endtime="20230418 15:24:30.310"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:30.310" endtime="20230418 15:24:30.310"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:30.313" level="INFO">Running command 'rm /tmp/key-76653 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:30.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:30.316" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:30.311" endtime="20230418 15:24:30.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:30.317" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:30.316" endtime="20230418 15:24:30.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:30.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:30.318" endtime="20230418 15:24:30.318"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.311" endtime="20230418 15:24:30.319"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:25.425" endtime="20230418 15:24:30.319"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:30.325" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:30.800" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:30.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:30.322" endtime="20230418 15:24:30.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:30.801" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:30.801" endtime="20230418 15:24:30.801"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:30.802" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:30.801" endtime="20230418 15:24:30.802"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.322" endtime="20230418 15:24:30.802"/>
</kw>
<msg timestamp="20230418 15:24:30.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:30.322" endtime="20230418 15:24:30.803"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.321" endtime="20230418 15:24:30.803"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:30.806" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:31.283" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:31.283" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:30.804" endtime="20230418 15:24:31.283"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:31.284" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:31.283" endtime="20230418 15:24:31.284"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:31.285" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:31.284" endtime="20230418 15:24:31.285"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.804" endtime="20230418 15:24:31.285"/>
</kw>
<msg timestamp="20230418 15:24:31.285" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:30.804" endtime="20230418 15:24:31.285"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.803" endtime="20230418 15:24:31.286"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:31.289" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:31.773" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:31.773" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:31.287" endtime="20230418 15:24:31.773"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:31.775" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:31.774" endtime="20230418 15:24:31.775"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:31.775" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:31.775" endtime="20230418 15:24:31.775"/>
</kw>
<status status="PASS" starttime="20230418 15:24:31.286" endtime="20230418 15:24:31.776"/>
</kw>
<msg timestamp="20230418 15:24:31.776" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:31.286" endtime="20230418 15:24:31.776"/>
</kw>
<status status="PASS" starttime="20230418 15:24:31.286" endtime="20230418 15:24:31.776"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:31.780" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:32.238" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:32.238" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:31.778" endtime="20230418 15:24:32.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:32.239" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:32.238" endtime="20230418 15:24:32.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:32.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:32.239" endtime="20230418 15:24:32.240"/>
</kw>
<status status="PASS" starttime="20230418 15:24:31.777" endtime="20230418 15:24:32.240"/>
</kw>
<msg timestamp="20230418 15:24:32.240" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:31.777" endtime="20230418 15:24:32.241"/>
</kw>
<status status="PASS" starttime="20230418 15:24:31.776" endtime="20230418 15:24:32.241"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.321" endtime="20230418 15:24:32.241"/>
</kw>
<status status="PASS" starttime="20230418 15:24:30.321" endtime="20230418 15:24:32.241"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:30.320" endtime="20230418 15:24:32.241"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:32.246" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:32.998" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:32.999" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:32.244" endtime="20230418 15:24:32.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:24:32 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:24:32.999" endtime="20230418 15:24:33.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.000" endtime="20230418 15:24:33.000"/>
</kw>
<msg timestamp="20230418 15:24:33.001" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:32.243" endtime="20230418 15:24:33.001"/>
</kw>
<msg timestamp="20230418 15:24:33.001" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:32.243" endtime="20230418 15:24:33.001"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:33.001" endtime="20230418 15:24:33.002"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:33.004" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:33.007" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:33.007" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:33.002" endtime="20230418 15:24:33.007"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.008" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:33.007" endtime="20230418 15:24:33.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.008" endtime="20230418 15:24:33.008"/>
</kw>
<msg timestamp="20230418 15:24:33.009" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:24:33.002" endtime="20230418 15:24:33.009"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:33.009" endtime="20230418 15:24:33.009"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:33.012" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:33.015" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:33.015" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:33.010" endtime="20230418 15:24:33.015"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.016" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:33.015" endtime="20230418 15:24:33.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.017" endtime="20230418 15:24:33.017"/>
</kw>
<status status="PASS" starttime="20230418 15:24:33.009" endtime="20230418 15:24:33.017"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:32.242" endtime="20230418 15:24:33.018"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:33.023" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:33.626" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:33.626" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:33.020" endtime="20230418 15:24:33.626"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.627" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:24:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:24:33.626" endtime="20230418 15:24:33.627"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.628" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.627" endtime="20230418 15:24:33.628"/>
</kw>
<msg timestamp="20230418 15:24:33.628" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:33.020" endtime="20230418 15:24:33.628"/>
</kw>
<msg timestamp="20230418 15:24:33.629" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:24:33.019" endtime="20230418 15:24:33.629"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:33.629" endtime="20230418 15:24:33.629"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:33.632" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:33.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:33.634" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:24:33.630" endtime="20230418 15:24:33.635"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.636" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:24:33.635" endtime="20230418 15:24:33.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.636" endtime="20230418 15:24:33.636"/>
</kw>
<msg timestamp="20230418 15:24:33.636" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:24:33.629" endtime="20230418 15:24:33.636"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:33.637" endtime="20230418 15:24:33.637"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:33.640" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:33.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:33.642" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:24:33.638" endtime="20230418 15:24:33.642"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:33.643" level="INFO"/>
<status status="PASS" starttime="20230418 15:24:33.643" endtime="20230418 15:24:33.643"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:33.644" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:33.644" endtime="20230418 15:24:33.644"/>
</kw>
<status status="PASS" starttime="20230418 15:24:33.637" endtime="20230418 15:24:33.644"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:33.019" endtime="20230418 15:24:33.645"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:24:25.352" endtime="20230418 15:24:33.646"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:24:37.448" endtime="20230418 15:24:37.448"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:24:37.449" endtime="20230418 15:24:37.449"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:24:37.454" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:24:50.393" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:24:50.393" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<status status="PASS" starttime="20230418 15:24:37.450" endtime="20230418 15:24:50.393"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:24:50.394" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
OM : [om3], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
Waiting for 10 seconds before retrying...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230418 15:24:50.394" endtime="20230418 15:24:50.394"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:24:50.395" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:24:50.394" endtime="20230418 15:24:50.395"/>
</kw>
<status status="PASS" starttime="20230418 15:24:37.450" endtime="20230418 15:24:50.395"/>
</kw>
<msg timestamp="20230418 15:24:50.395" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:24:37.449" endtime="20230418 15:24:50.396"/>
</kw>
<msg timestamp="20230418 15:24:50.397" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<status status="PASS" starttime="20230418 15:24:37.449" endtime="20230418 15:24:50.397"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:24:50.397" endtime="20230418 15:24:50.398"/>
</kw>
<status status="PASS" starttime="20230418 15:24:50.397" endtime="20230418 15:24:50.398"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:24:37.447" endtime="20230418 15:24:50.398"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230418 15:24:37.403" endtime="20230418 15:24:50.399"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:23:45.868" endtime="20230418 15:23:45.869"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:23:45.874" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:23:45.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:23:45.876" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=836e24b2d3f4
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 15:23:45.870" endtime="20230418 15:23:45.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:45.877" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=836e24b2d3f4
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 15:23:45.876" endtime="20230418 15:23:45.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:23:45.878" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:23:45.877" endtime="20230418 15:23:45.878"/>
</kw>
<status status="PASS" starttime="20230418 15:23:45.869" endtime="20230418 15:23:45.878"/>
</kw>
<msg timestamp="20230418 15:23:45.878" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:23:45.869" endtime="20230418 15:23:45.879"/>
</kw>
<msg timestamp="20230418 15:23:45.880" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=836e24b2d3f4
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 15:23:45.869" endtime="20230418 15:23:45.880"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:45.880" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=836e24b2d3f4
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 15:23:45.880" endtime="20230418 15:23:45.880"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:23:45.880" endtime="20230418 15:23:45.880"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:23:45.884" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:23:48.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:23:48.642" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:23:45.882" endtime="20230418 15:23:48.642"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:48.643" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:23:48.642" endtime="20230418 15:23:48.643"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:23:48.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:23:48.643" endtime="20230418 15:23:48.644"/>
</kw>
<status status="PASS" starttime="20230418 15:23:45.881" endtime="20230418 15:23:48.644"/>
</kw>
<msg timestamp="20230418 15:23:48.644" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:23:45.881" endtime="20230418 15:23:48.644"/>
</kw>
<msg timestamp="20230418 15:23:48.644" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:23:45.881" endtime="20230418 15:23:48.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:48.645" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 15:23:48.645" endtime="20230418 15:23:48.645"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 15:23:48.645" endtime="20230418 15:23:48.645"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 15:23:45.867" endtime="20230418 15:23:48.646"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:23:48.649" endtime="20230418 15:23:48.649"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:23:48.649" endtime="20230418 15:23:48.649"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:23:48.653" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:23:51.200" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:23:51.200" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:23:48.651" endtime="20230418 15:23:51.200"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:51.202" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:23:51.201" endtime="20230418 15:23:51.202"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:23:51.203" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:23:51.202" endtime="20230418 15:23:51.203"/>
</kw>
<status status="PASS" starttime="20230418 15:23:48.650" endtime="20230418 15:23:51.203"/>
</kw>
<msg timestamp="20230418 15:23:51.203" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:23:48.650" endtime="20230418 15:23:51.204"/>
</kw>
<msg timestamp="20230418 15:23:51.204" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:23:48.649" endtime="20230418 15:23:51.204"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:23:51.204" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 15:23:51.204" endtime="20230418 15:23:51.204"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 15:23:51.205" endtime="20230418 15:23:51.205"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 15:23:48.647" endtime="20230418 15:23:51.205"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230418 15:23:45.820" endtime="20230418 15:23:51.206"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:22.821" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:27:22.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:22.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:22.816" endtime="20230418 15:27:22.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:22.824" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:22.823" endtime="20230418 15:27:22.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:22.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:22.824" endtime="20230418 15:27:22.825"/>
</kw>
<status status="PASS" starttime="20230418 15:27:22.816" endtime="20230418 15:27:22.825"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:22.829" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:32.092" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:32.092" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:22.827" endtime="20230418 15:27:32.092"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:32.093" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:32.093" endtime="20230418 15:27:32.094"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:32.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:32.094" endtime="20230418 15:27:32.094"/>
</kw>
<status status="PASS" starttime="20230418 15:27:22.826" endtime="20230418 15:27:32.094"/>
</kw>
<msg timestamp="20230418 15:27:32.095" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:22.826" endtime="20230418 15:27:32.096"/>
</kw>
<msg timestamp="20230418 15:27:32.096" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:22.825" endtime="20230418 15:27:32.096"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:32.096" endtime="20230418 15:27:32.097"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:32.099" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:32.102" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:32.103" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:32.097" endtime="20230418 15:27:32.103"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:32.104" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:32.103" endtime="20230418 15:27:32.104"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:32.104" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:32.104" endtime="20230418 15:27:32.104"/>
</kw>
<status status="PASS" starttime="20230418 15:27:32.097" endtime="20230418 15:27:32.105"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:22.815" endtime="20230418 15:27:32.105"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:32.110" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:27:32.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:32.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:32.108" endtime="20230418 15:27:32.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:32.113" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:32.112" endtime="20230418 15:27:32.113"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:32.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:32.114" endtime="20230418 15:27:32.114"/>
</kw>
<status status="PASS" starttime="20230418 15:27:32.107" endtime="20230418 15:27:32.114"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:32.118" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:39.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:39.221" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:32.116" endtime="20230418 15:27:39.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:39.223" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:39.222" endtime="20230418 15:27:39.223"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:39.224" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:39.223" endtime="20230418 15:27:39.224"/>
</kw>
<status status="PASS" starttime="20230418 15:27:32.115" endtime="20230418 15:27:39.224"/>
</kw>
<msg timestamp="20230418 15:27:39.224" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:32.115" endtime="20230418 15:27:39.225"/>
</kw>
<msg timestamp="20230418 15:27:39.225" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:32.115" endtime="20230418 15:27:39.225"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:39.225" endtime="20230418 15:27:39.226"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:39.229" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:39.232" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:39.232" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:39.226" endtime="20230418 15:27:39.232"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:39.234" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:39.233" endtime="20230418 15:27:39.234"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:39.235" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:39.234" endtime="20230418 15:27:39.235"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.226" endtime="20230418 15:27:39.235"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:32.106" endtime="20230418 15:27:39.236"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:39.243" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:39.810" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:39.810" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:39.241" endtime="20230418 15:27:39.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:39.812" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:39.811" endtime="20230418 15:27:39.812"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:39.813" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:39.812" endtime="20230418 15:27:39.813"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.240" endtime="20230418 15:27:39.813"/>
</kw>
<msg timestamp="20230418 15:27:39.813" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:39.240" endtime="20230418 15:27:39.814"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.240" endtime="20230418 15:27:39.815"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:39.819" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:40.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:40.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:39.816" endtime="20230418 15:27:40.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:40.434" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:40.434" endtime="20230418 15:27:40.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:40.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:40.435" endtime="20230418 15:27:40.435"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.816" endtime="20230418 15:27:40.436"/>
</kw>
<msg timestamp="20230418 15:27:40.436" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:39.815" endtime="20230418 15:27:40.436"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.815" endtime="20230418 15:27:40.438"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:40.442" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:41.023" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:41.023" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:40.440" endtime="20230418 15:27:41.023"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:41.024" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:41.023" endtime="20230418 15:27:41.024"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:41.025" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:41.025" endtime="20230418 15:27:41.025"/>
</kw>
<status status="PASS" starttime="20230418 15:27:40.439" endtime="20230418 15:27:41.025"/>
</kw>
<msg timestamp="20230418 15:27:41.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:40.439" endtime="20230418 15:27:41.026"/>
</kw>
<status status="PASS" starttime="20230418 15:27:40.438" endtime="20230418 15:27:41.028"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:41.032" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:41.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:41.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:41.029" endtime="20230418 15:27:41.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:41.655" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:41.654" endtime="20230418 15:27:41.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:41.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:41.655" endtime="20230418 15:27:41.656"/>
</kw>
<status status="PASS" starttime="20230418 15:27:41.029" endtime="20230418 15:27:41.656"/>
</kw>
<msg timestamp="20230418 15:27:41.656" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:41.028" endtime="20230418 15:27:41.657"/>
</kw>
<status status="PASS" starttime="20230418 15:27:41.028" endtime="20230418 15:27:41.657"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.239" endtime="20230418 15:27:41.657"/>
</kw>
<status status="PASS" starttime="20230418 15:27:39.239" endtime="20230418 15:27:41.657"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:39.237" endtime="20230418 15:27:41.658"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:41.664" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:42.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:42.615" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:27:41.662" endtime="20230418 15:27:42.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:42.618" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:27:42.617" endtime="20230418 15:27:42.618"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:42.618" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:42.618" endtime="20230418 15:27:42.618"/>
</kw>
<status status="PASS" starttime="20230418 15:27:41.662" endtime="20230418 15:27:42.619"/>
</kw>
<msg timestamp="20230418 15:27:42.619" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:41.661" endtime="20230418 15:27:42.620"/>
</kw>
<msg timestamp="20230418 15:27:42.620" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:27:41.661" endtime="20230418 15:27:42.620"/>
</kw>
<msg timestamp="20230418 15:27:42.621" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:27:41.660" endtime="20230418 15:27:42.621"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:42.621" endtime="20230418 15:27:42.621"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:42.621" endtime="20230418 15:27:42.622"/>
</kw>
<msg timestamp="20230418 15:27:42.622" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 15:27:41.660" endtime="20230418 15:27:42.622"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 15:27:42.622" endtime="20230418 15:27:42.623"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:41.659" endtime="20230418 15:27:42.623"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:42.630" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:27:42.633" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:42.633" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:42.628" endtime="20230418 15:27:42.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:42.634" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:42.633" endtime="20230418 15:27:42.634"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:42.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:42.634" endtime="20230418 15:27:42.635"/>
</kw>
<status status="PASS" starttime="20230418 15:27:42.627" endtime="20230418 15:27:42.635"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:42.640" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:43.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:43.956" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:42.637" endtime="20230418 15:27:43.956"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:43.958" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:43.957" endtime="20230418 15:27:43.958"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:43.959" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:43.958" endtime="20230418 15:27:43.959"/>
</kw>
<msg timestamp="20230418 15:27:43.959" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:42.636" endtime="20230418 15:27:43.960"/>
</kw>
<msg timestamp="20230418 15:27:43.960" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:42.636" endtime="20230418 15:27:43.960"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:43.960" endtime="20230418 15:27:43.961"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:43.965" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:43.968" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:43.968" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:43.962" endtime="20230418 15:27:43.968"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:43.970" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:43.969" endtime="20230418 15:27:43.970"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:43.971" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:43.970" endtime="20230418 15:27:43.971"/>
</kw>
<status status="PASS" starttime="20230418 15:27:43.961" endtime="20230418 15:27:43.972"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:42.625" endtime="20230418 15:27:43.972"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 15:27:22.729" endtime="20230418 15:27:43.976"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:48.168" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:51.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:51.675" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:48.163" endtime="20230418 15:27:51.675"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:51.676" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:51.675" endtime="20230418 15:27:51.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:51.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:51.676" endtime="20230418 15:27:51.677"/>
</kw>
<status status="PASS" starttime="20230418 15:27:48.162" endtime="20230418 15:27:51.677"/>
</kw>
<msg timestamp="20230418 15:27:51.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:48.162" endtime="20230418 15:27:51.679"/>
</kw>
<msg timestamp="20230418 15:27:51.679" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:48.161" endtime="20230418 15:27:51.679"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:51.679" endtime="20230418 15:27:51.680"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:51.685" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:55.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:55.248" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:51.682" endtime="20230418 15:27:55.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:55.249" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:55.249" endtime="20230418 15:27:55.250"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:55.250" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:55.250" endtime="20230418 15:27:55.250"/>
</kw>
<status status="PASS" starttime="20230418 15:27:51.681" endtime="20230418 15:27:55.251"/>
</kw>
<msg timestamp="20230418 15:27:55.251" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:51.681" endtime="20230418 15:27:55.251"/>
</kw>
<msg timestamp="20230418 15:27:55.252" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:51.680" endtime="20230418 15:27:55.252"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:55.252" endtime="20230418 15:27:55.252"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:48.160" endtime="20230418 15:27:55.252"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:55.258" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:27:55.259" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:55.260" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:55.255" endtime="20230418 15:27:55.260"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:55.261" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:55.261" endtime="20230418 15:27:55.261"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:55.262" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:55.262" endtime="20230418 15:27:55.262"/>
</kw>
<status status="PASS" starttime="20230418 15:27:55.254" endtime="20230418 15:27:55.263"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:55.267" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:01.621" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:01.621" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:55.265" endtime="20230418 15:28:01.621"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:01.623" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:01.622" endtime="20230418 15:28:01.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:01.623" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:01.623" endtime="20230418 15:28:01.623"/>
</kw>
<status status="PASS" starttime="20230418 15:27:55.264" endtime="20230418 15:28:01.624"/>
</kw>
<msg timestamp="20230418 15:28:01.624" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:55.264" endtime="20230418 15:28:01.624"/>
</kw>
<msg timestamp="20230418 15:28:01.625" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:55.263" endtime="20230418 15:28:01.625"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:01.625" endtime="20230418 15:28:01.626"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:01.629" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:01.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:01.632" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:01.626" endtime="20230418 15:28:01.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:01.633" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:01.633" endtime="20230418 15:28:01.634"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:01.634" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:01.634" endtime="20230418 15:28:01.635"/>
</kw>
<status status="PASS" starttime="20230418 15:28:01.626" endtime="20230418 15:28:01.635"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:55.253" endtime="20230418 15:28:01.636"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:01.642" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:05.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:05.812" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:01.639" endtime="20230418 15:28:05.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:05.813" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:05.812" endtime="20230418 15:28:05.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:05.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:05.813" endtime="20230418 15:28:05.814"/>
</kw>
<status status="PASS" starttime="20230418 15:28:01.639" endtime="20230418 15:28:05.814"/>
</kw>
<msg timestamp="20230418 15:28:05.814" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:01.638" endtime="20230418 15:28:05.815"/>
</kw>
<msg timestamp="20230418 15:28:05.815" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:01.638" endtime="20230418 15:28:05.815"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:05.815" endtime="20230418 15:28:05.816"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:01.637" endtime="20230418 15:28:05.816"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:05.821" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:28:05.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:05.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:05.819" endtime="20230418 15:28:05.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:05.825" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:05.824" endtime="20230418 15:28:05.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:05.826" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:05.825" endtime="20230418 15:28:05.826"/>
</kw>
<status status="PASS" starttime="20230418 15:28:05.818" endtime="20230418 15:28:05.826"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:05.831" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:12.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:12.239" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:05.829" endtime="20230418 15:28:12.239"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:12.240" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:12.239" endtime="20230418 15:28:12.240"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:12.241" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:12.241" endtime="20230418 15:28:12.241"/>
</kw>
<status status="PASS" starttime="20230418 15:28:05.827" endtime="20230418 15:28:12.242"/>
</kw>
<msg timestamp="20230418 15:28:12.242" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:05.827" endtime="20230418 15:28:12.242"/>
</kw>
<msg timestamp="20230418 15:28:12.243" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:05.826" endtime="20230418 15:28:12.243"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:12.243" endtime="20230418 15:28:12.243"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:12.247" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:12.250" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:12.250" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:12.244" endtime="20230418 15:28:12.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:12.252" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:12.251" endtime="20230418 15:28:12.252"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:12.253" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:12.252" endtime="20230418 15:28:12.253"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.244" endtime="20230418 15:28:12.253"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:05.817" endtime="20230418 15:28:12.254"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:12.261" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:12.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:12.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:12.258" endtime="20230418 15:28:12.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:12.814" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:12.813" endtime="20230418 15:28:12.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:12.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:12.814" endtime="20230418 15:28:12.815"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.258" endtime="20230418 15:28:12.815"/>
</kw>
<msg timestamp="20230418 15:28:12.815" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:12.257" endtime="20230418 15:28:12.816"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.257" endtime="20230418 15:28:12.816"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:12.819" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:13.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:13.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:12.817" endtime="20230418 15:28:13.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:13.410" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:13.409" endtime="20230418 15:28:13.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:13.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:13.410" endtime="20230418 15:28:13.411"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.817" endtime="20230418 15:28:13.411"/>
</kw>
<msg timestamp="20230418 15:28:13.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:12.816" endtime="20230418 15:28:13.412"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.816" endtime="20230418 15:28:13.412"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:13.416" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:13.953" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:13.953" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:13.414" endtime="20230418 15:28:13.953"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:13.954" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:13.954" endtime="20230418 15:28:13.954"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:13.955" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:13.955" endtime="20230418 15:28:13.955"/>
</kw>
<status status="PASS" starttime="20230418 15:28:13.413" endtime="20230418 15:28:13.955"/>
</kw>
<msg timestamp="20230418 15:28:13.955" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:13.413" endtime="20230418 15:28:13.956"/>
</kw>
<status status="PASS" starttime="20230418 15:28:13.412" endtime="20230418 15:28:13.956"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:13.960" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:14.516" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:14.517" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:13.958" endtime="20230418 15:28:14.517"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:14.518" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:14.517" endtime="20230418 15:28:14.518"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:14.519" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:14.518" endtime="20230418 15:28:14.519"/>
</kw>
<status status="PASS" starttime="20230418 15:28:13.957" endtime="20230418 15:28:14.519"/>
</kw>
<msg timestamp="20230418 15:28:14.519" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:13.957" endtime="20230418 15:28:14.520"/>
</kw>
<status status="PASS" starttime="20230418 15:28:13.956" endtime="20230418 15:28:14.520"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.256" endtime="20230418 15:28:14.520"/>
</kw>
<status status="PASS" starttime="20230418 15:28:12.256" endtime="20230418 15:28:14.520"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:12.255" endtime="20230418 15:28:14.521"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:14.527" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:15.275" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:15.275" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:28:14.525" endtime="20230418 15:28:15.275"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:15.277" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:28:15.276" endtime="20230418 15:28:15.277"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:15.277" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:15.277" endtime="20230418 15:28:15.278"/>
</kw>
<status status="PASS" starttime="20230418 15:28:14.524" endtime="20230418 15:28:15.278"/>
</kw>
<msg timestamp="20230418 15:28:15.278" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:14.524" endtime="20230418 15:28:15.279"/>
</kw>
<msg timestamp="20230418 15:28:15.279" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:28:14.524" endtime="20230418 15:28:15.279"/>
</kw>
<msg timestamp="20230418 15:28:15.280" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 15:28:14.523" endtime="20230418 15:28:15.280"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:15.280" endtime="20230418 15:28:15.280"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:15.281" endtime="20230418 15:28:15.281"/>
</kw>
<msg timestamp="20230418 15:28:15.281" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 15:28:14.523" endtime="20230418 15:28:15.281"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 15:28:15.282" endtime="20230418 15:28:15.282"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:14.522" endtime="20230418 15:28:15.282"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:15.289" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 15:28:15.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:15.292" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:15.286" endtime="20230418 15:28:15.292"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:15.293" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:15.292" endtime="20230418 15:28:15.293"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:15.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:15.293" endtime="20230418 15:28:15.294"/>
</kw>
<status status="PASS" starttime="20230418 15:28:15.285" endtime="20230418 15:28:15.294"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:15.298" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:16.281" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:16.281" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:15.296" endtime="20230418 15:28:16.281"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:16.283" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:16.282" endtime="20230418 15:28:16.283"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:16.283" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:16.283" endtime="20230418 15:28:16.284"/>
</kw>
<msg timestamp="20230418 15:28:16.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:15.295" endtime="20230418 15:28:16.284"/>
</kw>
<msg timestamp="20230418 15:28:16.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:15.294" endtime="20230418 15:28:16.284"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:16.285" endtime="20230418 15:28:16.285"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:16.288" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:16.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:16.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:16.286" endtime="20230418 15:28:16.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:16.292" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:16.292" endtime="20230418 15:28:16.293"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:16.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:16.293" endtime="20230418 15:28:16.293"/>
</kw>
<status status="PASS" starttime="20230418 15:28:16.285" endtime="20230418 15:28:16.294"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:15.284" endtime="20230418 15:28:16.294"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 15:27:48.046" endtime="20230418 15:28:16.296"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:28:20.305" level="INFO">${random} = 20646</msg>
<status status="PASS" starttime="20230418 15:28:20.305" endtime="20230418 15:28:20.305"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:20.311" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-20646 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:26.045" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:26.045" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:20.307" endtime="20230418 15:28:26.045"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:26.047" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:26.046" endtime="20230418 15:28:26.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:26.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:26.047" endtime="20230418 15:28:26.048"/>
</kw>
<status status="PASS" starttime="20230418 15:28:20.307" endtime="20230418 15:28:26.048"/>
</kw>
<msg timestamp="20230418 15:28:26.048" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:20.306" endtime="20230418 15:28:26.049"/>
</kw>
<msg timestamp="20230418 15:28:26.050" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:20.305" endtime="20230418 15:28:26.050"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:26.050" endtime="20230418 15:28:26.051"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:26.054" level="INFO">Running command 'cat /tmp/key-20646 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:26.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:26.057" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:26.051" endtime="20230418 15:28:26.057"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:26.058" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:26.057" endtime="20230418 15:28:26.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:26.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:26.058" endtime="20230418 15:28:26.059"/>
</kw>
<msg timestamp="20230418 15:28:26.059" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:26.051" endtime="20230418 15:28:26.059"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:26.059" endtime="20230418 15:28:26.060"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:26.064" level="INFO">Running command 'rm /tmp/key-20646 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:26.066" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:26.066" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:26.061" endtime="20230418 15:28:26.066"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:26.068" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:26.067" endtime="20230418 15:28:26.068"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:26.068" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:26.068" endtime="20230418 15:28:26.068"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.060" endtime="20230418 15:28:26.069"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:20.304" endtime="20230418 15:28:26.069"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:26.076" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:26.675" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:26.675" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:26.074" endtime="20230418 15:28:26.675"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:26.676" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:26.675" endtime="20230418 15:28:26.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:26.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:26.676" endtime="20230418 15:28:26.677"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.073" endtime="20230418 15:28:26.677"/>
</kw>
<msg timestamp="20230418 15:28:26.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:26.073" endtime="20230418 15:28:26.678"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.072" endtime="20230418 15:28:26.678"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:26.682" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:27.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:27.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:26.680" endtime="20230418 15:28:27.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:27.207" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:27.206" endtime="20230418 15:28:27.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:27.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:27.207" endtime="20230418 15:28:27.208"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.679" endtime="20230418 15:28:27.208"/>
</kw>
<msg timestamp="20230418 15:28:27.208" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:26.679" endtime="20230418 15:28:27.209"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.678" endtime="20230418 15:28:27.209"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:27.213" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:27.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:27.739" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:27.211" endtime="20230418 15:28:27.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:27.740" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:27.739" endtime="20230418 15:28:27.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:27.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:27.740" endtime="20230418 15:28:27.741"/>
</kw>
<status status="PASS" starttime="20230418 15:28:27.210" endtime="20230418 15:28:27.741"/>
</kw>
<msg timestamp="20230418 15:28:27.741" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:27.210" endtime="20230418 15:28:27.742"/>
</kw>
<status status="PASS" starttime="20230418 15:28:27.209" endtime="20230418 15:28:27.742"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:27.747" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:28.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:28.280" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:27.744" endtime="20230418 15:28:28.280"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:28.281" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:28.280" endtime="20230418 15:28:28.281"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:28.282" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:28.281" endtime="20230418 15:28:28.282"/>
</kw>
<status status="PASS" starttime="20230418 15:28:27.743" endtime="20230418 15:28:28.282"/>
</kw>
<msg timestamp="20230418 15:28:28.282" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:27.743" endtime="20230418 15:28:28.283"/>
</kw>
<status status="PASS" starttime="20230418 15:28:27.742" endtime="20230418 15:28:28.283"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.072" endtime="20230418 15:28:28.283"/>
</kw>
<status status="PASS" starttime="20230418 15:28:26.071" endtime="20230418 15:28:28.283"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:26.070" endtime="20230418 15:28:28.283"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:28.290" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.049" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:28.287" endtime="20230418 15:28:29.049"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.050" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:28:28 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:28:29.050" endtime="20230418 15:28:29.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.051" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.051" endtime="20230418 15:28:29.051"/>
</kw>
<msg timestamp="20230418 15:28:29.052" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:28.286" endtime="20230418 15:28:29.052"/>
</kw>
<msg timestamp="20230418 15:28:29.052" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:11 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:28.286" endtime="20230418 15:28:29.052"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:29.052" endtime="20230418 15:28:29.052"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:29.055" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.058" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:29.053" endtime="20230418 15:28:29.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.059" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:29.059" endtime="20230418 15:28:29.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.060" endtime="20230418 15:28:29.060"/>
</kw>
<msg timestamp="20230418 15:28:29.060" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:28:29.052" endtime="20230418 15:28:29.060"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:29.061" endtime="20230418 15:28:29.061"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:29.065" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.066" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.066" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:29.062" endtime="20230418 15:28:29.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.067" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:29.067" endtime="20230418 15:28:29.068"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.068" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.068" endtime="20230418 15:28:29.068"/>
</kw>
<status status="PASS" starttime="20230418 15:28:29.061" endtime="20230418 15:28:29.069"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:28.285" endtime="20230418 15:28:29.069"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:29.074" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.710" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:29.072" endtime="20230418 15:28:29.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.712" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:28:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:28:29.711" endtime="20230418 15:28:29.712"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.712" endtime="20230418 15:28:29.713"/>
</kw>
<msg timestamp="20230418 15:28:29.714" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:29.071" endtime="20230418 15:28:29.714"/>
</kw>
<msg timestamp="20230418 15:28:29.714" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:28:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:28:29.070" endtime="20230418 15:28:29.714"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:29.714" endtime="20230418 15:28:29.715"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:29.718" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.722" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:28:29.716" endtime="20230418 15:28:29.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.723" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:28:29.722" endtime="20230418 15:28:29.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.723" endtime="20230418 15:28:29.724"/>
</kw>
<msg timestamp="20230418 15:28:29.724" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:28:29.715" endtime="20230418 15:28:29.724"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:29.724" endtime="20230418 15:28:29.725"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:29.728" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:29.732" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:29.732" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:28:29.725" endtime="20230418 15:28:29.732"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:29.734" level="INFO"/>
<status status="PASS" starttime="20230418 15:28:29.733" endtime="20230418 15:28:29.734"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:29.735" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:29.734" endtime="20230418 15:28:29.735"/>
</kw>
<status status="PASS" starttime="20230418 15:28:29.725" endtime="20230418 15:28:29.736"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:29.070" endtime="20230418 15:28:29.736"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:28:20.226" endtime="20230418 15:28:29.739"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 15:28:33.893" endtime="20230418 15:28:33.894"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 15:28:33.894" endtime="20230418 15:28:33.894"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:28:33.900" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:28:42.838" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:28:42.838" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 15:28:33.895" endtime="20230418 15:28:42.838"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:28:42.840" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230418 15:28:42.839" endtime="20230418 15:28:42.840"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:28:42.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:28:42.840" endtime="20230418 15:28:42.840"/>
</kw>
<status status="PASS" starttime="20230418 15:28:33.895" endtime="20230418 15:28:42.841"/>
</kw>
<msg timestamp="20230418 15:28:42.841" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:28:33.895" endtime="20230418 15:28:42.842"/>
</kw>
<msg timestamp="20230418 15:28:42.843" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 15:28:33.894" endtime="20230418 15:28:42.843"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:28:42.843" endtime="20230418 15:28:42.844"/>
</kw>
<status status="PASS" starttime="20230418 15:28:42.843" endtime="20230418 15:28:42.844"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:28:33.892" endtime="20230418 15:28:42.844"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230418 15:28:33.841" endtime="20230418 15:28:42.845"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 15:27:04.899" level="INFO">${random} = 65061</msg>
<status status="PASS" starttime="20230418 15:27:04.898" endtime="20230418 15:27:04.899"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:04.907" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-65061 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:11.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:11.836" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:04.901" endtime="20230418 15:27:11.836"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:11.837" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:11.836" endtime="20230418 15:27:11.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:11.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:11.837" endtime="20230418 15:27:11.838"/>
</kw>
<status status="PASS" starttime="20230418 15:27:04.901" endtime="20230418 15:27:11.839"/>
</kw>
<msg timestamp="20230418 15:27:11.839" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:04.900" endtime="20230418 15:27:11.841"/>
</kw>
<msg timestamp="20230418 15:27:11.841" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:04.899" endtime="20230418 15:27:11.841"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:11.841" endtime="20230418 15:27:11.842"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:11.845" level="INFO">Running command 'cat /tmp/key-65061 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:11.848" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:11.848" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:11.843" endtime="20230418 15:27:11.848"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:11.850" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:11.849" endtime="20230418 15:27:11.850"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:11.851" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:11.850" endtime="20230418 15:27:11.851"/>
</kw>
<msg timestamp="20230418 15:27:11.851" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:11.842" endtime="20230418 15:27:11.851"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:11.851" endtime="20230418 15:27:11.852"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:11.856" level="INFO">Running command 'rm /tmp/key-65061 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:11.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:11.859" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:11.853" endtime="20230418 15:27:11.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:11.863" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:11.862" endtime="20230418 15:27:11.863"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:11.863" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:11.863" endtime="20230418 15:27:11.863"/>
</kw>
<status status="PASS" starttime="20230418 15:27:11.852" endtime="20230418 15:27:11.864"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:04.897" endtime="20230418 15:27:11.864"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:11.870" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:12.602" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:12.602" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:11.868" endtime="20230418 15:27:12.602"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:12.603" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:12.603" endtime="20230418 15:27:12.603"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:12.604" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:12.604" endtime="20230418 15:27:12.605"/>
</kw>
<status status="PASS" starttime="20230418 15:27:11.868" endtime="20230418 15:27:12.605"/>
</kw>
<msg timestamp="20230418 15:27:12.605" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:11.867" endtime="20230418 15:27:12.606"/>
</kw>
<status status="PASS" starttime="20230418 15:27:11.867" endtime="20230418 15:27:12.606"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:12.610" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:13.169" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:13.169" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:12.607" endtime="20230418 15:27:13.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:13.170" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:13.169" endtime="20230418 15:27:13.170"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:13.171" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:13.170" endtime="20230418 15:27:13.171"/>
</kw>
<status status="PASS" starttime="20230418 15:27:12.607" endtime="20230418 15:27:13.171"/>
</kw>
<msg timestamp="20230418 15:27:13.171" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:12.607" endtime="20230418 15:27:13.172"/>
</kw>
<status status="PASS" starttime="20230418 15:27:12.606" endtime="20230418 15:27:13.172"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:13.176" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:13.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:13.859" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:13.174" endtime="20230418 15:27:13.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:13.860" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:13.860" endtime="20230418 15:27:13.860"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:13.861" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:13.861" endtime="20230418 15:27:13.861"/>
</kw>
<status status="PASS" starttime="20230418 15:27:13.173" endtime="20230418 15:27:13.862"/>
</kw>
<msg timestamp="20230418 15:27:13.862" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:13.173" endtime="20230418 15:27:13.862"/>
</kw>
<status status="PASS" starttime="20230418 15:27:13.172" endtime="20230418 15:27:13.863"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:13.870" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:14.432" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:14.432" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:13.864" endtime="20230418 15:27:14.432"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:14.433" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:14.433" endtime="20230418 15:27:14.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:14.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:14.434" endtime="20230418 15:27:14.435"/>
</kw>
<status status="PASS" starttime="20230418 15:27:13.863" endtime="20230418 15:27:14.435"/>
</kw>
<msg timestamp="20230418 15:27:14.435" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 15:27:13.863" endtime="20230418 15:27:14.436"/>
</kw>
<status status="PASS" starttime="20230418 15:27:13.863" endtime="20230418 15:27:14.436"/>
</kw>
<status status="PASS" starttime="20230418 15:27:11.866" endtime="20230418 15:27:14.436"/>
</kw>
<status status="PASS" starttime="20230418 15:27:11.866" endtime="20230418 15:27:14.436"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:11.865" endtime="20230418 15:27:14.437"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:14.443" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:17.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:17.946" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:14.440" endtime="20230418 15:27:17.946"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:17.947" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:27:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:27:17.946" endtime="20230418 15:27:17.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:17.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:17.947" endtime="20230418 15:27:17.948"/>
</kw>
<msg timestamp="20230418 15:27:17.949" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:14.440" endtime="20230418 15:27:17.949"/>
</kw>
<msg timestamp="20230418 15:27:17.949" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:15 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:14.439" endtime="20230418 15:27:17.949"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:17.949" endtime="20230418 15:27:17.950"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:17.953" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:17.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:17.955" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:17.950" endtime="20230418 15:27:17.955"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:17.957" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:17.956" endtime="20230418 15:27:17.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:17.957" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:17.957" endtime="20230418 15:27:17.957"/>
</kw>
<msg timestamp="20230418 15:27:17.958" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 15:27:17.950" endtime="20230418 15:27:17.958"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:17.958" endtime="20230418 15:27:17.959"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:17.962" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:17.965" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:17.965" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:17.960" endtime="20230418 15:27:17.966"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:17.967" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:17.966" endtime="20230418 15:27:17.967"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:17.967" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:17.967" endtime="20230418 15:27:17.968"/>
</kw>
<status status="PASS" starttime="20230418 15:27:17.959" endtime="20230418 15:27:17.968"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:14.438" endtime="20230418 15:27:17.968"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:17.975" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:18.711" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:18.711" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:17.973" endtime="20230418 15:27:18.711"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:18.712" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 15:27:18 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 15:27:18.711" endtime="20230418 15:27:18.712"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:18.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:18.712" endtime="20230418 15:27:18.713"/>
</kw>
<msg timestamp="20230418 15:27:18.713" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:17.972" endtime="20230418 15:27:18.713"/>
</kw>
<msg timestamp="20230418 15:27:18.713" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 15:24:21 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 15:27:17.971" endtime="20230418 15:27:18.713"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:18.714" endtime="20230418 15:27:18.714"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:18.718" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:18.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:18.719" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:27:18.715" endtime="20230418 15:27:18.720"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:18.721" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:27:18.720" endtime="20230418 15:27:18.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:18.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:18.721" endtime="20230418 15:27:18.722"/>
</kw>
<msg timestamp="20230418 15:27:18.722" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 15:27:18.714" endtime="20230418 15:27:18.722"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 15:27:18.722" endtime="20230418 15:27:18.723"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 15:27:18.726" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 15:27:18.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 15:27:18.729" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 15:27:18.724" endtime="20230418 15:27:18.729"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 15:27:18.730" level="INFO"/>
<status status="PASS" starttime="20230418 15:27:18.729" endtime="20230418 15:27:18.730"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 15:27:18.731" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 15:27:18.730" endtime="20230418 15:27:18.731"/>
</kw>
<status status="PASS" starttime="20230418 15:27:18.723" endtime="20230418 15:27:18.731"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 15:27:17.970" endtime="20230418 15:27:18.732"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 15:27:04.802" endtime="20230418 15:27:18.733"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="501104"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
