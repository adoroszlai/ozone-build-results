<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230418 11:10:59.401" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 11:04:01.008" level="INFO">${random} = 75155</msg>
<status status="PASS" starttime="20230418 11:04:01.008" endtime="20230418 11:04:01.008"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:01.015" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-75155 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:06.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:06.218" level="INFO">${output} = 2023-04-18 11:04:04,780 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:04,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:01.011" endtime="20230418 11:04:06.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:06.220" level="INFO">2023-04-18 11:04:04,780 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:04,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:04:04,874 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 11:04:06.219" endtime="20230418 11:04:06.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:06.221" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:06.220" endtime="20230418 11:04:06.221"/>
</kw>
<status status="PASS" starttime="20230418 11:04:01.010" endtime="20230418 11:04:06.221"/>
</kw>
<msg timestamp="20230418 11:04:06.221" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:01.009" endtime="20230418 11:04:06.231"/>
</kw>
<msg timestamp="20230418 11:04:06.231" level="INFO">${output} = 2023-04-18 11:04:04,780 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:04,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:01.009" endtime="20230418 11:04:06.231"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:06.231" endtime="20230418 11:04:06.232"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:06.240" level="INFO">Running command 'cat /tmp/key-75155 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:06.243" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:06.243" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:06.233" endtime="20230418 11:04:06.244"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:06.245" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:06.244" endtime="20230418 11:04:06.245"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:06.245" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:06.245" endtime="20230418 11:04:06.245"/>
</kw>
<msg timestamp="20230418 11:04:06.246" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:06.232" endtime="20230418 11:04:06.246"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:06.246" endtime="20230418 11:04:06.246"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:06.249" level="INFO">Running command 'rm /tmp/key-75155 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:06.252" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:06.252" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:06.247" endtime="20230418 11:04:06.252"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:06.253" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:06.252" endtime="20230418 11:04:06.253"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:06.254" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:06.253" endtime="20230418 11:04:06.254"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.246" endtime="20230418 11:04:06.254"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:01.007" endtime="20230418 11:04:06.255"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:06.262" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:06.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:06.799" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:06.260" endtime="20230418 11:04:06.799"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:06.801" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:06.800" endtime="20230418 11:04:06.801"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:06.802" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:06.801" endtime="20230418 11:04:06.802"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.259" endtime="20230418 11:04:06.802"/>
</kw>
<msg timestamp="20230418 11:04:06.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:06.259" endtime="20230418 11:04:06.803"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.258" endtime="20230418 11:04:06.803"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:06.807" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:07.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:07.339" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:06.804" endtime="20230418 11:04:07.339"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:07.341" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:07.340" endtime="20230418 11:04:07.341"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:07.341" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:07.341" endtime="20230418 11:04:07.342"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.804" endtime="20230418 11:04:07.342"/>
</kw>
<msg timestamp="20230418 11:04:07.342" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:06.803" endtime="20230418 11:04:07.342"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.803" endtime="20230418 11:04:07.343"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:07.347" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:07.883" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:07.883" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:07.344" endtime="20230418 11:04:07.883"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:07.886" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:07.883" endtime="20230418 11:04:07.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:07.887" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:07.887" endtime="20230418 11:04:07.887"/>
</kw>
<status status="PASS" starttime="20230418 11:04:07.344" endtime="20230418 11:04:07.888"/>
</kw>
<msg timestamp="20230418 11:04:07.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:07.343" endtime="20230418 11:04:07.888"/>
</kw>
<status status="PASS" starttime="20230418 11:04:07.343" endtime="20230418 11:04:07.888"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:07.893" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:08.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:08.442" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:07.890" endtime="20230418 11:04:08.442"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:08.443" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:08.443" endtime="20230418 11:04:08.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:08.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:08.444" endtime="20230418 11:04:08.444"/>
</kw>
<status status="PASS" starttime="20230418 11:04:07.889" endtime="20230418 11:04:08.445"/>
</kw>
<msg timestamp="20230418 11:04:08.445" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:07.889" endtime="20230418 11:04:08.445"/>
</kw>
<status status="PASS" starttime="20230418 11:04:07.889" endtime="20230418 11:04:08.445"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.258" endtime="20230418 11:04:08.445"/>
</kw>
<status status="PASS" starttime="20230418 11:04:06.257" endtime="20230418 11:04:08.446"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:06.256" endtime="20230418 11:04:08.446"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:08.452" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:11.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:11.566" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:08.449" endtime="20230418 11:04:11.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:11.568" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:04:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:04:11.566" endtime="20230418 11:04:11.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:11.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:11.568" endtime="20230418 11:04:11.569"/>
</kw>
<msg timestamp="20230418 11:04:11.569" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:08.448" endtime="20230418 11:04:11.569"/>
</kw>
<msg timestamp="20230418 11:04:11.569" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:18 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:08.448" endtime="20230418 11:04:11.569"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:11.570" endtime="20230418 11:04:11.570"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:11.574" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:11.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:11.577" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:11.571" endtime="20230418 11:04:11.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:11.578" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:11.578" endtime="20230418 11:04:11.578"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:11.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:11.579" endtime="20230418 11:04:11.579"/>
</kw>
<msg timestamp="20230418 11:04:11.579" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:11.570" endtime="20230418 11:04:11.580"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:11.580" endtime="20230418 11:04:11.580"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:11.584" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:11.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:11.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:11.581" endtime="20230418 11:04:11.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:11.589" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:11.588" endtime="20230418 11:04:11.589"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:11.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:11.589" endtime="20230418 11:04:11.589"/>
</kw>
<status status="PASS" starttime="20230418 11:04:11.580" endtime="20230418 11:04:11.590"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:08.447" endtime="20230418 11:04:11.590"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:11.596" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:12.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:12.309" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:11.593" endtime="20230418 11:04:12.309"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:12.311" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:04:12 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:04:12.310" endtime="20230418 11:04:12.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:12.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:12.311" endtime="20230418 11:04:12.312"/>
</kw>
<msg timestamp="20230418 11:04:12.312" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:11.592" endtime="20230418 11:04:12.312"/>
</kw>
<msg timestamp="20230418 11:04:12.313" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:24 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:11.591" endtime="20230418 11:04:12.313"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:12.314" endtime="20230418 11:04:12.314"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:12.319" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:12.321" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:12.321" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:12.315" endtime="20230418 11:04:12.321"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:12.323" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:12.322" endtime="20230418 11:04:12.323"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:12.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:12.323" endtime="20230418 11:04:12.324"/>
</kw>
<msg timestamp="20230418 11:04:12.324" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:12.314" endtime="20230418 11:04:12.324"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:12.324" endtime="20230418 11:04:12.325"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:12.328" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:12.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:12.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:12.326" endtime="20230418 11:04:12.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:12.331" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:12.331" endtime="20230418 11:04:12.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:12.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:12.332" endtime="20230418 11:04:12.332"/>
</kw>
<status status="PASS" starttime="20230418 11:04:12.325" endtime="20230418 11:04:12.333"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:11.591" endtime="20230418 11:04:12.333"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 11:04:00.928" endtime="20230418 11:04:12.335"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 11:04:16.647" level="INFO">${random} = 55256</msg>
<status status="PASS" starttime="20230418 11:04:16.647" endtime="20230418 11:04:16.648"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:16.655" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-55256 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:21.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:21.171" level="INFO">${output} = 2023-04-18 11:04:19,879 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:19,964 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:16.650" endtime="20230418 11:04:21.171"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:21.173" level="INFO">2023-04-18 11:04:19,879 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:19,964 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:04:19,964 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 11:04:21.171" endtime="20230418 11:04:21.173"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:21.174" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:21.173" endtime="20230418 11:04:21.174"/>
</kw>
<status status="PASS" starttime="20230418 11:04:16.649" endtime="20230418 11:04:21.174"/>
</kw>
<msg timestamp="20230418 11:04:21.174" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:16.648" endtime="20230418 11:04:21.176"/>
</kw>
<msg timestamp="20230418 11:04:21.176" level="INFO">${output} = 2023-04-18 11:04:19,879 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:19,964 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:16.648" endtime="20230418 11:04:21.176"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:21.177" endtime="20230418 11:04:21.177"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:21.180" level="INFO">Running command 'cat /tmp/key-55256 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:21.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:21.183" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:21.178" endtime="20230418 11:04:21.183"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:21.184" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:21.183" endtime="20230418 11:04:21.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:21.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:21.185" endtime="20230418 11:04:21.185"/>
</kw>
<msg timestamp="20230418 11:04:21.186" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:21.177" endtime="20230418 11:04:21.186"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:21.186" endtime="20230418 11:04:21.186"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:21.190" level="INFO">Running command 'rm /tmp/key-55256 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:21.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:21.194" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:21.187" endtime="20230418 11:04:21.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:21.195" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:21.195" endtime="20230418 11:04:21.195"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:21.196" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:21.196" endtime="20230418 11:04:21.196"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.187" endtime="20230418 11:04:21.197"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:16.646" endtime="20230418 11:04:21.197"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:21.205" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:21.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:21.739" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:21.202" endtime="20230418 11:04:21.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:21.741" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:21.740" endtime="20230418 11:04:21.741"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:21.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:21.741" endtime="20230418 11:04:21.742"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.202" endtime="20230418 11:04:21.742"/>
</kw>
<msg timestamp="20230418 11:04:21.742" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:21.201" endtime="20230418 11:04:21.742"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.200" endtime="20230418 11:04:21.743"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:21.747" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:22.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:22.269" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:21.744" endtime="20230418 11:04:22.269"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:22.270" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:22.270" endtime="20230418 11:04:22.270"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:22.271" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:22.271" endtime="20230418 11:04:22.271"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.744" endtime="20230418 11:04:22.271"/>
</kw>
<msg timestamp="20230418 11:04:22.271" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:21.743" endtime="20230418 11:04:22.272"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.743" endtime="20230418 11:04:22.272"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:22.278" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:22.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:22.797" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:22.274" endtime="20230418 11:04:22.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:22.798" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:22.797" endtime="20230418 11:04:22.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:22.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:22.798" endtime="20230418 11:04:22.799"/>
</kw>
<status status="PASS" starttime="20230418 11:04:22.273" endtime="20230418 11:04:22.799"/>
</kw>
<msg timestamp="20230418 11:04:22.799" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:22.273" endtime="20230418 11:04:22.800"/>
</kw>
<status status="PASS" starttime="20230418 11:04:22.272" endtime="20230418 11:04:22.800"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:22.804" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:23.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:23.340" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:22.801" endtime="20230418 11:04:23.340"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:23.341" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:23.340" endtime="20230418 11:04:23.341"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:23.342" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:23.341" endtime="20230418 11:04:23.342"/>
</kw>
<status status="PASS" starttime="20230418 11:04:22.801" endtime="20230418 11:04:23.342"/>
</kw>
<msg timestamp="20230418 11:04:23.342" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:22.801" endtime="20230418 11:04:23.343"/>
</kw>
<status status="PASS" starttime="20230418 11:04:22.800" endtime="20230418 11:04:23.343"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.200" endtime="20230418 11:04:23.343"/>
</kw>
<status status="PASS" starttime="20230418 11:04:21.199" endtime="20230418 11:04:23.343"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:21.198" endtime="20230418 11:04:23.344"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:23.350" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.095" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:23.347" endtime="20230418 11:04:24.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.097" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:04:23 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:04:24.096" endtime="20230418 11:04:24.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.097" endtime="20230418 11:04:24.097"/>
</kw>
<msg timestamp="20230418 11:04:24.098" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:23.346" endtime="20230418 11:04:24.098"/>
</kw>
<msg timestamp="20230418 11:04:24.098" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:23.346" endtime="20230418 11:04:24.098"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:24.098" endtime="20230418 11:04:24.099"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:24.102" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.106" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:24.099" endtime="20230418 11:04:24.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.107" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:24.106" endtime="20230418 11:04:24.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.107" endtime="20230418 11:04:24.108"/>
</kw>
<msg timestamp="20230418 11:04:24.108" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:04:24.099" endtime="20230418 11:04:24.108"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:24.108" endtime="20230418 11:04:24.109"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:24.112" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.115" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.115" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:24.109" endtime="20230418 11:04:24.115"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.116" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:24.115" endtime="20230418 11:04:24.116"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.117" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.116" endtime="20230418 11:04:24.117"/>
</kw>
<status status="PASS" starttime="20230418 11:04:24.109" endtime="20230418 11:04:24.117"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:23.345" endtime="20230418 11:04:24.118"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:24.125" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.926" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.927" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:24.123" endtime="20230418 11:04:24.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.932" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:04:24 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:04:24.927" endtime="20230418 11:04:24.932"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.933" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.933" endtime="20230418 11:04:24.933"/>
</kw>
<msg timestamp="20230418 11:04:24.934" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:24.122" endtime="20230418 11:04:24.934"/>
</kw>
<msg timestamp="20230418 11:04:24.934" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:04:24.121" endtime="20230418 11:04:24.934"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:24.934" endtime="20230418 11:04:24.935"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:24.941" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.948" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:24.937" endtime="20230418 11:04:24.948"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.950" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:24.949" endtime="20230418 11:04:24.950"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.950" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.950" endtime="20230418 11:04:24.950"/>
</kw>
<msg timestamp="20230418 11:04:24.951" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:04:24.935" endtime="20230418 11:04:24.951"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:24.951" endtime="20230418 11:04:24.951"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:24.966" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:24.969" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:24.969" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:24.962" endtime="20230418 11:04:24.969"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:24.970" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:24.969" endtime="20230418 11:04:24.970"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:24.971" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:24.970" endtime="20230418 11:04:24.971"/>
</kw>
<status status="PASS" starttime="20230418 11:04:24.952" endtime="20230418 11:04:24.971"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:24.120" endtime="20230418 11:04:24.971"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 11:04:16.569" endtime="20230418 11:04:24.974"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:29.659" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:32.507" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:32.507" level="INFO">${output} = 2023-04-18 11:04:32,395 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 11:04:29.654" endtime="20230418 11:04:32.507"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:32.508" level="INFO">2023-04-18 11:04:32,395 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 11:04:32.507" endtime="20230418 11:04:32.508"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:32.509" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:32.509" endtime="20230418 11:04:32.509"/>
</kw>
<status status="PASS" starttime="20230418 11:04:29.654" endtime="20230418 11:04:32.509"/>
</kw>
<msg timestamp="20230418 11:04:32.510" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:29.654" endtime="20230418 11:04:32.511"/>
</kw>
<msg timestamp="20230418 11:04:32.511" level="INFO">${output} = 2023-04-18 11:04:32,395 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 11:04:29.653" endtime="20230418 11:04:32.511"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:32.511" endtime="20230418 11:04:32.512"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:32.517" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:35.448" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:35.448" level="INFO">${output} = 2023-04-18 11:04:35,385 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 11:04:32.513" endtime="20230418 11:04:35.448"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:35.450" level="INFO">2023-04-18 11:04:35,385 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 11:04:35.449" endtime="20230418 11:04:35.450"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:35.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:35.450" endtime="20230418 11:04:35.451"/>
</kw>
<status status="PASS" starttime="20230418 11:04:32.513" endtime="20230418 11:04:35.454"/>
</kw>
<msg timestamp="20230418 11:04:35.455" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:32.512" endtime="20230418 11:04:35.455"/>
</kw>
<msg timestamp="20230418 11:04:35.455" level="INFO">${output} = 2023-04-18 11:04:35,385 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 11:04:32.512" endtime="20230418 11:04:35.455"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:35.456" endtime="20230418 11:04:35.456"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:29.652" endtime="20230418 11:04:35.457"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:35.465" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:04:35.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:35.467" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:35.462" endtime="20230418 11:04:35.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:35.468" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:35.468" endtime="20230418 11:04:35.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:35.470" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:35.469" endtime="20230418 11:04:35.470"/>
</kw>
<status status="PASS" starttime="20230418 11:04:35.461" endtime="20230418 11:04:35.470"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:35.474" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:41.145" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:41.145" level="INFO">${output} = 2023-04-18 11:04:39,138 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:39,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:35.472" endtime="20230418 11:04:41.145"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:41.147" level="INFO">2023-04-18 11:04:39,138 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:39,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:04:39,270 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 11:04:39,559 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 11:04:41.146" endtime="20230418 11:04:41.147"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:41.148" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:41.147" endtime="20230418 11:04:41.148"/>
</kw>
<status status="PASS" starttime="20230418 11:04:35.471" endtime="20230418 11:04:41.148"/>
</kw>
<msg timestamp="20230418 11:04:41.148" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:35.471" endtime="20230418 11:04:41.149"/>
</kw>
<msg timestamp="20230418 11:04:41.149" level="INFO">${output} = 2023-04-18 11:04:39,138 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:39,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:35.470" endtime="20230418 11:04:41.149"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:41.149" endtime="20230418 11:04:41.149"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:41.154" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:41.155" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:41.155" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:41.150" endtime="20230418 11:04:41.155"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:41.156" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:41.156" endtime="20230418 11:04:41.156"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:41.157" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:41.157" endtime="20230418 11:04:41.157"/>
</kw>
<status status="PASS" starttime="20230418 11:04:41.150" endtime="20230418 11:04:41.158"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:35.460" endtime="20230418 11:04:41.158"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:41.163" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:43.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:43.956" level="INFO">${output} = 2023-04-18 11:04:43,897 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 11:04:41.161" endtime="20230418 11:04:43.956"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:43.957" level="INFO">2023-04-18 11:04:43,897 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 11:04:43.956" endtime="20230418 11:04:43.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:43.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:43.957" endtime="20230418 11:04:43.958"/>
</kw>
<status status="PASS" starttime="20230418 11:04:41.161" endtime="20230418 11:04:43.958"/>
</kw>
<msg timestamp="20230418 11:04:43.958" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:41.160" endtime="20230418 11:04:43.959"/>
</kw>
<msg timestamp="20230418 11:04:43.959" level="INFO">${output} = 2023-04-18 11:04:43,897 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 11:04:41.160" endtime="20230418 11:04:43.959"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:43.959" endtime="20230418 11:04:43.960"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:41.159" endtime="20230418 11:04:43.960"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:43.965" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:04:43.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:43.967" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:43.962" endtime="20230418 11:04:43.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:43.968" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:43.967" endtime="20230418 11:04:43.968"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:43.969" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:43.968" endtime="20230418 11:04:43.969"/>
</kw>
<status status="PASS" starttime="20230418 11:04:43.962" endtime="20230418 11:04:43.969"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:43.974" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:49.353" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:49.353" level="INFO">${output} = 2023-04-18 11:04:47,656 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:47,740 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:43.971" endtime="20230418 11:04:49.353"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:49.354" level="INFO">2023-04-18 11:04:47,656 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:47,740 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:04:47,740 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 11:04:48,032 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 11:04:49.354" endtime="20230418 11:04:49.354"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:49.355" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:49.355" endtime="20230418 11:04:49.355"/>
</kw>
<status status="PASS" starttime="20230418 11:04:43.970" endtime="20230418 11:04:49.355"/>
</kw>
<msg timestamp="20230418 11:04:49.356" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:43.970" endtime="20230418 11:04:49.356"/>
</kw>
<msg timestamp="20230418 11:04:49.356" level="INFO">${output} = 2023-04-18 11:04:47,656 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:04:47,740 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:43.969" endtime="20230418 11:04:49.356"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:49.356" endtime="20230418 11:04:49.357"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:49.360" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:49.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:49.363" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:49.357" endtime="20230418 11:04:49.363"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:49.365" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:49.364" endtime="20230418 11:04:49.365"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:49.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:49.365" endtime="20230418 11:04:49.366"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.357" endtime="20230418 11:04:49.366"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:43.961" endtime="20230418 11:04:49.366"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:49.379" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:49.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:49.881" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:49.374" endtime="20230418 11:04:49.881"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:49.882" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:49.881" endtime="20230418 11:04:49.882"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:49.883" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:49.882" endtime="20230418 11:04:49.883"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.372" endtime="20230418 11:04:49.883"/>
</kw>
<msg timestamp="20230418 11:04:49.883" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:49.372" endtime="20230418 11:04:49.884"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.372" endtime="20230418 11:04:49.884"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:49.888" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:50.398" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:50.398" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:49.886" endtime="20230418 11:04:50.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:50.399" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:50.399" endtime="20230418 11:04:50.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:50.400" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:50.400" endtime="20230418 11:04:50.400"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.885" endtime="20230418 11:04:50.401"/>
</kw>
<msg timestamp="20230418 11:04:50.401" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:49.885" endtime="20230418 11:04:50.401"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.884" endtime="20230418 11:04:50.401"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:50.406" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:50.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:50.936" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:50.403" endtime="20230418 11:04:50.936"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:50.938" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:50.937" endtime="20230418 11:04:50.938"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:50.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:50.938" endtime="20230418 11:04:50.938"/>
</kw>
<status status="PASS" starttime="20230418 11:04:50.402" endtime="20230418 11:04:50.939"/>
</kw>
<msg timestamp="20230418 11:04:50.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:50.402" endtime="20230418 11:04:50.939"/>
</kw>
<status status="PASS" starttime="20230418 11:04:50.401" endtime="20230418 11:04:50.939"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:50.943" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:51.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:51.463" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:50.941" endtime="20230418 11:04:51.463"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:51.464" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:51.463" endtime="20230418 11:04:51.464"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:51.465" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:51.464" endtime="20230418 11:04:51.465"/>
</kw>
<status status="PASS" starttime="20230418 11:04:50.941" endtime="20230418 11:04:51.465"/>
</kw>
<msg timestamp="20230418 11:04:51.465" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:50.940" endtime="20230418 11:04:51.466"/>
</kw>
<status status="PASS" starttime="20230418 11:04:50.940" endtime="20230418 11:04:51.466"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.369" endtime="20230418 11:04:51.466"/>
</kw>
<status status="PASS" starttime="20230418 11:04:49.369" endtime="20230418 11:04:51.466"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:49.367" endtime="20230418 11:04:51.466"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:51.475" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:52.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:52.221" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:04:51.472" endtime="20230418 11:04:52.221"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:52.223" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:04:52.222" endtime="20230418 11:04:52.223"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:52.224" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:52.224" endtime="20230418 11:04:52.224"/>
</kw>
<status status="PASS" starttime="20230418 11:04:51.471" endtime="20230418 11:04:52.225"/>
</kw>
<msg timestamp="20230418 11:04:52.225" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:51.470" endtime="20230418 11:04:52.225"/>
</kw>
<msg timestamp="20230418 11:04:52.226" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:04:51.470" endtime="20230418 11:04:52.226"/>
</kw>
<msg timestamp="20230418 11:04:52.226" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:04:51.469" endtime="20230418 11:04:52.226"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:52.226" endtime="20230418 11:04:52.227"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:52.227" endtime="20230418 11:04:52.227"/>
</kw>
<msg timestamp="20230418 11:04:52.228" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 11:04:51.469" endtime="20230418 11:04:52.228"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 11:04:52.228" endtime="20230418 11:04:52.228"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:51.468" endtime="20230418 11:04:52.228"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:52.233" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:04:52.238" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:52.238" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:52.231" endtime="20230418 11:04:52.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:52.240" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:52.239" endtime="20230418 11:04:52.240"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:52.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:52.240" endtime="20230418 11:04:52.241"/>
</kw>
<status status="PASS" starttime="20230418 11:04:52.230" endtime="20230418 11:04:52.241"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:52.246" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:53.342" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:53.342" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:52.243" endtime="20230418 11:04:53.342"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:53.344" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:53.343" endtime="20230418 11:04:53.344"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:53.345" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:53.344" endtime="20230418 11:04:53.345"/>
</kw>
<msg timestamp="20230418 11:04:53.345" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:52.242" endtime="20230418 11:04:53.345"/>
</kw>
<msg timestamp="20230418 11:04:53.346" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:52.241" endtime="20230418 11:04:53.346"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:04:53.346" endtime="20230418 11:04:53.346"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:53.350" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:04:53.353" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:04:53.353" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:04:53.347" endtime="20230418 11:04:53.353"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:04:53.355" level="INFO"/>
<status status="PASS" starttime="20230418 11:04:53.354" endtime="20230418 11:04:53.355"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:04:53.355" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:04:53.355" endtime="20230418 11:04:53.355"/>
</kw>
<status status="PASS" starttime="20230418 11:04:53.346" endtime="20230418 11:04:53.356"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:52.229" endtime="20230418 11:04:53.356"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 11:04:29.567" endtime="20230418 11:04:53.359"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 11:04:57.817" level="INFO">${random} = 03577</msg>
<status status="PASS" starttime="20230418 11:04:57.816" endtime="20230418 11:04:57.817"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:04:57.823" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-03577 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:02.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:02.569" level="INFO">${output} = 2023-04-18 11:05:01,162 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:01,296 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:57.819" endtime="20230418 11:05:02.569"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:02.570" level="INFO">2023-04-18 11:05:01,162 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:01,296 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:05:01,296 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 11:05:02.569" endtime="20230418 11:05:02.570"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:02.571" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:02.570" endtime="20230418 11:05:02.571"/>
</kw>
<status status="PASS" starttime="20230418 11:04:57.818" endtime="20230418 11:05:02.571"/>
</kw>
<msg timestamp="20230418 11:05:02.571" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:04:57.818" endtime="20230418 11:05:02.573"/>
</kw>
<msg timestamp="20230418 11:05:02.573" level="INFO">${output} = 2023-04-18 11:05:01,162 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:01,296 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:04:57.817" endtime="20230418 11:05:02.573"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:02.573" endtime="20230418 11:05:02.574"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:02.578" level="INFO">Running command 'cat /tmp/key-03577 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:02.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:02.582" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:02.574" endtime="20230418 11:05:02.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:02.583" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:02.583" endtime="20230418 11:05:02.583"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:02.584" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:02.584" endtime="20230418 11:05:02.585"/>
</kw>
<msg timestamp="20230418 11:05:02.585" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:02.574" endtime="20230418 11:05:02.585"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:02.585" endtime="20230418 11:05:02.586"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:02.589" level="INFO">Running command 'rm /tmp/key-03577 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:02.592" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:02.592" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:02.587" endtime="20230418 11:05:02.592"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:02.594" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:02.593" endtime="20230418 11:05:02.594"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:02.594" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:02.594" endtime="20230418 11:05:02.594"/>
</kw>
<status status="PASS" starttime="20230418 11:05:02.586" endtime="20230418 11:05:02.595"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:04:57.815" endtime="20230418 11:05:02.595"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:02.602" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:03.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:03.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:02.600" endtime="20230418 11:05:03.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:03.165" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:03.165" endtime="20230418 11:05:03.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:03.166" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:03.166" endtime="20230418 11:05:03.166"/>
</kw>
<status status="PASS" starttime="20230418 11:05:02.600" endtime="20230418 11:05:03.167"/>
</kw>
<msg timestamp="20230418 11:05:03.167" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:02.600" endtime="20230418 11:05:03.167"/>
</kw>
<status status="PASS" starttime="20230418 11:05:02.599" endtime="20230418 11:05:03.168"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:03.172" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:03.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:03.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:03.169" endtime="20230418 11:05:03.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:03.718" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:03.717" endtime="20230418 11:05:03.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:03.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:03.719" endtime="20230418 11:05:03.719"/>
</kw>
<status status="PASS" starttime="20230418 11:05:03.169" endtime="20230418 11:05:03.720"/>
</kw>
<msg timestamp="20230418 11:05:03.720" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:03.168" endtime="20230418 11:05:03.720"/>
</kw>
<status status="PASS" starttime="20230418 11:05:03.168" endtime="20230418 11:05:03.722"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:03.726" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:04.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:04.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:03.723" endtime="20230418 11:05:04.284"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:04.286" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:04.285" endtime="20230418 11:05:04.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:04.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:04.286" endtime="20230418 11:05:04.286"/>
</kw>
<status status="PASS" starttime="20230418 11:05:03.723" endtime="20230418 11:05:04.287"/>
</kw>
<msg timestamp="20230418 11:05:04.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:03.722" endtime="20230418 11:05:04.287"/>
</kw>
<status status="PASS" starttime="20230418 11:05:03.722" endtime="20230418 11:05:04.287"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:04.292" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:04.835" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:04.835" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:04.289" endtime="20230418 11:05:04.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:04.836" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:04.835" endtime="20230418 11:05:04.836"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:04.837" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:04.837" endtime="20230418 11:05:04.837"/>
</kw>
<status status="PASS" starttime="20230418 11:05:04.288" endtime="20230418 11:05:04.838"/>
</kw>
<msg timestamp="20230418 11:05:04.838" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:04.288" endtime="20230418 11:05:04.838"/>
</kw>
<status status="PASS" starttime="20230418 11:05:04.287" endtime="20230418 11:05:04.838"/>
</kw>
<status status="PASS" starttime="20230418 11:05:02.599" endtime="20230418 11:05:04.838"/>
</kw>
<status status="PASS" starttime="20230418 11:05:02.598" endtime="20230418 11:05:04.838"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:02.597" endtime="20230418 11:05:04.839"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:04.844" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:05.557" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:05.557" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:04.842" endtime="20230418 11:05:05.557"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:05.559" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:05:05 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:05:05.558" endtime="20230418 11:05:05.559"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:05.560" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:05.559" endtime="20230418 11:05:05.560"/>
</kw>
<msg timestamp="20230418 11:05:05.560" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:04.841" endtime="20230418 11:05:05.560"/>
</kw>
<msg timestamp="20230418 11:05:05.561" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:04.840" endtime="20230418 11:05:05.561"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:05.561" endtime="20230418 11:05:05.561"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:05.565" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:05.568" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:05.568" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:05.562" endtime="20230418 11:05:05.568"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:05.569" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:05.569" endtime="20230418 11:05:05.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:05.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:05.569" endtime="20230418 11:05:05.570"/>
</kw>
<msg timestamp="20230418 11:05:05.570" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:05:05.562" endtime="20230418 11:05:05.570"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:05.570" endtime="20230418 11:05:05.571"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:05.574" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:05.576" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:05.576" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:05.571" endtime="20230418 11:05:05.576"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:05.577" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:05.577" endtime="20230418 11:05:05.577"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:05.578" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:05.578" endtime="20230418 11:05:05.578"/>
</kw>
<status status="PASS" starttime="20230418 11:05:05.571" endtime="20230418 11:05:05.578"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:04.840" endtime="20230418 11:05:05.579"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:05.584" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:06.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:06.303" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:05.582" endtime="20230418 11:05:06.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:06.304" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:05:06 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:05:06.303" endtime="20230418 11:05:06.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:06.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:06.305" endtime="20230418 11:05:06.305"/>
</kw>
<msg timestamp="20230418 11:05:06.305" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:05.581" endtime="20230418 11:05:06.306"/>
</kw>
<msg timestamp="20230418 11:05:06.306" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:04:53 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:05:05.581" endtime="20230418 11:05:06.306"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:06.306" endtime="20230418 11:05:06.307"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:06.310" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:06.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:06.313" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:05:06.307" endtime="20230418 11:05:06.313"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:06.314" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:05:06.314" endtime="20230418 11:05:06.315"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:06.315" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:06.315" endtime="20230418 11:05:06.315"/>
</kw>
<msg timestamp="20230418 11:05:06.316" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:05:06.307" endtime="20230418 11:05:06.316"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:06.316" endtime="20230418 11:05:06.316"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:06.320" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:06.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:06.323" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:06.317" endtime="20230418 11:05:06.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:06.324" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:06.323" endtime="20230418 11:05:06.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:06.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:06.324" endtime="20230418 11:05:06.325"/>
</kw>
<status status="PASS" starttime="20230418 11:05:06.317" endtime="20230418 11:05:06.325"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:05.580" endtime="20230418 11:05:06.326"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 11:04:57.731" endtime="20230418 11:05:06.328"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:10.643" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:05:10.645" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:10.645" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:10.638" endtime="20230418 11:05:10.645"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:10.646" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:10.645" endtime="20230418 11:05:10.646"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:10.647" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:10.646" endtime="20230418 11:05:10.647"/>
</kw>
<status status="PASS" starttime="20230418 11:05:10.637" endtime="20230418 11:05:10.647"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:10.651" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:16.039" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:16.039" level="INFO">${output} = 2023-04-18 11:05:14,343 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:14,495 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:05:10.649" endtime="20230418 11:05:16.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:16.040" level="INFO">2023-04-18 11:05:14,343 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:14,495 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:05:14,495 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 11:05:14,809 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 11:05:16.040" endtime="20230418 11:05:16.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:16.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:16.041" endtime="20230418 11:05:16.041"/>
</kw>
<status status="PASS" starttime="20230418 11:05:10.648" endtime="20230418 11:05:16.042"/>
</kw>
<msg timestamp="20230418 11:05:16.042" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:10.648" endtime="20230418 11:05:16.043"/>
</kw>
<msg timestamp="20230418 11:05:16.043" level="INFO">${output} = 2023-04-18 11:05:14,343 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:14,495 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:05:10.647" endtime="20230418 11:05:16.043"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:16.043" endtime="20230418 11:05:16.044"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:16.047" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:16.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:16.050" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:16.045" endtime="20230418 11:05:16.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:16.051" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:16.050" endtime="20230418 11:05:16.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:16.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:16.051" endtime="20230418 11:05:16.052"/>
</kw>
<status status="PASS" starttime="20230418 11:05:16.044" endtime="20230418 11:05:16.052"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:10.636" endtime="20230418 11:05:16.052"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:16.059" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:05:16.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:16.060" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:16.056" endtime="20230418 11:05:16.061"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:16.062" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:16.061" endtime="20230418 11:05:16.062"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:16.063" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:16.062" endtime="20230418 11:05:16.063"/>
</kw>
<status status="PASS" starttime="20230418 11:05:16.055" endtime="20230418 11:05:16.063"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:16.068" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:21.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:21.028" level="INFO">${output} = 2023-04-18 11:05:19,496 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:19,592 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:05:16.065" endtime="20230418 11:05:21.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:21.030" level="INFO">2023-04-18 11:05:19,496 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:19,592 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 11:05:19,592 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 11:05:19,914 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 11:05:21.029" endtime="20230418 11:05:21.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:21.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:21.030" endtime="20230418 11:05:21.031"/>
</kw>
<status status="PASS" starttime="20230418 11:05:16.064" endtime="20230418 11:05:21.031"/>
</kw>
<msg timestamp="20230418 11:05:21.031" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:16.064" endtime="20230418 11:05:21.031"/>
</kw>
<msg timestamp="20230418 11:05:21.032" level="INFO">${output} = 2023-04-18 11:05:19,496 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 11:05:19,592 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 11:05:16.063" endtime="20230418 11:05:21.032"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:21.032" endtime="20230418 11:05:21.032"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:21.035" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:21.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:21.038" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:21.033" endtime="20230418 11:05:21.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:21.039" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:21.039" endtime="20230418 11:05:21.039"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:21.040" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:21.039" endtime="20230418 11:05:21.040"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.032" endtime="20230418 11:05:21.040"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:16.054" endtime="20230418 11:05:21.040"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:21.046" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:21.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:21.560" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:21.044" endtime="20230418 11:05:21.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:21.562" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:21.560" endtime="20230418 11:05:21.562"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:21.562" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:21.562" endtime="20230418 11:05:21.563"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.043" endtime="20230418 11:05:21.563"/>
</kw>
<msg timestamp="20230418 11:05:21.563" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:21.043" endtime="20230418 11:05:21.563"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.043" endtime="20230418 11:05:21.564"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:21.568" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:22.106" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:22.106" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:21.566" endtime="20230418 11:05:22.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:22.107" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:22.106" endtime="20230418 11:05:22.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:22.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:22.108" endtime="20230418 11:05:22.108"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.565" endtime="20230418 11:05:22.109"/>
</kw>
<msg timestamp="20230418 11:05:22.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:21.565" endtime="20230418 11:05:22.109"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.564" endtime="20230418 11:05:22.109"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:22.113" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:22.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:22.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:22.111" endtime="20230418 11:05:22.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:22.635" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:22.634" endtime="20230418 11:05:22.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:22.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:22.635" endtime="20230418 11:05:22.636"/>
</kw>
<status status="PASS" starttime="20230418 11:05:22.110" endtime="20230418 11:05:22.636"/>
</kw>
<msg timestamp="20230418 11:05:22.636" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:22.110" endtime="20230418 11:05:22.637"/>
</kw>
<status status="PASS" starttime="20230418 11:05:22.110" endtime="20230418 11:05:22.637"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:22.641" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:23.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:23.174" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:22.638" endtime="20230418 11:05:23.175"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:23.176" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:23.175" endtime="20230418 11:05:23.176"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:23.177" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:23.177" endtime="20230418 11:05:23.177"/>
</kw>
<status status="PASS" starttime="20230418 11:05:22.638" endtime="20230418 11:05:23.177"/>
</kw>
<msg timestamp="20230418 11:05:23.178" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:22.638" endtime="20230418 11:05:23.178"/>
</kw>
<status status="PASS" starttime="20230418 11:05:22.637" endtime="20230418 11:05:23.178"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.042" endtime="20230418 11:05:23.179"/>
</kw>
<status status="PASS" starttime="20230418 11:05:21.042" endtime="20230418 11:05:23.179"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:21.041" endtime="20230418 11:05:23.179"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:23.185" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:23.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:23.893" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:05:23.182" endtime="20230418 11:05:23.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:23.894" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:05:23.893" endtime="20230418 11:05:23.894"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:23.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:23.894" endtime="20230418 11:05:23.895"/>
</kw>
<status status="PASS" starttime="20230418 11:05:23.182" endtime="20230418 11:05:23.895"/>
</kw>
<msg timestamp="20230418 11:05:23.895" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:05:23.182" endtime="20230418 11:05:23.896"/>
</kw>
<msg timestamp="20230418 11:05:23.896" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:05:23.181" endtime="20230418 11:05:23.896"/>
</kw>
<msg timestamp="20230418 11:05:23.897" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:05:23.181" endtime="20230418 11:05:23.897"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:23.897" endtime="20230418 11:05:23.897"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:23.897" endtime="20230418 11:05:23.898"/>
</kw>
<msg timestamp="20230418 11:05:23.898" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 11:05:23.180" endtime="20230418 11:05:23.898"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 11:05:23.898" endtime="20230418 11:05:23.899"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:23.180" endtime="20230418 11:05:23.899"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:23.904" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:05:23.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:23.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:23.901" endtime="20230418 11:05:23.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:23.906" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:23.906" endtime="20230418 11:05:23.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:23.907" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:23.907" endtime="20230418 11:05:23.907"/>
</kw>
<status status="PASS" starttime="20230418 11:05:23.900" endtime="20230418 11:05:23.907"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:23.911" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:24.690" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:24.690" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:23.909" endtime="20230418 11:05:24.691"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:24.692" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:24.691" endtime="20230418 11:05:24.692"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:24.693" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:24.692" endtime="20230418 11:05:24.693"/>
</kw>
<msg timestamp="20230418 11:05:24.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:23.908" endtime="20230418 11:05:24.694"/>
</kw>
<msg timestamp="20230418 11:05:24.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:23.908" endtime="20230418 11:05:24.694"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:05:24.694" endtime="20230418 11:05:24.695"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:24.698" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:05:24.701" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:05:24.701" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:05:24.695" endtime="20230418 11:05:24.701"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:05:24.702" level="INFO"/>
<status status="PASS" starttime="20230418 11:05:24.701" endtime="20230418 11:05:24.702"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:05:24.703" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:05:24.702" endtime="20230418 11:05:24.703"/>
</kw>
<status status="PASS" starttime="20230418 11:05:24.695" endtime="20230418 11:05:24.703"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:05:23.900" endtime="20230418 11:05:24.704"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 11:05:10.556" endtime="20230418 11:05:24.705"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 11:05:28.944" endtime="20230418 11:05:28.945"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 11:05:28.945" endtime="20230418 11:05:28.945"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:05:28.950" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:10:28.944" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230418 11:05:28.946" endtime="20230418 11:10:28.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230418 11:10:28.944" endtime="20230418 11:10:28.944"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230418 11:10:28.945" endtime="20230418 11:10:28.945"/>
</kw>
<status status="FAIL" starttime="20230418 11:05:28.946" endtime="20230418 11:10:28.945"/>
</kw>
<msg timestamp="20230418 11:10:28.945" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230418 11:05:28.946" endtime="20230418 11:10:28.946"/>
</kw>
<status status="FAIL" starttime="20230418 11:05:28.945" endtime="20230418 11:10:28.947"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230418 11:10:28.947" endtime="20230418 11:10:28.947"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230418 11:05:28.943" endtime="20230418 11:10:28.948">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230418 11:05:28.897" endtime="20230418 11:10:28.949"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 11:03:49.978" endtime="20230418 11:03:49.979"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:03:49.984" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:03:49.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:03:49.987" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=2c332945f2fd
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 11:03:49.980" endtime="20230418 11:03:49.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:49.988" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=2c332945f2fd
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 11:03:49.987" endtime="20230418 11:03:49.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:03:49.989" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:03:49.988" endtime="20230418 11:03:49.989"/>
</kw>
<status status="PASS" starttime="20230418 11:03:49.980" endtime="20230418 11:03:49.989"/>
</kw>
<msg timestamp="20230418 11:03:49.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:03:49.979" endtime="20230418 11:03:49.990"/>
</kw>
<msg timestamp="20230418 11:03:49.990" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=2c332945f2fd
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 11:03:49.979" endtime="20230418 11:03:49.990"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:49.991" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=2c332945f2fd
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 11:03:49.991" endtime="20230418 11:03:49.991"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 11:03:49.991" endtime="20230418 11:03:49.991"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:03:49.995" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:03:53.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:03:53.197" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 11:03:49.993" endtime="20230418 11:03:53.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:53.199" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 11:03:53.198" endtime="20230418 11:03:53.199"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:03:53.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:03:53.199" endtime="20230418 11:03:53.200"/>
</kw>
<status status="PASS" starttime="20230418 11:03:49.992" endtime="20230418 11:03:53.200"/>
</kw>
<msg timestamp="20230418 11:03:53.200" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:03:49.992" endtime="20230418 11:03:53.201"/>
</kw>
<msg timestamp="20230418 11:03:53.201" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 11:03:49.992" endtime="20230418 11:03:53.201"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:53.201" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 11:03:53.201" endtime="20230418 11:03:53.201"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 11:03:53.202" endtime="20230418 11:03:53.202"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 11:03:49.977" endtime="20230418 11:03:53.202"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 11:03:53.204" endtime="20230418 11:03:53.205"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 11:03:53.205" endtime="20230418 11:03:53.205"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:03:53.210" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:03:56.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:03:56.719" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 11:03:53.207" endtime="20230418 11:03:56.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:56.720" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 11:03:56.719" endtime="20230418 11:03:56.720"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:03:56.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:03:56.720" endtime="20230418 11:03:56.721"/>
</kw>
<status status="PASS" starttime="20230418 11:03:53.206" endtime="20230418 11:03:56.722"/>
</kw>
<msg timestamp="20230418 11:03:56.722" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:03:53.206" endtime="20230418 11:03:56.722"/>
</kw>
<msg timestamp="20230418 11:03:56.723" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 11:03:53.206" endtime="20230418 11:03:56.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:03:56.723" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 11:03:56.723" endtime="20230418 11:03:56.723"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 11:03:56.724" endtime="20230418 11:03:56.724"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 11:03:53.204" endtime="20230418 11:03:56.724"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230418 11:03:49.928" endtime="20230418 11:03:56.726"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:13.094" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:16.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:16.046" level="INFO">${output} = 2023-04-18 10:56:15,939 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 10:56:13.089" endtime="20230418 10:56:16.046"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:16.047" level="INFO">2023-04-18 10:56:15,939 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 10:56:16.046" endtime="20230418 10:56:16.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:16.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:16.047" endtime="20230418 10:56:16.048"/>
</kw>
<status status="PASS" starttime="20230418 10:56:13.088" endtime="20230418 10:56:16.049"/>
</kw>
<msg timestamp="20230418 10:56:16.049" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:13.088" endtime="20230418 10:56:16.051"/>
</kw>
<msg timestamp="20230418 10:56:16.051" level="INFO">${output} = 2023-04-18 10:56:15,939 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230418 10:56:13.087" endtime="20230418 10:56:16.051"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:16.051" endtime="20230418 10:56:16.052"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:16.059" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:18.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:18.877" level="INFO">${output} = 2023-04-18 10:56:18,791 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 10:56:16.053" endtime="20230418 10:56:18.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:18.878" level="INFO">2023-04-18 10:56:18,791 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 10:56:18.877" endtime="20230418 10:56:18.878"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:18.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:18.878" endtime="20230418 10:56:18.879"/>
</kw>
<status status="PASS" starttime="20230418 10:56:16.053" endtime="20230418 10:56:18.879"/>
</kw>
<msg timestamp="20230418 10:56:18.879" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:16.052" endtime="20230418 10:56:18.880"/>
</kw>
<msg timestamp="20230418 10:56:18.880" level="INFO">${output} = 2023-04-18 10:56:18,791 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230418 10:56:16.052" endtime="20230418 10:56:18.880"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:18.880" endtime="20230418 10:56:18.883"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:13.086" endtime="20230418 10:56:18.883"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:18.893" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 10:56:18.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:18.893" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:18.886" endtime="20230418 10:56:18.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:18.895" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:18.894" endtime="20230418 10:56:18.895"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:18.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:18.895" endtime="20230418 10:56:18.895"/>
</kw>
<status status="PASS" starttime="20230418 10:56:18.885" endtime="20230418 10:56:18.896"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:18.900" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:25.366" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:25.366" level="INFO">${output} = 2023-04-18 10:56:22,846 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:22,980 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:18.898" endtime="20230418 10:56:25.366"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:25.368" level="INFO">2023-04-18 10:56:22,846 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:22,980 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 10:56:22,981 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 10:56:23,377 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 10:56:25.367" endtime="20230418 10:56:25.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:25.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:25.368" endtime="20230418 10:56:25.368"/>
</kw>
<status status="PASS" starttime="20230418 10:56:18.897" endtime="20230418 10:56:25.369"/>
</kw>
<msg timestamp="20230418 10:56:25.369" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:18.897" endtime="20230418 10:56:25.369"/>
</kw>
<msg timestamp="20230418 10:56:25.370" level="INFO">${output} = 2023-04-18 10:56:22,846 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:22,980 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:18.896" endtime="20230418 10:56:25.370"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:25.370" endtime="20230418 10:56:25.370"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:25.374" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:25.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:25.377" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:25.371" endtime="20230418 10:56:25.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:25.378" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:25.377" endtime="20230418 10:56:25.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:25.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:25.378" endtime="20230418 10:56:25.378"/>
</kw>
<status status="PASS" starttime="20230418 10:56:25.370" endtime="20230418 10:56:25.378"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:18.884" endtime="20230418 10:56:25.379"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:25.385" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:28.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:28.309" level="INFO">${output} = 2023-04-18 10:56:28,262 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 10:56:25.382" endtime="20230418 10:56:28.309"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:28.311" level="INFO">2023-04-18 10:56:28,262 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230418 10:56:28.310" endtime="20230418 10:56:28.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:28.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:28.311" endtime="20230418 10:56:28.312"/>
</kw>
<status status="PASS" starttime="20230418 10:56:25.382" endtime="20230418 10:56:28.312"/>
</kw>
<msg timestamp="20230418 10:56:28.312" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:25.381" endtime="20230418 10:56:28.312"/>
</kw>
<msg timestamp="20230418 10:56:28.313" level="INFO">${output} = 2023-04-18 10:56:28,262 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230418 10:56:25.381" endtime="20230418 10:56:28.313"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:28.313" endtime="20230418 10:56:28.314"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:25.380" endtime="20230418 10:56:28.314"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:28.319" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 10:56:28.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:28.321" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:28.316" endtime="20230418 10:56:28.321"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:28.322" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:28.321" endtime="20230418 10:56:28.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:28.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:28.322" endtime="20230418 10:56:28.323"/>
</kw>
<status status="PASS" starttime="20230418 10:56:28.316" endtime="20230418 10:56:28.323"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:28.327" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:33.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:33.499" level="INFO">${output} = 2023-04-18 10:56:31,791 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:31,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:28.325" endtime="20230418 10:56:33.500"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:33.505" level="INFO">2023-04-18 10:56:31,791 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:31,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 10:56:31,897 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-04-18 10:56:32,166 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230418 10:56:33.500" endtime="20230418 10:56:33.505"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:33.509" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:33.508" endtime="20230418 10:56:33.509"/>
</kw>
<status status="PASS" starttime="20230418 10:56:28.324" endtime="20230418 10:56:33.509"/>
</kw>
<msg timestamp="20230418 10:56:33.510" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:28.324" endtime="20230418 10:56:33.510"/>
</kw>
<msg timestamp="20230418 10:56:33.510" level="INFO">${output} = 2023-04-18 10:56:31,791 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:31,894 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:28.323" endtime="20230418 10:56:33.510"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:33.513" endtime="20230418 10:56:33.513"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:33.520" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:33.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:33.522" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:33.514" endtime="20230418 10:56:33.523"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:33.524" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:33.523" endtime="20230418 10:56:33.524"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:33.527" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:33.524" endtime="20230418 10:56:33.527"/>
</kw>
<status status="PASS" starttime="20230418 10:56:33.513" endtime="20230418 10:56:33.527"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:28.315" endtime="20230418 10:56:33.528"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:33.539" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:34.426" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:34.426" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:33.534" endtime="20230418 10:56:34.426"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:34.427" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:34.427" endtime="20230418 10:56:34.427"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:34.428" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:34.428" endtime="20230418 10:56:34.428"/>
</kw>
<status status="PASS" starttime="20230418 10:56:33.533" endtime="20230418 10:56:34.428"/>
</kw>
<msg timestamp="20230418 10:56:34.429" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:33.533" endtime="20230418 10:56:34.429"/>
</kw>
<status status="PASS" starttime="20230418 10:56:33.533" endtime="20230418 10:56:34.429"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:34.435" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:35.013" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:35.014" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:34.431" endtime="20230418 10:56:35.014"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:35.015" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:35.014" endtime="20230418 10:56:35.015"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:35.016" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:35.015" endtime="20230418 10:56:35.016"/>
</kw>
<status status="PASS" starttime="20230418 10:56:34.430" endtime="20230418 10:56:35.016"/>
</kw>
<msg timestamp="20230418 10:56:35.016" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:34.430" endtime="20230418 10:56:35.017"/>
</kw>
<status status="PASS" starttime="20230418 10:56:34.429" endtime="20230418 10:56:35.017"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:35.024" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:35.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:35.650" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:35.019" endtime="20230418 10:56:35.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:35.652" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:35.651" endtime="20230418 10:56:35.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:35.653" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:35.652" endtime="20230418 10:56:35.653"/>
</kw>
<status status="PASS" starttime="20230418 10:56:35.018" endtime="20230418 10:56:35.654"/>
</kw>
<msg timestamp="20230418 10:56:35.654" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:35.018" endtime="20230418 10:56:35.654"/>
</kw>
<status status="PASS" starttime="20230418 10:56:35.017" endtime="20230418 10:56:35.654"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:35.658" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:36.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:36.202" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:35.656" endtime="20230418 10:56:36.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:36.203" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:36.202" endtime="20230418 10:56:36.203"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:36.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:36.203" endtime="20230418 10:56:36.204"/>
</kw>
<status status="PASS" starttime="20230418 10:56:35.655" endtime="20230418 10:56:36.204"/>
</kw>
<msg timestamp="20230418 10:56:36.204" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:35.655" endtime="20230418 10:56:36.205"/>
</kw>
<status status="PASS" starttime="20230418 10:56:35.655" endtime="20230418 10:56:36.205"/>
</kw>
<status status="PASS" starttime="20230418 10:56:33.532" endtime="20230418 10:56:36.205"/>
</kw>
<status status="PASS" starttime="20230418 10:56:33.532" endtime="20230418 10:56:36.205"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:33.529" endtime="20230418 10:56:36.206"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:36.213" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:38.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:38.582" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 10:56:36.210" endtime="20230418 10:56:38.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:38.584" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 10:56:38.583" endtime="20230418 10:56:38.584"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:38.585" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:38.584" endtime="20230418 10:56:38.585"/>
</kw>
<status status="PASS" starttime="20230418 10:56:36.210" endtime="20230418 10:56:38.585"/>
</kw>
<msg timestamp="20230418 10:56:38.585" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:36.209" endtime="20230418 10:56:38.586"/>
</kw>
<msg timestamp="20230418 10:56:38.586" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 10:56:36.209" endtime="20230418 10:56:38.586"/>
</kw>
<msg timestamp="20230418 10:56:38.586" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 10:56:36.208" endtime="20230418 10:56:38.586"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:38.587" endtime="20230418 10:56:38.587"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:38.587" endtime="20230418 10:56:38.587"/>
</kw>
<msg timestamp="20230418 10:56:38.588" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 10:56:36.208" endtime="20230418 10:56:38.588"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 10:56:38.588" endtime="20230418 10:56:38.588"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:36.207" endtime="20230418 10:56:38.589"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:38.594" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 10:56:38.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:38.604" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:38.591" endtime="20230418 10:56:38.604"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:38.605" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:38.604" endtime="20230418 10:56:38.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:38.605" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:38.605" endtime="20230418 10:56:38.605"/>
</kw>
<status status="PASS" starttime="20230418 10:56:38.591" endtime="20230418 10:56:38.606"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:38.610" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:40.426" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:40.426" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:38.607" endtime="20230418 10:56:40.426"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:40.428" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:40.427" endtime="20230418 10:56:40.428"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:40.429" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:40.428" endtime="20230418 10:56:40.429"/>
</kw>
<msg timestamp="20230418 10:56:40.429" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:38.606" endtime="20230418 10:56:40.429"/>
</kw>
<msg timestamp="20230418 10:56:40.429" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:38.606" endtime="20230418 10:56:40.429"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:40.430" endtime="20230418 10:56:40.430"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:40.434" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:40.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:40.436" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:40.431" endtime="20230418 10:56:40.436"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:40.437" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:40.437" endtime="20230418 10:56:40.438"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:40.438" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:40.438" endtime="20230418 10:56:40.438"/>
</kw>
<status status="PASS" starttime="20230418 10:56:40.430" endtime="20230418 10:56:40.439"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:38.590" endtime="20230418 10:56:40.439"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 10:56:13.001" endtime="20230418 10:56:40.440"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 10:56:44.688" level="INFO">${random} = 31206</msg>
<status status="PASS" starttime="20230418 10:56:44.688" endtime="20230418 10:56:44.689"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:44.695" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-31206 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:50.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:50.022" level="INFO">${output} = 2023-04-18 10:56:48,464 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:48,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:44.691" endtime="20230418 10:56:50.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:50.023" level="INFO">2023-04-18 10:56:48,464 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:48,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-04-18 10:56:48,581 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230418 10:56:50.023" endtime="20230418 10:56:50.023"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:50.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:50.024" endtime="20230418 10:56:50.024"/>
</kw>
<status status="PASS" starttime="20230418 10:56:44.690" endtime="20230418 10:56:50.025"/>
</kw>
<msg timestamp="20230418 10:56:50.025" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:44.689" endtime="20230418 10:56:50.026"/>
</kw>
<msg timestamp="20230418 10:56:50.026" level="INFO">${output} = 2023-04-18 10:56:48,464 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-04-18 10:56:48,581 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230418 10:56:44.689" endtime="20230418 10:56:50.026"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:50.026" endtime="20230418 10:56:50.027"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:50.030" level="INFO">Running command 'cat /tmp/key-31206 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:50.032" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:50.032" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:50.027" endtime="20230418 10:56:50.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:50.034" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:50.033" endtime="20230418 10:56:50.034"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:50.034" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:50.034" endtime="20230418 10:56:50.034"/>
</kw>
<msg timestamp="20230418 10:56:50.035" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:50.027" endtime="20230418 10:56:50.035"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:50.035" endtime="20230418 10:56:50.035"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:50.040" level="INFO">Running command 'rm /tmp/key-31206 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:50.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:50.043" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:50.037" endtime="20230418 10:56:50.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:50.044" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:50.043" endtime="20230418 10:56:50.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:50.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:50.044" endtime="20230418 10:56:50.044"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.036" endtime="20230418 10:56:50.045"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:44.687" endtime="20230418 10:56:50.045"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:50.052" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:50.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:50.603" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:50.049" endtime="20230418 10:56:50.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:50.604" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:50.604" endtime="20230418 10:56:50.604"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:50.605" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:50.605" endtime="20230418 10:56:50.605"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.049" endtime="20230418 10:56:50.606"/>
</kw>
<msg timestamp="20230418 10:56:50.606" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:50.048" endtime="20230418 10:56:50.606"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.048" endtime="20230418 10:56:50.606"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:50.610" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:51.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:51.137" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:50.608" endtime="20230418 10:56:51.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:51.138" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:51.137" endtime="20230418 10:56:51.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:51.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:51.138" endtime="20230418 10:56:51.139"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.607" endtime="20230418 10:56:51.140"/>
</kw>
<msg timestamp="20230418 10:56:51.140" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:50.607" endtime="20230418 10:56:51.140"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.607" endtime="20230418 10:56:51.141"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:51.145" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:51.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:51.661" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:51.142" endtime="20230418 10:56:51.661"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:51.662" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:51.662" endtime="20230418 10:56:51.662"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:51.663" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:51.663" endtime="20230418 10:56:51.663"/>
</kw>
<status status="PASS" starttime="20230418 10:56:51.142" endtime="20230418 10:56:51.663"/>
</kw>
<msg timestamp="20230418 10:56:51.664" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:51.141" endtime="20230418 10:56:51.664"/>
</kw>
<status status="PASS" starttime="20230418 10:56:51.141" endtime="20230418 10:56:51.664"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:51.669" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:52.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:52.183" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:51.666" endtime="20230418 10:56:52.183"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:52.185" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:52.184" endtime="20230418 10:56:52.185"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:52.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:52.185" endtime="20230418 10:56:52.186"/>
</kw>
<status status="PASS" starttime="20230418 10:56:51.665" endtime="20230418 10:56:52.186"/>
</kw>
<msg timestamp="20230418 10:56:52.186" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:51.665" endtime="20230418 10:56:52.186"/>
</kw>
<status status="PASS" starttime="20230418 10:56:51.665" endtime="20230418 10:56:52.187"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.047" endtime="20230418 10:56:52.187"/>
</kw>
<status status="PASS" starttime="20230418 10:56:50.047" endtime="20230418 10:56:52.187"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:50.046" endtime="20230418 10:56:52.187"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:52.193" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.053" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:52.190" endtime="20230418 10:56:53.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.055" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 10:56:52 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 10:56:53.054" endtime="20230418 10:56:53.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.055" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.055" endtime="20230418 10:56:53.055"/>
</kw>
<msg timestamp="20230418 10:56:53.056" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:52.190" endtime="20230418 10:56:53.056"/>
</kw>
<msg timestamp="20230418 10:56:53.056" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:52.189" endtime="20230418 10:56:53.056"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:53.056" endtime="20230418 10:56:53.057"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:53.060" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.063" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:53.057" endtime="20230418 10:56:53.063"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.065" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:53.064" endtime="20230418 10:56:53.065"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.065" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.065" endtime="20230418 10:56:53.065"/>
</kw>
<msg timestamp="20230418 10:56:53.066" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:56:53.057" endtime="20230418 10:56:53.066"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:53.066" endtime="20230418 10:56:53.066"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:53.069" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.072" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.072" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:53.067" endtime="20230418 10:56:53.072"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.074" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:53.073" endtime="20230418 10:56:53.074"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.074" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.074" endtime="20230418 10:56:53.074"/>
</kw>
<status status="PASS" starttime="20230418 10:56:53.066" endtime="20230418 10:56:53.075"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:52.188" endtime="20230418 10:56:53.075"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:53.080" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.766" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:53.078" endtime="20230418 10:56:53.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.767" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 10:56:53 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 10:56:53.767" endtime="20230418 10:56:53.768"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.768" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.768" endtime="20230418 10:56:53.768"/>
</kw>
<msg timestamp="20230418 10:56:53.769" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:53.077" endtime="20230418 10:56:53.769"/>
</kw>
<msg timestamp="20230418 10:56:53.769" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:56:53.077" endtime="20230418 10:56:53.769"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:53.770" endtime="20230418 10:56:53.770"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:53.773" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.776" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.776" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:56:53.771" endtime="20230418 10:56:53.776"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.777" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:56:53.777" endtime="20230418 10:56:53.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.778" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.778" endtime="20230418 10:56:53.778"/>
</kw>
<msg timestamp="20230418 10:56:53.778" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:56:53.770" endtime="20230418 10:56:53.778"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:56:53.779" endtime="20230418 10:56:53.779"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:53.782" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:53.785" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:53.785" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:56:53.780" endtime="20230418 10:56:53.785"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:53.786" level="INFO"/>
<status status="PASS" starttime="20230418 10:56:53.785" endtime="20230418 10:56:53.786"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:53.787" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:53.786" endtime="20230418 10:56:53.787"/>
</kw>
<status status="PASS" starttime="20230418 10:56:53.779" endtime="20230418 10:56:53.787"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:53.076" endtime="20230418 10:56:53.788"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 10:56:44.605" endtime="20230418 10:56:53.789"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 10:56:58.095" endtime="20230418 10:56:58.096"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 10:56:58.096" endtime="20230418 10:56:58.097"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:58.102" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:57:06.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:57:06.323" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 10:56:58.098" endtime="20230418 10:57:06.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:57:06.324" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230418 10:57:06.323" endtime="20230418 10:57:06.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:57:06.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:57:06.324" endtime="20230418 10:57:06.325"/>
</kw>
<status status="PASS" starttime="20230418 10:56:58.098" endtime="20230418 10:57:06.326"/>
</kw>
<msg timestamp="20230418 10:57:06.326" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:58.098" endtime="20230418 10:57:06.327"/>
</kw>
<msg timestamp="20230418 10:57:06.327" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 10:56:58.097" endtime="20230418 10:57:06.327"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:57:06.328" endtime="20230418 10:57:06.329"/>
</kw>
<status status="PASS" starttime="20230418 10:57:06.328" endtime="20230418 10:57:06.329"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:56:58.094" endtime="20230418 10:57:06.329"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230418 10:56:58.039" endtime="20230418 10:57:06.330"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 10:56:02.823" endtime="20230418 10:56:02.824"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:02.831" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:02.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:02.834" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=d1ce9560cc45
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 10:56:02.826" endtime="20230418 10:56:02.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:02.835" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=d1ce9560cc45
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 10:56:02.834" endtime="20230418 10:56:02.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:02.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:02.835" endtime="20230418 10:56:02.836"/>
</kw>
<status status="PASS" starttime="20230418 10:56:02.825" endtime="20230418 10:56:02.836"/>
</kw>
<msg timestamp="20230418 10:56:02.836" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:02.825" endtime="20230418 10:56:02.837"/>
</kw>
<msg timestamp="20230418 10:56:02.838" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=d1ce9560cc45
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230418 10:56:02.825" endtime="20230418 10:56:02.838"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:02.838" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=d1ce9560cc45
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230418 10:56:02.838" endtime="20230418 10:56:02.838"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 10:56:02.839" endtime="20230418 10:56:02.839"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:02.843" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:05.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:05.724" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 10:56:02.841" endtime="20230418 10:56:05.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:05.725" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 10:56:05.724" endtime="20230418 10:56:05.725"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:05.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:05.725" endtime="20230418 10:56:05.726"/>
</kw>
<status status="PASS" starttime="20230418 10:56:02.840" endtime="20230418 10:56:05.726"/>
</kw>
<msg timestamp="20230418 10:56:05.726" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:02.840" endtime="20230418 10:56:05.727"/>
</kw>
<msg timestamp="20230418 10:56:05.727" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 10:56:02.839" endtime="20230418 10:56:05.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:05.728" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230418 10:56:05.727" endtime="20230418 10:56:05.728"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 10:56:05.728" endtime="20230418 10:56:05.728"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 10:56:02.822" endtime="20230418 10:56:05.729"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 10:56:05.731" endtime="20230418 10:56:05.731"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 10:56:05.731" endtime="20230418 10:56:05.732"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:56:05.736" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:56:08.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:56:08.652" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 10:56:05.733" endtime="20230418 10:56:08.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:08.653" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 10:56:08.652" endtime="20230418 10:56:08.653"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:56:08.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:56:08.653" endtime="20230418 10:56:08.654"/>
</kw>
<status status="PASS" starttime="20230418 10:56:05.733" endtime="20230418 10:56:08.654"/>
</kw>
<msg timestamp="20230418 10:56:08.654" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:56:05.732" endtime="20230418 10:56:08.655"/>
</kw>
<msg timestamp="20230418 10:56:08.655" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 10:56:05.732" endtime="20230418 10:56:08.655"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:56:08.656" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230418 10:56:08.655" endtime="20230418 10:56:08.656"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230418 10:56:08.656" endtime="20230418 10:56:08.656"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230418 10:56:05.730" endtime="20230418 10:56:08.656"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230418 10:56:02.767" endtime="20230418 10:56:08.658"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:00.207" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:00:00.209" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:00.209" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:00.201" endtime="20230418 11:00:00.209"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:00.210" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:00.210" endtime="20230418 11:00:00.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:00.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:00.211" endtime="20230418 11:00:00.211"/>
</kw>
<status status="PASS" starttime="20230418 11:00:00.201" endtime="20230418 11:00:00.212"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:00.216" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:10.787" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:10.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:00.213" endtime="20230418 11:00:10.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:10.788" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:10.787" endtime="20230418 11:00:10.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:10.789" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:10.789" endtime="20230418 11:00:10.789"/>
</kw>
<status status="PASS" starttime="20230418 11:00:00.213" endtime="20230418 11:00:10.790"/>
</kw>
<msg timestamp="20230418 11:00:10.790" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:00.212" endtime="20230418 11:00:10.791"/>
</kw>
<msg timestamp="20230418 11:00:10.791" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:00.212" endtime="20230418 11:00:10.791"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:10.792" endtime="20230418 11:00:10.792"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:10.796" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:10.800" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:10.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:10.793" endtime="20230418 11:00:10.801"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:10.802" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:10.801" endtime="20230418 11:00:10.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:10.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:10.803" endtime="20230418 11:00:10.803"/>
</kw>
<status status="PASS" starttime="20230418 11:00:10.792" endtime="20230418 11:00:10.804"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:00.199" endtime="20230418 11:00:10.804"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:10.810" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:00:10.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:10.812" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:10.807" endtime="20230418 11:00:10.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:10.814" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:10.813" endtime="20230418 11:00:10.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:10.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:10.814" endtime="20230418 11:00:10.815"/>
</kw>
<status status="PASS" starttime="20230418 11:00:10.807" endtime="20230418 11:00:10.815"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:10.820" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:18.919" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:18.919" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:10.817" endtime="20230418 11:00:18.919"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:18.921" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:18.920" endtime="20230418 11:00:18.921"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:18.921" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:18.921" endtime="20230418 11:00:18.921"/>
</kw>
<status status="PASS" starttime="20230418 11:00:10.817" endtime="20230418 11:00:18.922"/>
</kw>
<msg timestamp="20230418 11:00:18.922" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:10.816" endtime="20230418 11:00:18.922"/>
</kw>
<msg timestamp="20230418 11:00:18.923" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:10.816" endtime="20230418 11:00:18.923"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:18.923" endtime="20230418 11:00:18.923"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:18.927" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:18.931" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:18.932" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:18.924" endtime="20230418 11:00:18.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:18.933" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:18.932" endtime="20230418 11:00:18.933"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:18.934" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:18.933" endtime="20230418 11:00:18.934"/>
</kw>
<status status="PASS" starttime="20230418 11:00:18.923" endtime="20230418 11:00:18.934"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:10.806" endtime="20230418 11:00:18.934"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:18.941" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:19.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:19.651" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:18.939" endtime="20230418 11:00:19.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:19.653" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:19.652" endtime="20230418 11:00:19.653"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:19.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:19.653" endtime="20230418 11:00:19.655"/>
</kw>
<status status="PASS" starttime="20230418 11:00:18.938" endtime="20230418 11:00:19.655"/>
</kw>
<msg timestamp="20230418 11:00:19.655" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:18.938" endtime="20230418 11:00:19.656"/>
</kw>
<status status="PASS" starttime="20230418 11:00:18.937" endtime="20230418 11:00:19.656"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:19.662" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:20.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:20.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:19.658" endtime="20230418 11:00:20.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:20.349" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:20.348" endtime="20230418 11:00:20.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:20.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:20.350" endtime="20230418 11:00:20.350"/>
</kw>
<status status="PASS" starttime="20230418 11:00:19.658" endtime="20230418 11:00:20.351"/>
</kw>
<msg timestamp="20230418 11:00:20.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:19.657" endtime="20230418 11:00:20.351"/>
</kw>
<status status="PASS" starttime="20230418 11:00:19.657" endtime="20230418 11:00:20.351"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:20.356" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:21.047" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:21.047" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:20.353" endtime="20230418 11:00:21.047"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:21.049" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:21.048" endtime="20230418 11:00:21.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:21.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:21.050" endtime="20230418 11:00:21.051"/>
</kw>
<status status="PASS" starttime="20230418 11:00:20.353" endtime="20230418 11:00:21.051"/>
</kw>
<msg timestamp="20230418 11:00:21.051" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:20.352" endtime="20230418 11:00:21.052"/>
</kw>
<status status="PASS" starttime="20230418 11:00:20.352" endtime="20230418 11:00:21.052"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:21.058" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:21.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:21.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:21.054" endtime="20230418 11:00:21.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:21.675" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:21.674" endtime="20230418 11:00:21.675"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:21.676" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:21.675" endtime="20230418 11:00:21.676"/>
</kw>
<status status="PASS" starttime="20230418 11:00:21.054" endtime="20230418 11:00:21.676"/>
</kw>
<msg timestamp="20230418 11:00:21.676" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:21.053" endtime="20230418 11:00:21.677"/>
</kw>
<status status="PASS" starttime="20230418 11:00:21.052" endtime="20230418 11:00:21.677"/>
</kw>
<status status="PASS" starttime="20230418 11:00:18.937" endtime="20230418 11:00:21.677"/>
</kw>
<status status="PASS" starttime="20230418 11:00:18.937" endtime="20230418 11:00:21.677"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:18.936" endtime="20230418 11:00:21.677"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:21.685" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:22.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:22.588" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:00:21.682" endtime="20230418 11:00:22.588"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:22.589" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:00:22.589" endtime="20230418 11:00:22.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:22.590" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:22.590" endtime="20230418 11:00:22.591"/>
</kw>
<status status="PASS" starttime="20230418 11:00:21.682" endtime="20230418 11:00:22.591"/>
</kw>
<msg timestamp="20230418 11:00:22.591" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:21.681" endtime="20230418 11:00:22.592"/>
</kw>
<msg timestamp="20230418 11:00:22.592" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:00:21.681" endtime="20230418 11:00:22.592"/>
</kw>
<msg timestamp="20230418 11:00:22.592" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:00:21.680" endtime="20230418 11:00:22.592"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:22.593" endtime="20230418 11:00:22.593"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:22.593" endtime="20230418 11:00:22.594"/>
</kw>
<msg timestamp="20230418 11:00:22.594" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 11:00:21.680" endtime="20230418 11:00:22.594"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 11:00:22.594" endtime="20230418 11:00:22.595"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:21.679" endtime="20230418 11:00:22.595"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:22.602" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:00:22.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:22.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:22.598" endtime="20230418 11:00:22.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:22.606" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:22.605" endtime="20230418 11:00:22.606"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:22.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:22.606" endtime="20230418 11:00:22.607"/>
</kw>
<status status="PASS" starttime="20230418 11:00:22.597" endtime="20230418 11:00:22.607"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:22.612" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:24.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:24.248" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:22.609" endtime="20230418 11:00:24.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:24.250" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:24.249" endtime="20230418 11:00:24.250"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:24.251" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:24.251" endtime="20230418 11:00:24.252"/>
</kw>
<msg timestamp="20230418 11:00:24.252" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:22.608" endtime="20230418 11:00:24.252"/>
</kw>
<msg timestamp="20230418 11:00:24.252" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:22.607" endtime="20230418 11:00:24.252"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:24.253" endtime="20230418 11:00:24.253"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:24.258" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:24.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:24.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:24.254" endtime="20230418 11:00:24.263"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:24.265" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:24.264" endtime="20230418 11:00:24.265"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:24.266" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:24.266" endtime="20230418 11:00:24.266"/>
</kw>
<status status="PASS" starttime="20230418 11:00:24.253" endtime="20230418 11:00:24.267"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:22.596" endtime="20230418 11:00:24.268"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 11:00:00.099" endtime="20230418 11:00:24.271"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:29.225" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:33.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:33.768" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:29.218" endtime="20230418 11:00:33.768"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:33.770" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:33.769" endtime="20230418 11:00:33.770"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:33.771" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:33.770" endtime="20230418 11:00:33.771"/>
</kw>
<status status="PASS" starttime="20230418 11:00:29.217" endtime="20230418 11:00:33.771"/>
</kw>
<msg timestamp="20230418 11:00:33.772" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:29.216" endtime="20230418 11:00:33.773"/>
</kw>
<msg timestamp="20230418 11:00:33.773" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:29.216" endtime="20230418 11:00:33.773"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:33.774" endtime="20230418 11:00:33.774"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:33.779" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:38.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:38.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:33.776" endtime="20230418 11:00:38.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:38.057" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:38.056" endtime="20230418 11:00:38.057"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:38.058" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:38.057" endtime="20230418 11:00:38.058"/>
</kw>
<status status="PASS" starttime="20230418 11:00:33.776" endtime="20230418 11:00:38.059"/>
</kw>
<msg timestamp="20230418 11:00:38.059" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:33.775" endtime="20230418 11:00:38.059"/>
</kw>
<msg timestamp="20230418 11:00:38.060" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:33.774" endtime="20230418 11:00:38.060"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:38.060" endtime="20230418 11:00:38.060"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:29.214" endtime="20230418 11:00:38.061"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:38.069" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:00:38.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:38.071" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:38.064" endtime="20230418 11:00:38.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:38.073" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:38.072" endtime="20230418 11:00:38.073"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:38.074" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:38.073" endtime="20230418 11:00:38.074"/>
</kw>
<status status="PASS" starttime="20230418 11:00:38.064" endtime="20230418 11:00:38.074"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:38.080" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:45.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:45.775" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:38.077" endtime="20230418 11:00:45.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:45.777" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:45.776" endtime="20230418 11:00:45.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:45.778" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:45.778" endtime="20230418 11:00:45.778"/>
</kw>
<status status="PASS" starttime="20230418 11:00:38.076" endtime="20230418 11:00:45.779"/>
</kw>
<msg timestamp="20230418 11:00:45.779" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:38.076" endtime="20230418 11:00:45.780"/>
</kw>
<msg timestamp="20230418 11:00:45.780" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:38.074" endtime="20230418 11:00:45.780"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:45.780" endtime="20230418 11:00:45.781"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:45.785" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:45.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:45.790" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:45.782" endtime="20230418 11:00:45.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:45.791" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:45.790" endtime="20230418 11:00:45.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:45.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:45.791" endtime="20230418 11:00:45.792"/>
</kw>
<status status="PASS" starttime="20230418 11:00:45.781" endtime="20230418 11:00:45.793"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:38.062" endtime="20230418 11:00:45.793"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:45.802" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:50.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:50.684" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:45.799" endtime="20230418 11:00:50.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:50.686" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:50.685" endtime="20230418 11:00:50.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:50.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:50.686" endtime="20230418 11:00:50.687"/>
</kw>
<status status="PASS" starttime="20230418 11:00:45.798" endtime="20230418 11:00:50.687"/>
</kw>
<msg timestamp="20230418 11:00:50.687" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:45.798" endtime="20230418 11:00:50.688"/>
</kw>
<msg timestamp="20230418 11:00:50.688" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:45.797" endtime="20230418 11:00:50.688"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:50.688" endtime="20230418 11:00:50.689"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:45.795" endtime="20230418 11:00:50.689"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:50.695" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:00:50.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:50.698" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:50.692" endtime="20230418 11:00:50.698"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:50.699" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:50.698" endtime="20230418 11:00:50.700"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:50.701" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:50.700" endtime="20230418 11:00:50.701"/>
</kw>
<status status="PASS" starttime="20230418 11:00:50.691" endtime="20230418 11:00:50.701"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:50.708" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:58.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:58.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:50.704" endtime="20230418 11:00:58.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:58.434" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:58.433" endtime="20230418 11:00:58.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:58.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:58.435" endtime="20230418 11:00:58.435"/>
</kw>
<status status="PASS" starttime="20230418 11:00:50.703" endtime="20230418 11:00:58.436"/>
</kw>
<msg timestamp="20230418 11:00:58.436" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:50.702" endtime="20230418 11:00:58.436"/>
</kw>
<msg timestamp="20230418 11:00:58.437" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:50.702" endtime="20230418 11:00:58.437"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:00:58.437" endtime="20230418 11:00:58.437"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:58.441" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:58.446" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:58.446" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:58.438" endtime="20230418 11:00:58.446"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:58.449" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:58.448" endtime="20230418 11:00:58.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:58.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:58.449" endtime="20230418 11:00:58.449"/>
</kw>
<status status="PASS" starttime="20230418 11:00:58.437" endtime="20230418 11:00:58.450"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:50.690" endtime="20230418 11:00:58.450"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:58.458" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:59.067" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:59.067" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:58.455" endtime="20230418 11:00:59.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:59.068" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:59.068" endtime="20230418 11:00:59.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:59.069" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:59.069" endtime="20230418 11:00:59.069"/>
</kw>
<status status="PASS" starttime="20230418 11:00:58.454" endtime="20230418 11:00:59.070"/>
</kw>
<msg timestamp="20230418 11:00:59.070" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:58.454" endtime="20230418 11:00:59.071"/>
</kw>
<status status="PASS" starttime="20230418 11:00:58.453" endtime="20230418 11:00:59.071"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:59.075" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:00:59.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:00:59.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:59.073" endtime="20230418 11:00:59.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:00:59.707" level="INFO"/>
<status status="PASS" starttime="20230418 11:00:59.706" endtime="20230418 11:00:59.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:00:59.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:00:59.707" endtime="20230418 11:00:59.708"/>
</kw>
<status status="PASS" starttime="20230418 11:00:59.072" endtime="20230418 11:00:59.708"/>
</kw>
<msg timestamp="20230418 11:00:59.708" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:59.071" endtime="20230418 11:00:59.709"/>
</kw>
<status status="PASS" starttime="20230418 11:00:59.071" endtime="20230418 11:00:59.709"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:00:59.714" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:00.357" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:00.357" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:00:59.711" endtime="20230418 11:01:00.357"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:00.358" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:00.358" endtime="20230418 11:01:00.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:00.359" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:00.359" endtime="20230418 11:01:00.359"/>
</kw>
<status status="PASS" starttime="20230418 11:00:59.710" endtime="20230418 11:01:00.360"/>
</kw>
<msg timestamp="20230418 11:01:00.360" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:00:59.710" endtime="20230418 11:01:00.361"/>
</kw>
<status status="PASS" starttime="20230418 11:00:59.709" endtime="20230418 11:01:00.361"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:00.367" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:01.073" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:01.073" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:00.363" endtime="20230418 11:01:01.073"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:01.075" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:01.074" endtime="20230418 11:01:01.075"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:01.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:01.075" endtime="20230418 11:01:01.076"/>
</kw>
<status status="PASS" starttime="20230418 11:01:00.362" endtime="20230418 11:01:01.076"/>
</kw>
<msg timestamp="20230418 11:01:01.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:00.362" endtime="20230418 11:01:01.077"/>
</kw>
<status status="PASS" starttime="20230418 11:01:00.361" endtime="20230418 11:01:01.077"/>
</kw>
<status status="PASS" starttime="20230418 11:00:58.453" endtime="20230418 11:01:01.077"/>
</kw>
<status status="PASS" starttime="20230418 11:00:58.452" endtime="20230418 11:01:01.077"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:00:58.451" endtime="20230418 11:01:01.078"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:01.086" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:01.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:01.989" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:01:01.083" endtime="20230418 11:01:01.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:01.991" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:01:01.990" endtime="20230418 11:01:01.991"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:01.992" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:01.991" endtime="20230418 11:01:01.992"/>
</kw>
<status status="PASS" starttime="20230418 11:01:01.082" endtime="20230418 11:01:01.992"/>
</kw>
<msg timestamp="20230418 11:01:01.992" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:01.081" endtime="20230418 11:01:01.993"/>
</kw>
<msg timestamp="20230418 11:01:01.994" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:01:01.081" endtime="20230418 11:01:01.994"/>
</kw>
<msg timestamp="20230418 11:01:01.994" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230418 11:01:01.080" endtime="20230418 11:01:01.994"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:01.994" endtime="20230418 11:01:01.995"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:01.995" endtime="20230418 11:01:01.995"/>
</kw>
<msg timestamp="20230418 11:01:01.996" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230418 11:01:01.079" endtime="20230418 11:01:01.996"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230418 11:01:01.996" endtime="20230418 11:01:01.996"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:01.078" endtime="20230418 11:01:01.997"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:02.003" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230418 11:01:02.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:02.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:02.000" endtime="20230418 11:01:02.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:02.008" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:02.007" endtime="20230418 11:01:02.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:02.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:02.008" endtime="20230418 11:01:02.009"/>
</kw>
<status status="PASS" starttime="20230418 11:01:01.999" endtime="20230418 11:01:02.009"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:02.014" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:03.021" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:03.021" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:02.011" endtime="20230418 11:01:03.021"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:03.023" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:03.022" endtime="20230418 11:01:03.023"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:03.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:03.023" endtime="20230418 11:01:03.024"/>
</kw>
<msg timestamp="20230418 11:01:03.024" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:02.010" endtime="20230418 11:01:03.025"/>
</kw>
<msg timestamp="20230418 11:01:03.025" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:02.009" endtime="20230418 11:01:03.025"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:03.025" endtime="20230418 11:01:03.026"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:03.030" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:03.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:03.033" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:03.027" endtime="20230418 11:01:03.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:03.035" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:03.034" endtime="20230418 11:01:03.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:03.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:03.035" endtime="20230418 11:01:03.037"/>
</kw>
<status status="PASS" starttime="20230418 11:01:03.026" endtime="20230418 11:01:03.037"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:01.998" endtime="20230418 11:01:03.037"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230418 11:00:29.077" endtime="20230418 11:01:03.040"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 11:01:07.990" level="INFO">${random} = 69988</msg>
<status status="PASS" starttime="20230418 11:01:07.990" endtime="20230418 11:01:07.990"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:07.998" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-69988 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:14.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:14.979" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:07.993" endtime="20230418 11:01:14.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:14.982" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:14.980" endtime="20230418 11:01:14.982"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:14.983" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:14.982" endtime="20230418 11:01:14.984"/>
</kw>
<status status="PASS" starttime="20230418 11:01:07.992" endtime="20230418 11:01:14.984"/>
</kw>
<msg timestamp="20230418 11:01:14.985" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:07.991" endtime="20230418 11:01:14.987"/>
</kw>
<msg timestamp="20230418 11:01:14.988" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:07.991" endtime="20230418 11:01:14.988"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:14.989" endtime="20230418 11:01:14.989"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:14.994" level="INFO">Running command 'cat /tmp/key-69988 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:14.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:14.999" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:14.991" endtime="20230418 11:01:14.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:15.001" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:14.999" endtime="20230418 11:01:15.001"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:15.002" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:15.001" endtime="20230418 11:01:15.002"/>
</kw>
<msg timestamp="20230418 11:01:15.002" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:14.990" endtime="20230418 11:01:15.003"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:15.003" endtime="20230418 11:01:15.003"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:15.007" level="INFO">Running command 'rm /tmp/key-69988 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:15.011" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:15.011" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:15.005" endtime="20230418 11:01:15.011"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:15.012" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:15.011" endtime="20230418 11:01:15.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:15.013" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:15.012" endtime="20230418 11:01:15.013"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.004" endtime="20230418 11:01:15.013"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:07.989" endtime="20230418 11:01:15.014"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:15.021" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:15.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:15.724" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:15.018" endtime="20230418 11:01:15.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:15.726" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:15.725" endtime="20230418 11:01:15.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:15.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:15.726" endtime="20230418 11:01:15.727"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.017" endtime="20230418 11:01:15.728"/>
</kw>
<msg timestamp="20230418 11:01:15.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:15.017" endtime="20230418 11:01:15.729"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.017" endtime="20230418 11:01:15.729"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:15.733" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:16.370" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:16.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:15.731" endtime="20230418 11:01:16.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:16.374" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:16.372" endtime="20230418 11:01:16.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:16.375" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:16.374" endtime="20230418 11:01:16.375"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.730" endtime="20230418 11:01:16.376"/>
</kw>
<msg timestamp="20230418 11:01:16.376" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:15.730" endtime="20230418 11:01:16.377"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.729" endtime="20230418 11:01:16.377"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:16.382" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:17.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:17.189" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:16.379" endtime="20230418 11:01:17.189"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:17.190" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:17.189" endtime="20230418 11:01:17.190"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:17.191" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:17.191" endtime="20230418 11:01:17.191"/>
</kw>
<status status="PASS" starttime="20230418 11:01:16.378" endtime="20230418 11:01:17.192"/>
</kw>
<msg timestamp="20230418 11:01:17.192" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:16.378" endtime="20230418 11:01:17.192"/>
</kw>
<status status="PASS" starttime="20230418 11:01:16.377" endtime="20230418 11:01:17.192"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:17.197" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:17.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:17.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:17.194" endtime="20230418 11:01:17.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:17.937" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:17.935" endtime="20230418 11:01:17.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:17.939" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:17.937" endtime="20230418 11:01:17.939"/>
</kw>
<status status="PASS" starttime="20230418 11:01:17.193" endtime="20230418 11:01:17.939"/>
</kw>
<msg timestamp="20230418 11:01:17.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:17.193" endtime="20230418 11:01:17.940"/>
</kw>
<status status="PASS" starttime="20230418 11:01:17.192" endtime="20230418 11:01:17.940"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.016" endtime="20230418 11:01:17.941"/>
</kw>
<status status="PASS" starttime="20230418 11:01:15.016" endtime="20230418 11:01:17.941"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:15.015" endtime="20230418 11:01:17.941"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:17.953" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:18.798" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:18.798" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:17.949" endtime="20230418 11:01:18.798"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:18.800" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:01:18 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:01:18.799" endtime="20230418 11:01:18.800"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:18.801" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:18.801" endtime="20230418 11:01:18.801"/>
</kw>
<msg timestamp="20230418 11:01:18.802" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:17.948" endtime="20230418 11:01:18.802"/>
</kw>
<msg timestamp="20230418 11:01:18.802" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:00:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:17.947" endtime="20230418 11:01:18.802"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:18.802" endtime="20230418 11:01:18.803"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:18.807" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:18.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:18.811" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:18.804" endtime="20230418 11:01:18.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:18.812" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:18.811" endtime="20230418 11:01:18.812"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:18.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:18.812" endtime="20230418 11:01:18.815"/>
</kw>
<msg timestamp="20230418 11:01:18.816" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 11:01:18.803" endtime="20230418 11:01:18.816"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:18.816" endtime="20230418 11:01:18.817"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:18.821" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:18.824" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:18.824" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:18.818" endtime="20230418 11:01:18.824"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:18.825" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:18.824" endtime="20230418 11:01:18.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:18.826" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:18.826" endtime="20230418 11:01:18.827"/>
</kw>
<status status="PASS" starttime="20230418 11:01:18.817" endtime="20230418 11:01:18.827"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:17.945" endtime="20230418 11:01:18.827"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:18.835" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:19.664" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:19.664" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:18.832" endtime="20230418 11:01:19.664"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:19.667" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 11:01:19 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 11:01:19.665" endtime="20230418 11:01:19.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:19.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:19.667" endtime="20230418 11:01:19.668"/>
</kw>
<msg timestamp="20230418 11:01:19.669" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:18.831" endtime="20230418 11:01:19.669"/>
</kw>
<msg timestamp="20230418 11:01:19.669" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 11:01:02 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 11:01:18.830" endtime="20230418 11:01:19.669"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:19.669" endtime="20230418 11:01:19.670"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:19.674" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:19.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:19.678" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:01:19.671" endtime="20230418 11:01:19.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:19.680" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:01:19.679" endtime="20230418 11:01:19.680"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:19.681" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:19.680" endtime="20230418 11:01:19.681"/>
</kw>
<msg timestamp="20230418 11:01:19.681" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 11:01:19.670" endtime="20230418 11:01:19.681"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:19.682" endtime="20230418 11:01:19.683"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:19.687" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:19.690" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:19.690" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 11:01:19.684" endtime="20230418 11:01:19.690"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:19.692" level="INFO"/>
<status status="PASS" starttime="20230418 11:01:19.691" endtime="20230418 11:01:19.692"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:19.693" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:19.693" endtime="20230418 11:01:19.694"/>
</kw>
<status status="PASS" starttime="20230418 11:01:19.683" endtime="20230418 11:01:19.694"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:18.829" endtime="20230418 11:01:19.695"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 11:01:07.887" endtime="20230418 11:01:19.698"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230418 11:01:24.374" endtime="20230418 11:01:24.375"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230418 11:01:24.375" endtime="20230418 11:01:24.376"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 11:01:24.383" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 11:01:34.780" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 11:01:34.780" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 11:01:24.377" endtime="20230418 11:01:34.780"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 11:01:34.781" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230418 11:01:34.780" endtime="20230418 11:01:34.782"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 11:01:34.782" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 11:01:34.782" endtime="20230418 11:01:34.783"/>
</kw>
<status status="PASS" starttime="20230418 11:01:24.377" endtime="20230418 11:01:34.783"/>
</kw>
<msg timestamp="20230418 11:01:34.783" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 11:01:24.376" endtime="20230418 11:01:34.785"/>
</kw>
<msg timestamp="20230418 11:01:34.785" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230418 11:01:24.376" endtime="20230418 11:01:34.785"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 11:01:34.786" endtime="20230418 11:01:34.786"/>
</kw>
<status status="PASS" starttime="20230418 11:01:34.785" endtime="20230418 11:01:34.786"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 11:01:24.373" endtime="20230418 11:01:34.787"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230418 11:01:24.282" endtime="20230418 11:01:34.789"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230418 10:59:38.951" level="INFO">${random} = 11949</msg>
<status status="PASS" starttime="20230418 10:59:38.950" endtime="20230418 10:59:38.951"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:38.958" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-11949 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:46.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:46.945" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:38.953" endtime="20230418 10:59:46.945"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:46.947" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:46.946" endtime="20230418 10:59:46.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:46.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:46.947" endtime="20230418 10:59:46.948"/>
</kw>
<status status="PASS" starttime="20230418 10:59:38.952" endtime="20230418 10:59:46.948"/>
</kw>
<msg timestamp="20230418 10:59:46.949" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:59:38.951" endtime="20230418 10:59:46.950"/>
</kw>
<msg timestamp="20230418 10:59:46.950" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:38.951" endtime="20230418 10:59:46.950"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:46.950" endtime="20230418 10:59:46.951"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:46.955" level="INFO">Running command 'cat /tmp/key-11949 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:46.962" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:46.962" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:46.952" endtime="20230418 10:59:46.962"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:46.964" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:46.963" endtime="20230418 10:59:46.964"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:46.965" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:46.964" endtime="20230418 10:59:46.965"/>
</kw>
<msg timestamp="20230418 10:59:46.966" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:46.951" endtime="20230418 10:59:46.966"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:46.966" endtime="20230418 10:59:46.966"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:46.970" level="INFO">Running command 'rm /tmp/key-11949 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:46.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:46.974" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:46.967" endtime="20230418 10:59:46.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:46.976" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:46.975" endtime="20230418 10:59:46.976"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:46.977" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:46.976" endtime="20230418 10:59:46.977"/>
</kw>
<status status="PASS" starttime="20230418 10:59:46.967" endtime="20230418 10:59:46.977"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:59:38.949" endtime="20230418 10:59:46.978"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:46.985" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:47.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:47.972" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:46.982" endtime="20230418 10:59:47.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:47.978" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:47.976" endtime="20230418 10:59:47.978"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:47.979" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:47.978" endtime="20230418 10:59:47.980"/>
</kw>
<status status="PASS" starttime="20230418 10:59:46.982" endtime="20230418 10:59:47.981"/>
</kw>
<msg timestamp="20230418 10:59:47.981" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:59:46.981" endtime="20230418 10:59:47.982"/>
</kw>
<status status="PASS" starttime="20230418 10:59:46.981" endtime="20230418 10:59:47.982"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:47.999" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:48.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:48.770" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:47.995" endtime="20230418 10:59:48.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:48.771" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:48.770" endtime="20230418 10:59:48.771"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:48.772" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:48.772" endtime="20230418 10:59:48.773"/>
</kw>
<status status="PASS" starttime="20230418 10:59:47.990" endtime="20230418 10:59:48.773"/>
</kw>
<msg timestamp="20230418 10:59:48.773" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:59:47.989" endtime="20230418 10:59:48.774"/>
</kw>
<status status="PASS" starttime="20230418 10:59:47.982" endtime="20230418 10:59:48.774"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:48.779" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:49.498" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:49.498" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:48.776" endtime="20230418 10:59:49.498"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:49.500" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:49.499" endtime="20230418 10:59:49.500"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:49.501" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:49.500" endtime="20230418 10:59:49.501"/>
</kw>
<status status="PASS" starttime="20230418 10:59:48.776" endtime="20230418 10:59:49.501"/>
</kw>
<msg timestamp="20230418 10:59:49.501" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:59:48.775" endtime="20230418 10:59:49.502"/>
</kw>
<status status="PASS" starttime="20230418 10:59:48.775" endtime="20230418 10:59:49.502"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:49.507" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:50.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:50.134" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:49.504" endtime="20230418 10:59:50.134"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:50.135" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:50.134" endtime="20230418 10:59:50.135"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:50.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:50.135" endtime="20230418 10:59:50.136"/>
</kw>
<status status="PASS" starttime="20230418 10:59:49.503" endtime="20230418 10:59:50.136"/>
</kw>
<msg timestamp="20230418 10:59:50.136" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230418 10:59:49.503" endtime="20230418 10:59:50.137"/>
</kw>
<status status="PASS" starttime="20230418 10:59:49.503" endtime="20230418 10:59:50.137"/>
</kw>
<status status="PASS" starttime="20230418 10:59:46.980" endtime="20230418 10:59:50.137"/>
</kw>
<status status="PASS" starttime="20230418 10:59:46.980" endtime="20230418 10:59:50.137"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:59:46.979" endtime="20230418 10:59:50.137"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:50.144" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:54.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:54.519" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:50.141" endtime="20230418 10:59:54.519"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:54.521" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 10:59:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 10:59:54.520" endtime="20230418 10:59:54.521"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:54.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:54.522" endtime="20230418 10:59:54.522"/>
</kw>
<msg timestamp="20230418 10:59:54.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:50.140" endtime="20230418 10:59:54.523"/>
</kw>
<msg timestamp="20230418 10:59:54.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:33 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:50.140" endtime="20230418 10:59:54.523"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:54.524" endtime="20230418 10:59:54.524"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:54.528" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:54.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:54.532" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:54.525" endtime="20230418 10:59:54.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:54.534" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:54.533" endtime="20230418 10:59:54.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:54.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:54.534" endtime="20230418 10:59:54.535"/>
</kw>
<msg timestamp="20230418 10:59:54.535" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230418 10:59:54.524" endtime="20230418 10:59:54.535"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:54.535" endtime="20230418 10:59:54.536"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:54.539" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:54.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:54.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:54.537" endtime="20230418 10:59:54.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:54.544" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:54.543" endtime="20230418 10:59:54.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:54.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:54.544" endtime="20230418 10:59:54.545"/>
</kw>
<status status="PASS" starttime="20230418 10:59:54.536" endtime="20230418 10:59:54.545"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:59:50.139" endtime="20230418 10:59:54.546"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:54.573" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:55.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:55.503" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:54.568" endtime="20230418 10:59:55.503"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:55.515" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 18 Apr 2023 10:59:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230418 10:59:55.503" endtime="20230418 10:59:55.515"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:55.520" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:55.519" endtime="20230418 10:59:55.520"/>
</kw>
<msg timestamp="20230418 10:59:55.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:54.562" endtime="20230418 10:59:55.523"/>
</kw>
<msg timestamp="20230418 10:59:55.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 18 Apr 2023 10:56:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230418 10:59:54.561" endtime="20230418 10:59:55.523"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:55.523" endtime="20230418 10:59:55.531"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:55.539" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:55.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:55.542" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:59:55.534" endtime="20230418 10:59:55.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:55.544" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:59:55.543" endtime="20230418 10:59:55.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:55.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:55.544" endtime="20230418 10:59:55.545"/>
</kw>
<msg timestamp="20230418 10:59:55.545" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230418 10:59:55.531" endtime="20230418 10:59:55.545"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230418 10:59:55.546" endtime="20230418 10:59:55.546"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230418 10:59:55.550" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230418 10:59:55.553" level="INFO">${rc} = 0</msg>
<msg timestamp="20230418 10:59:55.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230418 10:59:55.547" endtime="20230418 10:59:55.554"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230418 10:59:55.555" level="INFO"/>
<status status="PASS" starttime="20230418 10:59:55.554" endtime="20230418 10:59:55.555"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230418 10:59:55.556" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230418 10:59:55.555" endtime="20230418 10:59:55.556"/>
</kw>
<status status="PASS" starttime="20230418 10:59:55.546" endtime="20230418 10:59:55.557"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230418 10:59:54.560" endtime="20230418 10:59:55.557"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230418 10:59:38.839" endtime="20230418 10:59:55.560"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="521179"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
