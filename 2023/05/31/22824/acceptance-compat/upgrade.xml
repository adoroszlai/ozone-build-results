<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230531 01:12:54.745" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:03:33.383" level="INFO">${random} = 06584</msg>
<status status="PASS" starttime="20230531 01:03:33.382" endtime="20230531 01:03:33.383"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:33.389" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-06584 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:38.675" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:38.675" level="INFO">${output} = 2023-05-31 01:03:37,363 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:37,456 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:03:33.385" endtime="20230531 01:03:38.675"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:38.676" level="INFO">2023-05-31 01:03:37,363 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:37,456 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:03:37,457 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230531 01:03:38.676" endtime="20230531 01:03:38.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:38.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:38.677" endtime="20230531 01:03:38.677"/>
</kw>
<status status="PASS" starttime="20230531 01:03:33.385" endtime="20230531 01:03:38.677"/>
</kw>
<msg timestamp="20230531 01:03:38.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:33.384" endtime="20230531 01:03:38.679"/>
</kw>
<msg timestamp="20230531 01:03:38.679" level="INFO">${output} = 2023-05-31 01:03:37,363 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:37,456 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:03:33.383" endtime="20230531 01:03:38.679"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:38.679" endtime="20230531 01:03:38.680"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:38.683" level="INFO">Running command 'cat /tmp/key-06584 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:38.685" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:38.685" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:38.681" endtime="20230531 01:03:38.685"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:38.686" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:38.686" endtime="20230531 01:03:38.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:38.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:38.686" endtime="20230531 01:03:38.687"/>
</kw>
<msg timestamp="20230531 01:03:38.687" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:38.680" endtime="20230531 01:03:38.687"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:38.687" endtime="20230531 01:03:38.688"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:38.690" level="INFO">Running command 'rm /tmp/key-06584 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:38.693" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:38.693" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:38.688" endtime="20230531 01:03:38.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:38.694" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:38.693" endtime="20230531 01:03:38.694"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:38.694" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:38.694" endtime="20230531 01:03:38.695"/>
</kw>
<status status="PASS" starttime="20230531 01:03:38.688" endtime="20230531 01:03:38.695"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:33.381" endtime="20230531 01:03:38.695"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:38.701" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:39.204" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:39.204" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:38.699" endtime="20230531 01:03:39.204"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:39.205" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:39.204" endtime="20230531 01:03:39.205"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:39.206" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:39.205" endtime="20230531 01:03:39.206"/>
</kw>
<status status="PASS" starttime="20230531 01:03:38.698" endtime="20230531 01:03:39.206"/>
</kw>
<msg timestamp="20230531 01:03:39.206" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:38.698" endtime="20230531 01:03:39.206"/>
</kw>
<status status="PASS" starttime="20230531 01:03:38.698" endtime="20230531 01:03:39.208"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:39.213" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:39.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:39.718" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:39.209" endtime="20230531 01:03:39.718"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:39.719" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:39.718" endtime="20230531 01:03:39.719"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:39.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:39.719" endtime="20230531 01:03:39.720"/>
</kw>
<status status="PASS" starttime="20230531 01:03:39.209" endtime="20230531 01:03:39.720"/>
</kw>
<msg timestamp="20230531 01:03:39.720" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:39.209" endtime="20230531 01:03:39.720"/>
</kw>
<status status="PASS" starttime="20230531 01:03:39.208" endtime="20230531 01:03:39.721"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:39.724" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:40.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:40.212" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:39.722" endtime="20230531 01:03:40.212"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:40.213" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:40.212" endtime="20230531 01:03:40.213"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:40.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:40.213" endtime="20230531 01:03:40.214"/>
</kw>
<status status="PASS" starttime="20230531 01:03:39.721" endtime="20230531 01:03:40.214"/>
</kw>
<msg timestamp="20230531 01:03:40.214" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:39.721" endtime="20230531 01:03:40.215"/>
</kw>
<status status="PASS" starttime="20230531 01:03:39.721" endtime="20230531 01:03:40.215"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:40.219" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:40.704" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:40.704" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:40.216" endtime="20230531 01:03:40.704"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:40.705" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:40.705" endtime="20230531 01:03:40.705"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:40.706" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:40.705" endtime="20230531 01:03:40.706"/>
</kw>
<status status="PASS" starttime="20230531 01:03:40.216" endtime="20230531 01:03:40.706"/>
</kw>
<msg timestamp="20230531 01:03:40.706" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:40.215" endtime="20230531 01:03:40.707"/>
</kw>
<status status="PASS" starttime="20230531 01:03:40.215" endtime="20230531 01:03:40.707"/>
</kw>
<status status="PASS" starttime="20230531 01:03:38.697" endtime="20230531 01:03:40.707"/>
</kw>
<status status="PASS" starttime="20230531 01:03:38.697" endtime="20230531 01:03:40.707"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:38.696" endtime="20230531 01:03:40.707"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:40.712" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:43.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:43.632" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:40.710" endtime="20230531 01:03:43.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:43.633" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:03:41 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:03:43.632" endtime="20230531 01:03:43.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:43.634" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:43.634" endtime="20230531 01:03:43.634"/>
</kw>
<msg timestamp="20230531 01:03:43.635" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:40.709" endtime="20230531 01:03:43.635"/>
</kw>
<msg timestamp="20230531 01:03:43.635" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:40.709" endtime="20230531 01:03:43.635"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:43.635" endtime="20230531 01:03:43.635"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:43.639" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:43.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:43.643" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:43.636" endtime="20230531 01:03:43.643"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:43.644" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:43.643" endtime="20230531 01:03:43.644"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:43.645" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:43.644" endtime="20230531 01:03:43.645"/>
</kw>
<msg timestamp="20230531 01:03:43.645" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:43.636" endtime="20230531 01:03:43.645"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:43.645" endtime="20230531 01:03:43.646"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:43.649" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:43.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:43.652" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:43.646" endtime="20230531 01:03:43.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:43.654" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:43.653" endtime="20230531 01:03:43.654"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:43.655" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:43.654" endtime="20230531 01:03:43.655"/>
</kw>
<status status="PASS" starttime="20230531 01:03:43.646" endtime="20230531 01:03:43.655"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:40.708" endtime="20230531 01:03:43.656"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:43.662" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:44.356" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:44.356" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:43.660" endtime="20230531 01:03:44.356"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:44.357" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:03:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:03:44.356" endtime="20230531 01:03:44.357"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:44.357" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:44.357" endtime="20230531 01:03:44.357"/>
</kw>
<msg timestamp="20230531 01:03:44.358" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:43.659" endtime="20230531 01:03:44.358"/>
</kw>
<msg timestamp="20230531 01:03:44.358" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:59:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:43.658" endtime="20230531 01:03:44.358"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:44.358" endtime="20230531 01:03:44.359"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:44.361" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:44.364" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:44.364" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:44.359" endtime="20230531 01:03:44.364"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:44.365" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:44.364" endtime="20230531 01:03:44.365"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:44.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:44.365" endtime="20230531 01:03:44.365"/>
</kw>
<msg timestamp="20230531 01:03:44.366" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:44.359" endtime="20230531 01:03:44.366"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:44.366" endtime="20230531 01:03:44.366"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:44.369" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:44.371" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:44.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:44.367" endtime="20230531 01:03:44.371"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:44.372" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:44.371" endtime="20230531 01:03:44.372"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:44.373" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:44.372" endtime="20230531 01:03:44.373"/>
</kw>
<status status="PASS" starttime="20230531 01:03:44.366" endtime="20230531 01:03:44.373"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:43.657" endtime="20230531 01:03:44.373"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:03:33.304" endtime="20230531 01:03:44.375"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:03:48.186" level="INFO">${random} = 98958</msg>
<status status="PASS" starttime="20230531 01:03:48.186" endtime="20230531 01:03:48.186"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:48.192" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-98958 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:52.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:52.311" level="INFO">${output} = 2023-05-31 01:03:51,146 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:51,237 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:03:48.189" endtime="20230531 01:03:52.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:52.312" level="INFO">2023-05-31 01:03:51,146 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:51,237 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:03:51,237 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230531 01:03:52.312" endtime="20230531 01:03:52.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:52.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:52.313" endtime="20230531 01:03:52.313"/>
</kw>
<status status="PASS" starttime="20230531 01:03:48.188" endtime="20230531 01:03:52.314"/>
</kw>
<msg timestamp="20230531 01:03:52.314" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:48.187" endtime="20230531 01:03:52.315"/>
</kw>
<msg timestamp="20230531 01:03:52.315" level="INFO">${output} = 2023-05-31 01:03:51,146 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:03:51,237 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:03:48.187" endtime="20230531 01:03:52.315"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:52.315" endtime="20230531 01:03:52.316"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:52.319" level="INFO">Running command 'cat /tmp/key-98958 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:52.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:52.322" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:52.317" endtime="20230531 01:03:52.322"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:52.323" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:52.322" endtime="20230531 01:03:52.323"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:52.324" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:52.323" endtime="20230531 01:03:52.324"/>
</kw>
<msg timestamp="20230531 01:03:52.324" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:52.316" endtime="20230531 01:03:52.324"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:52.325" endtime="20230531 01:03:52.325"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:52.330" level="INFO">Running command 'rm /tmp/key-98958 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:52.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:52.331" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:52.326" endtime="20230531 01:03:52.331"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:52.332" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:52.332" endtime="20230531 01:03:52.333"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:52.333" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:52.333" endtime="20230531 01:03:52.333"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.325" endtime="20230531 01:03:52.333"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:48.185" endtime="20230531 01:03:52.334"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:52.340" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:52.874" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:52.874" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:52.338" endtime="20230531 01:03:52.874"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:52.876" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:52.875" endtime="20230531 01:03:52.876"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:52.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:52.876" endtime="20230531 01:03:52.877"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.337" endtime="20230531 01:03:52.877"/>
</kw>
<msg timestamp="20230531 01:03:52.877" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:52.337" endtime="20230531 01:03:52.877"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.337" endtime="20230531 01:03:52.878"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:52.881" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:53.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:53.396" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:52.879" endtime="20230531 01:03:53.396"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:53.397" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:53.396" endtime="20230531 01:03:53.397"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:53.398" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:53.397" endtime="20230531 01:03:53.398"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.879" endtime="20230531 01:03:53.398"/>
</kw>
<msg timestamp="20230531 01:03:53.398" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:52.878" endtime="20230531 01:03:53.399"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.878" endtime="20230531 01:03:53.399"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:53.403" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:53.883" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:53.883" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:53.400" endtime="20230531 01:03:53.883"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:53.885" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:53.884" endtime="20230531 01:03:53.885"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:53.885" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:53.885" endtime="20230531 01:03:53.885"/>
</kw>
<status status="PASS" starttime="20230531 01:03:53.400" endtime="20230531 01:03:53.885"/>
</kw>
<msg timestamp="20230531 01:03:53.886" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:53.399" endtime="20230531 01:03:53.886"/>
</kw>
<status status="PASS" starttime="20230531 01:03:53.399" endtime="20230531 01:03:53.886"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:53.890" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:54.367" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:54.367" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:53.888" endtime="20230531 01:03:54.367"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:54.369" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:54.368" endtime="20230531 01:03:54.369"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:54.369" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:54.369" endtime="20230531 01:03:54.369"/>
</kw>
<status status="PASS" starttime="20230531 01:03:53.887" endtime="20230531 01:03:54.370"/>
</kw>
<msg timestamp="20230531 01:03:54.370" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:53.887" endtime="20230531 01:03:54.370"/>
</kw>
<status status="PASS" starttime="20230531 01:03:53.886" endtime="20230531 01:03:54.370"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.336" endtime="20230531 01:03:54.370"/>
</kw>
<status status="PASS" starttime="20230531 01:03:52.336" endtime="20230531 01:03:54.370"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:52.335" endtime="20230531 01:03:54.371"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:54.376" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.092" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.092" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:54.373" endtime="20230531 01:03:55.092"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.093" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:03:54 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:03:55.092" endtime="20230531 01:03:55.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.094" endtime="20230531 01:03:55.094"/>
</kw>
<msg timestamp="20230531 01:03:55.095" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:54.373" endtime="20230531 01:03:55.095"/>
</kw>
<msg timestamp="20230531 01:03:55.095" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:54.372" endtime="20230531 01:03:55.095"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:55.095" endtime="20230531 01:03:55.096"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:55.098" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.101" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.101" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:55.096" endtime="20230531 01:03:55.101"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.102" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:55.102" endtime="20230531 01:03:55.102"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.103" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.102" endtime="20230531 01:03:55.103"/>
</kw>
<msg timestamp="20230531 01:03:55.103" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:03:55.096" endtime="20230531 01:03:55.103"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:55.104" endtime="20230531 01:03:55.104"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:55.107" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.110" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.110" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:55.105" endtime="20230531 01:03:55.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.111" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:55.110" endtime="20230531 01:03:55.111"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.111" endtime="20230531 01:03:55.111"/>
</kw>
<status status="PASS" starttime="20230531 01:03:55.104" endtime="20230531 01:03:55.112"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:54.371" endtime="20230531 01:03:55.112"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:55.117" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.746" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:55.115" endtime="20230531 01:03:55.746"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.747" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:03:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:03:55.747" endtime="20230531 01:03:55.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.748" endtime="20230531 01:03:55.748"/>
</kw>
<msg timestamp="20230531 01:03:55.748" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:55.114" endtime="20230531 01:03:55.749"/>
</kw>
<msg timestamp="20230531 01:03:55.749" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:03:55.113" endtime="20230531 01:03:55.749"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:55.749" endtime="20230531 01:03:55.749"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:55.752" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.755" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:55.750" endtime="20230531 01:03:55.755"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.756" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:55.755" endtime="20230531 01:03:55.756"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.756" endtime="20230531 01:03:55.756"/>
</kw>
<msg timestamp="20230531 01:03:55.757" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:03:55.749" endtime="20230531 01:03:55.757"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:03:55.757" endtime="20230531 01:03:55.757"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:55.760" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:55.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:55.762" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:03:55.758" endtime="20230531 01:03:55.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:55.763" level="INFO"/>
<status status="PASS" starttime="20230531 01:03:55.763" endtime="20230531 01:03:55.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:55.764" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:55.764" endtime="20230531 01:03:55.764"/>
</kw>
<status status="PASS" starttime="20230531 01:03:55.757" endtime="20230531 01:03:55.764"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:55.113" endtime="20230531 01:03:55.765"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:03:48.112" endtime="20230531 01:03:55.766"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:59.710" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:02.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:02.218" level="INFO">${output} = 2023-05-31 01:04:02,089 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 01:03:59.706" endtime="20230531 01:04:02.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:02.219" level="INFO">2023-05-31 01:04:02,089 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 01:04:02.218" endtime="20230531 01:04:02.219"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:02.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:02.219" endtime="20230531 01:04:02.220"/>
</kw>
<status status="PASS" starttime="20230531 01:03:59.705" endtime="20230531 01:04:02.220"/>
</kw>
<msg timestamp="20230531 01:04:02.220" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:59.705" endtime="20230531 01:04:02.222"/>
</kw>
<msg timestamp="20230531 01:04:02.225" level="INFO">${output} = 2023-05-31 01:04:02,089 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 01:03:59.704" endtime="20230531 01:04:02.225"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:02.225" endtime="20230531 01:04:02.226"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:02.233" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:05.146" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:05.146" level="INFO">${output} = 2023-05-31 01:04:05,088 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230531 01:04:02.231" endtime="20230531 01:04:05.146"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:05.147" level="INFO">2023-05-31 01:04:05,088 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230531 01:04:05.147" endtime="20230531 01:04:05.149"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:05.150" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:05.149" endtime="20230531 01:04:05.150"/>
</kw>
<status status="PASS" starttime="20230531 01:04:02.230" endtime="20230531 01:04:05.150"/>
</kw>
<msg timestamp="20230531 01:04:05.150" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:02.230" endtime="20230531 01:04:05.150"/>
</kw>
<msg timestamp="20230531 01:04:05.151" level="INFO">${output} = 2023-05-31 01:04:05,088 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230531 01:04:02.226" endtime="20230531 01:04:05.151"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:05.151" endtime="20230531 01:04:05.151"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:03:59.704" endtime="20230531 01:04:05.152"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:05.159" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:05.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:05.161" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:05.156" endtime="20230531 01:04:05.161"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:05.163" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:05.162" endtime="20230531 01:04:05.163"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:05.164" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:05.163" endtime="20230531 01:04:05.164"/>
</kw>
<status status="PASS" starttime="20230531 01:04:05.155" endtime="20230531 01:04:05.164"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:05.168" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:11.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:11.010" level="INFO">${output} = 2023-05-31 01:04:08,965 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:09,187 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:05.166" endtime="20230531 01:04:11.010"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:11.011" level="INFO">2023-05-31 01:04:08,965 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:09,187 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:04:09,187 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 01:04:09,500 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 01:04:11.010" endtime="20230531 01:04:11.011"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:11.012" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:11.011" endtime="20230531 01:04:11.012"/>
</kw>
<status status="PASS" starttime="20230531 01:04:05.165" endtime="20230531 01:04:11.012"/>
</kw>
<msg timestamp="20230531 01:04:11.012" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:05.165" endtime="20230531 01:04:11.013"/>
</kw>
<msg timestamp="20230531 01:04:11.013" level="INFO">${output} = 2023-05-31 01:04:08,965 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:09,187 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:05.164" endtime="20230531 01:04:11.013"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:11.014" endtime="20230531 01:04:11.014"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:11.018" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:11.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:11.021" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:11.015" endtime="20230531 01:04:11.021"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:11.022" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:11.021" endtime="20230531 01:04:11.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:11.022" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:11.022" endtime="20230531 01:04:11.022"/>
</kw>
<status status="PASS" starttime="20230531 01:04:11.014" endtime="20230531 01:04:11.023"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:05.154" endtime="20230531 01:04:11.023"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:11.030" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:13.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:13.756" level="INFO">${output} = 2023-05-31 01:04:13,685 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230531 01:04:11.027" endtime="20230531 01:04:13.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:13.757" level="INFO">2023-05-31 01:04:13,685 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230531 01:04:13.757" endtime="20230531 01:04:13.757"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:13.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:13.758" endtime="20230531 01:04:13.758"/>
</kw>
<status status="PASS" starttime="20230531 01:04:11.027" endtime="20230531 01:04:13.759"/>
</kw>
<msg timestamp="20230531 01:04:13.759" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:11.026" endtime="20230531 01:04:13.759"/>
</kw>
<msg timestamp="20230531 01:04:13.759" level="INFO">${output} = 2023-05-31 01:04:13,685 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230531 01:04:11.025" endtime="20230531 01:04:13.760"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:13.760" endtime="20230531 01:04:13.760"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:11.025" endtime="20230531 01:04:13.760"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:13.766" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:13.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:13.768" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:13.763" endtime="20230531 01:04:13.768"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:13.769" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:13.769" endtime="20230531 01:04:13.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:13.770" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:13.769" endtime="20230531 01:04:13.770"/>
</kw>
<status status="PASS" starttime="20230531 01:04:13.763" endtime="20230531 01:04:13.770"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:13.779" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:18.359" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:18.359" level="INFO">${output} = 2023-05-31 01:04:16,863 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:16,947 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:13.773" endtime="20230531 01:04:18.359"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:18.360" level="INFO">2023-05-31 01:04:16,863 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:16,947 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:04:16,948 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 01:04:17,230 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 01:04:18.359" endtime="20230531 01:04:18.360"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:18.361" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:18.360" endtime="20230531 01:04:18.361"/>
</kw>
<status status="PASS" starttime="20230531 01:04:13.772" endtime="20230531 01:04:18.361"/>
</kw>
<msg timestamp="20230531 01:04:18.361" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:13.772" endtime="20230531 01:04:18.362"/>
</kw>
<msg timestamp="20230531 01:04:18.362" level="INFO">${output} = 2023-05-31 01:04:16,863 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:16,947 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:13.770" endtime="20230531 01:04:18.362"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:18.362" endtime="20230531 01:04:18.362"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:18.366" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:18.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:18.368" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:18.363" endtime="20230531 01:04:18.368"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:18.370" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:18.369" endtime="20230531 01:04:18.370"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:18.370" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:18.370" endtime="20230531 01:04:18.370"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.362" endtime="20230531 01:04:18.371"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:13.762" endtime="20230531 01:04:18.371"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:18.377" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:18.937" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:18.937" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:18.375" endtime="20230531 01:04:18.937"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:18.939" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:18.938" endtime="20230531 01:04:18.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:18.939" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:18.939" endtime="20230531 01:04:18.939"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.374" endtime="20230531 01:04:18.940"/>
</kw>
<msg timestamp="20230531 01:04:18.940" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:18.374" endtime="20230531 01:04:18.940"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.373" endtime="20230531 01:04:18.940"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:18.944" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:19.472" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:19.472" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:18.942" endtime="20230531 01:04:19.472"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:19.473" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:19.472" endtime="20230531 01:04:19.473"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:19.474" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:19.473" endtime="20230531 01:04:19.474"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.941" endtime="20230531 01:04:19.474"/>
</kw>
<msg timestamp="20230531 01:04:19.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:18.941" endtime="20230531 01:04:19.475"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.941" endtime="20230531 01:04:19.475"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:19.479" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:19.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:19.985" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:19.476" endtime="20230531 01:04:19.985"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:19.986" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:19.985" endtime="20230531 01:04:19.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:19.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:19.986" endtime="20230531 01:04:19.987"/>
</kw>
<status status="PASS" starttime="20230531 01:04:19.476" endtime="20230531 01:04:19.987"/>
</kw>
<msg timestamp="20230531 01:04:19.987" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:19.475" endtime="20230531 01:04:19.988"/>
</kw>
<status status="PASS" starttime="20230531 01:04:19.475" endtime="20230531 01:04:19.988"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:19.991" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:20.473" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:20.473" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:19.989" endtime="20230531 01:04:20.473"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:20.474" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:20.473" endtime="20230531 01:04:20.474"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:20.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:20.474" endtime="20230531 01:04:20.475"/>
</kw>
<status status="PASS" starttime="20230531 01:04:19.989" endtime="20230531 01:04:20.475"/>
</kw>
<msg timestamp="20230531 01:04:20.475" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:19.988" endtime="20230531 01:04:20.476"/>
</kw>
<status status="PASS" starttime="20230531 01:04:19.988" endtime="20230531 01:04:20.476"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.373" endtime="20230531 01:04:20.476"/>
</kw>
<status status="PASS" starttime="20230531 01:04:18.373" endtime="20230531 01:04:20.476"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:18.372" endtime="20230531 01:04:20.476"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:20.483" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:21.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:21.124" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:20.481" endtime="20230531 01:04:21.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:21.126" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:21.125" endtime="20230531 01:04:21.126"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:21.126" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:21.126" endtime="20230531 01:04:21.126"/>
</kw>
<status status="PASS" starttime="20230531 01:04:20.480" endtime="20230531 01:04:21.127"/>
</kw>
<msg timestamp="20230531 01:04:21.127" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:20.480" endtime="20230531 01:04:21.127"/>
</kw>
<msg timestamp="20230531 01:04:21.128" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:20.479" endtime="20230531 01:04:21.128"/>
</kw>
<msg timestamp="20230531 01:04:21.128" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:20.479" endtime="20230531 01:04:21.128"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:21.128" endtime="20230531 01:04:21.129"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:21.129" endtime="20230531 01:04:21.129"/>
</kw>
<msg timestamp="20230531 01:04:21.129" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 01:04:20.478" endtime="20230531 01:04:21.129"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 01:04:21.130" endtime="20230531 01:04:21.130"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:20.478" endtime="20230531 01:04:21.130"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:21.135" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:21.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:21.136" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:21.132" endtime="20230531 01:04:21.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:21.137" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:21.137" endtime="20230531 01:04:21.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:21.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:21.137" endtime="20230531 01:04:21.138"/>
</kw>
<status status="PASS" starttime="20230531 01:04:21.132" endtime="20230531 01:04:21.138"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:21.142" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:22.400" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:22.400" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:21.140" endtime="20230531 01:04:22.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:22.401" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:22.400" endtime="20230531 01:04:22.401"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:22.402" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:22.401" endtime="20230531 01:04:22.402"/>
</kw>
<msg timestamp="20230531 01:04:22.402" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:21.139" endtime="20230531 01:04:22.402"/>
</kw>
<msg timestamp="20230531 01:04:22.402" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:21.138" endtime="20230531 01:04:22.402"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:22.402" endtime="20230531 01:04:22.403"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:22.406" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:22.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:22.409" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:22.404" endtime="20230531 01:04:22.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:22.410" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:22.409" endtime="20230531 01:04:22.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:22.410" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:22.410" endtime="20230531 01:04:22.411"/>
</kw>
<status status="PASS" starttime="20230531 01:04:22.403" endtime="20230531 01:04:22.411"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:21.131" endtime="20230531 01:04:22.411"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 01:03:59.625" endtime="20230531 01:04:22.413"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:04:26.298" level="INFO">${random} = 09174</msg>
<status status="PASS" starttime="20230531 01:04:26.298" endtime="20230531 01:04:26.298"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:26.305" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-09174 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:30.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:30.564" level="INFO">${output} = 2023-05-31 01:04:29,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:29,469 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:26.300" endtime="20230531 01:04:30.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:30.568" level="INFO">2023-05-31 01:04:29,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:29,469 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:04:29,469 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230531 01:04:30.566" endtime="20230531 01:04:30.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:30.568" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:30.568" endtime="20230531 01:04:30.569"/>
</kw>
<status status="PASS" starttime="20230531 01:04:26.300" endtime="20230531 01:04:30.569"/>
</kw>
<msg timestamp="20230531 01:04:30.569" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:26.299" endtime="20230531 01:04:30.570"/>
</kw>
<msg timestamp="20230531 01:04:30.571" level="INFO">${output} = 2023-05-31 01:04:29,371 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:29,469 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:26.298" endtime="20230531 01:04:30.571"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:30.571" endtime="20230531 01:04:30.572"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:30.575" level="INFO">Running command 'cat /tmp/key-09174 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:30.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:30.578" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:30.573" endtime="20230531 01:04:30.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:30.579" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:30.579" endtime="20230531 01:04:30.579"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:30.580" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:30.579" endtime="20230531 01:04:30.580"/>
</kw>
<msg timestamp="20230531 01:04:30.580" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:30.572" endtime="20230531 01:04:30.581"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:30.581" endtime="20230531 01:04:30.581"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:30.584" level="INFO">Running command 'rm /tmp/key-09174 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:30.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:30.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:30.582" endtime="20230531 01:04:30.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:30.588" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:30.587" endtime="20230531 01:04:30.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:30.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:30.588" endtime="20230531 01:04:30.589"/>
</kw>
<status status="PASS" starttime="20230531 01:04:30.581" endtime="20230531 01:04:30.589"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:26.297" endtime="20230531 01:04:30.589"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:30.596" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:31.052" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:31.052" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:30.593" endtime="20230531 01:04:31.052"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:31.053" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:31.053" endtime="20230531 01:04:31.053"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:31.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:31.054" endtime="20230531 01:04:31.054"/>
</kw>
<status status="PASS" starttime="20230531 01:04:30.593" endtime="20230531 01:04:31.054"/>
</kw>
<msg timestamp="20230531 01:04:31.054" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:30.592" endtime="20230531 01:04:31.055"/>
</kw>
<status status="PASS" starttime="20230531 01:04:30.592" endtime="20230531 01:04:31.055"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:31.059" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:31.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:31.523" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:31.056" endtime="20230531 01:04:31.523"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:31.524" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:31.523" endtime="20230531 01:04:31.524"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:31.524" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:31.524" endtime="20230531 01:04:31.525"/>
</kw>
<status status="PASS" starttime="20230531 01:04:31.056" endtime="20230531 01:04:31.525"/>
</kw>
<msg timestamp="20230531 01:04:31.525" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:31.056" endtime="20230531 01:04:31.526"/>
</kw>
<status status="PASS" starttime="20230531 01:04:31.055" endtime="20230531 01:04:31.526"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:31.530" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:32.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:32.008" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:31.527" endtime="20230531 01:04:32.008"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:32.009" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:32.008" endtime="20230531 01:04:32.009"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:32.010" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:32.009" endtime="20230531 01:04:32.010"/>
</kw>
<status status="PASS" starttime="20230531 01:04:31.527" endtime="20230531 01:04:32.010"/>
</kw>
<msg timestamp="20230531 01:04:32.010" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:31.527" endtime="20230531 01:04:32.010"/>
</kw>
<status status="PASS" starttime="20230531 01:04:31.526" endtime="20230531 01:04:32.011"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:32.014" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:32.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:32.549" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:32.012" endtime="20230531 01:04:32.549"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:32.550" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:32.549" endtime="20230531 01:04:32.550"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:32.551" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:32.550" endtime="20230531 01:04:32.551"/>
</kw>
<status status="PASS" starttime="20230531 01:04:32.011" endtime="20230531 01:04:32.551"/>
</kw>
<msg timestamp="20230531 01:04:32.552" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:32.011" endtime="20230531 01:04:32.552"/>
</kw>
<status status="PASS" starttime="20230531 01:04:32.011" endtime="20230531 01:04:32.552"/>
</kw>
<status status="PASS" starttime="20230531 01:04:30.591" endtime="20230531 01:04:32.552"/>
</kw>
<status status="PASS" starttime="20230531 01:04:30.591" endtime="20230531 01:04:32.552"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:30.590" endtime="20230531 01:04:32.553"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:32.557" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.163" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:32.555" endtime="20230531 01:04:33.163"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.164" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:04:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:04:33.164" endtime="20230531 01:04:33.164"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.165" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.165" endtime="20230531 01:04:33.165"/>
</kw>
<msg timestamp="20230531 01:04:33.166" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:32.554" endtime="20230531 01:04:33.166"/>
</kw>
<msg timestamp="20230531 01:04:33.166" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:32.554" endtime="20230531 01:04:33.166"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:33.166" endtime="20230531 01:04:33.166"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:33.169" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.172" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.172" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:33.167" endtime="20230531 01:04:33.172"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.173" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:33.172" endtime="20230531 01:04:33.173"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.173" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.173" endtime="20230531 01:04:33.173"/>
</kw>
<msg timestamp="20230531 01:04:33.174" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:04:33.167" endtime="20230531 01:04:33.174"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:33.174" endtime="20230531 01:04:33.174"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:33.177" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.179" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.179" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:33.175" endtime="20230531 01:04:33.179"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.180" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:33.180" endtime="20230531 01:04:33.180"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.181" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.180" endtime="20230531 01:04:33.181"/>
</kw>
<status status="PASS" starttime="20230531 01:04:33.174" endtime="20230531 01:04:33.181"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:32.553" endtime="20230531 01:04:33.181"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:33.186" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.795" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:33.184" endtime="20230531 01:04:33.795"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.796" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:04:33 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:04:33.795" endtime="20230531 01:04:33.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.796" endtime="20230531 01:04:33.797"/>
</kw>
<msg timestamp="20230531 01:04:33.797" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:33.184" endtime="20230531 01:04:33.797"/>
</kw>
<msg timestamp="20230531 01:04:33.798" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:04:33.183" endtime="20230531 01:04:33.798"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:33.798" endtime="20230531 01:04:33.798"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:33.810" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.812" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:04:33.803" endtime="20230531 01:04:33.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.814" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:04:33.813" endtime="20230531 01:04:33.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.814" endtime="20230531 01:04:33.815"/>
</kw>
<msg timestamp="20230531 01:04:33.815" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:04:33.802" endtime="20230531 01:04:33.815"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:33.815" endtime="20230531 01:04:33.816"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:33.820" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:33.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:33.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:33.817" endtime="20230531 01:04:33.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:33.827" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:33.826" endtime="20230531 01:04:33.827"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:33.828" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:33.827" endtime="20230531 01:04:33.828"/>
</kw>
<status status="PASS" starttime="20230531 01:04:33.816" endtime="20230531 01:04:33.828"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:33.182" endtime="20230531 01:04:33.830"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:04:26.222" endtime="20230531 01:04:33.832"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:37.863" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:37.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:37.865" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:37.858" endtime="20230531 01:04:37.865"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:37.866" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:37.866" endtime="20230531 01:04:37.866"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:37.867" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:37.866" endtime="20230531 01:04:37.867"/>
</kw>
<status status="PASS" starttime="20230531 01:04:37.858" endtime="20230531 01:04:37.867"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:37.871" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:42.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:42.652" level="INFO">${output} = 2023-05-31 01:04:41,128 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:41,235 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:37.869" endtime="20230531 01:04:42.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:42.653" level="INFO">2023-05-31 01:04:41,128 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:41,235 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:04:41,235 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 01:04:41,487 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 01:04:42.653" endtime="20230531 01:04:42.654"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:42.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:42.654" endtime="20230531 01:04:42.654"/>
</kw>
<status status="PASS" starttime="20230531 01:04:37.868" endtime="20230531 01:04:42.654"/>
</kw>
<msg timestamp="20230531 01:04:42.655" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:37.868" endtime="20230531 01:04:42.656"/>
</kw>
<msg timestamp="20230531 01:04:42.656" level="INFO">${output} = 2023-05-31 01:04:41,128 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:41,235 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:37.867" endtime="20230531 01:04:42.656"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:42.656" endtime="20230531 01:04:42.657"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:42.660" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:42.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:42.663" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:42.657" endtime="20230531 01:04:42.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:42.664" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:42.663" endtime="20230531 01:04:42.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:42.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:42.665" endtime="20230531 01:04:42.665"/>
</kw>
<status status="PASS" starttime="20230531 01:04:42.657" endtime="20230531 01:04:42.665"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:37.857" endtime="20230531 01:04:42.666"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:42.671" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:42.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:42.673" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:42.668" endtime="20230531 01:04:42.673"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:42.674" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:42.673" endtime="20230531 01:04:42.674"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:42.675" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:42.674" endtime="20230531 01:04:42.675"/>
</kw>
<status status="PASS" starttime="20230531 01:04:42.668" endtime="20230531 01:04:42.675"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:42.679" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:47.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:47.382" level="INFO">${output} = 2023-05-31 01:04:46,005 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:46,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:42.677" endtime="20230531 01:04:47.382"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:47.383" level="INFO">2023-05-31 01:04:46,005 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:46,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 01:04:46,092 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 01:04:46,348 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 01:04:47.382" endtime="20230531 01:04:47.383"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:47.384" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:47.383" endtime="20230531 01:04:47.384"/>
</kw>
<status status="PASS" starttime="20230531 01:04:42.677" endtime="20230531 01:04:47.384"/>
</kw>
<msg timestamp="20230531 01:04:47.384" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:42.676" endtime="20230531 01:04:47.384"/>
</kw>
<msg timestamp="20230531 01:04:47.385" level="INFO">${output} = 2023-05-31 01:04:46,005 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 01:04:46,092 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 01:04:42.675" endtime="20230531 01:04:47.385"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:47.385" endtime="20230531 01:04:47.385"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:47.388" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:47.390" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:47.391" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:47.386" endtime="20230531 01:04:47.391"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:47.392" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:47.391" endtime="20230531 01:04:47.392"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:47.392" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:47.392" endtime="20230531 01:04:47.392"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.385" endtime="20230531 01:04:47.393"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:42.667" endtime="20230531 01:04:47.393"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:47.398" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:47.879" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:47.879" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:47.396" endtime="20230531 01:04:47.879"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:47.880" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:47.880" endtime="20230531 01:04:47.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:47.881" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:47.881" endtime="20230531 01:04:47.881"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.396" endtime="20230531 01:04:47.881"/>
</kw>
<msg timestamp="20230531 01:04:47.881" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:47.395" endtime="20230531 01:04:47.882"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.395" endtime="20230531 01:04:47.882"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:47.886" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:48.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:48.363" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:47.884" endtime="20230531 01:04:48.364"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:48.365" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:48.364" endtime="20230531 01:04:48.365"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:48.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:48.365" endtime="20230531 01:04:48.365"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.883" endtime="20230531 01:04:48.366"/>
</kw>
<msg timestamp="20230531 01:04:48.366" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:47.883" endtime="20230531 01:04:48.366"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.882" endtime="20230531 01:04:48.366"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:48.370" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:48.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:48.845" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:48.368" endtime="20230531 01:04:48.845"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:48.846" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:48.845" endtime="20230531 01:04:48.846"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:48.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:48.846" endtime="20230531 01:04:48.847"/>
</kw>
<status status="PASS" starttime="20230531 01:04:48.367" endtime="20230531 01:04:48.847"/>
</kw>
<msg timestamp="20230531 01:04:48.847" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:48.367" endtime="20230531 01:04:48.848"/>
</kw>
<status status="PASS" starttime="20230531 01:04:48.367" endtime="20230531 01:04:48.848"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:48.851" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:49.351" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:49.351" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:48.849" endtime="20230531 01:04:49.351"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:49.352" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:49.352" endtime="20230531 01:04:49.352"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:49.353" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:49.353" endtime="20230531 01:04:49.353"/>
</kw>
<status status="PASS" starttime="20230531 01:04:48.849" endtime="20230531 01:04:49.354"/>
</kw>
<msg timestamp="20230531 01:04:49.354" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:48.848" endtime="20230531 01:04:49.354"/>
</kw>
<status status="PASS" starttime="20230531 01:04:48.848" endtime="20230531 01:04:49.355"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.395" endtime="20230531 01:04:49.355"/>
</kw>
<status status="PASS" starttime="20230531 01:04:47.394" endtime="20230531 01:04:49.355"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:47.394" endtime="20230531 01:04:49.355"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:49.361" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:49.968" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:49.968" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:49.359" endtime="20230531 01:04:49.968"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:49.969" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:49.968" endtime="20230531 01:04:49.969"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:49.970" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:49.969" endtime="20230531 01:04:49.970"/>
</kw>
<status status="PASS" starttime="20230531 01:04:49.359" endtime="20230531 01:04:49.970"/>
</kw>
<msg timestamp="20230531 01:04:49.970" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:49.359" endtime="20230531 01:04:49.971"/>
</kw>
<msg timestamp="20230531 01:04:49.971" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:49.358" endtime="20230531 01:04:49.971"/>
</kw>
<msg timestamp="20230531 01:04:49.972" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:04:49.358" endtime="20230531 01:04:49.972"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:49.972" endtime="20230531 01:04:49.972"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:49.972" endtime="20230531 01:04:49.973"/>
</kw>
<msg timestamp="20230531 01:04:49.973" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 01:04:49.357" endtime="20230531 01:04:49.973"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 01:04:49.973" endtime="20230531 01:04:49.974"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:49.356" endtime="20230531 01:04:49.974"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:49.978" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:04:49.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:49.980" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:49.976" endtime="20230531 01:04:49.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:49.981" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:49.981" endtime="20230531 01:04:49.982"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:49.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:49.982" endtime="20230531 01:04:49.982"/>
</kw>
<status status="PASS" starttime="20230531 01:04:49.975" endtime="20230531 01:04:49.982"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:49.986" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:50.720" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:50.721" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:49.984" endtime="20230531 01:04:50.721"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:50.722" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:50.721" endtime="20230531 01:04:50.722"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:50.723" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:50.722" endtime="20230531 01:04:50.723"/>
</kw>
<msg timestamp="20230531 01:04:50.723" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:49.983" endtime="20230531 01:04:50.723"/>
</kw>
<msg timestamp="20230531 01:04:50.724" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:49.983" endtime="20230531 01:04:50.724"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:04:50.724" endtime="20230531 01:04:50.724"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:50.727" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:04:50.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:04:50.730" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:04:50.725" endtime="20230531 01:04:50.730"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:04:50.731" level="INFO"/>
<status status="PASS" starttime="20230531 01:04:50.731" endtime="20230531 01:04:50.731"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:04:50.732" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:04:50.731" endtime="20230531 01:04:50.732"/>
</kw>
<status status="PASS" starttime="20230531 01:04:50.725" endtime="20230531 01:04:50.732"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:49.975" endtime="20230531 01:04:50.732"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 01:04:37.779" endtime="20230531 01:04:50.734"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:04:54.716" endtime="20230531 01:04:54.716"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:04:54.717" endtime="20230531 01:04:54.717"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:04:54.722" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:05:02.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:05:02.619" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [108].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230531 01:04:54.718" endtime="20230531 01:05:02.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:05:02.621" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [108].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [108]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [108]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [108]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230531 01:05:02.620" endtime="20230531 01:05:02.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:05:02.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:05:02.621" endtime="20230531 01:05:02.622"/>
</kw>
<status status="PASS" starttime="20230531 01:04:54.718" endtime="20230531 01:05:02.622"/>
</kw>
<msg timestamp="20230531 01:05:02.622" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:04:54.717" endtime="20230531 01:05:02.624"/>
</kw>
<msg timestamp="20230531 01:05:02.624" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [108].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230531 01:04:54.717" endtime="20230531 01:05:02.624"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:05:02.625" endtime="20230531 01:05:02.625"/>
</kw>
<status status="PASS" starttime="20230531 01:05:02.624" endtime="20230531 01:05:02.626"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:04:54.715" endtime="20230531 01:05:02.626"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230531 01:04:54.670" endtime="20230531 01:05:02.627"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:03:23.837" endtime="20230531 01:03:23.837"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:23.845" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:23.848" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:23.848" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=72f71b133405
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:03:23.842" endtime="20230531 01:03:23.848"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:23.849" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=72f71b133405
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:03:23.848" endtime="20230531 01:03:23.849"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:23.850" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:23.849" endtime="20230531 01:03:23.850"/>
</kw>
<status status="PASS" starttime="20230531 01:03:23.838" endtime="20230531 01:03:23.850"/>
</kw>
<msg timestamp="20230531 01:03:23.850" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:23.838" endtime="20230531 01:03:23.851"/>
</kw>
<msg timestamp="20230531 01:03:23.852" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=72f71b133405
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:03:23.838" endtime="20230531 01:03:23.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:23.853" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=72f71b133405
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:03:23.852" endtime="20230531 01:03:23.853"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:03:23.853" endtime="20230531 01:03:23.853"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:23.857" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:26.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:26.738" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 01:03:23.854" endtime="20230531 01:03:26.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:26.739" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 01:03:26.738" endtime="20230531 01:03:26.739"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:26.740" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:26.739" endtime="20230531 01:03:26.740"/>
</kw>
<status status="PASS" starttime="20230531 01:03:23.854" endtime="20230531 01:03:26.740"/>
</kw>
<msg timestamp="20230531 01:03:26.740" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:23.854" endtime="20230531 01:03:26.741"/>
</kw>
<msg timestamp="20230531 01:03:26.741" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 01:03:23.853" endtime="20230531 01:03:26.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:26.742" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 01:03:26.742" endtime="20230531 01:03:26.742"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:03:26.742" endtime="20230531 01:03:26.742"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:03:23.834" endtime="20230531 01:03:26.743"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:03:26.746" endtime="20230531 01:03:26.746"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:03:26.746" endtime="20230531 01:03:26.747"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:03:26.754" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:03:29.406" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:03:29.406" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:03:26.752" endtime="20230531 01:03:29.407"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:29.408" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:03:29.407" endtime="20230531 01:03:29.408"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:03:29.408" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:03:29.408" endtime="20230531 01:03:29.408"/>
</kw>
<status status="PASS" starttime="20230531 01:03:26.748" endtime="20230531 01:03:29.409"/>
</kw>
<msg timestamp="20230531 01:03:29.409" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:03:26.747" endtime="20230531 01:03:29.409"/>
</kw>
<msg timestamp="20230531 01:03:29.409" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:03:26.747" endtime="20230531 01:03:29.409"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:03:29.410" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:03:29.409" endtime="20230531 01:03:29.410"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:03:29.410" endtime="20230531 01:03:29.410"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:03:26.745" endtime="20230531 01:03:29.410"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 01:03:23.788" endtime="20230531 01:03:29.412"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:49.383" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:55:51.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:51.973" level="INFO">${output} = 2023-05-31 00:55:51,888 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 00:55:49.378" endtime="20230531 00:55:51.973"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:51.974" level="INFO">2023-05-31 00:55:51,888 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 00:55:51.973" endtime="20230531 00:55:51.974"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:51.975" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:51.974" endtime="20230531 00:55:51.975"/>
</kw>
<status status="PASS" starttime="20230531 00:55:49.377" endtime="20230531 00:55:51.975"/>
</kw>
<msg timestamp="20230531 00:55:51.975" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:49.377" endtime="20230531 00:55:51.986"/>
</kw>
<msg timestamp="20230531 00:55:51.986" level="INFO">${output} = 2023-05-31 00:55:51,888 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230531 00:55:49.376" endtime="20230531 00:55:51.986"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:55:51.986" endtime="20230531 00:55:51.987"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:51.997" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:55:54.641" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:54.641" level="INFO">${output} = 2023-05-31 00:55:54,574 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230531 00:55:51.990" endtime="20230531 00:55:54.641"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:54.642" level="INFO">2023-05-31 00:55:54,574 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230531 00:55:54.642" endtime="20230531 00:55:54.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:54.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:54.643" endtime="20230531 00:55:54.643"/>
</kw>
<status status="PASS" starttime="20230531 00:55:51.988" endtime="20230531 00:55:54.643"/>
</kw>
<msg timestamp="20230531 00:55:54.644" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:51.988" endtime="20230531 00:55:54.644"/>
</kw>
<msg timestamp="20230531 00:55:54.644" level="INFO">${output} = 2023-05-31 00:55:54,574 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230531 00:55:51.987" endtime="20230531 00:55:54.644"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:55:54.647" endtime="20230531 00:55:54.647"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:55:49.375" endtime="20230531 00:55:54.647"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:54.654" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:55:54.656" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:54.656" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:55:54.651" endtime="20230531 00:55:54.656"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:54.657" level="INFO"/>
<status status="PASS" starttime="20230531 00:55:54.656" endtime="20230531 00:55:54.657"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:54.658" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:54.657" endtime="20230531 00:55:54.658"/>
</kw>
<status status="PASS" starttime="20230531 00:55:54.650" endtime="20230531 00:55:54.658"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:54.662" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:02.732" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:02.732" level="INFO">${output} = 2023-05-31 00:55:58,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:55:58,274 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:55:54.660" endtime="20230531 00:56:02.732"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:02.733" level="INFO">2023-05-31 00:55:58,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:55:58,274 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 00:55:58,274 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 00:55:58,631 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 00:56:02.733" endtime="20230531 00:56:02.733"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:02.734" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:02.734" endtime="20230531 00:56:02.734"/>
</kw>
<status status="PASS" starttime="20230531 00:55:54.659" endtime="20230531 00:56:02.734"/>
</kw>
<msg timestamp="20230531 00:56:02.734" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:54.659" endtime="20230531 00:56:02.735"/>
</kw>
<msg timestamp="20230531 00:56:02.735" level="INFO">${output} = 2023-05-31 00:55:58,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:55:58,274 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:55:54.658" endtime="20230531 00:56:02.735"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:02.735" endtime="20230531 00:56:02.736"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:02.739" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:02.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:02.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:02.736" endtime="20230531 00:56:02.742"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:02.743" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:02.742" endtime="20230531 00:56:02.743"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:02.743" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:02.743" endtime="20230531 00:56:02.744"/>
</kw>
<status status="PASS" starttime="20230531 00:56:02.736" endtime="20230531 00:56:02.744"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:55:54.649" endtime="20230531 00:56:02.744"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:02.750" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:05.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:05.328" level="INFO">${output} = 2023-05-31 00:56:05,261 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230531 00:56:02.748" endtime="20230531 00:56:05.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:05.330" level="INFO">2023-05-31 00:56:05,261 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230531 00:56:05.329" endtime="20230531 00:56:05.330"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:05.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:05.330" endtime="20230531 00:56:05.331"/>
</kw>
<status status="PASS" starttime="20230531 00:56:02.747" endtime="20230531 00:56:05.331"/>
</kw>
<msg timestamp="20230531 00:56:05.331" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:02.747" endtime="20230531 00:56:05.332"/>
</kw>
<msg timestamp="20230531 00:56:05.332" level="INFO">${output} = 2023-05-31 00:56:05,261 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230531 00:56:02.746" endtime="20230531 00:56:05.332"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:05.332" endtime="20230531 00:56:05.333"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:02.745" endtime="20230531 00:56:05.333"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:05.338" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:56:05.340" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:05.341" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:05.335" endtime="20230531 00:56:05.341"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:05.342" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:05.341" endtime="20230531 00:56:05.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:05.343" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:05.342" endtime="20230531 00:56:05.343"/>
</kw>
<status status="PASS" starttime="20230531 00:56:05.335" endtime="20230531 00:56:05.343"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:05.348" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:10.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:10.345" level="INFO">${output} = 2023-05-31 00:56:08,785 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:08,881 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:56:05.345" endtime="20230531 00:56:10.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:10.346" level="INFO">2023-05-31 00:56:08,785 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:08,881 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 00:56:08,881 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-31 00:56:09,177 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230531 00:56:10.345" endtime="20230531 00:56:10.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:10.346" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:10.346" endtime="20230531 00:56:10.347"/>
</kw>
<status status="PASS" starttime="20230531 00:56:05.344" endtime="20230531 00:56:10.347"/>
</kw>
<msg timestamp="20230531 00:56:10.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:05.344" endtime="20230531 00:56:10.347"/>
</kw>
<msg timestamp="20230531 00:56:10.348" level="INFO">${output} = 2023-05-31 00:56:08,785 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:08,881 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:56:05.343" endtime="20230531 00:56:10.348"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:10.348" endtime="20230531 00:56:10.348"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:10.351" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:10.354" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:10.354" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:10.349" endtime="20230531 00:56:10.354"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:10.355" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:10.354" endtime="20230531 00:56:10.355"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:10.355" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:10.355" endtime="20230531 00:56:10.355"/>
</kw>
<status status="PASS" starttime="20230531 00:56:10.348" endtime="20230531 00:56:10.356"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:05.334" endtime="20230531 00:56:10.356"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:10.362" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:11.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:11.033" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:10.360" endtime="20230531 00:56:11.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:11.034" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:11.034" endtime="20230531 00:56:11.034"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:11.035" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:11.035" endtime="20230531 00:56:11.035"/>
</kw>
<status status="PASS" starttime="20230531 00:56:10.359" endtime="20230531 00:56:11.035"/>
</kw>
<msg timestamp="20230531 00:56:11.035" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:10.359" endtime="20230531 00:56:11.036"/>
</kw>
<status status="PASS" starttime="20230531 00:56:10.359" endtime="20230531 00:56:11.036"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:11.040" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:11.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:11.503" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:11.038" endtime="20230531 00:56:11.503"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:11.504" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:11.503" endtime="20230531 00:56:11.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:11.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:11.504" endtime="20230531 00:56:11.505"/>
</kw>
<status status="PASS" starttime="20230531 00:56:11.037" endtime="20230531 00:56:11.505"/>
</kw>
<msg timestamp="20230531 00:56:11.505" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:11.037" endtime="20230531 00:56:11.506"/>
</kw>
<status status="PASS" starttime="20230531 00:56:11.036" endtime="20230531 00:56:11.506"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:11.510" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:12.025" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:12.025" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:11.508" endtime="20230531 00:56:12.025"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:12.026" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:12.025" endtime="20230531 00:56:12.026"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:12.026" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:12.026" endtime="20230531 00:56:12.027"/>
</kw>
<status status="PASS" starttime="20230531 00:56:11.507" endtime="20230531 00:56:12.027"/>
</kw>
<msg timestamp="20230531 00:56:12.027" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:11.507" endtime="20230531 00:56:12.027"/>
</kw>
<status status="PASS" starttime="20230531 00:56:11.506" endtime="20230531 00:56:12.028"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:12.031" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:12.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:12.525" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:12.029" endtime="20230531 00:56:12.525"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:12.526" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:12.525" endtime="20230531 00:56:12.526"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:12.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:12.526" endtime="20230531 00:56:12.526"/>
</kw>
<status status="PASS" starttime="20230531 00:56:12.028" endtime="20230531 00:56:12.527"/>
</kw>
<msg timestamp="20230531 00:56:12.527" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:12.028" endtime="20230531 00:56:12.527"/>
</kw>
<status status="PASS" starttime="20230531 00:56:12.028" endtime="20230531 00:56:12.528"/>
</kw>
<status status="PASS" starttime="20230531 00:56:10.358" endtime="20230531 00:56:12.528"/>
</kw>
<status status="PASS" starttime="20230531 00:56:10.358" endtime="20230531 00:56:12.528"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:10.357" endtime="20230531 00:56:12.528"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:12.534" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:14.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:14.679" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:56:12.532" endtime="20230531 00:56:14.679"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:14.680" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:56:14.679" endtime="20230531 00:56:14.680"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:14.681" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:14.680" endtime="20230531 00:56:14.681"/>
</kw>
<status status="PASS" starttime="20230531 00:56:12.531" endtime="20230531 00:56:14.681"/>
</kw>
<msg timestamp="20230531 00:56:14.681" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:12.531" endtime="20230531 00:56:14.682"/>
</kw>
<msg timestamp="20230531 00:56:14.682" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:56:12.530" endtime="20230531 00:56:14.682"/>
</kw>
<msg timestamp="20230531 00:56:14.682" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:56:12.530" endtime="20230531 00:56:14.682"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:14.683" endtime="20230531 00:56:14.683"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:14.683" endtime="20230531 00:56:14.684"/>
</kw>
<msg timestamp="20230531 00:56:14.684" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 00:56:12.530" endtime="20230531 00:56:14.684"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 00:56:14.684" endtime="20230531 00:56:14.685"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:12.529" endtime="20230531 00:56:14.685"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:14.689" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:56:14.691" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:14.691" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:14.687" endtime="20230531 00:56:14.691"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:14.692" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:14.691" endtime="20230531 00:56:14.692"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:14.692" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:14.692" endtime="20230531 00:56:14.692"/>
</kw>
<status status="PASS" starttime="20230531 00:56:14.686" endtime="20230531 00:56:14.693"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:14.697" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:16.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:16.251" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:14.695" endtime="20230531 00:56:16.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:16.252" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:16.251" endtime="20230531 00:56:16.252"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:16.253" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:16.252" endtime="20230531 00:56:16.253"/>
</kw>
<msg timestamp="20230531 00:56:16.253" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:14.694" endtime="20230531 00:56:16.253"/>
</kw>
<msg timestamp="20230531 00:56:16.253" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:14.693" endtime="20230531 00:56:16.253"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:16.253" endtime="20230531 00:56:16.254"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:16.257" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:16.259" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:16.259" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:16.254" endtime="20230531 00:56:16.259"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:16.260" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:16.259" endtime="20230531 00:56:16.260"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:16.261" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:16.260" endtime="20230531 00:56:16.261"/>
</kw>
<status status="PASS" starttime="20230531 00:56:16.254" endtime="20230531 00:56:16.261"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:14.686" endtime="20230531 00:56:16.261"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 00:55:49.289" endtime="20230531 00:56:16.263"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 00:56:20.136" level="INFO">${random} = 86569</msg>
<status status="PASS" starttime="20230531 00:56:20.135" endtime="20230531 00:56:20.136"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:20.142" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-86569 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:24.388" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:24.388" level="INFO">${output} = 2023-05-31 00:56:23,115 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:23,196 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:56:20.138" endtime="20230531 00:56:24.388"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:24.389" level="INFO">2023-05-31 00:56:23,115 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:23,196 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-31 00:56:23,196 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230531 00:56:24.388" endtime="20230531 00:56:24.389"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:24.390" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:24.389" endtime="20230531 00:56:24.390"/>
</kw>
<status status="PASS" starttime="20230531 00:56:20.138" endtime="20230531 00:56:24.390"/>
</kw>
<msg timestamp="20230531 00:56:24.390" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:20.137" endtime="20230531 00:56:24.392"/>
</kw>
<msg timestamp="20230531 00:56:24.392" level="INFO">${output} = 2023-05-31 00:56:23,115 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-31 00:56:23,196 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230531 00:56:20.136" endtime="20230531 00:56:24.392"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:24.392" endtime="20230531 00:56:24.392"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:24.395" level="INFO">Running command 'cat /tmp/key-86569 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:24.397" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:24.397" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:24.393" endtime="20230531 00:56:24.398"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:24.398" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:24.398" endtime="20230531 00:56:24.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:24.399" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:24.399" endtime="20230531 00:56:24.399"/>
</kw>
<msg timestamp="20230531 00:56:24.400" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:24.392" endtime="20230531 00:56:24.400"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:24.400" endtime="20230531 00:56:24.400"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:24.403" level="INFO">Running command 'rm /tmp/key-86569 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:24.405" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:24.405" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:24.401" endtime="20230531 00:56:24.405"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:24.406" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:24.405" endtime="20230531 00:56:24.406"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:24.406" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:24.406" endtime="20230531 00:56:24.407"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.400" endtime="20230531 00:56:24.407"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:20.134" endtime="20230531 00:56:24.407"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:24.413" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:24.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:24.858" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:24.411" endtime="20230531 00:56:24.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:24.860" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:24.859" endtime="20230531 00:56:24.860"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:24.860" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:24.860" endtime="20230531 00:56:24.860"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.411" endtime="20230531 00:56:24.861"/>
</kw>
<msg timestamp="20230531 00:56:24.861" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:24.410" endtime="20230531 00:56:24.861"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.410" endtime="20230531 00:56:24.861"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:24.865" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:25.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:25.310" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:24.863" endtime="20230531 00:56:25.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:25.311" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:25.311" endtime="20230531 00:56:25.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:25.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:25.312" endtime="20230531 00:56:25.312"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.862" endtime="20230531 00:56:25.312"/>
</kw>
<msg timestamp="20230531 00:56:25.312" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:24.862" endtime="20230531 00:56:25.313"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.862" endtime="20230531 00:56:25.313"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:25.316" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:25.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:25.784" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:25.314" endtime="20230531 00:56:25.784"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:25.785" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:25.784" endtime="20230531 00:56:25.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:25.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:25.785" endtime="20230531 00:56:25.785"/>
</kw>
<status status="PASS" starttime="20230531 00:56:25.314" endtime="20230531 00:56:25.786"/>
</kw>
<msg timestamp="20230531 00:56:25.786" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:25.314" endtime="20230531 00:56:25.786"/>
</kw>
<status status="PASS" starttime="20230531 00:56:25.313" endtime="20230531 00:56:25.786"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:25.790" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:26.255" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:26.255" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:25.788" endtime="20230531 00:56:26.255"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:26.256" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:26.256" endtime="20230531 00:56:26.256"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:26.257" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:26.257" endtime="20230531 00:56:26.257"/>
</kw>
<status status="PASS" starttime="20230531 00:56:25.787" endtime="20230531 00:56:26.257"/>
</kw>
<msg timestamp="20230531 00:56:26.257" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:25.787" endtime="20230531 00:56:26.258"/>
</kw>
<status status="PASS" starttime="20230531 00:56:25.787" endtime="20230531 00:56:26.258"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.409" endtime="20230531 00:56:26.258"/>
</kw>
<status status="PASS" starttime="20230531 00:56:24.409" endtime="20230531 00:56:26.258"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:24.408" endtime="20230531 00:56:26.258"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:26.263" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:26.925" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:26.925" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.261" endtime="20230531 00:56:26.925"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:26.926" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 00:56:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 00:56:26.925" endtime="20230531 00:56:26.926"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:26.927" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:26.926" endtime="20230531 00:56:26.927"/>
</kw>
<msg timestamp="20230531 00:56:26.927" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.260" endtime="20230531 00:56:26.927"/>
</kw>
<msg timestamp="20230531 00:56:26.927" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.260" endtime="20230531 00:56:26.927"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:26.928" endtime="20230531 00:56:26.928"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:26.931" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:26.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:26.933" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:26.929" endtime="20230531 00:56:26.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:26.934" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:26.933" endtime="20230531 00:56:26.934"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:26.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:26.934" endtime="20230531 00:56:26.935"/>
</kw>
<msg timestamp="20230531 00:56:26.935" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:56:26.928" endtime="20230531 00:56:26.935"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:26.935" endtime="20230531 00:56:26.936"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:26.938" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:26.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:26.940" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:26.936" endtime="20230531 00:56:26.940"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:26.941" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:26.941" endtime="20230531 00:56:26.941"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:26.942" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:26.942" endtime="20230531 00:56:26.942"/>
</kw>
<status status="PASS" starttime="20230531 00:56:26.936" endtime="20230531 00:56:26.942"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:26.259" endtime="20230531 00:56:26.943"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:26.947" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:27.555" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:27.555" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.945" endtime="20230531 00:56:27.555"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:27.556" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 00:56:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 00:56:27.555" endtime="20230531 00:56:27.556"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:27.557" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:27.556" endtime="20230531 00:56:27.557"/>
</kw>
<msg timestamp="20230531 00:56:27.558" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.944" endtime="20230531 00:56:27.558"/>
</kw>
<msg timestamp="20230531 00:56:27.558" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:56:26.944" endtime="20230531 00:56:27.558"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:27.558" endtime="20230531 00:56:27.559"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:27.562" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:27.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:27.564" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:56:27.559" endtime="20230531 00:56:27.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:27.565" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:56:27.564" endtime="20230531 00:56:27.565"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:27.566" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:27.565" endtime="20230531 00:56:27.566"/>
</kw>
<msg timestamp="20230531 00:56:27.566" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:56:27.559" endtime="20230531 00:56:27.566"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:27.566" endtime="20230531 00:56:27.567"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:27.569" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:27.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:27.572" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:56:27.567" endtime="20230531 00:56:27.572"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:27.573" level="INFO"/>
<status status="PASS" starttime="20230531 00:56:27.573" endtime="20230531 00:56:27.573"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:27.574" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:27.573" endtime="20230531 00:56:27.574"/>
</kw>
<status status="PASS" starttime="20230531 00:56:27.567" endtime="20230531 00:56:27.574"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:26.943" endtime="20230531 00:56:27.574"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 00:56:20.058" endtime="20230531 00:56:27.575"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 00:56:31.405" endtime="20230531 00:56:31.406"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 00:56:31.406" endtime="20230531 00:56:31.406"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:56:31.411" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:56:39.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:56:39.197" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230531 00:56:31.407" endtime="20230531 00:56:39.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:56:39.198" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230531 00:56:39.197" endtime="20230531 00:56:39.198"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:56:39.199" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:56:39.198" endtime="20230531 00:56:39.199"/>
</kw>
<status status="PASS" starttime="20230531 00:56:31.407" endtime="20230531 00:56:39.199"/>
</kw>
<msg timestamp="20230531 00:56:39.199" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:56:31.407" endtime="20230531 00:56:39.201"/>
</kw>
<msg timestamp="20230531 00:56:39.201" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230531 00:56:31.406" endtime="20230531 00:56:39.201"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:56:39.202" endtime="20230531 00:56:39.202"/>
</kw>
<status status="PASS" starttime="20230531 00:56:39.201" endtime="20230531 00:56:39.202"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:56:31.404" endtime="20230531 00:56:39.202"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230531 00:56:31.360" endtime="20230531 00:56:39.204"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 00:55:40.382" endtime="20230531 00:55:40.382"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:40.402" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:55:40.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:40.408" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3fd0d2441f90
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 00:55:40.384" endtime="20230531 00:55:40.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:40.410" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3fd0d2441f90
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 00:55:40.409" endtime="20230531 00:55:40.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:40.411" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:40.410" endtime="20230531 00:55:40.411"/>
</kw>
<status status="PASS" starttime="20230531 00:55:40.383" endtime="20230531 00:55:40.411"/>
</kw>
<msg timestamp="20230531 00:55:40.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:40.383" endtime="20230531 00:55:40.416"/>
</kw>
<msg timestamp="20230531 00:55:40.416" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3fd0d2441f90
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 00:55:40.383" endtime="20230531 00:55:40.416"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:40.417" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3fd0d2441f90
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 00:55:40.416" endtime="20230531 00:55:40.417"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 00:55:40.417" endtime="20230531 00:55:40.417"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:40.420" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:55:43.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:43.239" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 00:55:40.418" endtime="20230531 00:55:43.239"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:43.241" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 00:55:43.240" endtime="20230531 00:55:43.241"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:43.241" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:43.241" endtime="20230531 00:55:43.242"/>
</kw>
<status status="PASS" starttime="20230531 00:55:40.418" endtime="20230531 00:55:43.242"/>
</kw>
<msg timestamp="20230531 00:55:43.242" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:40.418" endtime="20230531 00:55:43.242"/>
</kw>
<msg timestamp="20230531 00:55:43.242" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 00:55:40.417" endtime="20230531 00:55:43.243"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:43.243" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230531 00:55:43.243" endtime="20230531 00:55:43.243"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 00:55:43.243" endtime="20230531 00:55:43.244"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 00:55:40.381" endtime="20230531 00:55:43.244"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 00:55:43.246" endtime="20230531 00:55:43.246"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 00:55:43.246" endtime="20230531 00:55:43.247"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:55:43.251" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:55:45.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:55:45.615" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 00:55:43.248" endtime="20230531 00:55:45.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:45.616" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 00:55:45.616" endtime="20230531 00:55:45.616"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:55:45.617" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:55:45.617" endtime="20230531 00:55:45.617"/>
</kw>
<status status="PASS" starttime="20230531 00:55:43.248" endtime="20230531 00:55:45.617"/>
</kw>
<msg timestamp="20230531 00:55:45.617" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:55:43.248" endtime="20230531 00:55:45.618"/>
</kw>
<msg timestamp="20230531 00:55:45.618" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 00:55:43.247" endtime="20230531 00:55:45.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:55:45.618" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 00:55:45.618" endtime="20230531 00:55:45.619"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 00:55:45.619" endtime="20230531 00:55:45.619"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 00:55:43.245" endtime="20230531 00:55:45.619"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 00:55:40.330" endtime="20230531 00:55:45.621"/>
</suite>
<suite id="s1-s12" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s12-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:09:31.086" endtime="20230531 01:09:31.087"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:31.094" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:31.097" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:31.097" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:09:31.088" endtime="20230531 01:09:31.097"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:31.098" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:09:31.097" endtime="20230531 01:09:31.098"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:31.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:31.098" endtime="20230531 01:09:31.099"/>
</kw>
<status status="PASS" starttime="20230531 01:09:31.088" endtime="20230531 01:09:31.099"/>
</kw>
<msg timestamp="20230531 01:09:31.099" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:31.088" endtime="20230531 01:09:31.100"/>
</kw>
<msg timestamp="20230531 01:09:31.101" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:09:31.087" endtime="20230531 01:09:31.101"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:31.101" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:09:31.101" endtime="20230531 01:09:31.101"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:09:31.101" endtime="20230531 01:09:31.102"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:31.106" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:35.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:35.673" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:31.103" endtime="20230531 01:09:35.673"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:35.674" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:35.673" endtime="20230531 01:09:35.674"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:35.675" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:35.674" endtime="20230531 01:09:35.675"/>
</kw>
<status status="PASS" starttime="20230531 01:09:31.103" endtime="20230531 01:09:35.676"/>
</kw>
<msg timestamp="20230531 01:09:35.676" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:31.102" endtime="20230531 01:09:35.676"/>
</kw>
<msg timestamp="20230531 01:09:35.677" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:31.102" endtime="20230531 01:09:35.677"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:35.677" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:35.677" endtime="20230531 01:09:35.678"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:09:35.678" endtime="20230531 01:09:35.678"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:09:31.085" endtime="20230531 01:09:35.678"/>
</test>
<test id="s1-s12-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:09:35.684" endtime="20230531 01:09:35.684"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:09:35.685" endtime="20230531 01:09:35.685"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:35.691" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:39.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:39.779" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:35.688" endtime="20230531 01:09:39.779"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:39.780" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:39.779" endtime="20230531 01:09:39.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:39.781" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:39.781" endtime="20230531 01:09:39.781"/>
</kw>
<status status="PASS" starttime="20230531 01:09:35.686" endtime="20230531 01:09:39.782"/>
</kw>
<msg timestamp="20230531 01:09:39.782" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:35.686" endtime="20230531 01:09:39.782"/>
</kw>
<msg timestamp="20230531 01:09:39.783" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:35.685" endtime="20230531 01:09:39.783"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:39.783" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:09:39.783" endtime="20230531 01:09:39.783"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:09:39.783" endtime="20230531 01:09:39.784"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:09:35.683" endtime="20230531 01:09:39.784"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 01:09:31.032" endtime="20230531 01:09:39.786"/>
</suite>
<suite id="s1-s13" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s13-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:09:43.921" level="INFO">${random} = 92993</msg>
<status status="PASS" starttime="20230531 01:09:43.921" endtime="20230531 01:09:43.921"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:43.929" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-92993 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:51.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:51.724" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:43.924" endtime="20230531 01:09:51.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:51.726" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:51.725" endtime="20230531 01:09:51.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:51.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:51.726" endtime="20230531 01:09:51.727"/>
</kw>
<status status="PASS" starttime="20230531 01:09:43.923" endtime="20230531 01:09:51.728"/>
</kw>
<msg timestamp="20230531 01:09:51.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:43.922" endtime="20230531 01:09:51.729"/>
</kw>
<msg timestamp="20230531 01:09:51.729" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:43.922" endtime="20230531 01:09:51.729"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:09:51.730" endtime="20230531 01:09:51.730"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:51.734" level="INFO">Running command 'cat /tmp/key-92993 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:51.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:51.738" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:51.731" endtime="20230531 01:09:51.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:51.740" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:51.739" endtime="20230531 01:09:51.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:51.740" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:51.740" endtime="20230531 01:09:51.740"/>
</kw>
<msg timestamp="20230531 01:09:51.741" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:51.730" endtime="20230531 01:09:51.741"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:09:51.741" endtime="20230531 01:09:51.742"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:51.745" level="INFO">Running command 'rm /tmp/key-92993 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:51.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:51.751" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:51.742" endtime="20230531 01:09:51.751"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:51.753" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:51.752" endtime="20230531 01:09:51.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:51.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:51.753" endtime="20230531 01:09:51.753"/>
</kw>
<status status="PASS" starttime="20230531 01:09:51.742" endtime="20230531 01:09:51.754"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:09:43.920" endtime="20230531 01:09:51.754"/>
</test>
<test id="s1-s13-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:51.761" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:52.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:52.699" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:51.758" endtime="20230531 01:09:52.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:52.701" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:52.700" endtime="20230531 01:09:52.701"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:52.701" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:52.701" endtime="20230531 01:09:52.701"/>
</kw>
<status status="PASS" starttime="20230531 01:09:51.758" endtime="20230531 01:09:52.702"/>
</kw>
<msg timestamp="20230531 01:09:52.702" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:51.758" endtime="20230531 01:09:52.703"/>
</kw>
<status status="PASS" starttime="20230531 01:09:51.757" endtime="20230531 01:09:52.703"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:52.708" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:53.326" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:53.326" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:52.705" endtime="20230531 01:09:53.326"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:53.327" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:53.326" endtime="20230531 01:09:53.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:53.328" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:53.328" endtime="20230531 01:09:53.329"/>
</kw>
<status status="PASS" starttime="20230531 01:09:52.704" endtime="20230531 01:09:53.329"/>
</kw>
<msg timestamp="20230531 01:09:53.329" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:52.704" endtime="20230531 01:09:53.329"/>
</kw>
<status status="PASS" starttime="20230531 01:09:52.703" endtime="20230531 01:09:53.330"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:53.334" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:53.993" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:53.993" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:53.331" endtime="20230531 01:09:53.993"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:53.994" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:53.994" endtime="20230531 01:09:53.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:53.995" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:53.995" endtime="20230531 01:09:53.996"/>
</kw>
<status status="PASS" starttime="20230531 01:09:53.331" endtime="20230531 01:09:53.996"/>
</kw>
<msg timestamp="20230531 01:09:53.996" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:53.330" endtime="20230531 01:09:53.997"/>
</kw>
<status status="PASS" starttime="20230531 01:09:53.330" endtime="20230531 01:09:53.997"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:54.002" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:54.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:54.552" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:53.999" endtime="20230531 01:09:54.553"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:54.554" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:54.553" endtime="20230531 01:09:54.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:54.554" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:54.554" endtime="20230531 01:09:54.555"/>
</kw>
<status status="PASS" starttime="20230531 01:09:53.998" endtime="20230531 01:09:54.555"/>
</kw>
<msg timestamp="20230531 01:09:54.555" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:53.998" endtime="20230531 01:09:54.555"/>
</kw>
<status status="PASS" starttime="20230531 01:09:53.997" endtime="20230531 01:09:54.556"/>
</kw>
<status status="PASS" starttime="20230531 01:09:51.757" endtime="20230531 01:09:54.556"/>
</kw>
<status status="PASS" starttime="20230531 01:09:51.757" endtime="20230531 01:09:54.556"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:09:51.756" endtime="20230531 01:09:54.556"/>
</test>
<test id="s1-s13-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:54.562" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:59.649" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:59.649" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:54.560" endtime="20230531 01:09:59.649"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:59.650" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:09:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:09:59.649" endtime="20230531 01:09:59.650"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:59.651" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:59.651" endtime="20230531 01:09:59.652"/>
</kw>
<msg timestamp="20230531 01:09:59.652" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:54.559" endtime="20230531 01:09:59.652"/>
</kw>
<msg timestamp="20230531 01:09:59.653" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:46 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:54.558" endtime="20230531 01:09:59.653"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:09:59.653" endtime="20230531 01:09:59.653"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:59.659" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:59.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:59.661" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:59.654" endtime="20230531 01:09:59.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:59.663" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:59.662" endtime="20230531 01:09:59.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:59.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:59.663" endtime="20230531 01:09:59.664"/>
</kw>
<msg timestamp="20230531 01:09:59.664" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:09:59.654" endtime="20230531 01:09:59.664"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:09:59.664" endtime="20230531 01:09:59.665"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:59.668" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:59.672" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:59.672" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:09:59.666" endtime="20230531 01:09:59.672"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:59.673" level="INFO"/>
<status status="PASS" starttime="20230531 01:09:59.672" endtime="20230531 01:09:59.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:59.674" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:59.673" endtime="20230531 01:09:59.674"/>
</kw>
<status status="PASS" starttime="20230531 01:09:59.665" endtime="20230531 01:09:59.674"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:09:54.557" endtime="20230531 01:09:59.675"/>
</test>
<test id="s1-s13-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:59.682" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:00.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:00.499" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:50 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:59.679" endtime="20230531 01:10:00.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:00.501" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:50 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:10:00 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:10:00.500" endtime="20230531 01:10:00.501"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:00.502" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:00.501" endtime="20230531 01:10:00.502"/>
</kw>
<msg timestamp="20230531 01:10:00.502" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:50 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:59.679" endtime="20230531 01:10:00.502"/>
</kw>
<msg timestamp="20230531 01:10:00.503" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:50 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:09:59.678" endtime="20230531 01:10:00.503"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:00.503" endtime="20230531 01:10:00.503"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:00.507" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:00.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:00.510" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:00.504" endtime="20230531 01:10:00.510"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:00.512" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:00.511" endtime="20230531 01:10:00.512"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:00.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:00.512" endtime="20230531 01:10:00.513"/>
</kw>
<msg timestamp="20230531 01:10:00.513" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:00.504" endtime="20230531 01:10:00.513"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:00.513" endtime="20230531 01:10:00.514"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:00.517" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:00.520" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:00.520" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:00.515" endtime="20230531 01:10:00.520"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:00.521" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:00.521" endtime="20230531 01:10:00.522"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:00.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:00.522" endtime="20230531 01:10:00.523"/>
</kw>
<status status="PASS" starttime="20230531 01:10:00.514" endtime="20230531 01:10:00.523"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:09:59.677" endtime="20230531 01:10:00.523"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:09:43.811" endtime="20230531 01:10:00.525"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:10:04.672" level="INFO">${random} = 03633</msg>
<status status="PASS" starttime="20230531 01:10:04.671" endtime="20230531 01:10:04.672"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:04.679" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-03633 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:11.344" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:11.345" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:04.674" endtime="20230531 01:10:11.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:11.346" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:11.345" endtime="20230531 01:10:11.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:11.347" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:11.346" endtime="20230531 01:10:11.347"/>
</kw>
<status status="PASS" starttime="20230531 01:10:04.674" endtime="20230531 01:10:11.347"/>
</kw>
<msg timestamp="20230531 01:10:11.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:04.673" endtime="20230531 01:10:11.348"/>
</kw>
<msg timestamp="20230531 01:10:11.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:04.672" endtime="20230531 01:10:11.348"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:11.349" endtime="20230531 01:10:11.349"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:11.352" level="INFO">Running command 'cat /tmp/key-03633 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:11.357" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:11.357" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:11.350" endtime="20230531 01:10:11.357"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:11.358" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:11.358" endtime="20230531 01:10:11.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:11.359" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:11.359" endtime="20230531 01:10:11.360"/>
</kw>
<msg timestamp="20230531 01:10:11.360" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:11.349" endtime="20230531 01:10:11.360"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:11.360" endtime="20230531 01:10:11.361"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:11.365" level="INFO">Running command 'rm /tmp/key-03633 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:11.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:11.368" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:11.362" endtime="20230531 01:10:11.368"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:11.370" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:11.369" endtime="20230531 01:10:11.370"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:11.371" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:11.370" endtime="20230531 01:10:11.371"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.361" endtime="20230531 01:10:11.371"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:04.670" endtime="20230531 01:10:11.372"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:11.380" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:11.930" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:11.930" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:11.377" endtime="20230531 01:10:11.930"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:11.931" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:11.931" endtime="20230531 01:10:11.931"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:11.932" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:11.932" endtime="20230531 01:10:11.932"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.377" endtime="20230531 01:10:11.932"/>
</kw>
<msg timestamp="20230531 01:10:11.932" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:11.376" endtime="20230531 01:10:11.933"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.376" endtime="20230531 01:10:11.933"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:11.937" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:12.525" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:12.525" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:11.934" endtime="20230531 01:10:12.525"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:12.527" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:12.526" endtime="20230531 01:10:12.527"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:12.528" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:12.527" endtime="20230531 01:10:12.528"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.934" endtime="20230531 01:10:12.528"/>
</kw>
<msg timestamp="20230531 01:10:12.528" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:11.934" endtime="20230531 01:10:12.529"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.933" endtime="20230531 01:10:12.529"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:12.533" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:13.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:13.133" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:12.530" endtime="20230531 01:10:13.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:13.134" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:13.133" endtime="20230531 01:10:13.134"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:13.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:13.134" endtime="20230531 01:10:13.135"/>
</kw>
<status status="PASS" starttime="20230531 01:10:12.530" endtime="20230531 01:10:13.135"/>
</kw>
<msg timestamp="20230531 01:10:13.135" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:12.530" endtime="20230531 01:10:13.135"/>
</kw>
<status status="PASS" starttime="20230531 01:10:12.529" endtime="20230531 01:10:13.136"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:13.140" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:13.815" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:13.815" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:13.137" endtime="20230531 01:10:13.815"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:13.816" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:13.815" endtime="20230531 01:10:13.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:13.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:13.817" endtime="20230531 01:10:13.817"/>
</kw>
<status status="PASS" starttime="20230531 01:10:13.137" endtime="20230531 01:10:13.818"/>
</kw>
<msg timestamp="20230531 01:10:13.818" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:13.136" endtime="20230531 01:10:13.818"/>
</kw>
<status status="PASS" starttime="20230531 01:10:13.136" endtime="20230531 01:10:13.819"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.375" endtime="20230531 01:10:13.819"/>
</kw>
<status status="PASS" starttime="20230531 01:10:11.375" endtime="20230531 01:10:13.819"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:11.374" endtime="20230531 01:10:13.819"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:13.834" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:14.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:14.619" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:13.831" endtime="20230531 01:10:14.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:14.621" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:10:14 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:10:14.619" endtime="20230531 01:10:14.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:14.621" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:14.621" endtime="20230531 01:10:14.622"/>
</kw>
<msg timestamp="20230531 01:10:14.622" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:13.831" endtime="20230531 01:10:14.622"/>
</kw>
<msg timestamp="20230531 01:10:14.622" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:13.830" endtime="20230531 01:10:14.622"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:14.622" endtime="20230531 01:10:14.623"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:14.626" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:14.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:14.631" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:14.624" endtime="20230531 01:10:14.631"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:14.632" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:14.631" endtime="20230531 01:10:14.632"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:14.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:14.632" endtime="20230531 01:10:14.633"/>
</kw>
<msg timestamp="20230531 01:10:14.633" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:14.623" endtime="20230531 01:10:14.633"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:14.634" endtime="20230531 01:10:14.634"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:14.637" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:14.641" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:14.641" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:14.635" endtime="20230531 01:10:14.641"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:14.642" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:14.641" endtime="20230531 01:10:14.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:14.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:14.642" endtime="20230531 01:10:14.643"/>
</kw>
<status status="PASS" starttime="20230531 01:10:14.634" endtime="20230531 01:10:14.643"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:13.828" endtime="20230531 01:10:14.643"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:14.649" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:15.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:15.421" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:14.647" endtime="20230531 01:10:15.421"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:15.422" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:10:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:10:15.421" endtime="20230531 01:10:15.422"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:15.423" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:15.423" endtime="20230531 01:10:15.423"/>
</kw>
<msg timestamp="20230531 01:10:15.424" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:14.646" endtime="20230531 01:10:15.424"/>
</kw>
<msg timestamp="20230531 01:10:15.424" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:14.646" endtime="20230531 01:10:15.424"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:15.424" endtime="20230531 01:10:15.425"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:15.428" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:15.431" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:15.431" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:15.426" endtime="20230531 01:10:15.431"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:15.432" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:15.432" endtime="20230531 01:10:15.432"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:15.433" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:15.433" endtime="20230531 01:10:15.433"/>
</kw>
<msg timestamp="20230531 01:10:15.433" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:15.425" endtime="20230531 01:10:15.433"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:15.434" endtime="20230531 01:10:15.434"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:15.437" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:15.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:15.440" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:15.435" endtime="20230531 01:10:15.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:15.441" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:15.440" endtime="20230531 01:10:15.441"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:15.442" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:15.441" endtime="20230531 01:10:15.442"/>
</kw>
<status status="PASS" starttime="20230531 01:10:15.434" endtime="20230531 01:10:15.443"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:14.645" endtime="20230531 01:10:15.443"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:10:04.583" endtime="20230531 01:10:15.445"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:10:19.614" level="INFO">${random} = 24559</msg>
<status status="PASS" starttime="20230531 01:10:19.613" endtime="20230531 01:10:19.614"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:19.622" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-24559 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:26.590" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:26.591" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:19.617" endtime="20230531 01:10:26.591"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:26.592" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:26.591" endtime="20230531 01:10:26.592"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:26.593" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:26.593" endtime="20230531 01:10:26.593"/>
</kw>
<status status="PASS" starttime="20230531 01:10:19.616" endtime="20230531 01:10:26.594"/>
</kw>
<msg timestamp="20230531 01:10:26.594" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:19.615" endtime="20230531 01:10:26.596"/>
</kw>
<msg timestamp="20230531 01:10:26.596" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:19.614" endtime="20230531 01:10:26.596"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:26.596" endtime="20230531 01:10:26.597"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:26.601" level="INFO">Running command 'cat /tmp/key-24559 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:26.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:26.605" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:26.598" endtime="20230531 01:10:26.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:26.607" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:26.606" endtime="20230531 01:10:26.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:26.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:26.607" endtime="20230531 01:10:26.608"/>
</kw>
<msg timestamp="20230531 01:10:26.608" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:26.597" endtime="20230531 01:10:26.608"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:26.609" endtime="20230531 01:10:26.609"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:26.613" level="INFO">Running command 'rm /tmp/key-24559 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:26.616" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:26.616" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:26.610" endtime="20230531 01:10:26.616"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:26.617" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:26.616" endtime="20230531 01:10:26.617"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:26.618" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:26.617" endtime="20230531 01:10:26.618"/>
</kw>
<status status="PASS" starttime="20230531 01:10:26.609" endtime="20230531 01:10:26.618"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:19.612" endtime="20230531 01:10:26.618"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:26.624" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:27.188" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:27.188" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:26.622" endtime="20230531 01:10:27.189"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:27.190" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:27.189" endtime="20230531 01:10:27.190"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:27.191" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:27.190" endtime="20230531 01:10:27.191"/>
</kw>
<status status="PASS" starttime="20230531 01:10:26.622" endtime="20230531 01:10:27.192"/>
</kw>
<msg timestamp="20230531 01:10:27.192" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:26.621" endtime="20230531 01:10:27.192"/>
</kw>
<status status="PASS" starttime="20230531 01:10:26.621" endtime="20230531 01:10:27.193"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:27.197" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:27.737" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:27.737" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:27.194" endtime="20230531 01:10:27.737"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:27.738" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:27.737" endtime="20230531 01:10:27.738"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:27.739" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:27.738" endtime="20230531 01:10:27.739"/>
</kw>
<status status="PASS" starttime="20230531 01:10:27.194" endtime="20230531 01:10:27.739"/>
</kw>
<msg timestamp="20230531 01:10:27.739" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:27.193" endtime="20230531 01:10:27.740"/>
</kw>
<status status="PASS" starttime="20230531 01:10:27.193" endtime="20230531 01:10:27.740"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:27.744" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:28.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:28.311" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:27.742" endtime="20230531 01:10:28.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:28.313" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:28.312" endtime="20230531 01:10:28.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:28.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:28.313" endtime="20230531 01:10:28.314"/>
</kw>
<status status="PASS" starttime="20230531 01:10:27.741" endtime="20230531 01:10:28.314"/>
</kw>
<msg timestamp="20230531 01:10:28.314" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:27.741" endtime="20230531 01:10:28.315"/>
</kw>
<status status="PASS" starttime="20230531 01:10:27.740" endtime="20230531 01:10:28.315"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:28.320" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:28.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:28.878" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:28.317" endtime="20230531 01:10:28.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:28.880" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:28.879" endtime="20230531 01:10:28.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:28.881" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:28.880" endtime="20230531 01:10:28.881"/>
</kw>
<status status="PASS" starttime="20230531 01:10:28.316" endtime="20230531 01:10:28.881"/>
</kw>
<msg timestamp="20230531 01:10:28.881" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:28.316" endtime="20230531 01:10:28.882"/>
</kw>
<status status="PASS" starttime="20230531 01:10:28.315" endtime="20230531 01:10:28.882"/>
</kw>
<status status="PASS" starttime="20230531 01:10:26.620" endtime="20230531 01:10:28.882"/>
</kw>
<status status="PASS" starttime="20230531 01:10:26.620" endtime="20230531 01:10:28.883"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:26.619" endtime="20230531 01:10:28.883"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:28.889" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:29.658" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:29.658" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:28.886" endtime="20230531 01:10:29.658"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:29.660" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:10:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:10:29.658" endtime="20230531 01:10:29.660"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:29.661" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:29.660" endtime="20230531 01:10:29.661"/>
</kw>
<msg timestamp="20230531 01:10:29.662" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:28.885" endtime="20230531 01:10:29.662"/>
</kw>
<msg timestamp="20230531 01:10:29.662" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:28.885" endtime="20230531 01:10:29.662"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:29.662" endtime="20230531 01:10:29.663"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:29.666" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:29.669" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:29.669" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:29.663" endtime="20230531 01:10:29.669"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:29.670" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:29.669" endtime="20230531 01:10:29.670"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:29.671" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:29.670" endtime="20230531 01:10:29.671"/>
</kw>
<msg timestamp="20230531 01:10:29.671" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:10:29.663" endtime="20230531 01:10:29.672"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:29.672" endtime="20230531 01:10:29.672"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:29.675" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:29.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:29.678" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:29.673" endtime="20230531 01:10:29.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:29.679" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:29.678" endtime="20230531 01:10:29.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:29.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:29.679" endtime="20230531 01:10:29.680"/>
</kw>
<status status="PASS" starttime="20230531 01:10:29.672" endtime="20230531 01:10:29.680"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:28.884" endtime="20230531 01:10:29.680"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:29.686" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:30.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:30.414" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:29.684" endtime="20230531 01:10:30.414"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:30.415" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:10:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:10:30.414" endtime="20230531 01:10:30.415"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:30.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:30.415" endtime="20230531 01:10:30.416"/>
</kw>
<msg timestamp="20230531 01:10:30.416" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:29.683" endtime="20230531 01:10:30.416"/>
</kw>
<msg timestamp="20230531 01:10:30.417" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:04:22 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:10:29.683" endtime="20230531 01:10:30.417"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:30.417" endtime="20230531 01:10:30.417"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:30.421" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:30.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:30.424" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:30.418" endtime="20230531 01:10:30.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:30.425" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:30.424" endtime="20230531 01:10:30.425"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:30.426" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:30.425" endtime="20230531 01:10:30.426"/>
</kw>
<msg timestamp="20230531 01:10:30.426" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:10:30.418" endtime="20230531 01:10:30.427"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:30.427" endtime="20230531 01:10:30.427"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:30.430" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:30.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:30.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:30.428" endtime="20230531 01:10:30.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:30.434" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:30.434" endtime="20230531 01:10:30.434"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:30.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:30.435" endtime="20230531 01:10:30.436"/>
</kw>
<status status="PASS" starttime="20230531 01:10:30.427" endtime="20230531 01:10:30.436"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:29.682" endtime="20230531 01:10:30.436"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:10:19.492" endtime="20230531 01:10:30.438"/>
</suite>
<suite id="s1-s16" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s16-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:34.574" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:38.523" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:38.523" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:34.568" endtime="20230531 01:10:38.523"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:38.530" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:38.524" endtime="20230531 01:10:38.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:38.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:38.531" endtime="20230531 01:10:38.533"/>
</kw>
<status status="PASS" starttime="20230531 01:10:34.568" endtime="20230531 01:10:38.534"/>
</kw>
<msg timestamp="20230531 01:10:38.534" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:34.568" endtime="20230531 01:10:38.537"/>
</kw>
<msg timestamp="20230531 01:10:38.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:34.567" endtime="20230531 01:10:38.538"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:38.538" endtime="20230531 01:10:38.539"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:38.546" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:42.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:42.417" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:38.543" endtime="20230531 01:10:42.417"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:42.418" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:42.418" endtime="20230531 01:10:42.419"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:42.420" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:42.419" endtime="20230531 01:10:42.420"/>
</kw>
<status status="PASS" starttime="20230531 01:10:38.541" endtime="20230531 01:10:42.420"/>
</kw>
<msg timestamp="20230531 01:10:42.420" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:38.541" endtime="20230531 01:10:42.421"/>
</kw>
<msg timestamp="20230531 01:10:42.421" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:38.540" endtime="20230531 01:10:42.421"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:42.421" endtime="20230531 01:10:42.422"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:34.566" endtime="20230531 01:10:42.422"/>
</test>
<test id="s1-s16-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:42.429" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:10:42.431" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:42.431" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:42.426" endtime="20230531 01:10:42.431"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:42.433" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:42.432" endtime="20230531 01:10:42.433"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:42.433" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:42.433" endtime="20230531 01:10:42.434"/>
</kw>
<status status="PASS" starttime="20230531 01:10:42.425" endtime="20230531 01:10:42.434"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:42.439" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:50.579" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:50.579" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:42.436" endtime="20230531 01:10:50.579"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:50.580" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:50.579" endtime="20230531 01:10:50.580"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:50.581" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:50.581" endtime="20230531 01:10:50.581"/>
</kw>
<status status="PASS" starttime="20230531 01:10:42.436" endtime="20230531 01:10:50.582"/>
</kw>
<msg timestamp="20230531 01:10:50.582" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:42.435" endtime="20230531 01:10:50.582"/>
</kw>
<msg timestamp="20230531 01:10:50.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:42.434" endtime="20230531 01:10:50.582"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:50.583" endtime="20230531 01:10:50.583"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:50.586" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:50.589" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:50.589" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:50.584" endtime="20230531 01:10:50.589"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:50.590" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:50.590" endtime="20230531 01:10:50.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:50.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:50.591" endtime="20230531 01:10:50.591"/>
</kw>
<status status="PASS" starttime="20230531 01:10:50.583" endtime="20230531 01:10:50.592"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:42.424" endtime="20230531 01:10:50.592"/>
</test>
<test id="s1-s16-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:50.598" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:10:54.704" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:54.704" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:50.596" endtime="20230531 01:10:54.704"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:54.706" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:54.705" endtime="20230531 01:10:54.706"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:54.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:54.706" endtime="20230531 01:10:54.707"/>
</kw>
<status status="PASS" starttime="20230531 01:10:50.595" endtime="20230531 01:10:54.707"/>
</kw>
<msg timestamp="20230531 01:10:54.707" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:50.595" endtime="20230531 01:10:54.708"/>
</kw>
<msg timestamp="20230531 01:10:54.708" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:50.594" endtime="20230531 01:10:54.708"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:10:54.708" endtime="20230531 01:10:54.709"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:50.593" endtime="20230531 01:10:54.709"/>
</test>
<test id="s1-s16-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:54.714" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:10:54.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:10:54.716" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:54.712" endtime="20230531 01:10:54.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:10:54.718" level="INFO"/>
<status status="PASS" starttime="20230531 01:10:54.717" endtime="20230531 01:10:54.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:10:54.718" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:10:54.718" endtime="20230531 01:10:54.719"/>
</kw>
<status status="PASS" starttime="20230531 01:10:54.711" endtime="20230531 01:10:54.719"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:10:54.723" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:01.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:01.644" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:54.721" endtime="20230531 01:11:01.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:01.645" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:01.644" endtime="20230531 01:11:01.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:01.646" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:01.645" endtime="20230531 01:11:01.646"/>
</kw>
<status status="PASS" starttime="20230531 01:10:54.720" endtime="20230531 01:11:01.646"/>
</kw>
<msg timestamp="20230531 01:11:01.646" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:10:54.720" endtime="20230531 01:11:01.647"/>
</kw>
<msg timestamp="20230531 01:11:01.647" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:10:54.719" endtime="20230531 01:11:01.647"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:01.647" endtime="20230531 01:11:01.654"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:01.663" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:01.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:01.673" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:01.657" endtime="20230531 01:11:01.673"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:01.675" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:01.674" endtime="20230531 01:11:01.675"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:01.676" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:01.675" endtime="20230531 01:11:01.676"/>
</kw>
<status status="PASS" starttime="20230531 01:11:01.654" endtime="20230531 01:11:01.677"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:10:54.710" endtime="20230531 01:11:01.677"/>
</test>
<test id="s1-s16-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:01.688" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:02.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:02.280" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:01.685" endtime="20230531 01:11:02.281"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:02.282" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:02.281" endtime="20230531 01:11:02.282"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:02.283" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:02.282" endtime="20230531 01:11:02.283"/>
</kw>
<status status="PASS" starttime="20230531 01:11:01.684" endtime="20230531 01:11:02.283"/>
</kw>
<msg timestamp="20230531 01:11:02.283" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:01.683" endtime="20230531 01:11:02.284"/>
</kw>
<status status="PASS" starttime="20230531 01:11:01.683" endtime="20230531 01:11:02.284"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:02.288" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:02.861" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:02.861" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:02.285" endtime="20230531 01:11:02.861"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:02.863" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:02.862" endtime="20230531 01:11:02.863"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:02.864" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:02.863" endtime="20230531 01:11:02.864"/>
</kw>
<status status="PASS" starttime="20230531 01:11:02.285" endtime="20230531 01:11:02.864"/>
</kw>
<msg timestamp="20230531 01:11:02.864" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:02.285" endtime="20230531 01:11:02.865"/>
</kw>
<status status="PASS" starttime="20230531 01:11:02.284" endtime="20230531 01:11:02.865"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:02.869" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:03.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:03.377" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:02.867" endtime="20230531 01:11:03.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:03.378" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:03.377" endtime="20230531 01:11:03.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:03.379" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:03.378" endtime="20230531 01:11:03.379"/>
</kw>
<status status="PASS" starttime="20230531 01:11:02.866" endtime="20230531 01:11:03.379"/>
</kw>
<msg timestamp="20230531 01:11:03.379" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:02.866" endtime="20230531 01:11:03.380"/>
</kw>
<status status="PASS" starttime="20230531 01:11:02.865" endtime="20230531 01:11:03.380"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:03.384" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:03.930" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:03.930" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:03.382" endtime="20230531 01:11:03.930"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:03.932" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:03.931" endtime="20230531 01:11:03.932"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:03.933" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:03.933" endtime="20230531 01:11:03.933"/>
</kw>
<status status="PASS" starttime="20230531 01:11:03.381" endtime="20230531 01:11:03.934"/>
</kw>
<msg timestamp="20230531 01:11:03.934" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:03.381" endtime="20230531 01:11:03.935"/>
</kw>
<status status="PASS" starttime="20230531 01:11:03.380" endtime="20230531 01:11:03.935"/>
</kw>
<status status="PASS" starttime="20230531 01:11:01.682" endtime="20230531 01:11:03.935"/>
</kw>
<status status="PASS" starttime="20230531 01:11:01.681" endtime="20230531 01:11:03.935"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:01.680" endtime="20230531 01:11:03.935"/>
</test>
<test id="s1-s16-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:03.943" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:04.841" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:04.841" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:11:03.941" endtime="20230531 01:11:04.841"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:04.842" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:11:04.841" endtime="20230531 01:11:04.842"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:04.843" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:04.843" endtime="20230531 01:11:04.843"/>
</kw>
<status status="PASS" starttime="20230531 01:11:03.940" endtime="20230531 01:11:04.844"/>
</kw>
<msg timestamp="20230531 01:11:04.844" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:03.939" endtime="20230531 01:11:04.844"/>
</kw>
<msg timestamp="20230531 01:11:04.844" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:11:03.939" endtime="20230531 01:11:04.844"/>
</kw>
<msg timestamp="20230531 01:11:04.845" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:11:03.938" endtime="20230531 01:11:04.845"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:04.845" endtime="20230531 01:11:04.845"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:04.845" endtime="20230531 01:11:04.846"/>
</kw>
<msg timestamp="20230531 01:11:04.846" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 01:11:03.938" endtime="20230531 01:11:04.846"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 01:11:04.846" endtime="20230531 01:11:04.847"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:03.937" endtime="20230531 01:11:04.847"/>
</test>
<test id="s1-s16-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:04.852" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:11:04.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:04.855" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:04.850" endtime="20230531 01:11:04.855"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:04.857" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:04.856" endtime="20230531 01:11:04.857"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:04.858" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:04.857" endtime="20230531 01:11:04.858"/>
</kw>
<status status="PASS" starttime="20230531 01:11:04.849" endtime="20230531 01:11:04.858"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:04.863" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:06.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:06.224" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:04.860" endtime="20230531 01:11:06.224"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:06.225" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:06.224" endtime="20230531 01:11:06.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:06.226" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:06.226" endtime="20230531 01:11:06.226"/>
</kw>
<msg timestamp="20230531 01:11:06.227" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:04.859" endtime="20230531 01:11:06.227"/>
</kw>
<msg timestamp="20230531 01:11:06.227" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:04.858" endtime="20230531 01:11:06.227"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:06.227" endtime="20230531 01:11:06.228"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:06.231" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:06.233" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:06.233" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:06.228" endtime="20230531 01:11:06.233"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:06.235" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:06.234" endtime="20230531 01:11:06.235"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:06.236" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:06.235" endtime="20230531 01:11:06.236"/>
</kw>
<status status="PASS" starttime="20230531 01:11:06.228" endtime="20230531 01:11:06.237"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:04.848" endtime="20230531 01:11:06.237"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 01:10:34.470" endtime="20230531 01:11:06.239"/>
</suite>
<suite id="s1-s17" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s17-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:11:10.341" level="INFO">${random} = 41110</msg>
<status status="PASS" starttime="20230531 01:11:10.341" endtime="20230531 01:11:10.341"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:10.348" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-41110 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:16.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:16.575" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:10.344" endtime="20230531 01:11:16.575"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:16.577" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:16.576" endtime="20230531 01:11:16.577"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:16.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:16.577" endtime="20230531 01:11:16.577"/>
</kw>
<status status="PASS" starttime="20230531 01:11:10.343" endtime="20230531 01:11:16.578"/>
</kw>
<msg timestamp="20230531 01:11:16.578" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:10.342" endtime="20230531 01:11:16.579"/>
</kw>
<msg timestamp="20230531 01:11:16.579" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:10.342" endtime="20230531 01:11:16.579"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:16.580" endtime="20230531 01:11:16.580"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:16.584" level="INFO">Running command 'cat /tmp/key-41110 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:16.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:16.587" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:16.581" endtime="20230531 01:11:16.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:16.588" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:16.587" endtime="20230531 01:11:16.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:16.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:16.588" endtime="20230531 01:11:16.589"/>
</kw>
<msg timestamp="20230531 01:11:16.589" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:16.580" endtime="20230531 01:11:16.589"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:16.590" endtime="20230531 01:11:16.590"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:16.593" level="INFO">Running command 'rm /tmp/key-41110 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:16.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:16.596" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:16.591" endtime="20230531 01:11:16.596"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:16.598" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:16.597" endtime="20230531 01:11:16.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:16.598" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:16.598" endtime="20230531 01:11:16.598"/>
</kw>
<status status="PASS" starttime="20230531 01:11:16.590" endtime="20230531 01:11:16.599"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:10.340" endtime="20230531 01:11:16.599"/>
</test>
<test id="s1-s17-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:16.606" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:17.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:17.192" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:16.604" endtime="20230531 01:11:17.192"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:17.193" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:17.193" endtime="20230531 01:11:17.193"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:17.194" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:17.194" endtime="20230531 01:11:17.194"/>
</kw>
<status status="PASS" starttime="20230531 01:11:16.603" endtime="20230531 01:11:17.195"/>
</kw>
<msg timestamp="20230531 01:11:17.195" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:16.603" endtime="20230531 01:11:17.195"/>
</kw>
<status status="PASS" starttime="20230531 01:11:16.603" endtime="20230531 01:11:17.195"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:17.199" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:17.740" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:17.740" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:17.197" endtime="20230531 01:11:17.740"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:17.742" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:17.741" endtime="20230531 01:11:17.742"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:17.742" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:17.742" endtime="20230531 01:11:17.743"/>
</kw>
<status status="PASS" starttime="20230531 01:11:17.196" endtime="20230531 01:11:17.743"/>
</kw>
<msg timestamp="20230531 01:11:17.743" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:17.196" endtime="20230531 01:11:17.743"/>
</kw>
<status status="PASS" starttime="20230531 01:11:17.196" endtime="20230531 01:11:17.744"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:17.748" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:18.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:18.391" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:17.745" endtime="20230531 01:11:18.391"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:18.392" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:18.391" endtime="20230531 01:11:18.392"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:18.393" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:18.393" endtime="20230531 01:11:18.393"/>
</kw>
<status status="PASS" starttime="20230531 01:11:17.745" endtime="20230531 01:11:18.393"/>
</kw>
<msg timestamp="20230531 01:11:18.394" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:17.744" endtime="20230531 01:11:18.394"/>
</kw>
<status status="PASS" starttime="20230531 01:11:17.744" endtime="20230531 01:11:18.394"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:18.399" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:18.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:18.987" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:18.396" endtime="20230531 01:11:18.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:18.989" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:18.988" endtime="20230531 01:11:18.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:18.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:18.989" endtime="20230531 01:11:18.990"/>
</kw>
<status status="PASS" starttime="20230531 01:11:18.395" endtime="20230531 01:11:18.991"/>
</kw>
<msg timestamp="20230531 01:11:18.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:18.395" endtime="20230531 01:11:18.993"/>
</kw>
<status status="PASS" starttime="20230531 01:11:18.394" endtime="20230531 01:11:18.993"/>
</kw>
<status status="PASS" starttime="20230531 01:11:16.602" endtime="20230531 01:11:18.993"/>
</kw>
<status status="PASS" starttime="20230531 01:11:16.602" endtime="20230531 01:11:18.994"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:16.601" endtime="20230531 01:11:18.994"/>
</test>
<test id="s1-s17-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:19.004" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:19.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:19.851" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:01 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:19.001" endtime="20230531 01:11:19.851"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:19.852" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:01 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:11:19 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:11:19.852" endtime="20230531 01:11:19.852"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:19.853" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:19.853" endtime="20230531 01:11:19.854"/>
</kw>
<msg timestamp="20230531 01:11:19.854" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:01 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:18.999" endtime="20230531 01:11:19.854"/>
</kw>
<msg timestamp="20230531 01:11:19.854" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:01 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:18.998" endtime="20230531 01:11:19.854"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:19.855" endtime="20230531 01:11:19.855"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:19.859" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:19.862" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:19.862" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:19.856" endtime="20230531 01:11:19.862"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:19.863" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:19.862" endtime="20230531 01:11:19.863"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:19.864" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:19.864" endtime="20230531 01:11:19.865"/>
</kw>
<msg timestamp="20230531 01:11:19.865" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:11:19.855" endtime="20230531 01:11:19.865"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:19.865" endtime="20230531 01:11:19.866"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:19.870" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:19.874" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:19.874" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:19.868" endtime="20230531 01:11:19.874"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:19.875" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:19.874" endtime="20230531 01:11:19.875"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:19.876" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:19.875" endtime="20230531 01:11:19.876"/>
</kw>
<status status="PASS" starttime="20230531 01:11:19.866" endtime="20230531 01:11:19.876"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:18.996" endtime="20230531 01:11:19.877"/>
</test>
<test id="s1-s17-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:19.884" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:20.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:20.813" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:06 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:19.881" endtime="20230531 01:11:20.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:20.814" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:06 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:11:20 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:11:20.813" endtime="20230531 01:11:20.815"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:20.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:20.815" endtime="20230531 01:11:20.815"/>
</kw>
<msg timestamp="20230531 01:11:20.816" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:06 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:19.881" endtime="20230531 01:11:20.816"/>
</kw>
<msg timestamp="20230531 01:11:20.816" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:11:06 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:11:19.880" endtime="20230531 01:11:20.816"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:20.816" endtime="20230531 01:11:20.817"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:20.820" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:20.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:20.823" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:11:20.818" endtime="20230531 01:11:20.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:20.825" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:11:20.824" endtime="20230531 01:11:20.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:20.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:20.825" endtime="20230531 01:11:20.825"/>
</kw>
<msg timestamp="20230531 01:11:20.826" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:11:20.817" endtime="20230531 01:11:20.826"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:20.826" endtime="20230531 01:11:20.826"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:20.829" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:20.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:20.832" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:20.827" endtime="20230531 01:11:20.832"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:20.833" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:20.833" endtime="20230531 01:11:20.833"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:20.834" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:20.834" endtime="20230531 01:11:20.834"/>
</kw>
<status status="PASS" starttime="20230531 01:11:20.826" endtime="20230531 01:11:20.834"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:19.879" endtime="20230531 01:11:20.835"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:11:10.261" endtime="20230531 01:11:20.836"/>
</suite>
<suite id="s1-s18" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s18-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:11:25.132" endtime="20230531 01:11:25.132"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:25.138" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:25.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:25.141" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:11:25.134" endtime="20230531 01:11:25.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:25.143" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:11:25.142" endtime="20230531 01:11:25.143"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:25.144" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:25.143" endtime="20230531 01:11:25.144"/>
</kw>
<status status="PASS" starttime="20230531 01:11:25.133" endtime="20230531 01:11:25.144"/>
</kw>
<msg timestamp="20230531 01:11:25.144" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:25.133" endtime="20230531 01:11:25.145"/>
</kw>
<msg timestamp="20230531 01:11:25.146" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230531 01:11:25.132" endtime="20230531 01:11:25.146"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:25.146" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=be0664a92293
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230531 01:11:25.146" endtime="20230531 01:11:25.146"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:11:25.147" endtime="20230531 01:11:25.147"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:25.151" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:29.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:29.132" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:25.149" endtime="20230531 01:11:29.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:29.133" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:29.132" endtime="20230531 01:11:29.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:29.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:29.134" endtime="20230531 01:11:29.134"/>
</kw>
<status status="PASS" starttime="20230531 01:11:25.148" endtime="20230531 01:11:29.135"/>
</kw>
<msg timestamp="20230531 01:11:29.135" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:25.148" endtime="20230531 01:11:29.135"/>
</kw>
<msg timestamp="20230531 01:11:29.135" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:25.147" endtime="20230531 01:11:29.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:29.136" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:29.136" endtime="20230531 01:11:29.136"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:11:29.136" endtime="20230531 01:11:29.137"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:11:25.130" endtime="20230531 01:11:29.137"/>
</test>
<test id="s1-s18-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:11:29.139" endtime="20230531 01:11:29.139"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:11:29.139" endtime="20230531 01:11:29.140"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:29.144" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:32.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:32.903" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:29.141" endtime="20230531 01:11:32.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:32.904" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:32.904" endtime="20230531 01:11:32.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:32.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:32.905" endtime="20230531 01:11:32.905"/>
</kw>
<status status="PASS" starttime="20230531 01:11:29.141" endtime="20230531 01:11:32.905"/>
</kw>
<msg timestamp="20230531 01:11:32.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:29.140" endtime="20230531 01:11:32.906"/>
</kw>
<msg timestamp="20230531 01:11:32.906" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:29.140" endtime="20230531 01:11:32.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:32.907" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230531 01:11:32.906" endtime="20230531 01:11:32.907"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:11:32.907" endtime="20230531 01:11:32.907"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:11:29.138" endtime="20230531 01:11:32.908"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 01:11:25.075" endtime="20230531 01:11:32.909"/>
</suite>
<suite id="s1-s19" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s19-t1" name="Create snapshots" line="27">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:36.944" level="INFO">Running command 'ozone sh volume create snapvolume-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:40.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:40.803" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:36.938" endtime="20230531 01:11:40.803"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:40.805" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:40.804" endtime="20230531 01:11:40.805"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:40.806" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:40.806" endtime="20230531 01:11:40.806"/>
</kw>
<status status="PASS" starttime="20230531 01:11:36.938" endtime="20230531 01:11:40.807"/>
</kw>
<msg timestamp="20230531 01:11:40.807" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:36.937" endtime="20230531 01:11:40.808"/>
</kw>
<msg timestamp="20230531 01:11:40.809" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:36.937" endtime="20230531 01:11:40.809"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:40.809" endtime="20230531 01:11:40.810"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-1/snapbucket-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:40.814" level="INFO">Running command 'ozone sh bucket create /snapvolume-1/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:44.842" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:44.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:40.811" endtime="20230531 01:11:44.842"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:44.844" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:44.843" endtime="20230531 01:11:44.844"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:44.845" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:44.844" endtime="20230531 01:11:44.845"/>
</kw>
<status status="PASS" starttime="20230531 01:11:40.811" endtime="20230531 01:11:44.845"/>
</kw>
<msg timestamp="20230531 01:11:44.845" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:40.810" endtime="20230531 01:11:44.846"/>
</kw>
<msg timestamp="20230531 01:11:44.846" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:40.810" endtime="20230531 01:11:44.846"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:44.846" endtime="20230531 01:11:44.847"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:44.851" level="INFO">Running command 'ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:48.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:48.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:44.849" endtime="20230531 01:11:48.743"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:48.747" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:48.744" endtime="20230531 01:11:48.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:48.750" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:48.747" endtime="20230531 01:11:48.750"/>
</kw>
<status status="PASS" starttime="20230531 01:11:44.848" endtime="20230531 01:11:48.757"/>
</kw>
<msg timestamp="20230531 01:11:48.757" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:44.848" endtime="20230531 01:11:48.758"/>
</kw>
<msg timestamp="20230531 01:11:48.762" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:44.847" endtime="20230531 01:11:48.762"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:11:48.762" endtime="20230531 01:11:48.765"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>echo "key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:48.777" level="INFO">Running command 'echo "key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:11:48.784" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:48.784" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:48.768" endtime="20230531 01:11:48.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:48.799" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:48.793" endtime="20230531 01:11:48.801"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:48.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:48.801" endtime="20230531 01:11:48.804"/>
</kw>
<status status="PASS" starttime="20230531 01:11:48.765" endtime="20230531 01:11:48.805"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /snapvolume-1/snapbucket-1/key1 /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:48.819" level="INFO">Running command 'ozone sh key put /snapvolume-1/snapbucket-1/key1 /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:55.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:55.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:48.812" endtime="20230531 01:11:55.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:55.824" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:55.822" endtime="20230531 01:11:55.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:55.827" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:55.825" endtime="20230531 01:11:55.828"/>
</kw>
<status status="PASS" starttime="20230531 01:11:48.808" endtime="20230531 01:11:55.830"/>
</kw>
<msg timestamp="20230531 01:11:55.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:48.808" endtime="20230531 01:11:55.831"/>
</kw>
<status status="PASS" starttime="20230531 01:11:48.805" endtime="20230531 01:11:55.831"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:55.836" level="INFO">Running command 'ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:11:59.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:11:59.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:11:55.833" endtime="20230531 01:11:59.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:11:59.824" level="INFO"/>
<status status="PASS" starttime="20230531 01:11:59.823" endtime="20230531 01:11:59.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:11:59.831" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:11:59.827" endtime="20230531 01:11:59.831"/>
</kw>
<status status="PASS" starttime="20230531 01:11:55.832" endtime="20230531 01:11:59.832"/>
</kw>
<msg timestamp="20230531 01:11:59.832" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:55.832" endtime="20230531 01:11:59.832"/>
</kw>
<status status="PASS" starttime="20230531 01:11:55.831" endtime="20230531 01:11:59.833"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:36.936" endtime="20230531 01:11:59.834"/>
</test>
<test id="s1-s19-t2" name="List snapshots" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-1/snapbucket-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:11:59.842" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-1/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:12:04.035" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:12:04.035" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1685495508512,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "306729b7-ab36-...</msg>
<status status="PASS" starttime="20230531 01:11:59.839" endtime="20230531 01:12:04.035"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:12:04.037" level="INFO">[ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1685495508512,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "306729b7-ab36-446c-a060-48957daf2337",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-306729b7-ab36-446c-a060-48957daf2337"
}, {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-4ce3-95c4-cc737d6f1003",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-206b010f-499e-4ce3-95c4-cc737d6f1003"
} ]</msg>
<status status="PASS" starttime="20230531 01:12:04.036" endtime="20230531 01:12:04.037"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:12:04.038" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:12:04.037" endtime="20230531 01:12:04.038"/>
</kw>
<status status="PASS" starttime="20230531 01:11:59.838" endtime="20230531 01:12:04.038"/>
</kw>
<msg timestamp="20230531 01:12:04.038" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:11:59.837" endtime="20230531 01:12:04.039"/>
</kw>
<msg timestamp="20230531 01:12:04.039" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1685495508512,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "306729b7-ab36-...</msg>
<status status="PASS" starttime="20230531 01:11:59.837" endtime="20230531 01:12:04.039"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>snapshot1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:12:04.039" endtime="20230531 01:12:04.040"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>snapshot2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:12:04.040" endtime="20230531 01:12:04.041"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:12:04.041" endtime="20230531 01:12:04.041"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:11:59.836" endtime="20230531 01:12:04.041"/>
</test>
<test id="s1-s19-t3" name="Snapshot Diff" line="60">
<while condition="True">
<iter>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:12:04.048" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:12:08.208" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:12:08.208" level="INFO">${output} = Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230531 01:12:04.045" endtime="20230531 01:12:08.208"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:12:08.210" level="INFO">Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230531 01:12:08.209" endtime="20230531 01:12:08.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:12:08.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:12:08.210" endtime="20230531 01:12:08.211"/>
</kw>
<status status="PASS" starttime="20230531 01:12:04.044" endtime="20230531 01:12:08.211"/>
</kw>
<msg timestamp="20230531 01:12:08.211" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:12:04.044" endtime="20230531 01:12:08.212"/>
</kw>
<msg timestamp="20230531 01:12:08.212" level="INFO">${output} = Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230531 01:12:04.044" endtime="20230531 01:12:08.212"/>
</kw>
<if>
<branch type="IF" condition="&quot;Snapshot diff job is IN_PROGRESS&quot; in &quot;&quot;&quot;${output}&quot;&quot;&quot;">
<kw name="Sleep" library="BuiltIn">
<arg>10s</arg>
<doc>Pauses the test executed for the given time.</doc>
<msg timestamp="20230531 01:12:18.214" level="INFO">Slept 10 seconds</msg>
<status status="PASS" starttime="20230531 01:12:08.213" endtime="20230531 01:12:18.214"/>
</kw>
<status status="PASS" starttime="20230531 01:12:08.213" endtime="20230531 01:12:18.214"/>
</branch>
<branch type="ELSE">
<break>
<status status="NOT RUN" starttime="20230531 01:12:18.214" endtime="20230531 01:12:18.214"/>
</break>
<status status="NOT RUN" starttime="20230531 01:12:18.214" endtime="20230531 01:12:18.214"/>
</branch>
<status status="PASS" starttime="20230531 01:12:08.212" endtime="20230531 01:12:18.214"/>
</if>
<status status="PASS" starttime="20230531 01:12:04.043" endtime="20230531 01:12:18.214"/>
</iter>
<iter>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:12:18.219" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:12:21.491" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:12:21.492" level="INFO">${output} = Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230531 01:12:18.216" endtime="20230531 01:12:21.492"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:12:21.493" level="INFO">Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230531 01:12:21.492" endtime="20230531 01:12:21.493"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:12:21.494" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:12:21.493" endtime="20230531 01:12:21.494"/>
</kw>
<status status="PASS" starttime="20230531 01:12:18.216" endtime="20230531 01:12:21.494"/>
</kw>
<msg timestamp="20230531 01:12:21.495" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:12:18.216" endtime="20230531 01:12:21.495"/>
</kw>
<msg timestamp="20230531 01:12:21.495" level="INFO">${output} = Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230531 01:12:18.215" endtime="20230531 01:12:21.495"/>
</kw>
<if>
<branch type="IF" condition="&quot;Snapshot diff job is IN_PROGRESS&quot; in &quot;&quot;&quot;${output}&quot;&quot;&quot;">
<kw name="Sleep" library="BuiltIn">
<arg>10s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" starttime="20230531 01:12:21.496" endtime="20230531 01:12:21.496"/>
</kw>
<status status="NOT RUN" starttime="20230531 01:12:21.496" endtime="20230531 01:12:21.496"/>
</branch>
<branch type="ELSE">
<break>
<status status="PASS" starttime="20230531 01:12:21.496" endtime="20230531 01:12:21.496"/>
</break>
<status status="PASS" starttime="20230531 01:12:21.496" endtime="20230531 01:12:21.496"/>
</branch>
<status status="PASS" starttime="20230531 01:12:21.495" endtime="20230531 01:12:21.496"/>
</if>
<status status="PASS" starttime="20230531 01:12:18.215" endtime="20230531 01:12:21.496"/>
</iter>
<status status="PASS" starttime="20230531 01:12:04.043" endtime="20230531 01:12:21.496"/>
</while>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>+</arg>
<arg>key1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:12:21.496" endtime="20230531 01:12:21.497"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:12:04.043" endtime="20230531 01:12:21.497"/>
</test>
<test id="s1-s19-t4" name="Delete snapshot" line="77">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-1/snapbucket-1 snapshot1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:12:21.502" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-1/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:12:24.764" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:12:24.764" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:12:21.500" endtime="20230531 01:12:24.764"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:12:24.766" level="INFO"/>
<status status="PASS" starttime="20230531 01:12:24.765" endtime="20230531 01:12:24.766"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:12:24.767" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:12:24.766" endtime="20230531 01:12:24.767"/>
</kw>
<status status="PASS" starttime="20230531 01:12:21.499" endtime="20230531 01:12:24.767"/>
</kw>
<msg timestamp="20230531 01:12:24.768" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:12:21.499" endtime="20230531 01:12:24.768"/>
</kw>
<msg timestamp="20230531 01:12:24.768" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:12:21.499" endtime="20230531 01:12:24.768"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:12:24.769" endtime="20230531 01:12:24.769"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-1/snapbucket-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:12:24.774" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-1/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:12:28.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:12:28.437" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-...</msg>
<status status="PASS" starttime="20230531 01:12:24.771" endtime="20230531 01:12:28.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:12:28.438" level="INFO">[ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-4ce3-95c4-cc737d6f1003",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-206b010f-499e-4ce3-95c4-cc737d6f1003"
} ]</msg>
<status status="PASS" starttime="20230531 01:12:28.437" endtime="20230531 01:12:28.438"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:12:28.439" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:12:28.438" endtime="20230531 01:12:28.439"/>
</kw>
<status status="PASS" starttime="20230531 01:12:24.770" endtime="20230531 01:12:28.439"/>
</kw>
<msg timestamp="20230531 01:12:28.440" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:12:24.770" endtime="20230531 01:12:28.440"/>
</kw>
<msg timestamp="20230531 01:12:28.440" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-...</msg>
<status status="PASS" starttime="20230531 01:12:24.769" endtime="20230531 01:12:28.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20230531 01:12:28.441" level="FAIL">'[ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-4ce3-95c4-cc737d6f1003",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-206b010f-499e-4ce3-95c4-cc737d6f1003"
} ]' does not contain 'SNAPSHOT_DELETED'</msg>
<status status="FAIL" starttime="20230531 01:12:28.441" endtime="20230531 01:12:28.442"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230531 01:12:21.498" endtime="20230531 01:12:28.443">'[ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1685495519725,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotID" : "206b010f-499e-4ce3-95c4-cc737d6f1003",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-206b010f-499e-4ce3-95c4-cc737d6f1003"
} ]' does not contain 'SNAPSHOT_DELETED'</status>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="FAIL" starttime="20230531 01:11:36.882" endtime="20230531 01:12:28.444"/>
</suite>
<suite id="s1-s20" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s20-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:07:20.302" endtime="20230531 01:07:20.303"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:07:20.309" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:20.818" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:20.818" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230531 01:07:20.304" endtime="20230531 01:09:20.818"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:20.820" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230531 01:09:20.819" endtime="20230531 01:09:20.820"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:20.821" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:20.820" endtime="20230531 01:09:20.821"/>
</kw>
<status status="PASS" starttime="20230531 01:07:20.304" endtime="20230531 01:09:20.822"/>
</kw>
<msg timestamp="20230531 01:09:20.822" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:07:20.303" endtime="20230531 01:09:20.823"/>
</kw>
<msg timestamp="20230531 01:09:20.823" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230531 01:07:20.303" endtime="20230531 01:09:20.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:20.824" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230531 01:09:20.823" endtime="20230531 01:09:20.824"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:07:20.301" endtime="20230531 01:09:20.824"/>
</test>
<test id="s1-s20-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:09:20.828" endtime="20230531 01:09:20.829"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:09:20.834" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:09:26.529" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:09:26.529" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metad...</msg>
<status status="PASS" starttime="20230531 01:09:20.830" endtime="20230531 01:09:26.529"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:26.531" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230531 01:09:26.530" endtime="20230531 01:09:26.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:09:26.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:09:26.531" endtime="20230531 01:09:26.532"/>
</kw>
<status status="PASS" starttime="20230531 01:09:20.830" endtime="20230531 01:09:26.532"/>
</kw>
<msg timestamp="20230531 01:09:26.532" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:09:20.829" endtime="20230531 01:09:26.533"/>
</kw>
<msg timestamp="20230531 01:09:26.534" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metad...</msg>
<status status="PASS" starttime="20230531 01:09:20.829" endtime="20230531 01:09:26.534"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:09:26.534" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230531 01:09:26.534" endtime="20230531 01:09:26.535"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:09:20.827" endtime="20230531 01:09:26.535"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 01:07:20.248" endtime="20230531 01:09:26.537"/>
</suite>
<suite id="s1-s21" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s21-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:22.129" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:59:22.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:22.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:22.124" endtime="20230531 00:59:22.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:22.133" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:22.132" endtime="20230531 00:59:22.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:22.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:22.133" endtime="20230531 00:59:22.134"/>
</kw>
<status status="PASS" starttime="20230531 00:59:22.123" endtime="20230531 00:59:22.134"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:22.138" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:31.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:31.141" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:22.136" endtime="20230531 00:59:31.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:31.142" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:31.142" endtime="20230531 00:59:31.142"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:31.143" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:31.143" endtime="20230531 00:59:31.143"/>
</kw>
<status status="PASS" starttime="20230531 00:59:22.135" endtime="20230531 00:59:31.150"/>
</kw>
<msg timestamp="20230531 00:59:31.150" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:22.135" endtime="20230531 00:59:31.154"/>
</kw>
<msg timestamp="20230531 00:59:31.155" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:22.134" endtime="20230531 00:59:31.156"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:31.156" endtime="20230531 00:59:31.157"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:31.165" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:31.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:31.168" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:31.160" endtime="20230531 00:59:31.168"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:31.170" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:31.169" endtime="20230531 00:59:31.170"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:31.171" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:31.170" endtime="20230531 00:59:31.171"/>
</kw>
<status status="PASS" starttime="20230531 00:59:31.157" endtime="20230531 00:59:31.171"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:22.122" endtime="20230531 00:59:31.171"/>
</test>
<test id="s1-s21-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:31.177" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:59:31.178" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:31.178" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:31.174" endtime="20230531 00:59:31.179"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:31.180" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:31.179" endtime="20230531 00:59:31.180"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:31.181" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:31.180" endtime="20230531 00:59:31.181"/>
</kw>
<status status="PASS" starttime="20230531 00:59:31.174" endtime="20230531 00:59:31.181"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:31.185" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:38.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:38.403" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:31.183" endtime="20230531 00:59:38.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:38.405" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:38.404" endtime="20230531 00:59:38.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:38.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:38.405" endtime="20230531 00:59:38.405"/>
</kw>
<status status="PASS" starttime="20230531 00:59:31.182" endtime="20230531 00:59:38.406"/>
</kw>
<msg timestamp="20230531 00:59:38.406" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:31.182" endtime="20230531 00:59:38.406"/>
</kw>
<msg timestamp="20230531 00:59:38.406" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:31.181" endtime="20230531 00:59:38.407"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:38.407" endtime="20230531 00:59:38.407"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:38.411" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:38.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:38.414" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:38.408" endtime="20230531 00:59:38.414"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:38.415" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:38.414" endtime="20230531 00:59:38.415"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:38.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:38.416" endtime="20230531 00:59:38.416"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.407" endtime="20230531 00:59:38.417"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:31.173" endtime="20230531 00:59:38.417"/>
</test>
<test id="s1-s21-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:38.424" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:38.926" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:38.926" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:38.421" endtime="20230531 00:59:38.926"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:38.927" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:38.926" endtime="20230531 00:59:38.927"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:38.928" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:38.928" endtime="20230531 00:59:38.928"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.421" endtime="20230531 00:59:38.929"/>
</kw>
<msg timestamp="20230531 00:59:38.929" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:38.420" endtime="20230531 00:59:38.929"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.420" endtime="20230531 00:59:38.929"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:38.933" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:39.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:39.422" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:38.931" endtime="20230531 00:59:39.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:39.423" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:39.422" endtime="20230531 00:59:39.423"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:39.424" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:39.423" endtime="20230531 00:59:39.424"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.930" endtime="20230531 00:59:39.424"/>
</kw>
<msg timestamp="20230531 00:59:39.424" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:38.930" endtime="20230531 00:59:39.425"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.929" endtime="20230531 00:59:39.425"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:39.429" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:39.960" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:39.960" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:39.427" endtime="20230531 00:59:39.960"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:39.962" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:39.961" endtime="20230531 00:59:39.962"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:39.962" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:39.962" endtime="20230531 00:59:39.963"/>
</kw>
<status status="PASS" starttime="20230531 00:59:39.426" endtime="20230531 00:59:39.963"/>
</kw>
<msg timestamp="20230531 00:59:39.963" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:39.426" endtime="20230531 00:59:39.964"/>
</kw>
<status status="PASS" starttime="20230531 00:59:39.425" endtime="20230531 00:59:39.964"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:39.968" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:40.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:40.486" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:39.965" endtime="20230531 00:59:40.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:40.487" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:40.486" endtime="20230531 00:59:40.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:40.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:40.488" endtime="20230531 00:59:40.488"/>
</kw>
<status status="PASS" starttime="20230531 00:59:39.965" endtime="20230531 00:59:40.489"/>
</kw>
<msg timestamp="20230531 00:59:40.489" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:39.964" endtime="20230531 00:59:40.489"/>
</kw>
<status status="PASS" starttime="20230531 00:59:39.964" endtime="20230531 00:59:40.489"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.420" endtime="20230531 00:59:40.489"/>
</kw>
<status status="PASS" starttime="20230531 00:59:38.419" endtime="20230531 00:59:40.490"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:38.418" endtime="20230531 00:59:40.490"/>
</test>
<test id="s1-s21-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:40.497" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:41.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:41.302" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:59:40.494" endtime="20230531 00:59:41.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:41.304" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:59:41.303" endtime="20230531 00:59:41.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:41.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:41.304" endtime="20230531 00:59:41.305"/>
</kw>
<status status="PASS" starttime="20230531 00:59:40.494" endtime="20230531 00:59:41.307"/>
</kw>
<msg timestamp="20230531 00:59:41.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:40.493" endtime="20230531 00:59:41.308"/>
</kw>
<msg timestamp="20230531 00:59:41.308" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:59:40.493" endtime="20230531 00:59:41.308"/>
</kw>
<msg timestamp="20230531 00:59:41.309" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230531 00:59:40.492" endtime="20230531 00:59:41.309"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:41.309" endtime="20230531 00:59:41.309"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:41.310" endtime="20230531 00:59:41.310"/>
</kw>
<msg timestamp="20230531 00:59:41.310" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 00:59:40.492" endtime="20230531 00:59:41.310"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 00:59:41.311" endtime="20230531 00:59:41.311"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:40.491" endtime="20230531 00:59:41.311"/>
</test>
<test id="s1-s21-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:41.318" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:59:41.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:41.320" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:41.315" endtime="20230531 00:59:41.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:41.321" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:41.321" endtime="20230531 00:59:41.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:41.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:41.322" endtime="20230531 00:59:41.322"/>
</kw>
<status status="PASS" starttime="20230531 00:59:41.314" endtime="20230531 00:59:41.323"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:41.327" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:42.551" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:42.551" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:41.324" endtime="20230531 00:59:42.551"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:42.553" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:42.552" endtime="20230531 00:59:42.553"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:42.554" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:42.553" endtime="20230531 00:59:42.554"/>
</kw>
<msg timestamp="20230531 00:59:42.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:41.324" endtime="20230531 00:59:42.554"/>
</kw>
<msg timestamp="20230531 00:59:42.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:41.323" endtime="20230531 00:59:42.555"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:42.555" endtime="20230531 00:59:42.555"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:42.559" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:42.562" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:42.562" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:42.556" endtime="20230531 00:59:42.562"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:42.563" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:42.562" endtime="20230531 00:59:42.563"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:42.564" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:42.563" endtime="20230531 00:59:42.564"/>
</kw>
<status status="PASS" starttime="20230531 00:59:42.555" endtime="20230531 00:59:42.564"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:41.313" endtime="20230531 00:59:42.565"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 00:59:22.046" endtime="20230531 00:59:42.566"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:46.854" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:50.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:50.588" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:46.841" endtime="20230531 00:59:50.588"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:50.590" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:50.589" endtime="20230531 00:59:50.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:50.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:50.590" endtime="20230531 00:59:50.591"/>
</kw>
<status status="PASS" starttime="20230531 00:59:46.840" endtime="20230531 00:59:50.591"/>
</kw>
<msg timestamp="20230531 00:59:50.592" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:46.840" endtime="20230531 00:59:50.593"/>
</kw>
<msg timestamp="20230531 00:59:50.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:46.839" endtime="20230531 00:59:50.593"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:50.594" endtime="20230531 00:59:50.594"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:50.600" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:54.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:54.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:50.596" endtime="20230531 00:59:54.610"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:54.611" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:54.610" endtime="20230531 00:59:54.611"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:54.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:54.611" endtime="20230531 00:59:54.612"/>
</kw>
<status status="PASS" starttime="20230531 00:59:50.596" endtime="20230531 00:59:54.612"/>
</kw>
<msg timestamp="20230531 00:59:54.612" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:50.595" endtime="20230531 00:59:54.614"/>
</kw>
<msg timestamp="20230531 00:59:54.614" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:50.594" endtime="20230531 00:59:54.614"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:54.614" endtime="20230531 00:59:54.615"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:46.838" endtime="20230531 00:59:54.619"/>
</test>
<test id="s1-s22-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:54.638" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 00:59:54.640" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:54.640" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:54.631" endtime="20230531 00:59:54.640"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:54.641" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:54.641" endtime="20230531 00:59:54.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:54.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:54.642" endtime="20230531 00:59:54.643"/>
</kw>
<status status="PASS" starttime="20230531 00:59:54.625" endtime="20230531 00:59:54.644"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:54.650" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:00.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:00.988" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:54.647" endtime="20230531 01:00:00.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:00.990" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:00.989" endtime="20230531 01:00:00.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:00.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:00.990" endtime="20230531 01:00:00.991"/>
</kw>
<status status="PASS" starttime="20230531 00:59:54.646" endtime="20230531 01:00:00.991"/>
</kw>
<msg timestamp="20230531 01:00:00.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:54.645" endtime="20230531 01:00:00.992"/>
</kw>
<msg timestamp="20230531 01:00:00.992" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:54.644" endtime="20230531 01:00:00.992"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:00.992" endtime="20230531 01:00:00.992"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:00.996" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:00.998" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:00.998" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:00.993" endtime="20230531 01:00:00.998"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:01.000" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:00.999" endtime="20230531 01:00:01.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:01.001" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:01.000" endtime="20230531 01:00:01.001"/>
</kw>
<status status="PASS" starttime="20230531 01:00:00.993" endtime="20230531 01:00:01.001"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:54.623" endtime="20230531 01:00:01.001"/>
</test>
<test id="s1-s22-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:01.007" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:05.209" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:05.209" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:01.004" endtime="20230531 01:00:05.209"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:05.210" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:05.209" endtime="20230531 01:00:05.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:05.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:05.211" endtime="20230531 01:00:05.211"/>
</kw>
<status status="PASS" starttime="20230531 01:00:01.004" endtime="20230531 01:00:05.212"/>
</kw>
<msg timestamp="20230531 01:00:05.212" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:01.004" endtime="20230531 01:00:05.212"/>
</kw>
<msg timestamp="20230531 01:00:05.213" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:01.003" endtime="20230531 01:00:05.213"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:05.213" endtime="20230531 01:00:05.213"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:01.002" endtime="20230531 01:00:05.213"/>
</test>
<test id="s1-s22-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:05.219" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:00:05.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:05.221" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:05.216" endtime="20230531 01:00:05.221"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:05.222" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:05.221" endtime="20230531 01:00:05.222"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:05.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:05.222" endtime="20230531 01:00:05.222"/>
</kw>
<status status="PASS" starttime="20230531 01:00:05.216" endtime="20230531 01:00:05.223"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:05.227" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:10.929" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:10.929" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:05.225" endtime="20230531 01:00:10.929"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:10.931" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:10.930" endtime="20230531 01:00:10.931"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:10.931" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:10.931" endtime="20230531 01:00:10.932"/>
</kw>
<status status="PASS" starttime="20230531 01:00:05.224" endtime="20230531 01:00:10.932"/>
</kw>
<msg timestamp="20230531 01:00:10.932" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:05.223" endtime="20230531 01:00:10.932"/>
</kw>
<msg timestamp="20230531 01:00:10.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:05.223" endtime="20230531 01:00:10.933"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:10.933" endtime="20230531 01:00:10.933"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:10.937" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:10.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:10.940" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:10.934" endtime="20230531 01:00:10.940"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:10.942" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:10.941" endtime="20230531 01:00:10.942"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:10.943" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:10.942" endtime="20230531 01:00:10.944"/>
</kw>
<status status="PASS" starttime="20230531 01:00:10.933" endtime="20230531 01:00:10.944"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:05.214" endtime="20230531 01:00:10.945"/>
</test>
<test id="s1-s22-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:10.951" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:11.515" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:11.515" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:10.949" endtime="20230531 01:00:11.515"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:11.517" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:11.516" endtime="20230531 01:00:11.517"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:11.517" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:11.517" endtime="20230531 01:00:11.518"/>
</kw>
<status status="PASS" starttime="20230531 01:00:10.948" endtime="20230531 01:00:11.518"/>
</kw>
<msg timestamp="20230531 01:00:11.518" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:10.948" endtime="20230531 01:00:11.518"/>
</kw>
<status status="PASS" starttime="20230531 01:00:10.947" endtime="20230531 01:00:11.519"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:11.523" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:12.117" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:12.117" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:11.520" endtime="20230531 01:00:12.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:12.119" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:12.118" endtime="20230531 01:00:12.119"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:12.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:12.119" endtime="20230531 01:00:12.120"/>
</kw>
<status status="PASS" starttime="20230531 01:00:11.520" endtime="20230531 01:00:12.120"/>
</kw>
<msg timestamp="20230531 01:00:12.120" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:11.519" endtime="20230531 01:00:12.121"/>
</kw>
<status status="PASS" starttime="20230531 01:00:11.519" endtime="20230531 01:00:12.121"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:12.126" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:12.759" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:12.759" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:12.123" endtime="20230531 01:00:12.760"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:12.764" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:12.760" endtime="20230531 01:00:12.765"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:12.767" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:12.766" endtime="20230531 01:00:12.767"/>
</kw>
<status status="PASS" starttime="20230531 01:00:12.122" endtime="20230531 01:00:12.770"/>
</kw>
<msg timestamp="20230531 01:00:12.770" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:12.121" endtime="20230531 01:00:12.772"/>
</kw>
<status status="PASS" starttime="20230531 01:00:12.121" endtime="20230531 01:00:12.773"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:12.787" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:13.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:13.439" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:12.783" endtime="20230531 01:00:13.439"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:13.441" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:13.440" endtime="20230531 01:00:13.441"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:13.441" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:13.441" endtime="20230531 01:00:13.441"/>
</kw>
<status status="PASS" starttime="20230531 01:00:12.777" endtime="20230531 01:00:13.442"/>
</kw>
<msg timestamp="20230531 01:00:13.442" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:12.776" endtime="20230531 01:00:13.442"/>
</kw>
<status status="PASS" starttime="20230531 01:00:12.774" endtime="20230531 01:00:13.443"/>
</kw>
<status status="PASS" starttime="20230531 01:00:10.947" endtime="20230531 01:00:13.443"/>
</kw>
<status status="PASS" starttime="20230531 01:00:10.946" endtime="20230531 01:00:13.443"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:10.945" endtime="20230531 01:00:13.443"/>
</test>
<test id="s1-s22-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:13.449" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:14.175" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:14.176" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:00:13.446" endtime="20230531 01:00:14.176"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:14.177" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:00:14.176" endtime="20230531 01:00:14.177"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:14.178" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:14.178" endtime="20230531 01:00:14.178"/>
</kw>
<status status="PASS" starttime="20230531 01:00:13.446" endtime="20230531 01:00:14.179"/>
</kw>
<msg timestamp="20230531 01:00:14.179" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:13.446" endtime="20230531 01:00:14.179"/>
</kw>
<msg timestamp="20230531 01:00:14.180" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:00:13.445" endtime="20230531 01:00:14.180"/>
</kw>
<msg timestamp="20230531 01:00:14.180" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230531 01:00:13.445" endtime="20230531 01:00:14.180"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:14.180" endtime="20230531 01:00:14.181"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:14.181" endtime="20230531 01:00:14.181"/>
</kw>
<msg timestamp="20230531 01:00:14.181" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230531 01:00:13.444" endtime="20230531 01:00:14.182"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230531 01:00:14.182" endtime="20230531 01:00:14.182"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:13.444" endtime="20230531 01:00:14.182"/>
</test>
<test id="s1-s22-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:14.196" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230531 01:00:14.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:14.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:14.185" endtime="20230531 01:00:14.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:14.207" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:14.206" endtime="20230531 01:00:14.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:14.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:14.208" endtime="20230531 01:00:14.209"/>
</kw>
<status status="PASS" starttime="20230531 01:00:14.184" endtime="20230531 01:00:14.209"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:14.214" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:15.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:15.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:14.212" endtime="20230531 01:00:15.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:15.209" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:15.207" endtime="20230531 01:00:15.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:15.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:15.209" endtime="20230531 01:00:15.210"/>
</kw>
<msg timestamp="20230531 01:00:15.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:14.210" endtime="20230531 01:00:15.210"/>
</kw>
<msg timestamp="20230531 01:00:15.211" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:14.209" endtime="20230531 01:00:15.211"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:15.211" endtime="20230531 01:00:15.211"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:15.215" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:15.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:15.219" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:15.212" endtime="20230531 01:00:15.219"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:15.221" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:15.219" endtime="20230531 01:00:15.221"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:15.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:15.222" endtime="20230531 01:00:15.223"/>
</kw>
<status status="PASS" starttime="20230531 01:00:15.212" endtime="20230531 01:00:15.223"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:14.183" endtime="20230531 01:00:15.224"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230531 00:59:46.742" endtime="20230531 01:00:15.227"/>
</suite>
<suite id="s1-s23" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s23-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 01:00:19.196" level="INFO">${random} = 42643</msg>
<status status="PASS" starttime="20230531 01:00:19.196" endtime="20230531 01:00:19.196"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:19.203" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-42643 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:25.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:25.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:19.199" endtime="20230531 01:00:25.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:25.606" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:25.605" endtime="20230531 01:00:25.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:25.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:25.607" endtime="20230531 01:00:25.608"/>
</kw>
<status status="PASS" starttime="20230531 01:00:19.198" endtime="20230531 01:00:25.608"/>
</kw>
<msg timestamp="20230531 01:00:25.608" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:19.197" endtime="20230531 01:00:25.609"/>
</kw>
<msg timestamp="20230531 01:00:25.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:19.196" endtime="20230531 01:00:25.610"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:25.610" endtime="20230531 01:00:25.611"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:25.615" level="INFO">Running command 'cat /tmp/key-42643 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:25.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:25.618" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:25.611" endtime="20230531 01:00:25.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:25.620" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:25.619" endtime="20230531 01:00:25.620"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:25.621" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:25.620" endtime="20230531 01:00:25.621"/>
</kw>
<msg timestamp="20230531 01:00:25.621" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:25.611" endtime="20230531 01:00:25.622"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:25.622" endtime="20230531 01:00:25.622"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:25.626" level="INFO">Running command 'rm /tmp/key-42643 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:25.630" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:25.630" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:25.623" endtime="20230531 01:00:25.630"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:25.631" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:25.630" endtime="20230531 01:00:25.632"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:25.632" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:25.632" endtime="20230531 01:00:25.632"/>
</kw>
<status status="PASS" starttime="20230531 01:00:25.623" endtime="20230531 01:00:25.633"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:19.195" endtime="20230531 01:00:25.633"/>
</test>
<test id="s1-s23-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:25.640" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:26.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:26.168" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:25.637" endtime="20230531 01:00:26.168"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:26.170" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:26.169" endtime="20230531 01:00:26.170"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:26.170" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:26.170" endtime="20230531 01:00:26.171"/>
</kw>
<status status="PASS" starttime="20230531 01:00:25.637" endtime="20230531 01:00:26.171"/>
</kw>
<msg timestamp="20230531 01:00:26.171" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:25.637" endtime="20230531 01:00:26.172"/>
</kw>
<status status="PASS" starttime="20230531 01:00:25.636" endtime="20230531 01:00:26.172"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:26.177" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:26.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:26.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:26.174" endtime="20230531 01:00:26.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:26.706" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:26.705" endtime="20230531 01:00:26.706"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:26.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:26.706" endtime="20230531 01:00:26.707"/>
</kw>
<status status="PASS" starttime="20230531 01:00:26.173" endtime="20230531 01:00:26.707"/>
</kw>
<msg timestamp="20230531 01:00:26.707" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:26.173" endtime="20230531 01:00:26.707"/>
</kw>
<status status="PASS" starttime="20230531 01:00:26.172" endtime="20230531 01:00:26.708"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:26.720" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:27.254" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:27.254" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:26.709" endtime="20230531 01:00:27.254"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:27.256" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:27.255" endtime="20230531 01:00:27.256"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:27.257" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:27.257" endtime="20230531 01:00:27.258"/>
</kw>
<status status="PASS" starttime="20230531 01:00:26.709" endtime="20230531 01:00:27.258"/>
</kw>
<msg timestamp="20230531 01:00:27.258" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:26.708" endtime="20230531 01:00:27.259"/>
</kw>
<status status="PASS" starttime="20230531 01:00:26.708" endtime="20230531 01:00:27.259"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:27.264" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:27.819" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:27.819" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:27.261" endtime="20230531 01:00:27.819"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:27.821" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:27.820" endtime="20230531 01:00:27.821"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:27.822" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:27.821" endtime="20230531 01:00:27.822"/>
</kw>
<status status="PASS" starttime="20230531 01:00:27.260" endtime="20230531 01:00:27.822"/>
</kw>
<msg timestamp="20230531 01:00:27.822" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:27.260" endtime="20230531 01:00:27.823"/>
</kw>
<status status="PASS" starttime="20230531 01:00:27.259" endtime="20230531 01:00:27.824"/>
</kw>
<status status="PASS" starttime="20230531 01:00:25.635" endtime="20230531 01:00:27.824"/>
</kw>
<status status="PASS" starttime="20230531 01:00:25.635" endtime="20230531 01:00:27.824"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:25.634" endtime="20230531 01:00:27.824"/>
</test>
<test id="s1-s23-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:27.831" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:28.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:28.532" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:27.828" endtime="20230531 01:00:28.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:28.534" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:00:28 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:00:28.532" endtime="20230531 01:00:28.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:28.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:28.534" endtime="20230531 01:00:28.535"/>
</kw>
<msg timestamp="20230531 01:00:28.535" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:27.827" endtime="20230531 01:00:28.535"/>
</kw>
<msg timestamp="20230531 01:00:28.535" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:27.826" endtime="20230531 01:00:28.535"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:28.536" endtime="20230531 01:00:28.536"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:28.540" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:28.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:28.543" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:28.537" endtime="20230531 01:00:28.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:28.544" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:28.543" endtime="20230531 01:00:28.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:28.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:28.544" endtime="20230531 01:00:28.545"/>
</kw>
<msg timestamp="20230531 01:00:28.545" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 01:00:28.536" endtime="20230531 01:00:28.545"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:28.546" endtime="20230531 01:00:28.546"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:28.550" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:28.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:28.552" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:28.547" endtime="20230531 01:00:28.553"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:28.554" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:28.553" endtime="20230531 01:00:28.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:28.555" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:28.554" endtime="20230531 01:00:28.555"/>
</kw>
<status status="PASS" starttime="20230531 01:00:28.546" endtime="20230531 01:00:28.555"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:27.825" endtime="20230531 01:00:28.555"/>
</test>
<test id="s1-s23-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:28.562" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:29.227" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:29.227" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:28.559" endtime="20230531 01:00:29.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:29.229" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 01:00:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 01:00:29.228" endtime="20230531 01:00:29.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:29.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:29.229" endtime="20230531 01:00:29.230"/>
</kw>
<msg timestamp="20230531 01:00:29.230" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:28.558" endtime="20230531 01:00:29.230"/>
</kw>
<msg timestamp="20230531 01:00:29.230" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 01:00:15 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 01:00:28.558" endtime="20230531 01:00:29.231"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:29.231" endtime="20230531 01:00:29.231"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:29.235" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:29.237" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:29.238" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:00:29.232" endtime="20230531 01:00:29.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:29.239" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:00:29.238" endtime="20230531 01:00:29.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:29.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:29.239" endtime="20230531 01:00:29.240"/>
</kw>
<msg timestamp="20230531 01:00:29.240" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 01:00:29.232" endtime="20230531 01:00:29.240"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:29.241" endtime="20230531 01:00:29.241"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:29.245" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:29.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:29.247" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:29.242" endtime="20230531 01:00:29.247"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:29.249" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:29.248" endtime="20230531 01:00:29.249"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:29.249" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:29.249" endtime="20230531 01:00:29.250"/>
</kw>
<status status="PASS" starttime="20230531 01:00:29.241" endtime="20230531 01:00:29.250"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:28.557" endtime="20230531 01:00:29.250"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 01:00:19.112" endtime="20230531 01:00:29.252"/>
</suite>
<suite id="s1-s24" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s24-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:00:33.405" endtime="20230531 01:00:33.406"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:33.411" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:37.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:37.494" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:33.407" endtime="20230531 01:00:37.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:37.496" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:37.495" endtime="20230531 01:00:37.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:37.497" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:37.496" endtime="20230531 01:00:37.497"/>
</kw>
<status status="PASS" starttime="20230531 01:00:33.407" endtime="20230531 01:00:37.497"/>
</kw>
<msg timestamp="20230531 01:00:37.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:33.406" endtime="20230531 01:00:37.499"/>
</kw>
<msg timestamp="20230531 01:00:37.499" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:33.406" endtime="20230531 01:00:37.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:37.499" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:37.499" endtime="20230531 01:00:37.500"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:00:37.500" endtime="20230531 01:00:37.500"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:00:33.404" endtime="20230531 01:00:37.500"/>
</test>
<test id="s1-s24-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:00:37.503" endtime="20230531 01:00:37.504"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:37.508" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:43.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:43.207" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:37.505" endtime="20230531 01:00:43.207"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:43.208" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:43.207" endtime="20230531 01:00:43.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:43.209" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:43.209" endtime="20230531 01:00:43.210"/>
</kw>
<status status="PASS" starttime="20230531 01:00:37.505" endtime="20230531 01:00:43.210"/>
</kw>
<msg timestamp="20230531 01:00:43.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:00:37.504" endtime="20230531 01:00:43.211"/>
</kw>
<msg timestamp="20230531 01:00:43.211" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:37.504" endtime="20230531 01:00:43.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:43.211" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230531 01:00:43.211" endtime="20230531 01:00:43.212"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230531 01:00:43.212" endtime="20230531 01:00:43.212"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230531 01:00:37.502" endtime="20230531 01:00:43.212"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230531 01:00:33.348" endtime="20230531 01:00:43.214"/>
</suite>
<suite id="s1-s25" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s25-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="39">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:47.225" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:50.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:50.780" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:47.221" endtime="20230531 01:00:50.780"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:50.781" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:50.780" endtime="20230531 01:00:50.781"/>
</kw>
<msg timestamp="20230531 01:00:50.782" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:47.220" endtime="20230531 01:00:50.782"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:50.782" endtime="20230531 01:00:50.782"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:50.786" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:55.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:00:55.442" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:50.783" endtime="20230531 01:00:55.442"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:55.443" level="INFO"/>
<status status="PASS" starttime="20230531 01:00:55.442" endtime="20230531 01:00:55.443"/>
</kw>
<msg timestamp="20230531 01:00:55.444" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 01:00:50.782" endtime="20230531 01:00:55.444"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:55.444" endtime="20230531 01:00:55.444"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:55.448" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:00:59.028" level="INFO">${rc} = 255</msg>
<msg timestamp="20230531 01:00:59.028" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230531 01:00:55.445" endtime="20230531 01:00:59.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:00:59.030" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230531 01:00:59.029" endtime="20230531 01:00:59.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:00:59.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:00:59.030" endtime="20230531 01:00:59.031"/>
</kw>
<msg timestamp="20230531 01:00:59.031" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230531 01:00:55.445" endtime="20230531 01:00:59.031"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:00:59.031" endtime="20230531 01:00:59.032"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:47.219" endtime="20230531 01:00:59.032"/>
</test>
<test id="s1-s25-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="55">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:00:59.038" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:01:02.563" level="INFO">${rc} = 255</msg>
<msg timestamp="20230531 01:01:02.563" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230531 01:00:59.035" endtime="20230531 01:01:02.563"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:01:02.564" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230531 01:01:02.563" endtime="20230531 01:01:02.564"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:01:02.565" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:01:02.565" endtime="20230531 01:01:02.565"/>
</kw>
<msg timestamp="20230531 01:01:02.566" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230531 01:00:59.035" endtime="20230531 01:01:02.566"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:01:02.566" endtime="20230531 01:01:02.567"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:00:59.034" endtime="20230531 01:01:02.567"/>
</test>
<test id="s1-s25-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="72">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:01:02.573" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:01:06.403" level="INFO">${rc} = 255</msg>
<msg timestamp="20230531 01:01:06.403" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230531 01:01:02.570" endtime="20230531 01:01:06.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:01:06.405" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230531 01:01:06.404" endtime="20230531 01:01:06.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:01:06.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:01:06.405" endtime="20230531 01:01:06.406"/>
</kw>
<msg timestamp="20230531 01:01:06.406" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230531 01:01:02.569" endtime="20230531 01:01:06.406"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:01:06.406" endtime="20230531 01:01:06.407"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:01:02.568" endtime="20230531 01:01:06.407"/>
</test>
<test id="s1-s25-t4" name="Attempt to delete when snapshot feature is disabled" line="84">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:01:06.413" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:01:09.899" level="INFO">${rc} = 255</msg>
<msg timestamp="20230531 01:01:09.899" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230531 01:01:06.410" endtime="20230531 01:01:09.899"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:01:09.901" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230531 01:01:09.900" endtime="20230531 01:01:09.901"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:01:09.901" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:01:09.901" endtime="20230531 01:01:09.902"/>
</kw>
<msg timestamp="20230531 01:01:09.902" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230531 01:01:06.409" endtime="20230531 01:01:09.902"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:01:09.902" endtime="20230531 01:01:09.903"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:01:06.408" endtime="20230531 01:01:09.903"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230531 01:00:47.172" endtime="20230531 01:01:09.905"/>
</suite>
<suite id="s1-s26" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s26-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230531 01:01:13.905" endtime="20230531 01:01:13.906"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230531 01:01:13.906" endtime="20230531 01:01:13.906"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 01:01:13.912" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 01:01:23.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 01:01:23.222" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230531 01:01:13.908" endtime="20230531 01:01:23.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 01:01:23.224" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230531 01:01:23.223" endtime="20230531 01:01:23.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 01:01:23.225" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 01:01:23.224" endtime="20230531 01:01:23.225"/>
</kw>
<status status="PASS" starttime="20230531 01:01:13.907" endtime="20230531 01:01:23.226"/>
</kw>
<msg timestamp="20230531 01:01:23.226" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 01:01:13.907" endtime="20230531 01:01:23.227"/>
</kw>
<msg timestamp="20230531 01:01:23.228" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230531 01:01:13.907" endtime="20230531 01:01:23.228"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 01:01:23.228" endtime="20230531 01:01:23.229"/>
</kw>
<status status="PASS" starttime="20230531 01:01:23.228" endtime="20230531 01:01:23.229"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 01:01:13.904" endtime="20230531 01:01:23.229"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230531 01:01:13.850" endtime="20230531 01:01:23.232"/>
</suite>
<suite id="s1-s27" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s27-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230531 00:58:58.891" level="INFO">${random} = 70252</msg>
<status status="PASS" starttime="20230531 00:58:58.890" endtime="20230531 00:58:58.891"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:58:58.898" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-70252 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:09.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:09.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:58:58.893" endtime="20230531 00:59:09.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:09.656" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:09.655" endtime="20230531 00:59:09.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:09.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:09.656" endtime="20230531 00:59:09.656"/>
</kw>
<status status="PASS" starttime="20230531 00:58:58.893" endtime="20230531 00:59:09.657"/>
</kw>
<msg timestamp="20230531 00:59:09.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:58:58.892" endtime="20230531 00:59:09.658"/>
</kw>
<msg timestamp="20230531 00:59:09.658" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:58:58.891" endtime="20230531 00:59:09.659"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:09.659" endtime="20230531 00:59:09.659"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:09.662" level="INFO">Running command 'cat /tmp/key-70252 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:09.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:09.666" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:09.660" endtime="20230531 00:59:09.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:09.667" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:09.667" endtime="20230531 00:59:09.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:09.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:09.668" endtime="20230531 00:59:09.668"/>
</kw>
<msg timestamp="20230531 00:59:09.669" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:09.659" endtime="20230531 00:59:09.669"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:09.669" endtime="20230531 00:59:09.669"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:09.672" level="INFO">Running command 'rm /tmp/key-70252 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:09.676" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:09.676" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:09.670" endtime="20230531 00:59:09.676"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:09.677" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:09.676" endtime="20230531 00:59:09.677"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:09.678" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:09.677" endtime="20230531 00:59:09.678"/>
</kw>
<status status="PASS" starttime="20230531 00:59:09.669" endtime="20230531 00:59:09.678"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:58:58.889" endtime="20230531 00:59:09.679"/>
</test>
<test id="s1-s27-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:09.687" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:10.429" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:10.429" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:09.685" endtime="20230531 00:59:10.429"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:10.431" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:10.430" endtime="20230531 00:59:10.431"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:10.432" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:10.431" endtime="20230531 00:59:10.432"/>
</kw>
<status status="PASS" starttime="20230531 00:59:09.685" endtime="20230531 00:59:10.432"/>
</kw>
<msg timestamp="20230531 00:59:10.432" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:09.684" endtime="20230531 00:59:10.433"/>
</kw>
<status status="PASS" starttime="20230531 00:59:09.684" endtime="20230531 00:59:10.433"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:10.437" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:10.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:10.986" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:10.435" endtime="20230531 00:59:10.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:10.987" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:10.987" endtime="20230531 00:59:10.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:10.988" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:10.988" endtime="20230531 00:59:10.988"/>
</kw>
<status status="PASS" starttime="20230531 00:59:10.434" endtime="20230531 00:59:10.989"/>
</kw>
<msg timestamp="20230531 00:59:10.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:10.434" endtime="20230531 00:59:10.989"/>
</kw>
<status status="PASS" starttime="20230531 00:59:10.433" endtime="20230531 00:59:10.989"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:10.993" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:11.567" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:11.567" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:10.991" endtime="20230531 00:59:11.567"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:11.569" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:11.568" endtime="20230531 00:59:11.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:11.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:11.569" endtime="20230531 00:59:11.570"/>
</kw>
<status status="PASS" starttime="20230531 00:59:10.990" endtime="20230531 00:59:11.571"/>
</kw>
<msg timestamp="20230531 00:59:11.571" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:10.990" endtime="20230531 00:59:11.571"/>
</kw>
<status status="PASS" starttime="20230531 00:59:10.989" endtime="20230531 00:59:11.572"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:11.577" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:12.098" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:12.098" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:11.574" endtime="20230531 00:59:12.098"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:12.100" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:12.099" endtime="20230531 00:59:12.101"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:12.101" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:12.101" endtime="20230531 00:59:12.102"/>
</kw>
<status status="PASS" starttime="20230531 00:59:11.573" endtime="20230531 00:59:12.102"/>
</kw>
<msg timestamp="20230531 00:59:12.102" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230531 00:59:11.573" endtime="20230531 00:59:12.103"/>
</kw>
<status status="PASS" starttime="20230531 00:59:11.572" endtime="20230531 00:59:12.103"/>
</kw>
<status status="PASS" starttime="20230531 00:59:09.683" endtime="20230531 00:59:12.103"/>
</kw>
<status status="PASS" starttime="20230531 00:59:09.683" endtime="20230531 00:59:12.103"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:09.680" endtime="20230531 00:59:12.103"/>
</test>
<test id="s1-s27-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:12.109" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:17.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:17.192" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:12.107" endtime="20230531 00:59:17.192"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:17.193" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 00:59:12 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 00:59:17.192" endtime="20230531 00:59:17.193"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:17.194" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:17.194" endtime="20230531 00:59:17.194"/>
</kw>
<msg timestamp="20230531 00:59:17.195" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:12.106" endtime="20230531 00:59:17.195"/>
</kw>
<msg timestamp="20230531 00:59:17.195" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:12.105" endtime="20230531 00:59:17.195"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:17.195" endtime="20230531 00:59:17.195"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:17.199" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:17.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:17.202" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:17.196" endtime="20230531 00:59:17.202"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:17.203" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:17.203" endtime="20230531 00:59:17.204"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:17.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:17.204" endtime="20230531 00:59:17.204"/>
</kw>
<msg timestamp="20230531 00:59:17.205" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230531 00:59:17.196" endtime="20230531 00:59:17.205"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:17.205" endtime="20230531 00:59:17.205"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:17.208" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:17.211" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:17.211" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:17.206" endtime="20230531 00:59:17.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:17.212" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:17.211" endtime="20230531 00:59:17.212"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:17.213" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:17.212" endtime="20230531 00:59:17.213"/>
</kw>
<status status="PASS" starttime="20230531 00:59:17.205" endtime="20230531 00:59:17.213"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:12.104" endtime="20230531 00:59:17.213"/>
</test>
<test id="s1-s27-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:17.218" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:17.983" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:17.983" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:17.216" endtime="20230531 00:59:17.983"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:17.984" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 31 May 2023 00:59:17 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230531 00:59:17.984" endtime="20230531 00:59:17.984"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:17.985" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:17.985" endtime="20230531 00:59:17.985"/>
</kw>
<msg timestamp="20230531 00:59:17.985" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:17.216" endtime="20230531 00:59:17.985"/>
</kw>
<msg timestamp="20230531 00:59:17.986" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 31 May 2023 00:56:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230531 00:59:17.215" endtime="20230531 00:59:17.986"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:17.986" endtime="20230531 00:59:17.986"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:17.989" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:17.992" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:17.992" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:59:17.987" endtime="20230531 00:59:17.992"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:17.994" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:59:17.993" endtime="20230531 00:59:17.994"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:17.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:17.994" endtime="20230531 00:59:17.995"/>
</kw>
<msg timestamp="20230531 00:59:17.995" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230531 00:59:17.987" endtime="20230531 00:59:17.995"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230531 00:59:17.995" endtime="20230531 00:59:17.995"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230531 00:59:17.998" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230531 00:59:18.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20230531 00:59:18.001" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230531 00:59:17.996" endtime="20230531 00:59:18.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230531 00:59:18.002" level="INFO"/>
<status status="PASS" starttime="20230531 00:59:18.002" endtime="20230531 00:59:18.002"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230531 00:59:18.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230531 00:59:18.003" endtime="20230531 00:59:18.003"/>
</kw>
<status status="PASS" starttime="20230531 00:59:17.996" endtime="20230531 00:59:18.004"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230531 00:59:17.214" endtime="20230531 00:59:18.004"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230531 00:58:58.802" endtime="20230531 00:59:18.005"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="518919"/>
</suite>
<statistics>
<total>
<stat pass="100" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="3" fail="1" skip="0">finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="100" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s13" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s16" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s17" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s18" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="3" fail="1" skip="0" id="s1-s19" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="2" fail="0" skip="0" id="s1-s20" name="Finalize">upgrade.Finalize</stat>
<stat pass="5" fail="0" skip="0" id="s1-s21" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s23" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s24" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s25" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s26" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s27" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
