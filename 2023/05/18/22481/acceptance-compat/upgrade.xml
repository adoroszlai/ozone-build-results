<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230518 03:16:09.957" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:08:52.087" level="INFO">${random} = 43874</msg>
<status status="PASS" starttime="20230518 03:08:52.086" endtime="20230518 03:08:52.087"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:52.094" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-43874 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:57.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:57.682" level="INFO">${output} = 2023-05-18 03:08:56,216 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:08:56,320 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:08:52.090" endtime="20230518 03:08:57.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:57.683" level="INFO">2023-05-18 03:08:56,216 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:08:56,320 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:08:56,320 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 03:08:57.682" endtime="20230518 03:08:57.683"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:57.684" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:57.683" endtime="20230518 03:08:57.684"/>
</kw>
<status status="PASS" starttime="20230518 03:08:52.089" endtime="20230518 03:08:57.685"/>
</kw>
<msg timestamp="20230518 03:08:57.685" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:52.088" endtime="20230518 03:08:57.686"/>
</kw>
<msg timestamp="20230518 03:08:57.686" level="INFO">${output} = 2023-05-18 03:08:56,216 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:08:56,320 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:08:52.088" endtime="20230518 03:08:57.686"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:08:57.686" endtime="20230518 03:08:57.687"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:57.690" level="INFO">Running command 'cat /tmp/key-43874 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:57.693" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:57.693" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:08:57.688" endtime="20230518 03:08:57.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:57.695" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:08:57.694" endtime="20230518 03:08:57.695"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:57.695" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:57.695" endtime="20230518 03:08:57.696"/>
</kw>
<msg timestamp="20230518 03:08:57.697" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:08:57.687" endtime="20230518 03:08:57.697"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:08:57.697" endtime="20230518 03:08:57.698"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:57.701" level="INFO">Running command 'rm /tmp/key-43874 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:57.703" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:57.704" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:08:57.699" endtime="20230518 03:08:57.704"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:57.705" level="INFO"/>
<status status="PASS" starttime="20230518 03:08:57.704" endtime="20230518 03:08:57.705"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:57.705" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:57.705" endtime="20230518 03:08:57.705"/>
</kw>
<status status="PASS" starttime="20230518 03:08:57.698" endtime="20230518 03:08:57.706"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:08:52.085" endtime="20230518 03:08:57.706"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:57.713" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:58.340" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:58.340" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:08:57.711" endtime="20230518 03:08:58.340"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:58.342" level="INFO"/>
<status status="PASS" starttime="20230518 03:08:58.341" endtime="20230518 03:08:58.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:58.342" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:58.342" endtime="20230518 03:08:58.343"/>
</kw>
<status status="PASS" starttime="20230518 03:08:57.710" endtime="20230518 03:08:58.343"/>
</kw>
<msg timestamp="20230518 03:08:58.343" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:57.710" endtime="20230518 03:08:58.344"/>
</kw>
<status status="PASS" starttime="20230518 03:08:57.709" endtime="20230518 03:08:58.344"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:58.348" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:58.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:58.980" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:08:58.346" endtime="20230518 03:08:58.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:58.983" level="INFO"/>
<status status="PASS" starttime="20230518 03:08:58.981" endtime="20230518 03:08:58.983"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:58.984" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:58.983" endtime="20230518 03:08:58.984"/>
</kw>
<status status="PASS" starttime="20230518 03:08:58.345" endtime="20230518 03:08:58.984"/>
</kw>
<msg timestamp="20230518 03:08:58.984" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:58.345" endtime="20230518 03:08:58.985"/>
</kw>
<status status="PASS" starttime="20230518 03:08:58.344" endtime="20230518 03:08:58.985"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:58.989" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:59.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:59.631" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:08:58.987" endtime="20230518 03:08:59.631"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:59.632" level="INFO"/>
<status status="PASS" starttime="20230518 03:08:59.632" endtime="20230518 03:08:59.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:59.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:59.633" endtime="20230518 03:08:59.633"/>
</kw>
<status status="PASS" starttime="20230518 03:08:58.986" endtime="20230518 03:08:59.634"/>
</kw>
<msg timestamp="20230518 03:08:59.634" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:58.986" endtime="20230518 03:08:59.635"/>
</kw>
<status status="PASS" starttime="20230518 03:08:58.985" endtime="20230518 03:08:59.635"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:59.639" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:00.249" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:00.249" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:08:59.637" endtime="20230518 03:09:00.249"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:00.251" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:00.250" endtime="20230518 03:09:00.251"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:00.251" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:00.251" endtime="20230518 03:09:00.252"/>
</kw>
<status status="PASS" starttime="20230518 03:08:59.636" endtime="20230518 03:09:00.252"/>
</kw>
<msg timestamp="20230518 03:09:00.252" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:59.636" endtime="20230518 03:09:00.253"/>
</kw>
<status status="PASS" starttime="20230518 03:08:59.635" endtime="20230518 03:09:00.253"/>
</kw>
<status status="PASS" starttime="20230518 03:08:57.708" endtime="20230518 03:09:00.253"/>
</kw>
<status status="PASS" starttime="20230518 03:08:57.708" endtime="20230518 03:09:00.253"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:08:57.707" endtime="20230518 03:09:00.254"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:00.261" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:04.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:04.288" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:45 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:00.258" endtime="20230518 03:09:04.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:04.290" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:45 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:09:01 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:09:04.289" endtime="20230518 03:09:04.290"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:04.291" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:04.290" endtime="20230518 03:09:04.291"/>
</kw>
<msg timestamp="20230518 03:09:04.291" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:45 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:00.257" endtime="20230518 03:09:04.291"/>
</kw>
<msg timestamp="20230518 03:09:04.292" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:45 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:00.257" endtime="20230518 03:09:04.292"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:04.292" endtime="20230518 03:09:04.293"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:04.296" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:04.300" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:04.300" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:04.293" endtime="20230518 03:09:04.300"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:04.301" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:04.300" endtime="20230518 03:09:04.301"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:04.302" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:04.301" endtime="20230518 03:09:04.302"/>
</kw>
<msg timestamp="20230518 03:09:04.302" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:04.293" endtime="20230518 03:09:04.302"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:04.303" endtime="20230518 03:09:04.303"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:04.306" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:04.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:04.309" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:04.304" endtime="20230518 03:09:04.309"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:04.311" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:04.310" endtime="20230518 03:09:04.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:04.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:04.311" endtime="20230518 03:09:04.312"/>
</kw>
<status status="PASS" starttime="20230518 03:09:04.303" endtime="20230518 03:09:04.312"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:00.255" endtime="20230518 03:09:04.313"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:04.322" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:05.201" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:05.201" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:04.319" endtime="20230518 03:09:05.201"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:05.202" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:09:04 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:09:05.201" endtime="20230518 03:09:05.202"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:05.203" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:05.203" endtime="20230518 03:09:05.203"/>
</kw>
<msg timestamp="20230518 03:09:05.204" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:04.318" endtime="20230518 03:09:05.204"/>
</kw>
<msg timestamp="20230518 03:09:05.204" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:04:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:04.317" endtime="20230518 03:09:05.204"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:05.205" endtime="20230518 03:09:05.205"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:05.208" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:05.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:05.212" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:05.206" endtime="20230518 03:09:05.212"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:05.213" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:05.213" endtime="20230518 03:09:05.214"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:05.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:05.214" endtime="20230518 03:09:05.214"/>
</kw>
<msg timestamp="20230518 03:09:05.215" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:05.205" endtime="20230518 03:09:05.215"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:05.215" endtime="20230518 03:09:05.216"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:05.219" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:05.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:05.223" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:05.217" endtime="20230518 03:09:05.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:05.224" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:05.223" endtime="20230518 03:09:05.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:05.224" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:05.224" endtime="20230518 03:09:05.225"/>
</kw>
<status status="PASS" starttime="20230518 03:09:05.216" endtime="20230518 03:09:05.225"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:04.315" endtime="20230518 03:09:05.225"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:08:51.969" endtime="20230518 03:09:05.227"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:09:09.875" level="INFO">${random} = 44960</msg>
<status status="PASS" starttime="20230518 03:09:09.875" endtime="20230518 03:09:09.876"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:09.883" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-44960 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:16.935" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:16.935" level="INFO">${output} = 2023-05-18 03:09:14,020 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:14,180 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:09.878" endtime="20230518 03:09:16.935"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:16.937" level="INFO">2023-05-18 03:09:14,020 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:14,180 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:09:14,180 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 03:09:16.935" endtime="20230518 03:09:16.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:16.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:16.937" endtime="20230518 03:09:16.938"/>
</kw>
<status status="PASS" starttime="20230518 03:09:09.878" endtime="20230518 03:09:16.938"/>
</kw>
<msg timestamp="20230518 03:09:16.938" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:09.877" endtime="20230518 03:09:16.940"/>
</kw>
<msg timestamp="20230518 03:09:16.942" level="INFO">${output} = 2023-05-18 03:09:14,020 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:14,180 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:09.876" endtime="20230518 03:09:16.942"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:16.942" endtime="20230518 03:09:16.943"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:16.946" level="INFO">Running command 'cat /tmp/key-44960 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:16.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:16.951" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:16.944" endtime="20230518 03:09:16.951"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:16.952" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:16.951" endtime="20230518 03:09:16.952"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:16.953" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:16.952" endtime="20230518 03:09:16.953"/>
</kw>
<msg timestamp="20230518 03:09:16.953" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:16.943" endtime="20230518 03:09:16.953"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:16.954" endtime="20230518 03:09:16.954"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:16.958" level="INFO">Running command 'rm /tmp/key-44960 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:16.961" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:16.961" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:16.955" endtime="20230518 03:09:16.961"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:16.962" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:16.962" endtime="20230518 03:09:16.963"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:16.963" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:16.963" endtime="20230518 03:09:16.963"/>
</kw>
<status status="PASS" starttime="20230518 03:09:16.955" endtime="20230518 03:09:16.964"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:09.874" endtime="20230518 03:09:16.964"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:16.971" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:17.600" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:17.600" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:16.969" endtime="20230518 03:09:17.600"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:17.602" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:17.601" endtime="20230518 03:09:17.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:17.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:17.602" endtime="20230518 03:09:17.603"/>
</kw>
<status status="PASS" starttime="20230518 03:09:16.968" endtime="20230518 03:09:17.603"/>
</kw>
<msg timestamp="20230518 03:09:17.603" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:16.968" endtime="20230518 03:09:17.604"/>
</kw>
<status status="PASS" starttime="20230518 03:09:16.967" endtime="20230518 03:09:17.604"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:17.610" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:18.266" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:18.266" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:17.606" endtime="20230518 03:09:18.266"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:18.267" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:18.267" endtime="20230518 03:09:18.267"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:18.268" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:18.268" endtime="20230518 03:09:18.268"/>
</kw>
<status status="PASS" starttime="20230518 03:09:17.605" endtime="20230518 03:09:18.269"/>
</kw>
<msg timestamp="20230518 03:09:18.269" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:17.605" endtime="20230518 03:09:18.269"/>
</kw>
<status status="PASS" starttime="20230518 03:09:17.604" endtime="20230518 03:09:18.269"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:18.274" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:18.953" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:18.953" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:18.271" endtime="20230518 03:09:18.953"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:18.954" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:18.953" endtime="20230518 03:09:18.955"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:18.955" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:18.955" endtime="20230518 03:09:18.956"/>
</kw>
<status status="PASS" starttime="20230518 03:09:18.271" endtime="20230518 03:09:18.956"/>
</kw>
<msg timestamp="20230518 03:09:18.956" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:18.270" endtime="20230518 03:09:18.957"/>
</kw>
<status status="PASS" starttime="20230518 03:09:18.270" endtime="20230518 03:09:18.957"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:18.962" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:19.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:19.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:18.959" endtime="20230518 03:09:19.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:19.613" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:19.612" endtime="20230518 03:09:19.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:19.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:19.613" endtime="20230518 03:09:19.614"/>
</kw>
<status status="PASS" starttime="20230518 03:09:18.959" endtime="20230518 03:09:19.614"/>
</kw>
<msg timestamp="20230518 03:09:19.614" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:18.958" endtime="20230518 03:09:19.615"/>
</kw>
<status status="PASS" starttime="20230518 03:09:18.957" endtime="20230518 03:09:19.615"/>
</kw>
<status status="PASS" starttime="20230518 03:09:16.967" endtime="20230518 03:09:19.615"/>
</kw>
<status status="PASS" starttime="20230518 03:09:16.966" endtime="20230518 03:09:19.615"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:16.965" endtime="20230518 03:09:19.616"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:19.623" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:20.514" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:20.514" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:19.620" endtime="20230518 03:09:20.514"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:20.515" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:09:20 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:09:20.515" endtime="20230518 03:09:20.516"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:20.517" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:20.516" endtime="20230518 03:09:20.517"/>
</kw>
<msg timestamp="20230518 03:09:20.517" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:19.619" endtime="20230518 03:09:20.517"/>
</kw>
<msg timestamp="20230518 03:09:20.518" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:19.618" endtime="20230518 03:09:20.519"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:20.519" endtime="20230518 03:09:20.520"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:20.524" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:20.526" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:20.527" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:20.521" endtime="20230518 03:09:20.527"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:20.528" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:20.527" endtime="20230518 03:09:20.528"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:20.529" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:20.528" endtime="20230518 03:09:20.530"/>
</kw>
<msg timestamp="20230518 03:09:20.530" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:09:20.520" endtime="20230518 03:09:20.530"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:20.530" endtime="20230518 03:09:20.531"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:20.535" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:20.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:20.539" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:20.532" endtime="20230518 03:09:20.539"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:20.540" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:20.539" endtime="20230518 03:09:20.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:20.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:20.541" endtime="20230518 03:09:20.544"/>
</kw>
<status status="PASS" starttime="20230518 03:09:20.531" endtime="20230518 03:09:20.544"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:19.617" endtime="20230518 03:09:20.544"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:20.552" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:21.580" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:21.580" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:20.549" endtime="20230518 03:09:21.580"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:21.583" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:09:21 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:09:21.581" endtime="20230518 03:09:21.583"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:21.584" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:21.583" endtime="20230518 03:09:21.584"/>
</kw>
<msg timestamp="20230518 03:09:21.585" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:20.548" endtime="20230518 03:09:21.585"/>
</kw>
<msg timestamp="20230518 03:09:21.586" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:09:20.547" endtime="20230518 03:09:21.586"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:21.586" endtime="20230518 03:09:21.587"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:21.591" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:21.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:21.595" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:21.589" endtime="20230518 03:09:21.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:21.596" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:21.595" endtime="20230518 03:09:21.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:21.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:21.597" endtime="20230518 03:09:21.597"/>
</kw>
<msg timestamp="20230518 03:09:21.598" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:09:21.588" endtime="20230518 03:09:21.598"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:21.598" endtime="20230518 03:09:21.600"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:21.604" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:21.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:21.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:21.602" endtime="20230518 03:09:21.608"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:21.609" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:21.608" endtime="20230518 03:09:21.609"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:21.610" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:21.609" endtime="20230518 03:09:21.610"/>
</kw>
<status status="PASS" starttime="20230518 03:09:21.600" endtime="20230518 03:09:21.610"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:20.546" endtime="20230518 03:09:21.611"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:09:09.773" endtime="20230518 03:09:21.614"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:26.532" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:29.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:29.867" level="INFO">${output} = 2023-05-18 03:09:29,788 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:09:26.527" endtime="20230518 03:09:29.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:29.868" level="INFO">2023-05-18 03:09:29,788 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:09:29.867" endtime="20230518 03:09:29.868"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:29.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:29.868" endtime="20230518 03:09:29.869"/>
</kw>
<status status="PASS" starttime="20230518 03:09:26.526" endtime="20230518 03:09:29.870"/>
</kw>
<msg timestamp="20230518 03:09:29.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:26.526" endtime="20230518 03:09:29.871"/>
</kw>
<msg timestamp="20230518 03:09:29.872" level="INFO">${output} = 2023-05-18 03:09:29,788 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:09:26.525" endtime="20230518 03:09:29.872"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:29.872" endtime="20230518 03:09:29.876"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:29.884" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:33.231" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:33.231" level="INFO">${output} = 2023-05-18 03:09:33,136 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 03:09:29.878" endtime="20230518 03:09:33.231"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:33.233" level="INFO">2023-05-18 03:09:33,136 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 03:09:33.232" endtime="20230518 03:09:33.233"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:33.234" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:33.233" endtime="20230518 03:09:33.234"/>
</kw>
<status status="PASS" starttime="20230518 03:09:29.877" endtime="20230518 03:09:33.235"/>
</kw>
<msg timestamp="20230518 03:09:33.235" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:29.877" endtime="20230518 03:09:33.236"/>
</kw>
<msg timestamp="20230518 03:09:33.236" level="INFO">${output} = 2023-05-18 03:09:33,136 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 03:09:29.876" endtime="20230518 03:09:33.236"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:33.236" endtime="20230518 03:09:33.237"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:26.524" endtime="20230518 03:09:33.237"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:33.243" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:09:33.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:33.245" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:33.241" endtime="20230518 03:09:33.245"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:33.246" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:33.246" endtime="20230518 03:09:33.247"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:33.247" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:33.247" endtime="20230518 03:09:33.247"/>
</kw>
<status status="PASS" starttime="20230518 03:09:33.240" endtime="20230518 03:09:33.248"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:33.253" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:40.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:40.248" level="INFO">${output} = 2023-05-18 03:09:37,808 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:37,904 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:33.251" endtime="20230518 03:09:40.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:40.250" level="INFO">2023-05-18 03:09:37,808 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:37,904 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:09:37,904 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:09:38,241 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:09:40.249" endtime="20230518 03:09:40.250"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:40.250" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:40.250" endtime="20230518 03:09:40.251"/>
</kw>
<status status="PASS" starttime="20230518 03:09:33.249" endtime="20230518 03:09:40.251"/>
</kw>
<msg timestamp="20230518 03:09:40.251" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:33.249" endtime="20230518 03:09:40.252"/>
</kw>
<msg timestamp="20230518 03:09:40.252" level="INFO">${output} = 2023-05-18 03:09:37,808 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:37,904 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:33.248" endtime="20230518 03:09:40.252"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:40.252" endtime="20230518 03:09:40.253"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:40.256" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:40.259" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:40.259" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:40.254" endtime="20230518 03:09:40.260"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:40.261" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:40.260" endtime="20230518 03:09:40.261"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:40.262" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:40.261" endtime="20230518 03:09:40.262"/>
</kw>
<status status="PASS" starttime="20230518 03:09:40.253" endtime="20230518 03:09:40.262"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:33.239" endtime="20230518 03:09:40.262"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:40.269" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:43.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:43.698" level="INFO">${output} = 2023-05-18 03:09:43,632 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 03:09:40.266" endtime="20230518 03:09:43.698"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:43.700" level="INFO">2023-05-18 03:09:43,632 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 03:09:43.699" endtime="20230518 03:09:43.700"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:43.701" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:43.700" endtime="20230518 03:09:43.701"/>
</kw>
<status status="PASS" starttime="20230518 03:09:40.266" endtime="20230518 03:09:43.701"/>
</kw>
<msg timestamp="20230518 03:09:43.701" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:40.265" endtime="20230518 03:09:43.702"/>
</kw>
<msg timestamp="20230518 03:09:43.702" level="INFO">${output} = 2023-05-18 03:09:43,632 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 03:09:40.264" endtime="20230518 03:09:43.702"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:43.703" endtime="20230518 03:09:43.703"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:40.264" endtime="20230518 03:09:43.703"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:43.709" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:09:43.711" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:43.711" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:43.707" endtime="20230518 03:09:43.711"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:43.713" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:43.712" endtime="20230518 03:09:43.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:43.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:43.713" endtime="20230518 03:09:43.714"/>
</kw>
<status status="PASS" starttime="20230518 03:09:43.706" endtime="20230518 03:09:43.714"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:43.720" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:50.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:50.489" level="INFO">${output} = 2023-05-18 03:09:48,341 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:48,442 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:43.717" endtime="20230518 03:09:50.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:50.491" level="INFO">2023-05-18 03:09:48,341 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:48,442 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:09:48,442 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:09:48,938 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:09:50.490" endtime="20230518 03:09:50.491"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:50.492" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:50.491" endtime="20230518 03:09:50.492"/>
</kw>
<status status="PASS" starttime="20230518 03:09:43.715" endtime="20230518 03:09:50.492"/>
</kw>
<msg timestamp="20230518 03:09:50.492" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:43.715" endtime="20230518 03:09:50.493"/>
</kw>
<msg timestamp="20230518 03:09:50.493" level="INFO">${output} = 2023-05-18 03:09:48,341 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:09:48,442 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:09:43.714" endtime="20230518 03:09:50.493"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:50.493" endtime="20230518 03:09:50.494"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:50.498" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:50.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:50.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:50.495" endtime="20230518 03:09:50.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:50.504" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:50.503" endtime="20230518 03:09:50.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:50.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:50.504" endtime="20230518 03:09:50.505"/>
</kw>
<status status="PASS" starttime="20230518 03:09:50.494" endtime="20230518 03:09:50.505"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:43.705" endtime="20230518 03:09:50.506"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:50.513" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:51.162" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:51.162" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:50.511" endtime="20230518 03:09:51.162"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:51.163" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:51.162" endtime="20230518 03:09:51.163"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:51.164" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:51.164" endtime="20230518 03:09:51.164"/>
</kw>
<status status="PASS" starttime="20230518 03:09:50.510" endtime="20230518 03:09:51.165"/>
</kw>
<msg timestamp="20230518 03:09:51.165" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:50.510" endtime="20230518 03:09:51.166"/>
</kw>
<status status="PASS" starttime="20230518 03:09:50.509" endtime="20230518 03:09:51.166"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:51.171" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:51.835" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:51.835" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:51.169" endtime="20230518 03:09:51.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:51.836" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:51.835" endtime="20230518 03:09:51.836"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:51.837" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:51.837" endtime="20230518 03:09:51.838"/>
</kw>
<status status="PASS" starttime="20230518 03:09:51.168" endtime="20230518 03:09:51.838"/>
</kw>
<msg timestamp="20230518 03:09:51.838" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:51.167" endtime="20230518 03:09:51.839"/>
</kw>
<status status="PASS" starttime="20230518 03:09:51.167" endtime="20230518 03:09:51.839"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:51.844" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:52.468" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:52.468" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:51.841" endtime="20230518 03:09:52.468"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:52.470" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:52.469" endtime="20230518 03:09:52.470"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:52.471" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:52.470" endtime="20230518 03:09:52.471"/>
</kw>
<status status="PASS" starttime="20230518 03:09:51.840" endtime="20230518 03:09:52.471"/>
</kw>
<msg timestamp="20230518 03:09:52.471" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:51.840" endtime="20230518 03:09:52.472"/>
</kw>
<status status="PASS" starttime="20230518 03:09:51.839" endtime="20230518 03:09:52.472"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:52.480" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:53.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:53.152" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:52.474" endtime="20230518 03:09:53.152"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:53.154" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:53.153" endtime="20230518 03:09:53.155"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:53.156" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:53.155" endtime="20230518 03:09:53.156"/>
</kw>
<status status="PASS" starttime="20230518 03:09:52.474" endtime="20230518 03:09:53.156"/>
</kw>
<msg timestamp="20230518 03:09:53.156" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:52.473" endtime="20230518 03:09:53.157"/>
</kw>
<status status="PASS" starttime="20230518 03:09:52.473" endtime="20230518 03:09:53.157"/>
</kw>
<status status="PASS" starttime="20230518 03:09:50.508" endtime="20230518 03:09:53.158"/>
</kw>
<status status="PASS" starttime="20230518 03:09:50.508" endtime="20230518 03:09:53.158"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:50.507" endtime="20230518 03:09:53.158"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:53.166" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:54.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:54.030" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:09:53.163" endtime="20230518 03:09:54.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:54.032" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:09:54.031" endtime="20230518 03:09:54.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:54.033" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:54.032" endtime="20230518 03:09:54.033"/>
</kw>
<status status="PASS" starttime="20230518 03:09:53.162" endtime="20230518 03:09:54.034"/>
</kw>
<msg timestamp="20230518 03:09:54.034" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:09:53.162" endtime="20230518 03:09:54.035"/>
</kw>
<msg timestamp="20230518 03:09:54.035" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:09:53.161" endtime="20230518 03:09:54.035"/>
</kw>
<msg timestamp="20230518 03:09:54.035" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:09:53.161" endtime="20230518 03:09:54.035"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:54.036" endtime="20230518 03:09:54.036"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:54.036" endtime="20230518 03:09:54.037"/>
</kw>
<msg timestamp="20230518 03:09:54.037" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 03:09:53.160" endtime="20230518 03:09:54.037"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 03:09:54.037" endtime="20230518 03:09:54.038"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:53.159" endtime="20230518 03:09:54.038"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:54.044" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:09:54.047" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:54.047" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:54.041" endtime="20230518 03:09:54.047"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:54.048" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:54.047" endtime="20230518 03:09:54.048"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:54.049" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:54.049" endtime="20230518 03:09:54.049"/>
</kw>
<status status="PASS" starttime="20230518 03:09:54.040" endtime="20230518 03:09:54.050"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:54.054" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:55.443" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:55.443" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:54.052" endtime="20230518 03:09:55.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:55.445" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:55.444" endtime="20230518 03:09:55.445"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:55.446" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:55.445" endtime="20230518 03:09:55.446"/>
</kw>
<msg timestamp="20230518 03:09:55.446" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:54.051" endtime="20230518 03:09:55.446"/>
</kw>
<msg timestamp="20230518 03:09:55.447" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:54.050" endtime="20230518 03:09:55.447"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:09:55.447" endtime="20230518 03:09:55.447"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:09:55.451" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:09:55.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:09:55.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:09:55.448" endtime="20230518 03:09:55.454"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:09:55.455" level="INFO"/>
<status status="PASS" starttime="20230518 03:09:55.455" endtime="20230518 03:09:55.455"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:09:55.456" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:09:55.456" endtime="20230518 03:09:55.456"/>
</kw>
<status status="PASS" starttime="20230518 03:09:55.448" endtime="20230518 03:09:55.457"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:09:54.039" endtime="20230518 03:09:55.457"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 03:09:26.418" endtime="20230518 03:09:55.460"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:10:00.424" level="INFO">${random} = 79184</msg>
<status status="PASS" starttime="20230518 03:10:00.422" endtime="20230518 03:10:00.424"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:00.431" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-79184 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:06.186" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:06.186" level="INFO">${output} = 2023-05-18 03:10:04,618 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:04,794 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:00.427" endtime="20230518 03:10:06.186"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:06.187" level="INFO">2023-05-18 03:10:04,618 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:04,794 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:10:04,794 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 03:10:06.186" endtime="20230518 03:10:06.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:06.193" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:06.188" endtime="20230518 03:10:06.193"/>
</kw>
<status status="PASS" starttime="20230518 03:10:00.426" endtime="20230518 03:10:06.193"/>
</kw>
<msg timestamp="20230518 03:10:06.193" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:00.425" endtime="20230518 03:10:06.195"/>
</kw>
<msg timestamp="20230518 03:10:06.195" level="INFO">${output} = 2023-05-18 03:10:04,618 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:04,794 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:00.424" endtime="20230518 03:10:06.195"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:06.195" endtime="20230518 03:10:06.196"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:06.201" level="INFO">Running command 'cat /tmp/key-79184 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:06.204" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:06.205" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:06.197" endtime="20230518 03:10:06.205"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:06.206" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:06.205" endtime="20230518 03:10:06.206"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:06.207" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:06.206" endtime="20230518 03:10:06.207"/>
</kw>
<msg timestamp="20230518 03:10:06.207" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:06.196" endtime="20230518 03:10:06.207"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:06.208" endtime="20230518 03:10:06.209"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:06.213" level="INFO">Running command 'rm /tmp/key-79184 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:06.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:06.217" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:06.210" endtime="20230518 03:10:06.217"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:06.218" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:06.217" endtime="20230518 03:10:06.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:06.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:06.218" endtime="20230518 03:10:06.219"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.209" endtime="20230518 03:10:06.219"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:00.421" endtime="20230518 03:10:06.220"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:06.227" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:06.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:06.889" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:06.225" endtime="20230518 03:10:06.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:06.890" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:06.889" endtime="20230518 03:10:06.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:06.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:06.891" endtime="20230518 03:10:06.891"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.224" endtime="20230518 03:10:06.892"/>
</kw>
<msg timestamp="20230518 03:10:06.892" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:06.224" endtime="20230518 03:10:06.892"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.223" endtime="20230518 03:10:06.893"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:06.898" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:07.554" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:07.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:06.895" endtime="20230518 03:10:07.555"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:07.556" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:07.555" endtime="20230518 03:10:07.556"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:07.557" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:07.557" endtime="20230518 03:10:07.557"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.894" endtime="20230518 03:10:07.558"/>
</kw>
<msg timestamp="20230518 03:10:07.558" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:06.893" endtime="20230518 03:10:07.559"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.893" endtime="20230518 03:10:07.559"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:07.563" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:08.195" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:08.195" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:07.561" endtime="20230518 03:10:08.195"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:08.196" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:08.195" endtime="20230518 03:10:08.196"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:08.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:08.197" endtime="20230518 03:10:08.197"/>
</kw>
<status status="PASS" starttime="20230518 03:10:07.560" endtime="20230518 03:10:08.198"/>
</kw>
<msg timestamp="20230518 03:10:08.198" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:07.560" endtime="20230518 03:10:08.198"/>
</kw>
<status status="PASS" starttime="20230518 03:10:07.559" endtime="20230518 03:10:08.198"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:08.203" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:08.849" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:08.850" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:08.200" endtime="20230518 03:10:08.850"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:08.851" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:08.850" endtime="20230518 03:10:08.851"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:08.852" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:08.851" endtime="20230518 03:10:08.852"/>
</kw>
<status status="PASS" starttime="20230518 03:10:08.200" endtime="20230518 03:10:08.852"/>
</kw>
<msg timestamp="20230518 03:10:08.852" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:08.199" endtime="20230518 03:10:08.853"/>
</kw>
<status status="PASS" starttime="20230518 03:10:08.199" endtime="20230518 03:10:08.853"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.222" endtime="20230518 03:10:08.853"/>
</kw>
<status status="PASS" starttime="20230518 03:10:06.222" endtime="20230518 03:10:08.853"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:06.221" endtime="20230518 03:10:08.854"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:08.861" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:09.643" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:09.643" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:50 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:08.858" endtime="20230518 03:10:09.643"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:09.645" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:50 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:10:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:10:09.644" endtime="20230518 03:10:09.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:09.646" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:09.645" endtime="20230518 03:10:09.646"/>
</kw>
<msg timestamp="20230518 03:10:09.646" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:50 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:08.857" endtime="20230518 03:10:09.646"/>
</kw>
<msg timestamp="20230518 03:10:09.647" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:50 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:08.856" endtime="20230518 03:10:09.647"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:09.647" endtime="20230518 03:10:09.648"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:09.652" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:09.655" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:09.655" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:09.649" endtime="20230518 03:10:09.655"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:09.656" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:09.656" endtime="20230518 03:10:09.657"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:09.657" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:09.657" endtime="20230518 03:10:09.658"/>
</kw>
<msg timestamp="20230518 03:10:09.658" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:10:09.648" endtime="20230518 03:10:09.658"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:09.658" endtime="20230518 03:10:09.659"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:09.662" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:09.665" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:09.665" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:09.660" endtime="20230518 03:10:09.665"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:09.667" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:09.666" endtime="20230518 03:10:09.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:09.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:09.667" endtime="20230518 03:10:09.667"/>
</kw>
<status status="PASS" starttime="20230518 03:10:09.659" endtime="20230518 03:10:09.668"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:08.855" endtime="20230518 03:10:09.668"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:09.675" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:10.444" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:10.444" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:09.673" endtime="20230518 03:10:10.444"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:10.445" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:10:10 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:10:10.445" endtime="20230518 03:10:10.445"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:10.446" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:10.446" endtime="20230518 03:10:10.446"/>
</kw>
<msg timestamp="20230518 03:10:10.447" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:09.672" endtime="20230518 03:10:10.447"/>
</kw>
<msg timestamp="20230518 03:10:10.447" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:09:55 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:10:09.671" endtime="20230518 03:10:10.447"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:10.448" endtime="20230518 03:10:10.448"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:10.452" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:10.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:10.454" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:10:10.449" endtime="20230518 03:10:10.455"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:10.456" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:10:10.455" endtime="20230518 03:10:10.456"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:10.458" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:10.457" endtime="20230518 03:10:10.458"/>
</kw>
<msg timestamp="20230518 03:10:10.458" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:10:10.448" endtime="20230518 03:10:10.459"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:10.459" endtime="20230518 03:10:10.460"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:10.463" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:10.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:10.466" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:10.460" endtime="20230518 03:10:10.466"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:10.467" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:10.466" endtime="20230518 03:10:10.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:10.468" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:10.468" endtime="20230518 03:10:10.469"/>
</kw>
<status status="PASS" starttime="20230518 03:10:10.460" endtime="20230518 03:10:10.469"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:09.670" endtime="20230518 03:10:10.469"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:10:00.296" endtime="20230518 03:10:10.471"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:15.419" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:10:15.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:15.422" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:15.414" endtime="20230518 03:10:15.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:15.423" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:15.422" endtime="20230518 03:10:15.423"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:15.424" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:15.424" endtime="20230518 03:10:15.424"/>
</kw>
<status status="PASS" starttime="20230518 03:10:15.413" endtime="20230518 03:10:15.425"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:15.430" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:21.576" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:21.576" level="INFO">${output} = 2023-05-18 03:10:19,520 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:19,720 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:15.427" endtime="20230518 03:10:21.576"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:21.578" level="INFO">2023-05-18 03:10:19,520 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:19,720 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:10:19,720 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:10:20,204 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:10:21.577" endtime="20230518 03:10:21.578"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:21.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:21.578" endtime="20230518 03:10:21.579"/>
</kw>
<status status="PASS" starttime="20230518 03:10:15.426" endtime="20230518 03:10:21.579"/>
</kw>
<msg timestamp="20230518 03:10:21.579" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:15.426" endtime="20230518 03:10:21.581"/>
</kw>
<msg timestamp="20230518 03:10:21.581" level="INFO">${output} = 2023-05-18 03:10:19,520 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:19,720 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:15.425" endtime="20230518 03:10:21.582"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:21.582" endtime="20230518 03:10:21.582"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:21.586" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:21.591" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:21.591" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:21.584" endtime="20230518 03:10:21.591"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:21.592" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:21.591" endtime="20230518 03:10:21.592"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:21.593" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:21.593" endtime="20230518 03:10:21.593"/>
</kw>
<status status="PASS" starttime="20230518 03:10:21.583" endtime="20230518 03:10:21.594"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:15.412" endtime="20230518 03:10:21.594"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:21.600" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:10:21.602" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:21.602" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:21.597" endtime="20230518 03:10:21.602"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:21.603" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:21.602" endtime="20230518 03:10:21.603"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:21.604" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:21.603" endtime="20230518 03:10:21.604"/>
</kw>
<status status="PASS" starttime="20230518 03:10:21.596" endtime="20230518 03:10:21.604"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:21.609" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:27.398" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:27.398" level="INFO">${output} = 2023-05-18 03:10:25,676 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:25,812 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:21.606" endtime="20230518 03:10:27.399"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:27.400" level="INFO">2023-05-18 03:10:25,676 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:25,812 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:10:25,812 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:10:26,160 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:10:27.399" endtime="20230518 03:10:27.400"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:27.401" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:27.401" endtime="20230518 03:10:27.401"/>
</kw>
<status status="PASS" starttime="20230518 03:10:21.606" endtime="20230518 03:10:27.402"/>
</kw>
<msg timestamp="20230518 03:10:27.402" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:21.605" endtime="20230518 03:10:27.402"/>
</kw>
<msg timestamp="20230518 03:10:27.403" level="INFO">${output} = 2023-05-18 03:10:25,676 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:10:25,812 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:10:21.605" endtime="20230518 03:10:27.403"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:27.403" endtime="20230518 03:10:27.404"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:27.409" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:27.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:27.412" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:27.405" endtime="20230518 03:10:27.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:27.413" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:27.412" endtime="20230518 03:10:27.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:27.414" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:27.413" endtime="20230518 03:10:27.414"/>
</kw>
<status status="PASS" starttime="20230518 03:10:27.404" endtime="20230518 03:10:27.414"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:21.595" endtime="20230518 03:10:27.415"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:27.422" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:28.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:28.029" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:27.419" endtime="20230518 03:10:28.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:28.031" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:28.030" endtime="20230518 03:10:28.031"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:28.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:28.031" endtime="20230518 03:10:28.032"/>
</kw>
<status status="PASS" starttime="20230518 03:10:27.419" endtime="20230518 03:10:28.032"/>
</kw>
<msg timestamp="20230518 03:10:28.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:27.418" endtime="20230518 03:10:28.033"/>
</kw>
<status status="PASS" starttime="20230518 03:10:27.418" endtime="20230518 03:10:28.033"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:28.038" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:28.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:28.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:28.035" endtime="20230518 03:10:28.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:28.655" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:28.654" endtime="20230518 03:10:28.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:28.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:28.656" endtime="20230518 03:10:28.657"/>
</kw>
<status status="PASS" starttime="20230518 03:10:28.034" endtime="20230518 03:10:28.657"/>
</kw>
<msg timestamp="20230518 03:10:28.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:28.034" endtime="20230518 03:10:28.658"/>
</kw>
<status status="PASS" starttime="20230518 03:10:28.033" endtime="20230518 03:10:28.658"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:28.662" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:29.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:29.272" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:28.659" endtime="20230518 03:10:29.272"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:29.273" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:29.273" endtime="20230518 03:10:29.274"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:29.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:29.274" endtime="20230518 03:10:29.275"/>
</kw>
<status status="PASS" starttime="20230518 03:10:28.659" endtime="20230518 03:10:29.275"/>
</kw>
<msg timestamp="20230518 03:10:29.275" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:28.659" endtime="20230518 03:10:29.276"/>
</kw>
<status status="PASS" starttime="20230518 03:10:28.658" endtime="20230518 03:10:29.276"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:29.280" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:29.873" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:29.873" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:29.278" endtime="20230518 03:10:29.873"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:29.874" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:29.873" endtime="20230518 03:10:29.875"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:29.875" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:29.875" endtime="20230518 03:10:29.876"/>
</kw>
<status status="PASS" starttime="20230518 03:10:29.277" endtime="20230518 03:10:29.876"/>
</kw>
<msg timestamp="20230518 03:10:29.876" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:29.277" endtime="20230518 03:10:29.877"/>
</kw>
<status status="PASS" starttime="20230518 03:10:29.276" endtime="20230518 03:10:29.877"/>
</kw>
<status status="PASS" starttime="20230518 03:10:27.417" endtime="20230518 03:10:29.877"/>
</kw>
<status status="PASS" starttime="20230518 03:10:27.417" endtime="20230518 03:10:29.877"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:27.416" endtime="20230518 03:10:29.878"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:29.888" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:30.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:30.679" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:10:29.885" endtime="20230518 03:10:30.679"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:30.681" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:10:30.680" endtime="20230518 03:10:30.682"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:30.682" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:30.682" endtime="20230518 03:10:30.682"/>
</kw>
<status status="PASS" starttime="20230518 03:10:29.884" endtime="20230518 03:10:30.683"/>
</kw>
<msg timestamp="20230518 03:10:30.683" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:10:29.884" endtime="20230518 03:10:30.684"/>
</kw>
<msg timestamp="20230518 03:10:30.684" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:10:29.883" endtime="20230518 03:10:30.684"/>
</kw>
<msg timestamp="20230518 03:10:30.685" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:10:29.882" endtime="20230518 03:10:30.685"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:30.685" endtime="20230518 03:10:30.686"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:30.686" endtime="20230518 03:10:30.686"/>
</kw>
<msg timestamp="20230518 03:10:30.687" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 03:10:29.881" endtime="20230518 03:10:30.687"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 03:10:30.687" endtime="20230518 03:10:30.688"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:29.879" endtime="20230518 03:10:30.688"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:30.694" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:10:30.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:30.696" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:30.691" endtime="20230518 03:10:30.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:30.698" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:30.697" endtime="20230518 03:10:30.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:30.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:30.698" endtime="20230518 03:10:30.698"/>
</kw>
<status status="PASS" starttime="20230518 03:10:30.690" endtime="20230518 03:10:30.699"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:30.703" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:31.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:31.671" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:30.701" endtime="20230518 03:10:31.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:31.672" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:31.671" endtime="20230518 03:10:31.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:31.673" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:31.673" endtime="20230518 03:10:31.673"/>
</kw>
<msg timestamp="20230518 03:10:31.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:30.700" endtime="20230518 03:10:31.674"/>
</kw>
<msg timestamp="20230518 03:10:31.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:30.699" endtime="20230518 03:10:31.675"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:10:31.675" endtime="20230518 03:10:31.675"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:31.680" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:10:31.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:10:31.683" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:10:31.676" endtime="20230518 03:10:31.683"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:10:31.684" level="INFO"/>
<status status="PASS" starttime="20230518 03:10:31.683" endtime="20230518 03:10:31.684"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:10:31.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:10:31.685" endtime="20230518 03:10:31.685"/>
</kw>
<status status="PASS" starttime="20230518 03:10:31.675" endtime="20230518 03:10:31.686"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:10:30.689" endtime="20230518 03:10:31.686"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 03:10:15.297" endtime="20230518 03:10:31.688"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 03:10:36.530" endtime="20230518 03:10:36.531"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 03:10:36.531" endtime="20230518 03:10:36.531"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:10:36.537" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:15:36.531" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230518 03:10:36.533" endtime="20230518 03:15:36.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230518 03:15:36.531" endtime="20230518 03:15:36.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230518 03:15:36.532" endtime="20230518 03:15:36.532"/>
</kw>
<status status="FAIL" starttime="20230518 03:10:36.532" endtime="20230518 03:15:36.532"/>
</kw>
<msg timestamp="20230518 03:15:36.533" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230518 03:10:36.532" endtime="20230518 03:15:36.534"/>
</kw>
<status status="FAIL" starttime="20230518 03:10:36.531" endtime="20230518 03:15:36.535"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230518 03:15:36.535" endtime="20230518 03:15:36.535"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230518 03:10:36.529" endtime="20230518 03:15:36.537">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230518 03:10:36.465" endtime="20230518 03:15:36.539"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 03:08:40.047" endtime="20230518 03:08:40.048"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:40.054" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:40.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:40.058" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3cf1944531f2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 03:08:40.050" endtime="20230518 03:08:40.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:40.059" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3cf1944531f2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 03:08:40.058" endtime="20230518 03:08:40.059"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:40.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:40.059" endtime="20230518 03:08:40.060"/>
</kw>
<status status="PASS" starttime="20230518 03:08:40.049" endtime="20230518 03:08:40.060"/>
</kw>
<msg timestamp="20230518 03:08:40.060" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:40.049" endtime="20230518 03:08:40.062"/>
</kw>
<msg timestamp="20230518 03:08:40.062" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3cf1944531f2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 03:08:40.048" endtime="20230518 03:08:40.062"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:40.063" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=3cf1944531f2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 03:08:40.062" endtime="20230518 03:08:40.063"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 03:08:40.063" endtime="20230518 03:08:40.063"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:40.068" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:43.983" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:43.984" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 03:08:40.065" endtime="20230518 03:08:43.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:43.985" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 03:08:43.984" endtime="20230518 03:08:43.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:43.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:43.986" endtime="20230518 03:08:43.986"/>
</kw>
<status status="PASS" starttime="20230518 03:08:40.065" endtime="20230518 03:08:43.987"/>
</kw>
<msg timestamp="20230518 03:08:43.987" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:40.064" endtime="20230518 03:08:43.987"/>
</kw>
<msg timestamp="20230518 03:08:43.987" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 03:08:40.064" endtime="20230518 03:08:43.988"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:43.988" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 03:08:43.988" endtime="20230518 03:08:43.988"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 03:08:43.988" endtime="20230518 03:08:43.989"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 03:08:40.046" endtime="20230518 03:08:43.989"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 03:08:43.991" endtime="20230518 03:08:43.992"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 03:08:43.992" endtime="20230518 03:08:43.993"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:08:43.997" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:08:47.373" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:08:47.373" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 03:08:43.995" endtime="20230518 03:08:47.373"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:47.374" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 03:08:47.373" endtime="20230518 03:08:47.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:08:47.375" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:08:47.375" endtime="20230518 03:08:47.375"/>
</kw>
<status status="PASS" starttime="20230518 03:08:43.994" endtime="20230518 03:08:47.376"/>
</kw>
<msg timestamp="20230518 03:08:47.376" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:08:43.993" endtime="20230518 03:08:47.376"/>
</kw>
<msg timestamp="20230518 03:08:47.377" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 03:08:43.993" endtime="20230518 03:08:47.377"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:08:47.377" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 03:08:47.377" endtime="20230518 03:08:47.377"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 03:08:47.378" endtime="20230518 03:08:47.378"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 03:08:43.991" endtime="20230518 03:08:47.378"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230518 03:08:39.970" endtime="20230518 03:08:47.380"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:00.314" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:03.798" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:03.798" level="INFO">${output} = 2023-05-18 03:00:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:00:00.307" endtime="20230518 03:00:03.798"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:03.802" level="INFO">2023-05-18 03:00:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:00:03.799" endtime="20230518 03:00:03.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:03.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:03.802" endtime="20230518 03:00:03.803"/>
</kw>
<status status="PASS" starttime="20230518 03:00:00.306" endtime="20230518 03:00:03.805"/>
</kw>
<msg timestamp="20230518 03:00:03.805" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:00.306" endtime="20230518 03:00:03.806"/>
</kw>
<msg timestamp="20230518 03:00:03.806" level="INFO">${output} = 2023-05-18 03:00:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 03:00:00.305" endtime="20230518 03:00:03.806"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:03.807" endtime="20230518 03:00:03.809"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:03.818" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:07.014" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:07.014" level="INFO">${output} = 2023-05-18 03:00:06,942 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 03:00:03.813" endtime="20230518 03:00:07.014"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:07.016" level="INFO">2023-05-18 03:00:06,942 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 03:00:07.015" endtime="20230518 03:00:07.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:07.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:07.016" endtime="20230518 03:00:07.017"/>
</kw>
<status status="PASS" starttime="20230518 03:00:03.810" endtime="20230518 03:00:07.017"/>
</kw>
<msg timestamp="20230518 03:00:07.017" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:03.810" endtime="20230518 03:00:07.018"/>
</kw>
<msg timestamp="20230518 03:00:07.019" level="INFO">${output} = 2023-05-18 03:00:06,942 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 03:00:03.809" endtime="20230518 03:00:07.019"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:07.019" endtime="20230518 03:00:07.019"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:00.304" endtime="20230518 03:00:07.020"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:07.027" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:00:07.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:07.029" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:07.023" endtime="20230518 03:00:07.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:07.030" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:07.029" endtime="20230518 03:00:07.031"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:07.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:07.031" endtime="20230518 03:00:07.031"/>
</kw>
<status status="PASS" starttime="20230518 03:00:07.022" endtime="20230518 03:00:07.032"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:07.036" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:14.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:14.705" level="INFO">${output} = 2023-05-18 03:00:11,924 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:12,111 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:07.034" endtime="20230518 03:00:14.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:14.707" level="INFO">2023-05-18 03:00:11,924 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:12,111 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:00:12,112 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:00:12,547 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:00:14.706" endtime="20230518 03:00:14.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:14.708" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:14.707" endtime="20230518 03:00:14.708"/>
</kw>
<status status="PASS" starttime="20230518 03:00:07.033" endtime="20230518 03:00:14.708"/>
</kw>
<msg timestamp="20230518 03:00:14.708" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:07.033" endtime="20230518 03:00:14.709"/>
</kw>
<msg timestamp="20230518 03:00:14.709" level="INFO">${output} = 2023-05-18 03:00:11,924 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:12,111 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:07.032" endtime="20230518 03:00:14.709"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:14.709" endtime="20230518 03:00:14.710"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:14.714" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:14.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:14.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:14.711" endtime="20230518 03:00:14.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:14.718" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:14.717" endtime="20230518 03:00:14.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:14.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:14.718" endtime="20230518 03:00:14.719"/>
</kw>
<status status="PASS" starttime="20230518 03:00:14.710" endtime="20230518 03:00:14.719"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:07.021" endtime="20230518 03:00:14.719"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:14.726" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:17.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:17.880" level="INFO">${output} = 2023-05-18 03:00:17,827 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 03:00:14.724" endtime="20230518 03:00:17.880"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:17.882" level="INFO">2023-05-18 03:00:17,827 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 03:00:17.881" endtime="20230518 03:00:17.882"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:17.883" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:17.882" endtime="20230518 03:00:17.883"/>
</kw>
<status status="PASS" starttime="20230518 03:00:14.723" endtime="20230518 03:00:17.883"/>
</kw>
<msg timestamp="20230518 03:00:17.883" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:14.723" endtime="20230518 03:00:17.884"/>
</kw>
<msg timestamp="20230518 03:00:17.884" level="INFO">${output} = 2023-05-18 03:00:17,827 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 03:00:14.722" endtime="20230518 03:00:17.884"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:17.884" endtime="20230518 03:00:17.885"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:14.721" endtime="20230518 03:00:17.885"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:17.891" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:00:17.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:17.893" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:17.888" endtime="20230518 03:00:17.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:17.894" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:17.893" endtime="20230518 03:00:17.894"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:17.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:17.895" endtime="20230518 03:00:17.895"/>
</kw>
<status status="PASS" starttime="20230518 03:00:17.888" endtime="20230518 03:00:17.896"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:17.900" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:24.364" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:24.364" level="INFO">${output} = 2023-05-18 03:00:22,277 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:22,397 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:17.898" endtime="20230518 03:00:24.364"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:24.366" level="INFO">2023-05-18 03:00:22,277 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:22,397 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:00:22,397 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 03:00:22,786 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 03:00:24.365" endtime="20230518 03:00:24.366"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:24.367" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:24.366" endtime="20230518 03:00:24.367"/>
</kw>
<status status="PASS" starttime="20230518 03:00:17.897" endtime="20230518 03:00:24.367"/>
</kw>
<msg timestamp="20230518 03:00:24.367" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:17.897" endtime="20230518 03:00:24.368"/>
</kw>
<msg timestamp="20230518 03:00:24.368" level="INFO">${output} = 2023-05-18 03:00:22,277 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:22,397 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:17.896" endtime="20230518 03:00:24.368"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:24.369" endtime="20230518 03:00:24.369"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:24.373" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:24.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:24.376" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:24.370" endtime="20230518 03:00:24.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:24.377" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:24.376" endtime="20230518 03:00:24.377"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:24.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:24.377" endtime="20230518 03:00:24.378"/>
</kw>
<status status="PASS" starttime="20230518 03:00:24.369" endtime="20230518 03:00:24.378"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:17.887" endtime="20230518 03:00:24.378"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:24.386" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:25.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:25.253" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:24.383" endtime="20230518 03:00:25.253"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:25.255" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:25.254" endtime="20230518 03:00:25.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:25.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:25.255" endtime="20230518 03:00:25.256"/>
</kw>
<status status="PASS" starttime="20230518 03:00:24.382" endtime="20230518 03:00:25.256"/>
</kw>
<msg timestamp="20230518 03:00:25.256" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:24.382" endtime="20230518 03:00:25.257"/>
</kw>
<status status="PASS" starttime="20230518 03:00:24.381" endtime="20230518 03:00:25.257"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:25.262" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:25.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:25.886" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:25.260" endtime="20230518 03:00:25.886"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:25.887" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:25.886" endtime="20230518 03:00:25.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:25.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:25.888" endtime="20230518 03:00:25.888"/>
</kw>
<status status="PASS" starttime="20230518 03:00:25.259" endtime="20230518 03:00:25.889"/>
</kw>
<msg timestamp="20230518 03:00:25.889" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:25.259" endtime="20230518 03:00:25.889"/>
</kw>
<status status="PASS" starttime="20230518 03:00:25.257" endtime="20230518 03:00:25.890"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:25.894" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:26.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:26.542" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:25.892" endtime="20230518 03:00:26.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:26.544" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:26.543" endtime="20230518 03:00:26.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:26.545" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:26.545" endtime="20230518 03:00:26.545"/>
</kw>
<status status="PASS" starttime="20230518 03:00:25.891" endtime="20230518 03:00:26.546"/>
</kw>
<msg timestamp="20230518 03:00:26.546" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:25.890" endtime="20230518 03:00:26.547"/>
</kw>
<status status="PASS" starttime="20230518 03:00:25.890" endtime="20230518 03:00:26.547"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:26.552" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:27.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:27.189" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:26.549" endtime="20230518 03:00:27.189"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:27.191" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:27.190" endtime="20230518 03:00:27.191"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:27.192" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:27.191" endtime="20230518 03:00:27.192"/>
</kw>
<status status="PASS" starttime="20230518 03:00:26.548" endtime="20230518 03:00:27.193"/>
</kw>
<msg timestamp="20230518 03:00:27.193" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:26.548" endtime="20230518 03:00:27.193"/>
</kw>
<status status="PASS" starttime="20230518 03:00:26.547" endtime="20230518 03:00:27.194"/>
</kw>
<status status="PASS" starttime="20230518 03:00:24.381" endtime="20230518 03:00:27.194"/>
</kw>
<status status="PASS" starttime="20230518 03:00:24.380" endtime="20230518 03:00:27.194"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:24.380" endtime="20230518 03:00:27.194"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:27.202" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:29.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:29.916" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:00:27.200" endtime="20230518 03:00:29.916"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:29.917" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:00:29.916" endtime="20230518 03:00:29.918"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:29.918" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:29.918" endtime="20230518 03:00:29.918"/>
</kw>
<status status="PASS" starttime="20230518 03:00:27.199" endtime="20230518 03:00:29.919"/>
</kw>
<msg timestamp="20230518 03:00:29.919" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:27.199" endtime="20230518 03:00:29.920"/>
</kw>
<msg timestamp="20230518 03:00:29.921" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:00:27.198" endtime="20230518 03:00:29.921"/>
</kw>
<msg timestamp="20230518 03:00:29.921" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:00:27.198" endtime="20230518 03:00:29.921"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:29.921" endtime="20230518 03:00:29.922"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:29.922" endtime="20230518 03:00:29.923"/>
</kw>
<msg timestamp="20230518 03:00:29.923" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 03:00:27.197" endtime="20230518 03:00:29.923"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 03:00:29.923" endtime="20230518 03:00:29.924"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:27.196" endtime="20230518 03:00:29.924"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:29.930" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:00:29.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:29.932" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:29.928" endtime="20230518 03:00:29.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:29.934" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:29.933" endtime="20230518 03:00:29.934"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:29.934" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:29.934" endtime="20230518 03:00:29.935"/>
</kw>
<status status="PASS" starttime="20230518 03:00:29.927" endtime="20230518 03:00:29.935"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:29.939" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:31.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:31.933" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:29.937" endtime="20230518 03:00:31.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:31.935" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:31.934" endtime="20230518 03:00:31.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:31.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:31.935" endtime="20230518 03:00:31.936"/>
</kw>
<msg timestamp="20230518 03:00:31.937" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:29.936" endtime="20230518 03:00:31.937"/>
</kw>
<msg timestamp="20230518 03:00:31.938" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:29.935" endtime="20230518 03:00:31.938"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:31.938" endtime="20230518 03:00:31.938"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:31.941" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:31.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:31.945" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:31.939" endtime="20230518 03:00:31.945"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:31.946" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:31.945" endtime="20230518 03:00:31.946"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:31.947" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:31.946" endtime="20230518 03:00:31.947"/>
</kw>
<status status="PASS" starttime="20230518 03:00:31.938" endtime="20230518 03:00:31.947"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:29.926" endtime="20230518 03:00:31.948"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 03:00:00.197" endtime="20230518 03:00:31.950"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:00:36.628" level="INFO">${random} = 93828</msg>
<status status="PASS" starttime="20230518 03:00:36.627" endtime="20230518 03:00:36.628"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:36.635" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-93828 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:42.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:42.058" level="INFO">${output} = 2023-05-18 03:00:40,521 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:40,696 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:36.631" endtime="20230518 03:00:42.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:42.060" level="INFO">2023-05-18 03:00:40,521 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:40,696 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 03:00:40,696 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 03:00:42.059" endtime="20230518 03:00:42.060"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:42.061" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:42.060" endtime="20230518 03:00:42.061"/>
</kw>
<status status="PASS" starttime="20230518 03:00:36.630" endtime="20230518 03:00:42.061"/>
</kw>
<msg timestamp="20230518 03:00:42.061" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:36.629" endtime="20230518 03:00:42.063"/>
</kw>
<msg timestamp="20230518 03:00:42.063" level="INFO">${output} = 2023-05-18 03:00:40,521 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 03:00:40,696 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 03:00:36.628" endtime="20230518 03:00:42.063"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:42.064" endtime="20230518 03:00:42.064"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:42.067" level="INFO">Running command 'cat /tmp/key-93828 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:42.070" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:42.070" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:42.065" endtime="20230518 03:00:42.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:42.072" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:42.071" endtime="20230518 03:00:42.072"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:42.073" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:42.072" endtime="20230518 03:00:42.073"/>
</kw>
<msg timestamp="20230518 03:00:42.073" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:42.064" endtime="20230518 03:00:42.073"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:42.074" endtime="20230518 03:00:42.074"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:42.077" level="INFO">Running command 'rm /tmp/key-93828 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:42.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:42.080" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:42.075" endtime="20230518 03:00:42.080"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:42.081" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:42.081" endtime="20230518 03:00:42.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:42.082" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:42.081" endtime="20230518 03:00:42.082"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.074" endtime="20230518 03:00:42.082"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:36.626" endtime="20230518 03:00:42.083"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:42.089" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:42.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:42.712" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:42.087" endtime="20230518 03:00:42.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:42.713" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:42.712" endtime="20230518 03:00:42.714"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:42.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:42.714" endtime="20230518 03:00:42.714"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.087" endtime="20230518 03:00:42.715"/>
</kw>
<msg timestamp="20230518 03:00:42.715" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:42.086" endtime="20230518 03:00:42.715"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.086" endtime="20230518 03:00:42.716"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:42.720" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:43.333" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:43.333" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:42.718" endtime="20230518 03:00:43.334"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:43.336" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:43.335" endtime="20230518 03:00:43.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:43.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:43.336" endtime="20230518 03:00:43.337"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.717" endtime="20230518 03:00:43.337"/>
</kw>
<msg timestamp="20230518 03:00:43.337" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:42.717" endtime="20230518 03:00:43.338"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.716" endtime="20230518 03:00:43.338"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:43.342" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:43.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:43.974" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:43.340" endtime="20230518 03:00:43.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:43.975" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:43.974" endtime="20230518 03:00:43.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:43.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:43.975" endtime="20230518 03:00:43.976"/>
</kw>
<status status="PASS" starttime="20230518 03:00:43.339" endtime="20230518 03:00:43.976"/>
</kw>
<msg timestamp="20230518 03:00:43.976" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:43.339" endtime="20230518 03:00:43.977"/>
</kw>
<status status="PASS" starttime="20230518 03:00:43.338" endtime="20230518 03:00:43.977"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:43.982" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:44.585" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:44.585" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:43.979" endtime="20230518 03:00:44.585"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:44.587" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:44.586" endtime="20230518 03:00:44.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:44.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:44.588" endtime="20230518 03:00:44.589"/>
</kw>
<status status="PASS" starttime="20230518 03:00:43.978" endtime="20230518 03:00:44.589"/>
</kw>
<msg timestamp="20230518 03:00:44.589" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:43.978" endtime="20230518 03:00:44.590"/>
</kw>
<status status="PASS" starttime="20230518 03:00:43.978" endtime="20230518 03:00:44.591"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.085" endtime="20230518 03:00:44.591"/>
</kw>
<status status="PASS" starttime="20230518 03:00:42.085" endtime="20230518 03:00:44.591"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:42.084" endtime="20230518 03:00:44.591"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:44.599" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:45.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:45.530" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:44.596" endtime="20230518 03:00:45.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:45.532" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:00:45 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:00:45.531" endtime="20230518 03:00:45.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:45.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:45.532" endtime="20230518 03:00:45.533"/>
</kw>
<msg timestamp="20230518 03:00:45.533" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:44.596" endtime="20230518 03:00:45.534"/>
</kw>
<msg timestamp="20230518 03:00:45.534" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:44.595" endtime="20230518 03:00:45.534"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:45.534" endtime="20230518 03:00:45.535"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:45.538" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:45.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:45.542" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:45.536" endtime="20230518 03:00:45.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:45.543" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:45.543" endtime="20230518 03:00:45.543"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:45.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:45.544" endtime="20230518 03:00:45.544"/>
</kw>
<msg timestamp="20230518 03:00:45.545" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:00:45.535" endtime="20230518 03:00:45.545"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:45.545" endtime="20230518 03:00:45.545"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:45.549" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:45.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:45.552" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:45.546" endtime="20230518 03:00:45.552"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:45.553" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:45.553" endtime="20230518 03:00:45.553"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:45.554" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:45.554" endtime="20230518 03:00:45.554"/>
</kw>
<status status="PASS" starttime="20230518 03:00:45.546" endtime="20230518 03:00:45.555"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:44.593" endtime="20230518 03:00:45.555"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:45.563" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:46.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:46.311" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:45.561" endtime="20230518 03:00:46.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:46.312" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:00:46 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:00:46.311" endtime="20230518 03:00:46.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:46.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:46.313" endtime="20230518 03:00:46.313"/>
</kw>
<msg timestamp="20230518 03:00:46.314" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:45.560" endtime="20230518 03:00:46.314"/>
</kw>
<msg timestamp="20230518 03:00:46.315" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:00:45.559" endtime="20230518 03:00:46.315"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:46.315" endtime="20230518 03:00:46.315"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:46.319" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:46.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:46.322" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:00:46.316" endtime="20230518 03:00:46.322"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:46.323" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:00:46.322" endtime="20230518 03:00:46.323"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:46.324" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:46.323" endtime="20230518 03:00:46.324"/>
</kw>
<msg timestamp="20230518 03:00:46.325" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:00:46.315" endtime="20230518 03:00:46.325"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:46.325" endtime="20230518 03:00:46.326"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:46.329" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:46.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:46.332" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:00:46.327" endtime="20230518 03:00:46.332"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:46.333" level="INFO"/>
<status status="PASS" starttime="20230518 03:00:46.332" endtime="20230518 03:00:46.333"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:46.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:46.333" endtime="20230518 03:00:46.334"/>
</kw>
<status status="PASS" starttime="20230518 03:00:46.326" endtime="20230518 03:00:46.334"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:45.556" endtime="20230518 03:00:46.334"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:00:36.521" endtime="20230518 03:00:46.337"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 03:00:51.000" endtime="20230518 03:00:51.001"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 03:00:51.001" endtime="20230518 03:00:51.002"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:00:51.009" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:00:59.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:00:59.708" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 03:00:51.005" endtime="20230518 03:00:59.709"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:00:59.710" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [25]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230518 03:00:59.709" endtime="20230518 03:00:59.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:00:59.711" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:00:59.710" endtime="20230518 03:00:59.711"/>
</kw>
<status status="PASS" starttime="20230518 03:00:51.004" endtime="20230518 03:00:59.712"/>
</kw>
<msg timestamp="20230518 03:00:59.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:00:51.004" endtime="20230518 03:00:59.713"/>
</kw>
<msg timestamp="20230518 03:00:59.714" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [25].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 03:00:51.002" endtime="20230518 03:00:59.714"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:00:59.715" endtime="20230518 03:00:59.716"/>
</kw>
<status status="PASS" starttime="20230518 03:00:59.714" endtime="20230518 03:00:59.716"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:00:50.999" endtime="20230518 03:00:59.716"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230518 03:00:50.940" endtime="20230518 03:00:59.718"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 02:59:48.039" endtime="20230518 02:59:48.041"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 02:59:48.048" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 02:59:48.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 02:59:48.050" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=03941199618c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 02:59:48.042" endtime="20230518 02:59:48.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:48.051" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=03941199618c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 02:59:48.050" endtime="20230518 02:59:48.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 02:59:48.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 02:59:48.051" endtime="20230518 02:59:48.052"/>
</kw>
<status status="PASS" starttime="20230518 02:59:48.042" endtime="20230518 02:59:48.052"/>
</kw>
<msg timestamp="20230518 02:59:48.052" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 02:59:48.042" endtime="20230518 02:59:48.053"/>
</kw>
<msg timestamp="20230518 02:59:48.054" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=03941199618c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 02:59:48.041" endtime="20230518 02:59:48.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:48.054" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=03941199618c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 02:59:48.054" endtime="20230518 02:59:48.054"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 02:59:48.055" endtime="20230518 02:59:48.055"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 02:59:48.060" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 02:59:51.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 02:59:51.913" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 02:59:48.057" endtime="20230518 02:59:51.913"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:51.914" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 02:59:51.914" endtime="20230518 02:59:51.915"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 02:59:51.915" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 02:59:51.915" endtime="20230518 02:59:51.915"/>
</kw>
<status status="PASS" starttime="20230518 02:59:48.056" endtime="20230518 02:59:51.916"/>
</kw>
<msg timestamp="20230518 02:59:51.916" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 02:59:48.056" endtime="20230518 02:59:51.916"/>
</kw>
<msg timestamp="20230518 02:59:51.917" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 02:59:48.055" endtime="20230518 02:59:51.917"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:51.917" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 02:59:51.917" endtime="20230518 02:59:51.917"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 02:59:51.918" endtime="20230518 02:59:51.918"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 02:59:48.038" endtime="20230518 02:59:51.918"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 02:59:51.921" endtime="20230518 02:59:51.922"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 02:59:51.922" endtime="20230518 02:59:51.922"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 02:59:51.927" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 02:59:55.484" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 02:59:55.485" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 02:59:51.924" endtime="20230518 02:59:55.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:55.486" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 02:59:55.485" endtime="20230518 02:59:55.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 02:59:55.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 02:59:55.486" endtime="20230518 02:59:55.487"/>
</kw>
<status status="PASS" starttime="20230518 02:59:51.923" endtime="20230518 02:59:55.487"/>
</kw>
<msg timestamp="20230518 02:59:55.487" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 02:59:51.923" endtime="20230518 02:59:55.488"/>
</kw>
<msg timestamp="20230518 02:59:55.488" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 02:59:51.923" endtime="20230518 02:59:55.488"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 02:59:55.489" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 02:59:55.488" endtime="20230518 02:59:55.489"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 02:59:55.489" endtime="20230518 02:59:55.490"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 02:59:51.920" endtime="20230518 02:59:55.490"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230518 02:59:47.976" endtime="20230518 02:59:55.492"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:26.050" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:04:26.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:26.053" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:26.044" endtime="20230518 03:04:26.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:26.054" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:26.053" endtime="20230518 03:04:26.054"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:26.055" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:26.055" endtime="20230518 03:04:26.055"/>
</kw>
<status status="PASS" starttime="20230518 03:04:26.043" endtime="20230518 03:04:26.056"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:26.062" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:37.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:37.332" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:26.058" endtime="20230518 03:04:37.332"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:37.334" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:37.333" endtime="20230518 03:04:37.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:37.335" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:37.334" endtime="20230518 03:04:37.335"/>
</kw>
<status status="PASS" starttime="20230518 03:04:26.057" endtime="20230518 03:04:37.335"/>
</kw>
<msg timestamp="20230518 03:04:37.336" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:26.057" endtime="20230518 03:04:37.337"/>
</kw>
<msg timestamp="20230518 03:04:37.338" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:26.056" endtime="20230518 03:04:37.338"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:37.338" endtime="20230518 03:04:37.339"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:37.344" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:37.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:37.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:37.340" endtime="20230518 03:04:37.349"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:37.352" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:37.350" endtime="20230518 03:04:37.352"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:37.353" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:37.352" endtime="20230518 03:04:37.353"/>
</kw>
<status status="PASS" starttime="20230518 03:04:37.339" endtime="20230518 03:04:37.354"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:26.041" endtime="20230518 03:04:37.354"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:37.364" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:04:37.366" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:37.367" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:37.360" endtime="20230518 03:04:37.367"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:37.368" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:37.367" endtime="20230518 03:04:37.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:37.369" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:37.369" endtime="20230518 03:04:37.369"/>
</kw>
<status status="PASS" starttime="20230518 03:04:37.359" endtime="20230518 03:04:37.370"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:37.375" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:46.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:46.422" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:37.372" endtime="20230518 03:04:46.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:46.424" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:46.423" endtime="20230518 03:04:46.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:46.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:46.425" endtime="20230518 03:04:46.426"/>
</kw>
<status status="PASS" starttime="20230518 03:04:37.372" endtime="20230518 03:04:46.426"/>
</kw>
<msg timestamp="20230518 03:04:46.426" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:37.371" endtime="20230518 03:04:46.428"/>
</kw>
<msg timestamp="20230518 03:04:46.428" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:37.370" endtime="20230518 03:04:46.428"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:46.429" endtime="20230518 03:04:46.429"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:46.434" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:46.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:46.437" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:46.430" endtime="20230518 03:04:46.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:46.439" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:46.438" endtime="20230518 03:04:46.439"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:46.440" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:46.439" endtime="20230518 03:04:46.440"/>
</kw>
<status status="PASS" starttime="20230518 03:04:46.430" endtime="20230518 03:04:46.441"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:37.357" endtime="20230518 03:04:46.441"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:46.450" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:47.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:47.225" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:46.447" endtime="20230518 03:04:47.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:47.228" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:47.226" endtime="20230518 03:04:47.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:47.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:47.229" endtime="20230518 03:04:47.238"/>
</kw>
<status status="PASS" starttime="20230518 03:04:46.446" endtime="20230518 03:04:47.239"/>
</kw>
<msg timestamp="20230518 03:04:47.239" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:46.446" endtime="20230518 03:04:47.241"/>
</kw>
<status status="PASS" starttime="20230518 03:04:46.445" endtime="20230518 03:04:47.244"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:47.269" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:48.041" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:48.041" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:47.258" endtime="20230518 03:04:48.041"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:48.043" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:48.042" endtime="20230518 03:04:48.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:48.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:48.044" endtime="20230518 03:04:48.044"/>
</kw>
<status status="PASS" starttime="20230518 03:04:47.255" endtime="20230518 03:04:48.045"/>
</kw>
<msg timestamp="20230518 03:04:48.045" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:47.249" endtime="20230518 03:04:48.045"/>
</kw>
<status status="PASS" starttime="20230518 03:04:47.245" endtime="20230518 03:04:48.046"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:48.050" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:48.853" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:48.853" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:48.047" endtime="20230518 03:04:48.853"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:48.855" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:48.854" endtime="20230518 03:04:48.855"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:48.856" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:48.855" endtime="20230518 03:04:48.857"/>
</kw>
<status status="PASS" starttime="20230518 03:04:48.047" endtime="20230518 03:04:48.857"/>
</kw>
<msg timestamp="20230518 03:04:48.857" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:48.046" endtime="20230518 03:04:48.858"/>
</kw>
<status status="PASS" starttime="20230518 03:04:48.046" endtime="20230518 03:04:48.858"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:48.863" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:49.616" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:49.616" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:48.860" endtime="20230518 03:04:49.616"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:49.618" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:49.617" endtime="20230518 03:04:49.618"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:49.619" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:49.618" endtime="20230518 03:04:49.619"/>
</kw>
<status status="PASS" starttime="20230518 03:04:48.859" endtime="20230518 03:04:49.620"/>
</kw>
<msg timestamp="20230518 03:04:49.620" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:48.859" endtime="20230518 03:04:49.621"/>
</kw>
<status status="PASS" starttime="20230518 03:04:48.858" endtime="20230518 03:04:49.621"/>
</kw>
<status status="PASS" starttime="20230518 03:04:46.444" endtime="20230518 03:04:49.622"/>
</kw>
<status status="PASS" starttime="20230518 03:04:46.444" endtime="20230518 03:04:49.622"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:46.443" endtime="20230518 03:04:49.622"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:49.632" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:50.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:50.724" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:04:49.630" endtime="20230518 03:04:50.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:50.726" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:04:50.725" endtime="20230518 03:04:50.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:50.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:50.726" endtime="20230518 03:04:50.727"/>
</kw>
<status status="PASS" starttime="20230518 03:04:49.629" endtime="20230518 03:04:50.728"/>
</kw>
<msg timestamp="20230518 03:04:50.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:49.628" endtime="20230518 03:04:50.729"/>
</kw>
<msg timestamp="20230518 03:04:50.729" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:04:49.628" endtime="20230518 03:04:50.729"/>
</kw>
<msg timestamp="20230518 03:04:50.730" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:04:49.627" endtime="20230518 03:04:50.730"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:50.730" endtime="20230518 03:04:50.730"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:50.731" endtime="20230518 03:04:50.731"/>
</kw>
<msg timestamp="20230518 03:04:50.732" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 03:04:49.626" endtime="20230518 03:04:50.732"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 03:04:50.732" endtime="20230518 03:04:50.733"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:49.623" endtime="20230518 03:04:50.733"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:50.741" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:04:50.744" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:50.744" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:50.738" endtime="20230518 03:04:50.744"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:50.745" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:50.745" endtime="20230518 03:04:50.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:50.746" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:50.746" endtime="20230518 03:04:50.747"/>
</kw>
<status status="PASS" starttime="20230518 03:04:50.737" endtime="20230518 03:04:50.747"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:50.752" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:52.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:52.601" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:50.749" endtime="20230518 03:04:52.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:52.604" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:52.602" endtime="20230518 03:04:52.604"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:52.605" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:52.605" endtime="20230518 03:04:52.606"/>
</kw>
<msg timestamp="20230518 03:04:52.606" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:50.748" endtime="20230518 03:04:52.606"/>
</kw>
<msg timestamp="20230518 03:04:52.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:50.747" endtime="20230518 03:04:52.607"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:52.607" endtime="20230518 03:04:52.608"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:52.615" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:52.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:52.631" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:52.610" endtime="20230518 03:04:52.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:52.633" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:52.632" endtime="20230518 03:04:52.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:52.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:52.634" endtime="20230518 03:04:52.635"/>
</kw>
<status status="PASS" starttime="20230518 03:04:52.609" endtime="20230518 03:04:52.636"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:50.735" endtime="20230518 03:04:52.636"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 03:04:25.924" endtime="20230518 03:04:52.639"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:57.764" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:03.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:03.003" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:57.756" endtime="20230518 03:05:03.003"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:03.006" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:03.004" endtime="20230518 03:05:03.006"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:03.007" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:03.006" endtime="20230518 03:05:03.007"/>
</kw>
<status status="PASS" starttime="20230518 03:04:57.755" endtime="20230518 03:05:03.008"/>
</kw>
<msg timestamp="20230518 03:05:03.008" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:57.754" endtime="20230518 03:05:03.010"/>
</kw>
<msg timestamp="20230518 03:05:03.010" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:57.753" endtime="20230518 03:05:03.010"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:03.011" endtime="20230518 03:05:03.011"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:03.020" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:08.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:08.684" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:03.016" endtime="20230518 03:05:08.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:08.686" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:08.685" endtime="20230518 03:05:08.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:08.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:08.686" endtime="20230518 03:05:08.687"/>
</kw>
<status status="PASS" starttime="20230518 03:05:03.015" endtime="20230518 03:05:08.688"/>
</kw>
<msg timestamp="20230518 03:05:08.688" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:03.014" endtime="20230518 03:05:08.688"/>
</kw>
<msg timestamp="20230518 03:05:08.689" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:03.013" endtime="20230518 03:05:08.689"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:08.689" endtime="20230518 03:05:08.690"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:57.751" endtime="20230518 03:05:08.690"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:08.698" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:05:08.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:08.700" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:08.694" endtime="20230518 03:05:08.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:08.702" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:08.701" endtime="20230518 03:05:08.703"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:08.703" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:08.703" endtime="20230518 03:05:08.704"/>
</kw>
<status status="PASS" starttime="20230518 03:05:08.693" endtime="20230518 03:05:08.704"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:08.709" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:17.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:17.806" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:08.707" endtime="20230518 03:05:17.807"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:17.809" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:17.807" endtime="20230518 03:05:17.809"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:17.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:17.809" endtime="20230518 03:05:17.810"/>
</kw>
<status status="PASS" starttime="20230518 03:05:08.706" endtime="20230518 03:05:17.810"/>
</kw>
<msg timestamp="20230518 03:05:17.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:08.706" endtime="20230518 03:05:17.811"/>
</kw>
<msg timestamp="20230518 03:05:17.812" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:08.704" endtime="20230518 03:05:17.812"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:17.812" endtime="20230518 03:05:17.813"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:17.818" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:17.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:17.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:17.815" endtime="20230518 03:05:17.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:17.824" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:17.823" endtime="20230518 03:05:17.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:17.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:17.824" endtime="20230518 03:05:17.825"/>
</kw>
<status status="PASS" starttime="20230518 03:05:17.814" endtime="20230518 03:05:17.826"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:08.692" endtime="20230518 03:05:17.826"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:17.833" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:23.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:23.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:17.830" endtime="20230518 03:05:23.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:23.166" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:23.165" endtime="20230518 03:05:23.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:23.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:23.167" endtime="20230518 03:05:23.168"/>
</kw>
<status status="PASS" starttime="20230518 03:05:17.829" endtime="20230518 03:05:23.169"/>
</kw>
<msg timestamp="20230518 03:05:23.169" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:17.829" endtime="20230518 03:05:23.170"/>
</kw>
<msg timestamp="20230518 03:05:23.171" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:17.828" endtime="20230518 03:05:23.171"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:23.171" endtime="20230518 03:05:23.172"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:17.827" endtime="20230518 03:05:23.172"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:23.179" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:05:23.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:23.182" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:23.176" endtime="20230518 03:05:23.182"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:23.184" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:23.183" endtime="20230518 03:05:23.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:23.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:23.184" endtime="20230518 03:05:23.185"/>
</kw>
<status status="PASS" starttime="20230518 03:05:23.175" endtime="20230518 03:05:23.185"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:23.192" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:32.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:32.318" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:23.189" endtime="20230518 03:05:32.318"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:32.321" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:32.319" endtime="20230518 03:05:32.321"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:32.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:32.321" endtime="20230518 03:05:32.322"/>
</kw>
<status status="PASS" starttime="20230518 03:05:23.187" endtime="20230518 03:05:32.323"/>
</kw>
<msg timestamp="20230518 03:05:32.323" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:23.187" endtime="20230518 03:05:32.324"/>
</kw>
<msg timestamp="20230518 03:05:32.324" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:23.186" endtime="20230518 03:05:32.324"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:32.325" endtime="20230518 03:05:32.325"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:32.329" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:32.334" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:32.334" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:32.326" endtime="20230518 03:05:32.334"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:32.336" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:32.335" endtime="20230518 03:05:32.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:32.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:32.336" endtime="20230518 03:05:32.337"/>
</kw>
<status status="PASS" starttime="20230518 03:05:32.325" endtime="20230518 03:05:32.338"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:23.174" endtime="20230518 03:05:32.338"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:32.347" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:33.157" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:33.157" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:32.345" endtime="20230518 03:05:33.157"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:33.159" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:33.158" endtime="20230518 03:05:33.159"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:33.160" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:33.159" endtime="20230518 03:05:33.160"/>
</kw>
<status status="PASS" starttime="20230518 03:05:32.343" endtime="20230518 03:05:33.161"/>
</kw>
<msg timestamp="20230518 03:05:33.161" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:32.343" endtime="20230518 03:05:33.161"/>
</kw>
<status status="PASS" starttime="20230518 03:05:32.342" endtime="20230518 03:05:33.162"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:33.167" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:33.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:33.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:33.164" endtime="20230518 03:05:33.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:33.824" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:33.823" endtime="20230518 03:05:33.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:33.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:33.824" endtime="20230518 03:05:33.825"/>
</kw>
<status status="PASS" starttime="20230518 03:05:33.163" endtime="20230518 03:05:33.825"/>
</kw>
<msg timestamp="20230518 03:05:33.825" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:33.163" endtime="20230518 03:05:33.826"/>
</kw>
<status status="PASS" starttime="20230518 03:05:33.162" endtime="20230518 03:05:33.826"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:33.832" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:34.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:34.618" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:33.829" endtime="20230518 03:05:34.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:34.620" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:34.619" endtime="20230518 03:05:34.620"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:34.621" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:34.621" endtime="20230518 03:05:34.622"/>
</kw>
<status status="PASS" starttime="20230518 03:05:33.828" endtime="20230518 03:05:34.622"/>
</kw>
<msg timestamp="20230518 03:05:34.622" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:33.827" endtime="20230518 03:05:34.623"/>
</kw>
<status status="PASS" starttime="20230518 03:05:33.827" endtime="20230518 03:05:34.623"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:34.628" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:35.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:35.329" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:34.625" endtime="20230518 03:05:35.329"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:35.331" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:35.330" endtime="20230518 03:05:35.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:35.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:35.331" endtime="20230518 03:05:35.332"/>
</kw>
<status status="PASS" starttime="20230518 03:05:34.624" endtime="20230518 03:05:35.332"/>
</kw>
<msg timestamp="20230518 03:05:35.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:34.624" endtime="20230518 03:05:35.333"/>
</kw>
<status status="PASS" starttime="20230518 03:05:34.623" endtime="20230518 03:05:35.333"/>
</kw>
<status status="PASS" starttime="20230518 03:05:32.342" endtime="20230518 03:05:35.334"/>
</kw>
<status status="PASS" starttime="20230518 03:05:32.342" endtime="20230518 03:05:35.334"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:32.340" endtime="20230518 03:05:35.334"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:35.343" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:36.303" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:36.303" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:05:35.339" endtime="20230518 03:05:36.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:36.305" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:05:36.304" endtime="20230518 03:05:36.305"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:36.306" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:36.305" endtime="20230518 03:05:36.306"/>
</kw>
<status status="PASS" starttime="20230518 03:05:35.339" endtime="20230518 03:05:36.307"/>
</kw>
<msg timestamp="20230518 03:05:36.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:35.338" endtime="20230518 03:05:36.308"/>
</kw>
<msg timestamp="20230518 03:05:36.308" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:05:35.338" endtime="20230518 03:05:36.308"/>
</kw>
<msg timestamp="20230518 03:05:36.309" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 03:05:35.337" endtime="20230518 03:05:36.309"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:36.309" endtime="20230518 03:05:36.310"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:36.310" endtime="20230518 03:05:36.310"/>
</kw>
<msg timestamp="20230518 03:05:36.311" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 03:05:35.337" endtime="20230518 03:05:36.311"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 03:05:36.311" endtime="20230518 03:05:36.312"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:35.336" endtime="20230518 03:05:36.312"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:36.319" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 03:05:36.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:36.322" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:36.316" endtime="20230518 03:05:36.322"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:36.324" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:36.323" endtime="20230518 03:05:36.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:36.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:36.325" endtime="20230518 03:05:36.326"/>
</kw>
<status status="PASS" starttime="20230518 03:05:36.315" endtime="20230518 03:05:36.326"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:36.333" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:37.617" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:37.617" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:36.330" endtime="20230518 03:05:37.617"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:37.619" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:37.618" endtime="20230518 03:05:37.619"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:37.620" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:37.620" endtime="20230518 03:05:37.620"/>
</kw>
<msg timestamp="20230518 03:05:37.621" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:36.328" endtime="20230518 03:05:37.621"/>
</kw>
<msg timestamp="20230518 03:05:37.622" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:36.327" endtime="20230518 03:05:37.622"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:37.622" endtime="20230518 03:05:37.622"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:37.627" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:37.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:37.630" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:37.623" endtime="20230518 03:05:37.630"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:37.632" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:37.630" endtime="20230518 03:05:37.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:37.634" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:37.633" endtime="20230518 03:05:37.634"/>
</kw>
<status status="PASS" starttime="20230518 03:05:37.623" endtime="20230518 03:05:37.635"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:36.314" endtime="20230518 03:05:37.635"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 03:04:57.604" endtime="20230518 03:05:37.638"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:05:42.997" level="INFO">${random} = 65942</msg>
<status status="PASS" starttime="20230518 03:05:42.996" endtime="20230518 03:05:42.997"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:43.005" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-65942 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:51.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:51.804" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:42.999" endtime="20230518 03:05:51.804"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:51.807" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:51.805" endtime="20230518 03:05:51.807"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:51.809" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:51.807" endtime="20230518 03:05:51.809"/>
</kw>
<status status="PASS" starttime="20230518 03:05:42.999" endtime="20230518 03:05:51.810"/>
</kw>
<msg timestamp="20230518 03:05:51.810" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:42.998" endtime="20230518 03:05:51.813"/>
</kw>
<msg timestamp="20230518 03:05:51.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:42.997" endtime="20230518 03:05:51.814"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:51.814" endtime="20230518 03:05:51.815"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:51.821" level="INFO">Running command 'cat /tmp/key-65942 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:51.827" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:51.828" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:51.817" endtime="20230518 03:05:51.828"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:51.830" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:51.828" endtime="20230518 03:05:51.830"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:51.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:51.831" endtime="20230518 03:05:51.833"/>
</kw>
<msg timestamp="20230518 03:05:51.833" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:51.816" endtime="20230518 03:05:51.833"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:51.834" endtime="20230518 03:05:51.835"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:51.841" level="INFO">Running command 'rm /tmp/key-65942 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:51.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:51.847" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:51.837" endtime="20230518 03:05:51.847"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:51.849" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:51.848" endtime="20230518 03:05:51.850"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:51.851" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:51.850" endtime="20230518 03:05:51.851"/>
</kw>
<status status="PASS" starttime="20230518 03:05:51.835" endtime="20230518 03:05:51.852"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:42.995" endtime="20230518 03:05:51.853"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:51.865" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:52.685" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:52.685" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:51.862" endtime="20230518 03:05:52.685"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:52.687" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:52.686" endtime="20230518 03:05:52.687"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:52.688" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:52.688" endtime="20230518 03:05:52.689"/>
</kw>
<status status="PASS" starttime="20230518 03:05:51.860" endtime="20230518 03:05:52.689"/>
</kw>
<msg timestamp="20230518 03:05:52.689" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:51.860" endtime="20230518 03:05:52.690"/>
</kw>
<status status="PASS" starttime="20230518 03:05:51.859" endtime="20230518 03:05:52.690"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:52.696" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:53.446" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:53.446" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:52.693" endtime="20230518 03:05:53.446"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:53.448" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:53.447" endtime="20230518 03:05:53.448"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:53.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:53.448" endtime="20230518 03:05:53.449"/>
</kw>
<status status="PASS" starttime="20230518 03:05:52.692" endtime="20230518 03:05:53.449"/>
</kw>
<msg timestamp="20230518 03:05:53.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:52.692" endtime="20230518 03:05:53.450"/>
</kw>
<status status="PASS" starttime="20230518 03:05:52.691" endtime="20230518 03:05:53.450"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:53.456" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:54.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:54.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:53.453" endtime="20230518 03:05:54.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:54.165" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:54.164" endtime="20230518 03:05:54.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:54.167" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:54.166" endtime="20230518 03:05:54.167"/>
</kw>
<status status="PASS" starttime="20230518 03:05:53.452" endtime="20230518 03:05:54.167"/>
</kw>
<msg timestamp="20230518 03:05:54.168" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:53.452" endtime="20230518 03:05:54.168"/>
</kw>
<status status="PASS" starttime="20230518 03:05:53.451" endtime="20230518 03:05:54.169"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:54.175" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:54.957" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:54.957" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:54.171" endtime="20230518 03:05:54.957"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:54.959" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:54.958" endtime="20230518 03:05:54.959"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:54.961" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:54.960" endtime="20230518 03:05:54.961"/>
</kw>
<status status="PASS" starttime="20230518 03:05:54.170" endtime="20230518 03:05:54.961"/>
</kw>
<msg timestamp="20230518 03:05:54.962" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:05:54.170" endtime="20230518 03:05:54.962"/>
</kw>
<status status="PASS" starttime="20230518 03:05:54.169" endtime="20230518 03:05:54.962"/>
</kw>
<status status="PASS" starttime="20230518 03:05:51.858" endtime="20230518 03:05:54.963"/>
</kw>
<status status="PASS" starttime="20230518 03:05:51.857" endtime="20230518 03:05:54.963"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:51.855" endtime="20230518 03:05:54.963"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:54.974" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:55.990" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:55.991" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:54.967" endtime="20230518 03:05:55.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:55.994" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:05:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:05:55.992" endtime="20230518 03:05:55.994"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:55.995" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:55.994" endtime="20230518 03:05:55.995"/>
</kw>
<msg timestamp="20230518 03:05:55.996" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:54.966" endtime="20230518 03:05:55.996"/>
</kw>
<msg timestamp="20230518 03:05:55.996" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:31 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:54.965" endtime="20230518 03:05:55.997"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:55.997" endtime="20230518 03:05:55.998"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:56.004" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:56.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:56.008" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:55.999" endtime="20230518 03:05:56.009"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:56.010" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:56.009" endtime="20230518 03:05:56.010"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:56.011" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:56.011" endtime="20230518 03:05:56.011"/>
</kw>
<msg timestamp="20230518 03:05:56.012" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:05:55.998" endtime="20230518 03:05:56.012"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:56.012" endtime="20230518 03:05:56.013"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:56.016" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:56.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:56.020" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:56.014" endtime="20230518 03:05:56.020"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:56.022" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:56.020" endtime="20230518 03:05:56.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:56.023" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:56.022" endtime="20230518 03:05:56.023"/>
</kw>
<status status="PASS" starttime="20230518 03:05:56.013" endtime="20230518 03:05:56.024"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:54.964" endtime="20230518 03:05:56.024"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:56.033" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:56.928" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:56.928" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:56.030" endtime="20230518 03:05:56.928"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:56.930" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:05:56 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:05:56.929" endtime="20230518 03:05:56.930"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:56.932" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:56.931" endtime="20230518 03:05:56.932"/>
</kw>
<msg timestamp="20230518 03:05:56.932" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:56.029" endtime="20230518 03:05:56.933"/>
</kw>
<msg timestamp="20230518 03:05:56.933" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:05:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:05:56.028" endtime="20230518 03:05:56.933"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:56.933" endtime="20230518 03:05:56.934"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:56.938" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:56.941" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:56.941" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:05:56.935" endtime="20230518 03:05:56.941"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:56.944" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:05:56.942" endtime="20230518 03:05:56.944"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:56.945" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:56.944" endtime="20230518 03:05:56.945"/>
</kw>
<msg timestamp="20230518 03:05:56.946" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:05:56.934" endtime="20230518 03:05:56.946"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:05:56.946" endtime="20230518 03:05:56.947"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:05:56.952" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:05:56.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:05:56.956" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:05:56.949" endtime="20230518 03:05:56.957"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:05:56.958" level="INFO"/>
<status status="PASS" starttime="20230518 03:05:56.957" endtime="20230518 03:05:56.958"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:05:56.959" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:05:56.958" endtime="20230518 03:05:56.959"/>
</kw>
<status status="PASS" starttime="20230518 03:05:56.948" endtime="20230518 03:05:56.959"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:05:56.027" endtime="20230518 03:05:56.960"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:05:42.811" endtime="20230518 03:05:56.963"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 03:06:02.135" endtime="20230518 03:06:02.136"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 03:06:02.137" endtime="20230518 03:06:02.137"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:06:02.145" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:06:12.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:06:12.755" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 03:06:02.140" endtime="20230518 03:06:12.755"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:06:12.757" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [67]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230518 03:06:12.756" endtime="20230518 03:06:12.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:06:12.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:06:12.758" endtime="20230518 03:06:12.759"/>
</kw>
<status status="PASS" starttime="20230518 03:06:02.139" endtime="20230518 03:06:12.759"/>
</kw>
<msg timestamp="20230518 03:06:12.759" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:06:02.139" endtime="20230518 03:06:12.761"/>
</kw>
<msg timestamp="20230518 03:06:12.762" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [67].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 03:06:02.137" endtime="20230518 03:06:12.762"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:06:12.762" endtime="20230518 03:06:12.763"/>
</kw>
<status status="PASS" starttime="20230518 03:06:12.762" endtime="20230518 03:06:12.763"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:06:02.134" endtime="20230518 03:06:12.764"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230518 03:06:02.052" endtime="20230518 03:06:12.765"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 03:03:58.846" level="INFO">${random} = 71394</msg>
<status status="PASS" starttime="20230518 03:03:58.846" endtime="20230518 03:03:58.846"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:03:58.857" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-71394 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:09.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:09.199" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:03:58.850" endtime="20230518 03:04:09.199"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:09.200" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:09.199" endtime="20230518 03:04:09.201"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:09.201" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:09.201" endtime="20230518 03:04:09.202"/>
</kw>
<status status="PASS" starttime="20230518 03:03:58.850" endtime="20230518 03:04:09.202"/>
</kw>
<msg timestamp="20230518 03:04:09.202" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:03:58.848" endtime="20230518 03:04:09.204"/>
</kw>
<msg timestamp="20230518 03:04:09.204" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:03:58.847" endtime="20230518 03:04:09.204"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:09.205" endtime="20230518 03:04:09.205"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:09.210" level="INFO">Running command 'cat /tmp/key-71394 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:09.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:09.214" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:09.206" endtime="20230518 03:04:09.214"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:09.216" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:09.215" endtime="20230518 03:04:09.216"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:09.217" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:09.216" endtime="20230518 03:04:09.217"/>
</kw>
<msg timestamp="20230518 03:04:09.217" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:09.205" endtime="20230518 03:04:09.217"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:09.218" endtime="20230518 03:04:09.218"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:09.222" level="INFO">Running command 'rm /tmp/key-71394 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:09.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:09.226" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:09.219" endtime="20230518 03:04:09.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:09.229" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:09.228" endtime="20230518 03:04:09.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:09.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:09.229" endtime="20230518 03:04:09.230"/>
</kw>
<status status="PASS" starttime="20230518 03:04:09.218" endtime="20230518 03:04:09.230"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:03:58.844" endtime="20230518 03:04:09.231"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:09.242" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:10.387" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:10.387" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:09.239" endtime="20230518 03:04:10.387"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:10.389" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:10.388" endtime="20230518 03:04:10.389"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:10.390" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:10.390" endtime="20230518 03:04:10.391"/>
</kw>
<status status="PASS" starttime="20230518 03:04:09.238" endtime="20230518 03:04:10.392"/>
</kw>
<msg timestamp="20230518 03:04:10.392" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:09.238" endtime="20230518 03:04:10.393"/>
</kw>
<status status="PASS" starttime="20230518 03:04:09.236" endtime="20230518 03:04:10.393"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:10.406" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:11.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:11.301" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:10.401" endtime="20230518 03:04:11.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:11.303" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:11.302" endtime="20230518 03:04:11.303"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:11.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:11.304" endtime="20230518 03:04:11.305"/>
</kw>
<status status="PASS" starttime="20230518 03:04:10.400" endtime="20230518 03:04:11.305"/>
</kw>
<msg timestamp="20230518 03:04:11.305" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:10.398" endtime="20230518 03:04:11.306"/>
</kw>
<status status="PASS" starttime="20230518 03:04:10.394" endtime="20230518 03:04:11.307"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:11.313" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:12.185" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:12.185" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:11.309" endtime="20230518 03:04:12.185"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:12.187" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:12.186" endtime="20230518 03:04:12.187"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:12.188" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:12.187" endtime="20230518 03:04:12.188"/>
</kw>
<status status="PASS" starttime="20230518 03:04:11.309" endtime="20230518 03:04:12.188"/>
</kw>
<msg timestamp="20230518 03:04:12.188" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:11.308" endtime="20230518 03:04:12.189"/>
</kw>
<status status="PASS" starttime="20230518 03:04:11.307" endtime="20230518 03:04:12.189"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:12.194" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:13.178" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:13.178" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:12.191" endtime="20230518 03:04:13.178"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:13.179" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:13.178" endtime="20230518 03:04:13.180"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:13.180" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:13.180" endtime="20230518 03:04:13.180"/>
</kw>
<status status="PASS" starttime="20230518 03:04:12.190" endtime="20230518 03:04:13.181"/>
</kw>
<msg timestamp="20230518 03:04:13.181" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 03:04:12.190" endtime="20230518 03:04:13.182"/>
</kw>
<status status="PASS" starttime="20230518 03:04:12.189" endtime="20230518 03:04:13.182"/>
</kw>
<status status="PASS" starttime="20230518 03:04:09.235" endtime="20230518 03:04:13.182"/>
</kw>
<status status="PASS" starttime="20230518 03:04:09.234" endtime="20230518 03:04:13.182"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:09.233" endtime="20230518 03:04:13.183"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:13.190" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:19.722" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:19.722" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:13.187" endtime="20230518 03:04:19.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:19.724" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:04:14 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:04:19.723" endtime="20230518 03:04:19.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:19.725" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:19.724" endtime="20230518 03:04:19.725"/>
</kw>
<msg timestamp="20230518 03:04:19.726" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:13.186" endtime="20230518 03:04:19.726"/>
</kw>
<msg timestamp="20230518 03:04:19.726" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:13.186" endtime="20230518 03:04:19.726"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:19.726" endtime="20230518 03:04:19.727"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:19.731" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:19.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:19.735" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:19.728" endtime="20230518 03:04:19.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:19.737" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:19.735" endtime="20230518 03:04:19.737"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:19.738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:19.737" endtime="20230518 03:04:19.738"/>
</kw>
<msg timestamp="20230518 03:04:19.739" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 03:04:19.727" endtime="20230518 03:04:19.739"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:19.739" endtime="20230518 03:04:19.740"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:19.744" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:19.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:19.747" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:19.741" endtime="20230518 03:04:19.747"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:19.749" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:19.748" endtime="20230518 03:04:19.749"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:19.750" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:19.749" endtime="20230518 03:04:19.750"/>
</kw>
<status status="PASS" starttime="20230518 03:04:19.740" endtime="20230518 03:04:19.750"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:13.184" endtime="20230518 03:04:19.751"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:19.758" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:20.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:20.794" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:19.755" endtime="20230518 03:04:20.794"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:20.797" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 03:04:20 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 03:04:20.795" endtime="20230518 03:04:20.797"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:20.798" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:20.797" endtime="20230518 03:04:20.798"/>
</kw>
<msg timestamp="20230518 03:04:20.799" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:19.754" endtime="20230518 03:04:20.799"/>
</kw>
<msg timestamp="20230518 03:04:20.799" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 03:00:31 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 03:04:19.754" endtime="20230518 03:04:20.799"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:20.800" endtime="20230518 03:04:20.800"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:20.805" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:20.809" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:20.809" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:04:20.801" endtime="20230518 03:04:20.809"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:20.811" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:04:20.810" endtime="20230518 03:04:20.811"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:20.812" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:20.811" endtime="20230518 03:04:20.812"/>
</kw>
<msg timestamp="20230518 03:04:20.812" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 03:04:20.801" endtime="20230518 03:04:20.812"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 03:04:20.813" endtime="20230518 03:04:20.813"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 03:04:20.817" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 03:04:20.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 03:04:20.821" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 03:04:20.814" endtime="20230518 03:04:20.821"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 03:04:20.823" level="INFO"/>
<status status="PASS" starttime="20230518 03:04:20.822" endtime="20230518 03:04:20.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 03:04:20.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 03:04:20.823" endtime="20230518 03:04:20.824"/>
</kw>
<status status="PASS" starttime="20230518 03:04:20.814" endtime="20230518 03:04:20.825"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 03:04:19.752" endtime="20230518 03:04:20.826"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 03:03:58.665" endtime="20230518 03:04:20.830"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="559833"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
