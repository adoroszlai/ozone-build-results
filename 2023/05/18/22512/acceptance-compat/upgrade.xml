<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230518 20:24:19.822" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:14:41.982" level="INFO">${random} = 26345</msg>
<status status="PASS" starttime="20230518 20:14:41.981" endtime="20230518 20:14:41.982"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:41.988" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-26345 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:46.667" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:46.667" level="INFO">${output} = 2023-05-18 20:14:45,388 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:45,498 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:14:41.984" endtime="20230518 20:14:46.667"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:46.668" level="INFO">2023-05-18 20:14:45,388 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:45,498 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:14:45,498 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 20:14:46.668" endtime="20230518 20:14:46.668"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:46.669" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:46.668" endtime="20230518 20:14:46.669"/>
</kw>
<status status="PASS" starttime="20230518 20:14:41.984" endtime="20230518 20:14:46.669"/>
</kw>
<msg timestamp="20230518 20:14:46.669" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:41.983" endtime="20230518 20:14:46.670"/>
</kw>
<msg timestamp="20230518 20:14:46.671" level="INFO">${output} = 2023-05-18 20:14:45,388 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:45,498 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:14:41.982" endtime="20230518 20:14:46.671"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:46.671" endtime="20230518 20:14:46.671"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:46.674" level="INFO">Running command 'cat /tmp/key-26345 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:46.677" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:46.677" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:46.672" endtime="20230518 20:14:46.677"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:46.679" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:46.677" endtime="20230518 20:14:46.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:46.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:46.679" endtime="20230518 20:14:46.680"/>
</kw>
<msg timestamp="20230518 20:14:46.681" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:46.671" endtime="20230518 20:14:46.681"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:46.681" endtime="20230518 20:14:46.681"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:46.684" level="INFO">Running command 'rm /tmp/key-26345 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:46.686" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:46.686" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:46.682" endtime="20230518 20:14:46.686"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:46.687" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:46.687" endtime="20230518 20:14:46.687"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:46.688" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:46.687" endtime="20230518 20:14:46.688"/>
</kw>
<status status="PASS" starttime="20230518 20:14:46.681" endtime="20230518 20:14:46.688"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:14:41.980" endtime="20230518 20:14:46.688"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:46.694" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:47.188" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:47.188" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:46.692" endtime="20230518 20:14:47.188"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:47.189" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:47.189" endtime="20230518 20:14:47.189"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:47.190" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:47.190" endtime="20230518 20:14:47.190"/>
</kw>
<status status="PASS" starttime="20230518 20:14:46.692" endtime="20230518 20:14:47.190"/>
</kw>
<msg timestamp="20230518 20:14:47.190" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:46.692" endtime="20230518 20:14:47.191"/>
</kw>
<status status="PASS" starttime="20230518 20:14:46.691" endtime="20230518 20:14:47.191"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:47.194" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:47.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:47.652" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:47.192" endtime="20230518 20:14:47.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:47.654" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:47.653" endtime="20230518 20:14:47.654"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:47.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:47.654" endtime="20230518 20:14:47.654"/>
</kw>
<status status="PASS" starttime="20230518 20:14:47.192" endtime="20230518 20:14:47.655"/>
</kw>
<msg timestamp="20230518 20:14:47.655" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:47.192" endtime="20230518 20:14:47.655"/>
</kw>
<status status="PASS" starttime="20230518 20:14:47.191" endtime="20230518 20:14:47.655"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:47.658" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:48.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:48.109" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:47.656" endtime="20230518 20:14:48.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:48.110" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:48.110" endtime="20230518 20:14:48.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:48.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:48.110" endtime="20230518 20:14:48.111"/>
</kw>
<status status="PASS" starttime="20230518 20:14:47.656" endtime="20230518 20:14:48.111"/>
</kw>
<msg timestamp="20230518 20:14:48.111" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:47.656" endtime="20230518 20:14:48.112"/>
</kw>
<status status="PASS" starttime="20230518 20:14:47.655" endtime="20230518 20:14:48.112"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:48.115" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:48.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:48.577" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:48.113" endtime="20230518 20:14:48.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:48.578" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:48.578" endtime="20230518 20:14:48.578"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:48.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:48.578" endtime="20230518 20:14:48.579"/>
</kw>
<status status="PASS" starttime="20230518 20:14:48.113" endtime="20230518 20:14:48.579"/>
</kw>
<msg timestamp="20230518 20:14:48.579" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:48.113" endtime="20230518 20:14:48.580"/>
</kw>
<status status="PASS" starttime="20230518 20:14:48.112" endtime="20230518 20:14:48.580"/>
</kw>
<status status="PASS" starttime="20230518 20:14:46.690" endtime="20230518 20:14:48.580"/>
</kw>
<status status="PASS" starttime="20230518 20:14:46.690" endtime="20230518 20:14:48.580"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:14:46.689" endtime="20230518 20:14:48.580"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:48.585" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:51.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:51.480" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:48.583" endtime="20230518 20:14:51.480"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:51.482" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:14:49 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:14:51.481" endtime="20230518 20:14:51.482"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:51.482" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:51.482" endtime="20230518 20:14:51.483"/>
</kw>
<msg timestamp="20230518 20:14:51.483" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:48.583" endtime="20230518 20:14:51.483"/>
</kw>
<msg timestamp="20230518 20:14:51.483" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:37 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:48.582" endtime="20230518 20:14:51.483"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:51.483" endtime="20230518 20:14:51.484"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:51.490" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:51.492" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:51.492" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:51.484" endtime="20230518 20:14:51.492"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:51.493" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:51.492" endtime="20230518 20:14:51.493"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:51.495" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:51.494" endtime="20230518 20:14:51.495"/>
</kw>
<msg timestamp="20230518 20:14:51.495" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:14:51.484" endtime="20230518 20:14:51.495"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:51.495" endtime="20230518 20:14:51.496"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:51.499" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:51.504" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:51.504" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:51.496" endtime="20230518 20:14:51.504"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:51.505" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:51.504" endtime="20230518 20:14:51.505"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:51.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:51.505" endtime="20230518 20:14:51.506"/>
</kw>
<status status="PASS" starttime="20230518 20:14:51.496" endtime="20230518 20:14:51.506"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:14:48.581" endtime="20230518 20:14:51.506"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:51.520" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:52.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:52.248" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:51.516" endtime="20230518 20:14:52.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:52.249" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:14:52 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:14:52.248" endtime="20230518 20:14:52.249"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:52.250" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:52.249" endtime="20230518 20:14:52.250"/>
</kw>
<msg timestamp="20230518 20:14:52.250" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:51.513" endtime="20230518 20:14:52.250"/>
</kw>
<msg timestamp="20230518 20:14:52.251" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:11:42 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:14:51.512" endtime="20230518 20:14:52.251"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:52.251" endtime="20230518 20:14:52.251"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:52.254" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:52.256" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:52.256" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:14:52.252" endtime="20230518 20:14:52.256"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:52.257" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:14:52.257" endtime="20230518 20:14:52.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:52.258" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:52.257" endtime="20230518 20:14:52.258"/>
</kw>
<msg timestamp="20230518 20:14:52.258" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:14:52.251" endtime="20230518 20:14:52.258"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:14:52.258" endtime="20230518 20:14:52.259"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:52.261" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:52.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:52.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:14:52.259" endtime="20230518 20:14:52.264"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:52.265" level="INFO"/>
<status status="PASS" starttime="20230518 20:14:52.264" endtime="20230518 20:14:52.265"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:52.265" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:52.265" endtime="20230518 20:14:52.265"/>
</kw>
<status status="PASS" starttime="20230518 20:14:52.259" endtime="20230518 20:14:52.266"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:14:51.508" endtime="20230518 20:14:52.266"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:14:41.901" endtime="20230518 20:14:52.267"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:14:56.078" level="INFO">${random} = 28618</msg>
<status status="PASS" starttime="20230518 20:14:56.077" endtime="20230518 20:14:56.078"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:56.083" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-28618 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:00.450" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:00.450" level="INFO">${output} = 2023-05-18 20:14:59,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:59,323 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:14:56.080" endtime="20230518 20:15:00.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:00.451" level="INFO">2023-05-18 20:14:59,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:59,323 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:14:59,323 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 20:15:00.450" endtime="20230518 20:15:00.451"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:00.452" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:00.451" endtime="20230518 20:15:00.452"/>
</kw>
<status status="PASS" starttime="20230518 20:14:56.079" endtime="20230518 20:15:00.452"/>
</kw>
<msg timestamp="20230518 20:15:00.452" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:56.079" endtime="20230518 20:15:00.453"/>
</kw>
<msg timestamp="20230518 20:15:00.453" level="INFO">${output} = 2023-05-18 20:14:59,211 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:14:59,323 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:14:56.078" endtime="20230518 20:15:00.453"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:00.454" endtime="20230518 20:15:00.454"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:00.457" level="INFO">Running command 'cat /tmp/key-28618 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:00.459" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:00.459" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:00.455" endtime="20230518 20:15:00.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:00.460" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:00.459" endtime="20230518 20:15:00.460"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:00.461" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:00.460" endtime="20230518 20:15:00.461"/>
</kw>
<msg timestamp="20230518 20:15:00.461" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:00.454" endtime="20230518 20:15:00.461"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:00.461" endtime="20230518 20:15:00.462"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:00.464" level="INFO">Running command 'rm /tmp/key-28618 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:00.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:00.466" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:00.462" endtime="20230518 20:15:00.466"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:00.467" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:00.467" endtime="20230518 20:15:00.467"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:00.468" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:00.467" endtime="20230518 20:15:00.468"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.462" endtime="20230518 20:15:00.468"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:14:56.076" endtime="20230518 20:15:00.468"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:00.474" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:00.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:00.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:00.472" endtime="20230518 20:15:00.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:00.935" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:00.934" endtime="20230518 20:15:00.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:00.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:00.935" endtime="20230518 20:15:00.936"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.472" endtime="20230518 20:15:00.936"/>
</kw>
<msg timestamp="20230518 20:15:00.936" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:00.471" endtime="20230518 20:15:00.937"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.471" endtime="20230518 20:15:00.937"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:00.940" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:01.415" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:01.415" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:00.938" endtime="20230518 20:15:01.415"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:01.417" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:01.416" endtime="20230518 20:15:01.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:01.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:01.417" endtime="20230518 20:15:01.417"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.938" endtime="20230518 20:15:01.418"/>
</kw>
<msg timestamp="20230518 20:15:01.418" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:00.938" endtime="20230518 20:15:01.418"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.937" endtime="20230518 20:15:01.419"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:01.422" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:01.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:01.878" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:01.420" endtime="20230518 20:15:01.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:01.880" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:01.879" endtime="20230518 20:15:01.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:01.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:01.880" endtime="20230518 20:15:01.880"/>
</kw>
<status status="PASS" starttime="20230518 20:15:01.420" endtime="20230518 20:15:01.880"/>
</kw>
<msg timestamp="20230518 20:15:01.881" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:01.419" endtime="20230518 20:15:01.881"/>
</kw>
<status status="PASS" starttime="20230518 20:15:01.419" endtime="20230518 20:15:01.881"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:01.885" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:02.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:02.337" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:01.883" endtime="20230518 20:15:02.338"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:02.339" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:02.338" endtime="20230518 20:15:02.339"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:02.339" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:02.339" endtime="20230518 20:15:02.339"/>
</kw>
<status status="PASS" starttime="20230518 20:15:01.882" endtime="20230518 20:15:02.340"/>
</kw>
<msg timestamp="20230518 20:15:02.340" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:01.882" endtime="20230518 20:15:02.340"/>
</kw>
<status status="PASS" starttime="20230518 20:15:01.881" endtime="20230518 20:15:02.340"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.471" endtime="20230518 20:15:02.341"/>
</kw>
<status status="PASS" starttime="20230518 20:15:00.470" endtime="20230518 20:15:02.341"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:00.469" endtime="20230518 20:15:02.341"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:02.346" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:02.923" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:02.923" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.343" endtime="20230518 20:15:02.923"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:02.924" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:15:02 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:15:02.923" endtime="20230518 20:15:02.924"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:02.925" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:02.924" endtime="20230518 20:15:02.925"/>
</kw>
<msg timestamp="20230518 20:15:02.925" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.343" endtime="20230518 20:15:02.925"/>
</kw>
<msg timestamp="20230518 20:15:02.926" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.342" endtime="20230518 20:15:02.926"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:02.926" endtime="20230518 20:15:02.926"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:02.929" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:02.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:02.934" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:02.927" endtime="20230518 20:15:02.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:02.934" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:02.934" endtime="20230518 20:15:02.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:02.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:02.935" endtime="20230518 20:15:02.935"/>
</kw>
<msg timestamp="20230518 20:15:02.935" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:02.926" endtime="20230518 20:15:02.936"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:02.936" endtime="20230518 20:15:02.936"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:02.938" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:02.942" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:02.942" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:02.937" endtime="20230518 20:15:02.942"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:02.943" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:02.943" endtime="20230518 20:15:02.943"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:02.944" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:02.944" endtime="20230518 20:15:02.944"/>
</kw>
<status status="PASS" starttime="20230518 20:15:02.936" endtime="20230518 20:15:02.944"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:02.342" endtime="20230518 20:15:02.945"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:02.949" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:03.516" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:03.516" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.947" endtime="20230518 20:15:03.516"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:03.517" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:15:03 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:15:03.517" endtime="20230518 20:15:03.517"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:03.518" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:03.518" endtime="20230518 20:15:03.518"/>
</kw>
<msg timestamp="20230518 20:15:03.518" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.947" endtime="20230518 20:15:03.519"/>
</kw>
<msg timestamp="20230518 20:15:03.519" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:02.946" endtime="20230518 20:15:03.519"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:03.519" endtime="20230518 20:15:03.519"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:03.522" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:03.525" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:03.525" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:03.520" endtime="20230518 20:15:03.525"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:03.526" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:03.525" endtime="20230518 20:15:03.526"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:03.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:03.526" endtime="20230518 20:15:03.526"/>
</kw>
<msg timestamp="20230518 20:15:03.527" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:03.519" endtime="20230518 20:15:03.527"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:03.527" endtime="20230518 20:15:03.527"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:03.530" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:03.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:03.532" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:03.528" endtime="20230518 20:15:03.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:03.533" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:03.532" endtime="20230518 20:15:03.533"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:03.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:03.533" endtime="20230518 20:15:03.533"/>
</kw>
<status status="PASS" starttime="20230518 20:15:03.527" endtime="20230518 20:15:03.534"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:02.945" endtime="20230518 20:15:03.534"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:14:55.998" endtime="20230518 20:15:03.535"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:07.287" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:09.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:09.775" level="INFO">${output} = 2023-05-18 20:15:09,619 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:15:07.283" endtime="20230518 20:15:09.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:09.776" level="INFO">2023-05-18 20:15:09,619 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:15:09.775" endtime="20230518 20:15:09.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:09.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:09.776" endtime="20230518 20:15:09.777"/>
</kw>
<status status="PASS" starttime="20230518 20:15:07.282" endtime="20230518 20:15:09.786"/>
</kw>
<msg timestamp="20230518 20:15:09.786" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:07.282" endtime="20230518 20:15:09.791"/>
</kw>
<msg timestamp="20230518 20:15:09.791" level="INFO">${output} = 2023-05-18 20:15:09,619 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:15:07.281" endtime="20230518 20:15:09.791"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:09.791" endtime="20230518 20:15:09.792"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:09.820" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:12.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:12.327" level="INFO">${output} = 2023-05-18 20:15:12,275 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 20:15:09.801" endtime="20230518 20:15:12.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:12.328" level="INFO">2023-05-18 20:15:12,275 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 20:15:12.327" endtime="20230518 20:15:12.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:12.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:12.329" endtime="20230518 20:15:12.330"/>
</kw>
<status status="PASS" starttime="20230518 20:15:09.800" endtime="20230518 20:15:12.331"/>
</kw>
<msg timestamp="20230518 20:15:12.331" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:09.800" endtime="20230518 20:15:12.332"/>
</kw>
<msg timestamp="20230518 20:15:12.334" level="INFO">${output} = 2023-05-18 20:15:12,275 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 20:15:09.792" endtime="20230518 20:15:12.334"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:12.334" endtime="20230518 20:15:12.334"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:07.280" endtime="20230518 20:15:12.335"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:12.348" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:12.349" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:12.349" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:12.342" endtime="20230518 20:15:12.349"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:12.350" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:12.349" endtime="20230518 20:15:12.350"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:12.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:12.350" endtime="20230518 20:15:12.350"/>
</kw>
<status status="PASS" starttime="20230518 20:15:12.340" endtime="20230518 20:15:12.351"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:12.354" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:17.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:17.633" level="INFO">${output} = 2023-05-18 20:15:15,701 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:15,768 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:12.352" endtime="20230518 20:15:17.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:17.634" level="INFO">2023-05-18 20:15:15,701 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:15,768 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:15:15,768 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:15:16,001 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:15:17.633" endtime="20230518 20:15:17.634"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:17.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:17.634" endtime="20230518 20:15:17.635"/>
</kw>
<status status="PASS" starttime="20230518 20:15:12.352" endtime="20230518 20:15:17.635"/>
</kw>
<msg timestamp="20230518 20:15:17.635" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:12.352" endtime="20230518 20:15:17.636"/>
</kw>
<msg timestamp="20230518 20:15:17.636" level="INFO">${output} = 2023-05-18 20:15:15,701 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:15,768 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:12.351" endtime="20230518 20:15:17.636"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:17.636" endtime="20230518 20:15:17.636"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:17.639" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:17.641" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:17.641" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:17.637" endtime="20230518 20:15:17.641"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:17.642" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:17.642" endtime="20230518 20:15:17.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:17.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:17.643" endtime="20230518 20:15:17.643"/>
</kw>
<status status="PASS" starttime="20230518 20:15:17.636" endtime="20230518 20:15:17.643"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:12.338" endtime="20230518 20:15:17.644"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:17.648" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:19.978" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:19.978" level="INFO">${output} = 2023-05-18 20:15:19,918 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 20:15:17.646" endtime="20230518 20:15:19.978"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:19.980" level="INFO">2023-05-18 20:15:19,918 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 20:15:19.979" endtime="20230518 20:15:19.980"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:19.981" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:19.980" endtime="20230518 20:15:19.981"/>
</kw>
<status status="PASS" starttime="20230518 20:15:17.646" endtime="20230518 20:15:19.981"/>
</kw>
<msg timestamp="20230518 20:15:19.981" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:17.646" endtime="20230518 20:15:19.981"/>
</kw>
<msg timestamp="20230518 20:15:19.982" level="INFO">${output} = 2023-05-18 20:15:19,918 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 20:15:17.645" endtime="20230518 20:15:19.982"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:19.982" endtime="20230518 20:15:19.982"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:17.644" endtime="20230518 20:15:19.982"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:19.987" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:19.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:19.989" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:19.985" endtime="20230518 20:15:19.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:19.990" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:19.989" endtime="20230518 20:15:19.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:19.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:19.990" endtime="20230518 20:15:19.990"/>
</kw>
<status status="PASS" starttime="20230518 20:15:19.984" endtime="20230518 20:15:19.991"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:19.994" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:24.581" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:24.581" level="INFO">${output} = 2023-05-18 20:15:23,014 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:23,084 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:19.992" endtime="20230518 20:15:24.581"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:24.582" level="INFO">2023-05-18 20:15:23,014 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:23,084 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:15:23,084 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:15:23,334 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:15:24.582" endtime="20230518 20:15:24.582"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:24.583" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:24.583" endtime="20230518 20:15:24.583"/>
</kw>
<status status="PASS" starttime="20230518 20:15:19.991" endtime="20230518 20:15:24.583"/>
</kw>
<msg timestamp="20230518 20:15:24.583" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:19.991" endtime="20230518 20:15:24.584"/>
</kw>
<msg timestamp="20230518 20:15:24.584" level="INFO">${output} = 2023-05-18 20:15:23,014 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:23,084 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:19.991" endtime="20230518 20:15:24.584"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:24.584" endtime="20230518 20:15:24.585"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:24.588" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:24.590" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:24.590" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:24.585" endtime="20230518 20:15:24.590"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:24.591" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:24.590" endtime="20230518 20:15:24.591"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:24.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:24.591" endtime="20230518 20:15:24.591"/>
</kw>
<status status="PASS" starttime="20230518 20:15:24.585" endtime="20230518 20:15:24.592"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:19.983" endtime="20230518 20:15:24.592"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:24.597" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:25.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:25.053" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:24.595" endtime="20230518 20:15:25.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:25.055" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:25.054" endtime="20230518 20:15:25.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:25.055" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:25.055" endtime="20230518 20:15:25.056"/>
</kw>
<status status="PASS" starttime="20230518 20:15:24.595" endtime="20230518 20:15:25.056"/>
</kw>
<msg timestamp="20230518 20:15:25.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:24.594" endtime="20230518 20:15:25.056"/>
</kw>
<status status="PASS" starttime="20230518 20:15:24.594" endtime="20230518 20:15:25.057"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:25.061" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:25.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:25.524" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:25.058" endtime="20230518 20:15:25.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:25.525" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:25.525" endtime="20230518 20:15:25.526"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:25.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:25.526" endtime="20230518 20:15:25.526"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.057" endtime="20230518 20:15:25.527"/>
</kw>
<msg timestamp="20230518 20:15:25.527" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:25.057" endtime="20230518 20:15:25.527"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.057" endtime="20230518 20:15:25.527"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:25.531" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:25.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:25.984" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:25.529" endtime="20230518 20:15:25.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:25.985" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:25.984" endtime="20230518 20:15:25.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:25.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:25.985" endtime="20230518 20:15:25.986"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.528" endtime="20230518 20:15:25.986"/>
</kw>
<msg timestamp="20230518 20:15:25.986" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:25.528" endtime="20230518 20:15:25.987"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.527" endtime="20230518 20:15:25.987"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:25.991" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:26.443" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:26.443" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:25.988" endtime="20230518 20:15:26.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:26.445" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:26.444" endtime="20230518 20:15:26.445"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:26.445" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:26.445" endtime="20230518 20:15:26.445"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.988" endtime="20230518 20:15:26.446"/>
</kw>
<msg timestamp="20230518 20:15:26.446" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:25.987" endtime="20230518 20:15:26.446"/>
</kw>
<status status="PASS" starttime="20230518 20:15:25.987" endtime="20230518 20:15:26.446"/>
</kw>
<status status="PASS" starttime="20230518 20:15:24.594" endtime="20230518 20:15:26.447"/>
</kw>
<status status="PASS" starttime="20230518 20:15:24.593" endtime="20230518 20:15:26.447"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:24.593" endtime="20230518 20:15:26.447"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:26.452" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:27.085" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:27.085" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:26.450" endtime="20230518 20:15:27.085"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:27.087" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:27.086" endtime="20230518 20:15:27.087"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:27.087" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:27.087" endtime="20230518 20:15:27.088"/>
</kw>
<status status="PASS" starttime="20230518 20:15:26.450" endtime="20230518 20:15:27.088"/>
</kw>
<msg timestamp="20230518 20:15:27.088" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:26.450" endtime="20230518 20:15:27.089"/>
</kw>
<msg timestamp="20230518 20:15:27.089" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:26.449" endtime="20230518 20:15:27.089"/>
</kw>
<msg timestamp="20230518 20:15:27.089" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:26.449" endtime="20230518 20:15:27.090"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:27.090" endtime="20230518 20:15:27.090"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:27.090" endtime="20230518 20:15:27.091"/>
</kw>
<msg timestamp="20230518 20:15:27.091" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 20:15:26.448" endtime="20230518 20:15:27.091"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 20:15:27.091" endtime="20230518 20:15:27.092"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:26.448" endtime="20230518 20:15:27.092"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:27.096" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:27.097" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:27.098" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:27.094" endtime="20230518 20:15:27.098"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:27.100" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:27.098" endtime="20230518 20:15:27.100"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:27.101" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:27.100" endtime="20230518 20:15:27.101"/>
</kw>
<status status="PASS" starttime="20230518 20:15:27.093" endtime="20230518 20:15:27.101"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:27.104" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:28.158" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:28.158" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:27.103" endtime="20230518 20:15:28.158"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:28.160" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:28.159" endtime="20230518 20:15:28.160"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:28.161" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:28.160" endtime="20230518 20:15:28.161"/>
</kw>
<msg timestamp="20230518 20:15:28.161" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:27.102" endtime="20230518 20:15:28.161"/>
</kw>
<msg timestamp="20230518 20:15:28.162" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:27.101" endtime="20230518 20:15:28.162"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:28.162" endtime="20230518 20:15:28.162"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:28.165" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:28.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:28.168" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:28.163" endtime="20230518 20:15:28.168"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:28.169" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:28.168" endtime="20230518 20:15:28.169"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:28.170" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:28.169" endtime="20230518 20:15:28.170"/>
</kw>
<status status="PASS" starttime="20230518 20:15:28.162" endtime="20230518 20:15:28.170"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:27.092" endtime="20230518 20:15:28.171"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 20:15:07.207" endtime="20230518 20:15:28.173"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:15:31.943" level="INFO">${random} = 76189</msg>
<status status="PASS" starttime="20230518 20:15:31.943" endtime="20230518 20:15:31.943"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:31.949" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-76189 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:36.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:36.029" level="INFO">${output} = 2023-05-18 20:15:34,811 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:34,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:31.945" endtime="20230518 20:15:36.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:36.031" level="INFO">2023-05-18 20:15:34,811 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:34,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:15:34,951 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 20:15:36.030" endtime="20230518 20:15:36.031"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:36.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:36.031" endtime="20230518 20:15:36.032"/>
</kw>
<status status="PASS" starttime="20230518 20:15:31.945" endtime="20230518 20:15:36.032"/>
</kw>
<msg timestamp="20230518 20:15:36.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:31.944" endtime="20230518 20:15:36.033"/>
</kw>
<msg timestamp="20230518 20:15:36.034" level="INFO">${output} = 2023-05-18 20:15:34,811 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:34,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:31.943" endtime="20230518 20:15:36.034"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:36.034" endtime="20230518 20:15:36.034"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:36.037" level="INFO">Running command 'cat /tmp/key-76189 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:36.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:36.040" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:36.035" endtime="20230518 20:15:36.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:36.041" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:36.040" endtime="20230518 20:15:36.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:36.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:36.041" endtime="20230518 20:15:36.042"/>
</kw>
<msg timestamp="20230518 20:15:36.042" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:36.034" endtime="20230518 20:15:36.042"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:36.042" endtime="20230518 20:15:36.042"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:36.045" level="INFO">Running command 'rm /tmp/key-76189 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:36.047" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:36.047" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:36.043" endtime="20230518 20:15:36.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:36.048" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:36.048" endtime="20230518 20:15:36.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:36.049" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:36.049" endtime="20230518 20:15:36.049"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.042" endtime="20230518 20:15:36.049"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:31.942" endtime="20230518 20:15:36.050"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:36.055" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:36.511" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:36.511" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:36.054" endtime="20230518 20:15:36.511"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:36.513" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:36.512" endtime="20230518 20:15:36.513"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:36.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:36.513" endtime="20230518 20:15:36.513"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.053" endtime="20230518 20:15:36.514"/>
</kw>
<msg timestamp="20230518 20:15:36.514" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:36.053" endtime="20230518 20:15:36.514"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.052" endtime="20230518 20:15:36.514"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:36.518" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:36.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:36.976" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:36.516" endtime="20230518 20:15:36.976"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:36.977" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:36.977" endtime="20230518 20:15:36.978"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:36.978" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:36.978" endtime="20230518 20:15:36.978"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.515" endtime="20230518 20:15:36.979"/>
</kw>
<msg timestamp="20230518 20:15:36.979" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:36.515" endtime="20230518 20:15:36.979"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.515" endtime="20230518 20:15:36.980"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:36.983" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:37.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:37.451" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:36.981" endtime="20230518 20:15:37.451"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:37.452" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:37.451" endtime="20230518 20:15:37.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:37.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:37.452" endtime="20230518 20:15:37.453"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.981" endtime="20230518 20:15:37.453"/>
</kw>
<msg timestamp="20230518 20:15:37.453" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:36.980" endtime="20230518 20:15:37.454"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.980" endtime="20230518 20:15:37.454"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:37.457" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:37.900" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:37.900" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:37.455" endtime="20230518 20:15:37.900"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:37.901" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:37.900" endtime="20230518 20:15:37.901"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:37.902" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:37.901" endtime="20230518 20:15:37.902"/>
</kw>
<status status="PASS" starttime="20230518 20:15:37.455" endtime="20230518 20:15:37.902"/>
</kw>
<msg timestamp="20230518 20:15:37.902" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:37.454" endtime="20230518 20:15:37.902"/>
</kw>
<status status="PASS" starttime="20230518 20:15:37.454" endtime="20230518 20:15:37.903"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.052" endtime="20230518 20:15:37.903"/>
</kw>
<status status="PASS" starttime="20230518 20:15:36.052" endtime="20230518 20:15:37.903"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:36.051" endtime="20230518 20:15:37.903"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:37.908" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:38.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:38.485" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:24 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:37.906" endtime="20230518 20:15:38.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:38.487" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:24 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:15:38 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:15:38.486" endtime="20230518 20:15:38.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:38.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:38.487" endtime="20230518 20:15:38.488"/>
</kw>
<msg timestamp="20230518 20:15:38.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:24 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:37.906" endtime="20230518 20:15:38.488"/>
</kw>
<msg timestamp="20230518 20:15:38.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:24 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:37.905" endtime="20230518 20:15:38.488"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:38.489" endtime="20230518 20:15:38.489"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:38.492" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:38.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:38.494" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:38.490" endtime="20230518 20:15:38.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:38.495" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:38.495" endtime="20230518 20:15:38.495"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:38.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:38.495" endtime="20230518 20:15:38.496"/>
</kw>
<msg timestamp="20230518 20:15:38.496" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:15:38.489" endtime="20230518 20:15:38.496"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:38.496" endtime="20230518 20:15:38.497"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:38.499" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:38.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:38.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:38.497" endtime="20230518 20:15:38.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:38.503" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:38.502" endtime="20230518 20:15:38.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:38.503" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:38.503" endtime="20230518 20:15:38.503"/>
</kw>
<status status="PASS" starttime="20230518 20:15:38.497" endtime="20230518 20:15:38.504"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:37.904" endtime="20230518 20:15:38.504"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:38.509" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:39.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:39.118" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:38.507" endtime="20230518 20:15:39.118"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:39.119" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:15:39 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:15:39.118" endtime="20230518 20:15:39.119"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:39.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:39.119" endtime="20230518 20:15:39.120"/>
</kw>
<msg timestamp="20230518 20:15:39.120" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:38.506" endtime="20230518 20:15:39.120"/>
</kw>
<msg timestamp="20230518 20:15:39.121" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:15:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:15:38.506" endtime="20230518 20:15:39.121"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:39.121" endtime="20230518 20:15:39.121"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:39.124" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:39.126" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:39.127" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:39.122" endtime="20230518 20:15:39.127"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:39.128" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:39.127" endtime="20230518 20:15:39.128"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:39.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:39.128" endtime="20230518 20:15:39.128"/>
</kw>
<msg timestamp="20230518 20:15:39.129" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:15:39.121" endtime="20230518 20:15:39.129"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:39.129" endtime="20230518 20:15:39.130"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:39.132" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:39.134" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:39.134" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:39.130" endtime="20230518 20:15:39.134"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:39.135" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:39.135" endtime="20230518 20:15:39.135"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:39.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:39.136" endtime="20230518 20:15:39.136"/>
</kw>
<status status="PASS" starttime="20230518 20:15:39.130" endtime="20230518 20:15:39.136"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:38.505" endtime="20230518 20:15:39.137"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:15:31.869" endtime="20230518 20:15:39.138"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:42.853" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:42.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:42.855" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:42.850" endtime="20230518 20:15:42.855"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:42.856" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:42.856" endtime="20230518 20:15:42.856"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:42.857" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:42.856" endtime="20230518 20:15:42.857"/>
</kw>
<status status="PASS" starttime="20230518 20:15:42.849" endtime="20230518 20:15:42.857"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:42.860" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:47.298" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:47.298" level="INFO">${output} = 2023-05-18 20:15:45,883 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:45,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:42.859" endtime="20230518 20:15:47.299"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:47.300" level="INFO">2023-05-18 20:15:45,883 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:45,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:15:45,952 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:15:46,184 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:15:47.299" endtime="20230518 20:15:47.300"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:47.300" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:47.300" endtime="20230518 20:15:47.300"/>
</kw>
<status status="PASS" starttime="20230518 20:15:42.858" endtime="20230518 20:15:47.301"/>
</kw>
<msg timestamp="20230518 20:15:47.301" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:42.858" endtime="20230518 20:15:47.302"/>
</kw>
<msg timestamp="20230518 20:15:47.302" level="INFO">${output} = 2023-05-18 20:15:45,883 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:45,951 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:42.857" endtime="20230518 20:15:47.302"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:47.302" endtime="20230518 20:15:47.303"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:47.306" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:47.308" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:47.308" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:47.303" endtime="20230518 20:15:47.308"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:47.309" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:47.308" endtime="20230518 20:15:47.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:47.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:47.314" endtime="20230518 20:15:47.314"/>
</kw>
<status status="PASS" starttime="20230518 20:15:47.303" endtime="20230518 20:15:47.314"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:42.848" endtime="20230518 20:15:47.315"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:47.319" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:47.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:47.321" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:47.317" endtime="20230518 20:15:47.321"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:47.321" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:47.321" endtime="20230518 20:15:47.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:47.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:47.322" endtime="20230518 20:15:47.322"/>
</kw>
<status status="PASS" starttime="20230518 20:15:47.316" endtime="20230518 20:15:47.322"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:47.326" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:51.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:51.519" level="INFO">${output} = 2023-05-18 20:15:50,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:50,308 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:47.324" endtime="20230518 20:15:51.519"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:51.520" level="INFO">2023-05-18 20:15:50,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:50,308 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:15:50,308 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:15:50,544 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:15:51.520" endtime="20230518 20:15:51.520"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:51.521" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:51.521" endtime="20230518 20:15:51.521"/>
</kw>
<status status="PASS" starttime="20230518 20:15:47.324" endtime="20230518 20:15:51.521"/>
</kw>
<msg timestamp="20230518 20:15:51.521" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:47.323" endtime="20230518 20:15:51.522"/>
</kw>
<msg timestamp="20230518 20:15:51.522" level="INFO">${output} = 2023-05-18 20:15:50,240 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:15:50,308 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:15:47.323" endtime="20230518 20:15:51.522"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:51.522" endtime="20230518 20:15:51.523"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:51.526" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:51.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:51.528" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:51.523" endtime="20230518 20:15:51.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:51.529" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:51.529" endtime="20230518 20:15:51.529"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:51.530" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:51.530" endtime="20230518 20:15:51.530"/>
</kw>
<status status="PASS" starttime="20230518 20:15:51.523" endtime="20230518 20:15:51.530"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:47.316" endtime="20230518 20:15:51.531"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:51.536" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:52.067" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:52.067" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:51.534" endtime="20230518 20:15:52.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:52.068" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:52.068" endtime="20230518 20:15:52.068"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:52.069" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:52.069" endtime="20230518 20:15:52.069"/>
</kw>
<status status="PASS" starttime="20230518 20:15:51.534" endtime="20230518 20:15:52.069"/>
</kw>
<msg timestamp="20230518 20:15:52.069" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:51.533" endtime="20230518 20:15:52.070"/>
</kw>
<status status="PASS" starttime="20230518 20:15:51.533" endtime="20230518 20:15:52.070"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:52.074" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:52.528" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:52.528" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:52.071" endtime="20230518 20:15:52.528"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:52.529" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:52.528" endtime="20230518 20:15:52.529"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:52.530" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:52.529" endtime="20230518 20:15:52.530"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.071" endtime="20230518 20:15:52.530"/>
</kw>
<msg timestamp="20230518 20:15:52.530" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:52.071" endtime="20230518 20:15:52.531"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.070" endtime="20230518 20:15:52.531"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:52.534" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:52.992" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:52.993" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:52.532" endtime="20230518 20:15:52.993"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:52.994" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:52.993" endtime="20230518 20:15:52.994"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:52.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:52.994" endtime="20230518 20:15:52.994"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.532" endtime="20230518 20:15:52.995"/>
</kw>
<msg timestamp="20230518 20:15:52.995" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:52.531" endtime="20230518 20:15:52.995"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.531" endtime="20230518 20:15:52.995"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:52.999" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:53.450" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:53.450" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:52.997" endtime="20230518 20:15:53.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:53.452" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:53.451" endtime="20230518 20:15:53.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:53.452" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:53.452" endtime="20230518 20:15:53.452"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.996" endtime="20230518 20:15:53.453"/>
</kw>
<msg timestamp="20230518 20:15:53.453" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:52.996" endtime="20230518 20:15:53.453"/>
</kw>
<status status="PASS" starttime="20230518 20:15:52.996" endtime="20230518 20:15:53.453"/>
</kw>
<status status="PASS" starttime="20230518 20:15:51.532" endtime="20230518 20:15:53.454"/>
</kw>
<status status="PASS" starttime="20230518 20:15:51.532" endtime="20230518 20:15:53.454"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:51.531" endtime="20230518 20:15:53.454"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:53.460" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:54.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:54.031" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:53.458" endtime="20230518 20:15:54.031"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:54.032" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:54.031" endtime="20230518 20:15:54.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:54.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:54.032" endtime="20230518 20:15:54.033"/>
</kw>
<status status="PASS" starttime="20230518 20:15:53.457" endtime="20230518 20:15:54.033"/>
</kw>
<msg timestamp="20230518 20:15:54.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:15:53.457" endtime="20230518 20:15:54.033"/>
</kw>
<msg timestamp="20230518 20:15:54.034" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:53.456" endtime="20230518 20:15:54.034"/>
</kw>
<msg timestamp="20230518 20:15:54.034" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:15:53.456" endtime="20230518 20:15:54.034"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:54.034" endtime="20230518 20:15:54.034"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:54.035" endtime="20230518 20:15:54.035"/>
</kw>
<msg timestamp="20230518 20:15:54.035" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 20:15:53.456" endtime="20230518 20:15:54.035"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 20:15:54.035" endtime="20230518 20:15:54.036"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:53.455" endtime="20230518 20:15:54.036"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:54.040" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:15:54.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:54.042" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:54.038" endtime="20230518 20:15:54.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:54.043" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:54.042" endtime="20230518 20:15:54.043"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:54.043" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:54.043" endtime="20230518 20:15:54.044"/>
</kw>
<status status="PASS" starttime="20230518 20:15:54.037" endtime="20230518 20:15:54.044"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:54.047" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:54.723" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:54.723" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:54.045" endtime="20230518 20:15:54.723"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:54.724" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:54.723" endtime="20230518 20:15:54.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:54.725" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:54.724" endtime="20230518 20:15:54.725"/>
</kw>
<msg timestamp="20230518 20:15:54.725" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:54.044" endtime="20230518 20:15:54.725"/>
</kw>
<msg timestamp="20230518 20:15:54.725" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:54.044" endtime="20230518 20:15:54.725"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:15:54.725" endtime="20230518 20:15:54.726"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:54.729" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:15:54.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:15:54.731" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:15:54.727" endtime="20230518 20:15:54.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:15:54.732" level="INFO"/>
<status status="PASS" starttime="20230518 20:15:54.732" endtime="20230518 20:15:54.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:15:54.733" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:15:54.733" endtime="20230518 20:15:54.733"/>
</kw>
<status status="PASS" starttime="20230518 20:15:54.726" endtime="20230518 20:15:54.733"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:15:54.037" endtime="20230518 20:15:54.734"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 20:15:42.773" endtime="20230518 20:15:54.735"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:15:58.468" endtime="20230518 20:15:58.469"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:15:58.469" endtime="20230518 20:15:58.470"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:15:58.474" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:20:58.469" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230518 20:15:58.471" endtime="20230518 20:20:58.469"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230518 20:20:58.470" endtime="20230518 20:20:58.470"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230518 20:20:58.470" endtime="20230518 20:20:58.470"/>
</kw>
<status status="FAIL" starttime="20230518 20:15:58.470" endtime="20230518 20:20:58.471"/>
</kw>
<msg timestamp="20230518 20:20:58.471" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230518 20:15:58.470" endtime="20230518 20:20:58.472"/>
</kw>
<status status="FAIL" starttime="20230518 20:15:58.470" endtime="20230518 20:20:58.473"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230518 20:20:58.473" endtime="20230518 20:20:58.473"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230518 20:15:58.468" endtime="20230518 20:20:58.474">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230518 20:15:58.423" endtime="20230518 20:20:58.476"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:14:33.099" endtime="20230518 20:14:33.100"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:33.104" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:33.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:33.107" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=0f0bf4ad8e3b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 20:14:33.101" endtime="20230518 20:14:33.107"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:33.108" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=0f0bf4ad8e3b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 20:14:33.107" endtime="20230518 20:14:33.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:33.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:33.108" endtime="20230518 20:14:33.108"/>
</kw>
<status status="PASS" starttime="20230518 20:14:33.100" endtime="20230518 20:14:33.109"/>
</kw>
<msg timestamp="20230518 20:14:33.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:33.100" endtime="20230518 20:14:33.110"/>
</kw>
<msg timestamp="20230518 20:14:33.110" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=0f0bf4ad8e3b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 20:14:33.100" endtime="20230518 20:14:33.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:33.111" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=0f0bf4ad8e3b
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 20:14:33.110" endtime="20230518 20:14:33.111"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:14:33.111" endtime="20230518 20:14:33.111"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:33.114" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:35.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:35.695" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:14:33.112" endtime="20230518 20:14:35.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:35.697" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:14:35.696" endtime="20230518 20:14:35.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:35.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:35.697" endtime="20230518 20:14:35.697"/>
</kw>
<status status="PASS" starttime="20230518 20:14:33.112" endtime="20230518 20:14:35.698"/>
</kw>
<msg timestamp="20230518 20:14:35.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:33.112" endtime="20230518 20:14:35.698"/>
</kw>
<msg timestamp="20230518 20:14:35.699" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:14:33.111" endtime="20230518 20:14:35.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:35.699" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:14:35.699" endtime="20230518 20:14:35.699"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 20:14:35.699" endtime="20230518 20:14:35.700"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 20:14:33.098" endtime="20230518 20:14:35.700"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:14:35.702" endtime="20230518 20:14:35.703"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:14:35.703" endtime="20230518 20:14:35.703"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:14:35.707" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:14:38.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:14:38.189" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:14:35.704" endtime="20230518 20:14:38.189"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:38.190" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:14:38.190" endtime="20230518 20:14:38.191"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:14:38.191" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:14:38.191" endtime="20230518 20:14:38.191"/>
</kw>
<status status="PASS" starttime="20230518 20:14:35.704" endtime="20230518 20:14:38.191"/>
</kw>
<msg timestamp="20230518 20:14:38.192" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:14:35.704" endtime="20230518 20:14:38.195"/>
</kw>
<msg timestamp="20230518 20:14:38.195" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:14:35.703" endtime="20230518 20:14:38.196"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:14:38.196" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:14:38.196" endtime="20230518 20:14:38.196"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 20:14:38.196" endtime="20230518 20:14:38.197"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 20:14:35.701" endtime="20230518 20:14:38.197"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230518 20:14:33.054" endtime="20230518 20:14:38.199"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:08.757" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:11.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:11.866" level="INFO">${output} = 2023-05-18 20:08:11,770 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:08:08.753" endtime="20230518 20:08:11.866"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:11.867" level="INFO">2023-05-18 20:08:11,770 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:08:11.867" endtime="20230518 20:08:11.868"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:11.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:11.868" endtime="20230518 20:08:11.870"/>
</kw>
<status status="PASS" starttime="20230518 20:08:08.752" endtime="20230518 20:08:11.870"/>
</kw>
<msg timestamp="20230518 20:08:11.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:08.752" endtime="20230518 20:08:11.873"/>
</kw>
<msg timestamp="20230518 20:08:11.874" level="INFO">${output} = 2023-05-18 20:08:11,770 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230518 20:08:08.751" endtime="20230518 20:08:11.874"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:11.874" endtime="20230518 20:08:11.874"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:11.880" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:14.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:14.582" level="INFO">${output} = 2023-05-18 20:08:14,508 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 20:08:11.878" endtime="20230518 20:08:14.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:14.583" level="INFO">2023-05-18 20:08:14,508 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 20:08:14.583" endtime="20230518 20:08:14.583"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:14.584" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:14.583" endtime="20230518 20:08:14.584"/>
</kw>
<status status="PASS" starttime="20230518 20:08:11.877" endtime="20230518 20:08:14.584"/>
</kw>
<msg timestamp="20230518 20:08:14.584" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:11.875" endtime="20230518 20:08:14.585"/>
</kw>
<msg timestamp="20230518 20:08:14.585" level="INFO">${output} = 2023-05-18 20:08:14,508 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230518 20:08:11.874" endtime="20230518 20:08:14.585"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:14.585" endtime="20230518 20:08:14.586"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:08.751" endtime="20230518 20:08:14.586"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:14.594" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:08:14.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:14.595" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:14.591" endtime="20230518 20:08:14.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:14.596" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:14.595" endtime="20230518 20:08:14.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:14.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:14.596" endtime="20230518 20:08:14.597"/>
</kw>
<status status="PASS" starttime="20230518 20:08:14.590" endtime="20230518 20:08:14.597"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:14.601" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:20.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:20.095" level="INFO">${output} = 2023-05-18 20:08:18,038 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:18,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:14.599" endtime="20230518 20:08:20.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:20.096" level="INFO">2023-05-18 20:08:18,038 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:18,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:08:18,115 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:08:18,363 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:08:20.095" endtime="20230518 20:08:20.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:20.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:20.096" endtime="20230518 20:08:20.097"/>
</kw>
<status status="PASS" starttime="20230518 20:08:14.598" endtime="20230518 20:08:20.098"/>
</kw>
<msg timestamp="20230518 20:08:20.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:14.598" endtime="20230518 20:08:20.098"/>
</kw>
<msg timestamp="20230518 20:08:20.098" level="INFO">${output} = 2023-05-18 20:08:18,038 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:18,114 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:14.597" endtime="20230518 20:08:20.098"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:20.099" endtime="20230518 20:08:20.099"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:20.102" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:20.104" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:20.104" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:20.100" endtime="20230518 20:08:20.104"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:20.105" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:20.104" endtime="20230518 20:08:20.105"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:20.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:20.105" endtime="20230518 20:08:20.106"/>
</kw>
<status status="PASS" starttime="20230518 20:08:20.099" endtime="20230518 20:08:20.106"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:14.589" endtime="20230518 20:08:20.106"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:20.112" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:22.655" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:22.655" level="INFO">${output} = 2023-05-18 20:08:22,594 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 20:08:20.110" endtime="20230518 20:08:22.655"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:22.657" level="INFO">2023-05-18 20:08:22,594 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230518 20:08:22.656" endtime="20230518 20:08:22.657"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:22.657" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:22.657" endtime="20230518 20:08:22.657"/>
</kw>
<status status="PASS" starttime="20230518 20:08:20.109" endtime="20230518 20:08:22.658"/>
</kw>
<msg timestamp="20230518 20:08:22.658" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:20.109" endtime="20230518 20:08:22.658"/>
</kw>
<msg timestamp="20230518 20:08:22.658" level="INFO">${output} = 2023-05-18 20:08:22,594 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230518 20:08:20.108" endtime="20230518 20:08:22.659"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:22.659" endtime="20230518 20:08:22.659"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:20.107" endtime="20230518 20:08:22.659"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:22.664" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:08:22.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:22.666" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:22.662" endtime="20230518 20:08:22.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:22.667" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:22.666" endtime="20230518 20:08:22.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:22.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:22.667" endtime="20230518 20:08:22.667"/>
</kw>
<status status="PASS" starttime="20230518 20:08:22.661" endtime="20230518 20:08:22.668"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:22.671" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:26.990" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:26.991" level="INFO">${output} = 2023-05-18 20:08:25,569 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:25,643 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:22.669" endtime="20230518 20:08:26.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:26.992" level="INFO">2023-05-18 20:08:25,569 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:25,643 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:08:25,643 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-18 20:08:25,932 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230518 20:08:26.991" endtime="20230518 20:08:26.992"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:26.992" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:26.992" endtime="20230518 20:08:26.992"/>
</kw>
<status status="PASS" starttime="20230518 20:08:22.669" endtime="20230518 20:08:26.993"/>
</kw>
<msg timestamp="20230518 20:08:26.993" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:22.668" endtime="20230518 20:08:26.996"/>
</kw>
<msg timestamp="20230518 20:08:26.997" level="INFO">${output} = 2023-05-18 20:08:25,569 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:25,643 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:22.668" endtime="20230518 20:08:26.997"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:26.997" endtime="20230518 20:08:26.998"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:27.001" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:27.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:27.004" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:26.998" endtime="20230518 20:08:27.004"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:27.004" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:27.004" endtime="20230518 20:08:27.005"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:27.005" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:27.005" endtime="20230518 20:08:27.005"/>
</kw>
<status status="PASS" starttime="20230518 20:08:26.998" endtime="20230518 20:08:27.006"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:22.661" endtime="20230518 20:08:27.006"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:27.012" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:27.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:27.615" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:27.011" endtime="20230518 20:08:27.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:27.616" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:27.615" endtime="20230518 20:08:27.616"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:27.616" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:27.616" endtime="20230518 20:08:27.616"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.010" endtime="20230518 20:08:27.617"/>
</kw>
<msg timestamp="20230518 20:08:27.617" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:27.010" endtime="20230518 20:08:27.617"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.009" endtime="20230518 20:08:27.617"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:27.621" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:28.070" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:28.070" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:27.619" endtime="20230518 20:08:28.070"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:28.071" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:28.070" endtime="20230518 20:08:28.071"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:28.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:28.071" endtime="20230518 20:08:28.072"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.618" endtime="20230518 20:08:28.072"/>
</kw>
<msg timestamp="20230518 20:08:28.072" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:27.618" endtime="20230518 20:08:28.073"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.618" endtime="20230518 20:08:28.073"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:28.077" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:28.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:28.539" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:28.074" endtime="20230518 20:08:28.539"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:28.540" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:28.539" endtime="20230518 20:08:28.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:28.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:28.540" endtime="20230518 20:08:28.541"/>
</kw>
<status status="PASS" starttime="20230518 20:08:28.074" endtime="20230518 20:08:28.541"/>
</kw>
<msg timestamp="20230518 20:08:28.541" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:28.074" endtime="20230518 20:08:28.541"/>
</kw>
<status status="PASS" starttime="20230518 20:08:28.073" endtime="20230518 20:08:28.542"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:28.545" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:28.993" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:28.993" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:28.543" endtime="20230518 20:08:28.993"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:28.995" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:28.994" endtime="20230518 20:08:28.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:28.995" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:28.995" endtime="20230518 20:08:28.995"/>
</kw>
<status status="PASS" starttime="20230518 20:08:28.543" endtime="20230518 20:08:28.996"/>
</kw>
<msg timestamp="20230518 20:08:28.996" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:28.542" endtime="20230518 20:08:28.996"/>
</kw>
<status status="PASS" starttime="20230518 20:08:28.542" endtime="20230518 20:08:28.996"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.009" endtime="20230518 20:08:28.997"/>
</kw>
<status status="PASS" starttime="20230518 20:08:27.009" endtime="20230518 20:08:28.997"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:27.008" endtime="20230518 20:08:28.997"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:29.004" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:30.994" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:30.994" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:08:29.001" endtime="20230518 20:08:30.994"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:30.995" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:08:30.994" endtime="20230518 20:08:30.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:30.996" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:30.996" endtime="20230518 20:08:30.996"/>
</kw>
<status status="PASS" starttime="20230518 20:08:29.001" endtime="20230518 20:08:30.996"/>
</kw>
<msg timestamp="20230518 20:08:30.997" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:29.001" endtime="20230518 20:08:30.997"/>
</kw>
<msg timestamp="20230518 20:08:30.998" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:08:29.000" endtime="20230518 20:08:30.998"/>
</kw>
<msg timestamp="20230518 20:08:30.998" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:08:29.000" endtime="20230518 20:08:30.998"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:30.998" endtime="20230518 20:08:30.998"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:30.998" endtime="20230518 20:08:30.999"/>
</kw>
<msg timestamp="20230518 20:08:30.999" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 20:08:28.999" endtime="20230518 20:08:30.999"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 20:08:30.999" endtime="20230518 20:08:31.000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:28.998" endtime="20230518 20:08:31.000"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:31.006" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:08:31.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:31.008" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:31.003" endtime="20230518 20:08:31.008"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:31.009" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:31.008" endtime="20230518 20:08:31.009"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:31.009" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:31.009" endtime="20230518 20:08:31.009"/>
</kw>
<status status="PASS" starttime="20230518 20:08:31.002" endtime="20230518 20:08:31.010"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:31.013" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:32.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:32.609" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:31.011" endtime="20230518 20:08:32.609"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:32.611" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:32.610" endtime="20230518 20:08:32.611"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:32.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:32.611" endtime="20230518 20:08:32.612"/>
</kw>
<msg timestamp="20230518 20:08:32.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:31.010" endtime="20230518 20:08:32.613"/>
</kw>
<msg timestamp="20230518 20:08:32.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:31.010" endtime="20230518 20:08:32.613"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:32.613" endtime="20230518 20:08:32.613"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:32.617" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:32.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:32.619" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:32.614" endtime="20230518 20:08:32.619"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:32.620" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:32.619" endtime="20230518 20:08:32.620"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:32.621" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:32.620" endtime="20230518 20:08:32.621"/>
</kw>
<status status="PASS" starttime="20230518 20:08:32.614" endtime="20230518 20:08:32.621"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:31.002" endtime="20230518 20:08:32.621"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 20:08:08.671" endtime="20230518 20:08:32.623"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:08:36.305" level="INFO">${random} = 24295</msg>
<status status="PASS" starttime="20230518 20:08:36.305" endtime="20230518 20:08:36.305"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:36.311" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-24295 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:40.763" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:40.763" level="INFO">${output} = 2023-05-18 20:08:39,461 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:39,531 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:36.307" endtime="20230518 20:08:40.763"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:40.764" level="INFO">2023-05-18 20:08:39,461 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:39,531 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-18 20:08:39,531 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230518 20:08:40.763" endtime="20230518 20:08:40.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:40.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:40.764" endtime="20230518 20:08:40.765"/>
</kw>
<status status="PASS" starttime="20230518 20:08:36.306" endtime="20230518 20:08:40.765"/>
</kw>
<msg timestamp="20230518 20:08:40.765" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:36.306" endtime="20230518 20:08:40.766"/>
</kw>
<msg timestamp="20230518 20:08:40.767" level="INFO">${output} = 2023-05-18 20:08:39,461 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-18 20:08:39,531 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230518 20:08:36.305" endtime="20230518 20:08:40.767"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:40.767" endtime="20230518 20:08:40.767"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:40.770" level="INFO">Running command 'cat /tmp/key-24295 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:40.772" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:40.772" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:40.768" endtime="20230518 20:08:40.772"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:40.773" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:40.773" endtime="20230518 20:08:40.773"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:40.774" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:40.774" endtime="20230518 20:08:40.774"/>
</kw>
<msg timestamp="20230518 20:08:40.774" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:40.767" endtime="20230518 20:08:40.774"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:40.774" endtime="20230518 20:08:40.775"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:40.778" level="INFO">Running command 'rm /tmp/key-24295 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:40.780" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:40.780" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:40.776" endtime="20230518 20:08:40.780"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:40.781" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:40.780" endtime="20230518 20:08:40.781"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:40.782" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:40.781" endtime="20230518 20:08:40.782"/>
</kw>
<status status="PASS" starttime="20230518 20:08:40.775" endtime="20230518 20:08:40.782"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:36.304" endtime="20230518 20:08:40.782"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:40.787" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:41.262" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:41.262" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:40.786" endtime="20230518 20:08:41.262"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:41.263" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:41.263" endtime="20230518 20:08:41.263"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:41.264" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:41.263" endtime="20230518 20:08:41.264"/>
</kw>
<status status="PASS" starttime="20230518 20:08:40.785" endtime="20230518 20:08:41.264"/>
</kw>
<msg timestamp="20230518 20:08:41.264" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:40.785" endtime="20230518 20:08:41.265"/>
</kw>
<status status="PASS" starttime="20230518 20:08:40.784" endtime="20230518 20:08:41.265"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:41.268" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:41.742" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:41.742" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:41.266" endtime="20230518 20:08:41.742"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:41.744" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:41.743" endtime="20230518 20:08:41.744"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:41.744" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:41.744" endtime="20230518 20:08:41.744"/>
</kw>
<status status="PASS" starttime="20230518 20:08:41.266" endtime="20230518 20:08:41.745"/>
</kw>
<msg timestamp="20230518 20:08:41.745" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:41.266" endtime="20230518 20:08:41.745"/>
</kw>
<status status="PASS" starttime="20230518 20:08:41.265" endtime="20230518 20:08:41.745"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:41.749" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:42.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:42.199" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:41.747" endtime="20230518 20:08:42.199"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:42.200" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:42.200" endtime="20230518 20:08:42.200"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:42.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:42.200" endtime="20230518 20:08:42.204"/>
</kw>
<status status="PASS" starttime="20230518 20:08:41.746" endtime="20230518 20:08:42.205"/>
</kw>
<msg timestamp="20230518 20:08:42.205" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:41.746" endtime="20230518 20:08:42.205"/>
</kw>
<status status="PASS" starttime="20230518 20:08:41.746" endtime="20230518 20:08:42.205"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:42.213" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:42.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:42.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:42.207" endtime="20230518 20:08:42.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:42.696" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:42.695" endtime="20230518 20:08:42.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:42.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:42.696" endtime="20230518 20:08:42.697"/>
</kw>
<status status="PASS" starttime="20230518 20:08:42.206" endtime="20230518 20:08:42.697"/>
</kw>
<msg timestamp="20230518 20:08:42.697" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:42.206" endtime="20230518 20:08:42.698"/>
</kw>
<status status="PASS" starttime="20230518 20:08:42.206" endtime="20230518 20:08:42.698"/>
</kw>
<status status="PASS" starttime="20230518 20:08:40.784" endtime="20230518 20:08:42.698"/>
</kw>
<status status="PASS" starttime="20230518 20:08:40.784" endtime="20230518 20:08:42.698"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:40.783" endtime="20230518 20:08:42.698"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:42.704" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:43.401" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:43.401" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:42.701" endtime="20230518 20:08:43.401"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:43.403" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:08:43 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:08:43.402" endtime="20230518 20:08:43.403"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:43.403" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:43.403" endtime="20230518 20:08:43.404"/>
</kw>
<msg timestamp="20230518 20:08:43.404" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:42.701" endtime="20230518 20:08:43.404"/>
</kw>
<msg timestamp="20230518 20:08:43.404" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:42.700" endtime="20230518 20:08:43.404"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:43.404" endtime="20230518 20:08:43.405"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:43.408" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:43.410" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:43.410" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:43.405" endtime="20230518 20:08:43.410"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:43.411" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:43.410" endtime="20230518 20:08:43.411"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:43.412" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:43.411" endtime="20230518 20:08:43.412"/>
</kw>
<msg timestamp="20230518 20:08:43.412" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:08:43.405" endtime="20230518 20:08:43.412"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:43.412" endtime="20230518 20:08:43.413"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:43.415" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:43.418" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:43.418" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:43.414" endtime="20230518 20:08:43.418"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:43.419" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:43.418" endtime="20230518 20:08:43.419"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:43.419" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:43.419" endtime="20230518 20:08:43.419"/>
</kw>
<status status="PASS" starttime="20230518 20:08:43.413" endtime="20230518 20:08:43.420"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:42.700" endtime="20230518 20:08:43.420"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:43.424" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:43.990" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:43.990" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:43.423" endtime="20230518 20:08:43.990"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:43.992" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:08:43 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:08:43.991" endtime="20230518 20:08:43.992"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:43.992" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:43.992" endtime="20230518 20:08:43.992"/>
</kw>
<msg timestamp="20230518 20:08:43.993" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:43.422" endtime="20230518 20:08:43.993"/>
</kw>
<msg timestamp="20230518 20:08:43.993" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:08:43.421" endtime="20230518 20:08:43.993"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:43.993" endtime="20230518 20:08:43.994"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:43.996" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:43.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:43.999" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:08:43.994" endtime="20230518 20:08:43.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:44.000" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:08:43.999" endtime="20230518 20:08:44.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:44.000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:44.000" endtime="20230518 20:08:44.000"/>
</kw>
<msg timestamp="20230518 20:08:44.001" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:08:43.994" endtime="20230518 20:08:44.001"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:44.001" endtime="20230518 20:08:44.001"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:44.004" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:44.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:44.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:08:44.002" endtime="20230518 20:08:44.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:44.007" level="INFO"/>
<status status="PASS" starttime="20230518 20:08:44.006" endtime="20230518 20:08:44.007"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:44.007" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:44.007" endtime="20230518 20:08:44.008"/>
</kw>
<status status="PASS" starttime="20230518 20:08:44.001" endtime="20230518 20:08:44.008"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:43.421" endtime="20230518 20:08:44.008"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:08:36.232" endtime="20230518 20:08:44.009"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:08:47.713" endtime="20230518 20:08:47.713"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:08:47.713" endtime="20230518 20:08:47.714"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:47.718" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:55.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:55.793" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 20:08:47.715" endtime="20230518 20:08:55.793"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:55.794" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230518 20:08:55.794" endtime="20230518 20:08:55.794"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:55.795" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:55.795" endtime="20230518 20:08:55.795"/>
</kw>
<status status="PASS" starttime="20230518 20:08:47.714" endtime="20230518 20:08:55.795"/>
</kw>
<msg timestamp="20230518 20:08:55.796" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:47.714" endtime="20230518 20:08:55.797"/>
</kw>
<msg timestamp="20230518 20:08:55.797" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 20:08:47.714" endtime="20230518 20:08:55.797"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:08:55.797" endtime="20230518 20:08:55.798"/>
</kw>
<status status="PASS" starttime="20230518 20:08:55.797" endtime="20230518 20:08:55.798"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:08:47.712" endtime="20230518 20:08:55.799"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230518 20:08:47.668" endtime="20230518 20:08:55.800"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:07:59.893" endtime="20230518 20:07:59.894"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:07:59.899" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:07:59.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:07:59.902" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c082705ee054
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 20:07:59.895" endtime="20230518 20:07:59.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:07:59.903" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c082705ee054
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 20:07:59.902" endtime="20230518 20:07:59.903"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:07:59.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:07:59.903" endtime="20230518 20:07:59.904"/>
</kw>
<status status="PASS" starttime="20230518 20:07:59.895" endtime="20230518 20:07:59.904"/>
</kw>
<msg timestamp="20230518 20:07:59.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:07:59.895" endtime="20230518 20:07:59.905"/>
</kw>
<msg timestamp="20230518 20:07:59.905" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c082705ee054
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230518 20:07:59.894" endtime="20230518 20:07:59.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:07:59.906" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c082705ee054
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230518 20:07:59.906" endtime="20230518 20:07:59.906"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:07:59.906" endtime="20230518 20:07:59.906"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:07:59.910" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:02.448" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:02.448" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:07:59.908" endtime="20230518 20:08:02.448"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:02.449" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:08:02.448" endtime="20230518 20:08:02.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:02.450" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:02.449" endtime="20230518 20:08:02.450"/>
</kw>
<status status="PASS" starttime="20230518 20:07:59.907" endtime="20230518 20:08:02.450"/>
</kw>
<msg timestamp="20230518 20:08:02.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:07:59.907" endtime="20230518 20:08:02.451"/>
</kw>
<msg timestamp="20230518 20:08:02.451" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:07:59.907" endtime="20230518 20:08:02.451"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:02.451" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230518 20:08:02.451" endtime="20230518 20:08:02.451"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 20:08:02.451" endtime="20230518 20:08:02.452"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 20:07:59.892" endtime="20230518 20:08:02.452"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:08:02.454" endtime="20230518 20:08:02.454"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:08:02.455" endtime="20230518 20:08:02.455"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:08:02.458" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:08:05.067" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:08:05.067" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:08:02.456" endtime="20230518 20:08:05.067"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:05.068" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:08:05.068" endtime="20230518 20:08:05.068"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:08:05.069" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:08:05.069" endtime="20230518 20:08:05.069"/>
</kw>
<status status="PASS" starttime="20230518 20:08:02.456" endtime="20230518 20:08:05.069"/>
</kw>
<msg timestamp="20230518 20:08:05.069" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:08:02.455" endtime="20230518 20:08:05.070"/>
</kw>
<msg timestamp="20230518 20:08:05.070" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:08:02.455" endtime="20230518 20:08:05.070"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:08:05.071" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230518 20:08:05.070" endtime="20230518 20:08:05.071"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230518 20:08:05.071" endtime="20230518 20:08:05.071"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230518 20:08:02.453" endtime="20230518 20:08:05.071"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230518 20:07:59.844" endtime="20230518 20:08:05.073"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:23.910" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:11:23.912" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:23.912" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:23.906" endtime="20230518 20:11:23.912"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:23.914" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:23.913" endtime="20230518 20:11:23.914"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:23.914" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:23.914" endtime="20230518 20:11:23.914"/>
</kw>
<status status="PASS" starttime="20230518 20:11:23.905" endtime="20230518 20:11:23.915"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:23.919" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:31.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:31.963" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:23.917" endtime="20230518 20:11:31.963"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:31.964" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:31.963" endtime="20230518 20:11:31.964"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:31.965" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:31.964" endtime="20230518 20:11:31.965"/>
</kw>
<status status="PASS" starttime="20230518 20:11:23.916" endtime="20230518 20:11:31.965"/>
</kw>
<msg timestamp="20230518 20:11:31.965" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:23.916" endtime="20230518 20:11:31.966"/>
</kw>
<msg timestamp="20230518 20:11:31.966" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:23.915" endtime="20230518 20:11:31.967"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:31.967" endtime="20230518 20:11:31.967"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:31.970" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:31.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:31.974" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:31.968" endtime="20230518 20:11:31.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:31.975" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:31.974" endtime="20230518 20:11:31.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:31.975" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:31.975" endtime="20230518 20:11:31.975"/>
</kw>
<status status="PASS" starttime="20230518 20:11:31.967" endtime="20230518 20:11:31.976"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:23.904" endtime="20230518 20:11:31.976"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:31.982" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:11:31.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:31.984" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:31.979" endtime="20230518 20:11:31.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:31.985" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:31.984" endtime="20230518 20:11:31.985"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:31.986" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:31.985" endtime="20230518 20:11:31.986"/>
</kw>
<status status="PASS" starttime="20230518 20:11:31.979" endtime="20230518 20:11:31.986"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:31.990" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:37.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:37.860" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:31.988" endtime="20230518 20:11:37.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:37.862" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:37.861" endtime="20230518 20:11:37.862"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:37.863" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:37.862" endtime="20230518 20:11:37.863"/>
</kw>
<status status="PASS" starttime="20230518 20:11:31.987" endtime="20230518 20:11:37.863"/>
</kw>
<msg timestamp="20230518 20:11:37.863" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:31.987" endtime="20230518 20:11:37.864"/>
</kw>
<msg timestamp="20230518 20:11:37.864" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:31.986" endtime="20230518 20:11:37.864"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:37.864" endtime="20230518 20:11:37.865"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:37.868" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:37.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:37.871" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:37.866" endtime="20230518 20:11:37.871"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:37.872" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:37.872" endtime="20230518 20:11:37.873"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:37.873" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:37.873" endtime="20230518 20:11:37.873"/>
</kw>
<status status="PASS" starttime="20230518 20:11:37.865" endtime="20230518 20:11:37.874"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:31.977" endtime="20230518 20:11:37.874"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:37.880" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:38.386" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:38.387" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:37.878" endtime="20230518 20:11:38.387"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:38.389" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:38.387" endtime="20230518 20:11:38.389"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:38.390" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:38.389" endtime="20230518 20:11:38.390"/>
</kw>
<status status="PASS" starttime="20230518 20:11:37.877" endtime="20230518 20:11:38.390"/>
</kw>
<msg timestamp="20230518 20:11:38.390" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:37.877" endtime="20230518 20:11:38.391"/>
</kw>
<status status="PASS" starttime="20230518 20:11:37.876" endtime="20230518 20:11:38.391"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:38.396" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:38.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:38.955" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:38.393" endtime="20230518 20:11:38.955"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:38.957" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:38.956" endtime="20230518 20:11:38.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:38.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:38.957" endtime="20230518 20:11:38.958"/>
</kw>
<status status="PASS" starttime="20230518 20:11:38.393" endtime="20230518 20:11:38.958"/>
</kw>
<msg timestamp="20230518 20:11:38.959" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:38.392" endtime="20230518 20:11:38.959"/>
</kw>
<status status="PASS" starttime="20230518 20:11:38.392" endtime="20230518 20:11:38.959"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:38.964" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:39.544" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:39.544" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:38.961" endtime="20230518 20:11:39.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:39.546" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:39.545" endtime="20230518 20:11:39.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:39.546" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:39.546" endtime="20230518 20:11:39.546"/>
</kw>
<status status="PASS" starttime="20230518 20:11:38.961" endtime="20230518 20:11:39.547"/>
</kw>
<msg timestamp="20230518 20:11:39.547" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:38.960" endtime="20230518 20:11:39.547"/>
</kw>
<status status="PASS" starttime="20230518 20:11:38.960" endtime="20230518 20:11:39.547"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:39.551" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:40.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:40.194" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:39.549" endtime="20230518 20:11:40.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:40.195" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:40.194" endtime="20230518 20:11:40.195"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:40.196" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:40.196" endtime="20230518 20:11:40.196"/>
</kw>
<status status="PASS" starttime="20230518 20:11:39.548" endtime="20230518 20:11:40.196"/>
</kw>
<msg timestamp="20230518 20:11:40.196" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:39.548" endtime="20230518 20:11:40.197"/>
</kw>
<status status="PASS" starttime="20230518 20:11:39.548" endtime="20230518 20:11:40.197"/>
</kw>
<status status="PASS" starttime="20230518 20:11:37.876" endtime="20230518 20:11:40.197"/>
</kw>
<status status="PASS" starttime="20230518 20:11:37.876" endtime="20230518 20:11:40.197"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:37.875" endtime="20230518 20:11:40.198"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:40.204" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:40.965" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:40.965" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:11:40.202" endtime="20230518 20:11:40.965"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:40.966" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:11:40.965" endtime="20230518 20:11:40.966"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:40.967" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:40.967" endtime="20230518 20:11:40.967"/>
</kw>
<status status="PASS" starttime="20230518 20:11:40.201" endtime="20230518 20:11:40.968"/>
</kw>
<msg timestamp="20230518 20:11:40.968" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:40.201" endtime="20230518 20:11:40.968"/>
</kw>
<msg timestamp="20230518 20:11:40.969" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:11:40.201" endtime="20230518 20:11:40.969"/>
</kw>
<msg timestamp="20230518 20:11:40.969" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:11:40.200" endtime="20230518 20:11:40.969"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:40.969" endtime="20230518 20:11:40.970"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:40.970" endtime="20230518 20:11:40.970"/>
</kw>
<msg timestamp="20230518 20:11:40.970" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 20:11:40.200" endtime="20230518 20:11:40.970"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 20:11:40.970" endtime="20230518 20:11:40.971"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:40.199" endtime="20230518 20:11:40.971"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:40.977" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:11:40.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:40.979" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:40.974" endtime="20230518 20:11:40.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:40.980" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:40.979" endtime="20230518 20:11:40.980"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:40.981" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:40.980" endtime="20230518 20:11:40.981"/>
</kw>
<status status="PASS" starttime="20230518 20:11:40.973" endtime="20230518 20:11:40.982"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:40.986" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:42.513" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:42.513" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:40.983" endtime="20230518 20:11:42.513"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:42.516" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:42.513" endtime="20230518 20:11:42.517"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:42.518" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:42.517" endtime="20230518 20:11:42.518"/>
</kw>
<msg timestamp="20230518 20:11:42.520" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:40.983" endtime="20230518 20:11:42.520"/>
</kw>
<msg timestamp="20230518 20:11:42.522" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:40.982" endtime="20230518 20:11:42.522"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:42.523" endtime="20230518 20:11:42.523"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:42.534" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:42.537" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:42.537" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:42.525" endtime="20230518 20:11:42.537"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:42.539" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:42.538" endtime="20230518 20:11:42.539"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:42.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:42.540" endtime="20230518 20:11:42.540"/>
</kw>
<status status="PASS" starttime="20230518 20:11:42.524" endtime="20230518 20:11:42.541"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:40.972" endtime="20230518 20:11:42.541"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 20:11:23.815" endtime="20230518 20:11:42.544"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:46.765" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:50.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:50.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:46.761" endtime="20230518 20:11:50.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:50.208" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:50.207" endtime="20230518 20:11:50.208"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:50.209" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:50.208" endtime="20230518 20:11:50.209"/>
</kw>
<status status="PASS" starttime="20230518 20:11:46.760" endtime="20230518 20:11:50.209"/>
</kw>
<msg timestamp="20230518 20:11:50.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:46.760" endtime="20230518 20:11:50.211"/>
</kw>
<msg timestamp="20230518 20:11:50.211" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:46.760" endtime="20230518 20:11:50.211"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:50.211" endtime="20230518 20:11:50.212"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:50.216" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:53.612" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:53.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:50.214" endtime="20230518 20:11:53.613"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:53.614" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:53.613" endtime="20230518 20:11:53.614"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:53.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:53.615" endtime="20230518 20:11:53.615"/>
</kw>
<status status="PASS" starttime="20230518 20:11:50.213" endtime="20230518 20:11:53.616"/>
</kw>
<msg timestamp="20230518 20:11:53.616" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:50.213" endtime="20230518 20:11:53.616"/>
</kw>
<msg timestamp="20230518 20:11:53.617" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:50.212" endtime="20230518 20:11:53.617"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:53.617" endtime="20230518 20:11:53.617"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:46.759" endtime="20230518 20:11:53.618"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:53.624" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:11:53.627" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:53.627" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:53.621" endtime="20230518 20:11:53.627"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:53.628" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:53.628" endtime="20230518 20:11:53.628"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:53.629" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:53.629" endtime="20230518 20:11:53.629"/>
</kw>
<status status="PASS" starttime="20230518 20:11:53.620" endtime="20230518 20:11:53.630"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:53.634" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:59.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:59.552" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:53.632" endtime="20230518 20:11:59.552"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:59.554" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:59.552" endtime="20230518 20:11:59.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:59.555" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:59.554" endtime="20230518 20:11:59.555"/>
</kw>
<status status="PASS" starttime="20230518 20:11:53.631" endtime="20230518 20:11:59.555"/>
</kw>
<msg timestamp="20230518 20:11:59.555" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:53.631" endtime="20230518 20:11:59.556"/>
</kw>
<msg timestamp="20230518 20:11:59.556" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:53.630" endtime="20230518 20:11:59.556"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:59.557" endtime="20230518 20:11:59.557"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:59.560" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:59.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:59.564" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:59.558" endtime="20230518 20:11:59.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:59.565" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:59.564" endtime="20230518 20:11:59.565"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:59.566" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:59.566" endtime="20230518 20:11:59.566"/>
</kw>
<status status="PASS" starttime="20230518 20:11:59.557" endtime="20230518 20:11:59.567"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:53.619" endtime="20230518 20:11:59.567"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:59.573" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:03.441" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:03.441" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:59.571" endtime="20230518 20:12:03.441"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:03.443" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:03.442" endtime="20230518 20:12:03.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:03.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:03.443" endtime="20230518 20:12:03.444"/>
</kw>
<status status="PASS" starttime="20230518 20:11:59.570" endtime="20230518 20:12:03.445"/>
</kw>
<msg timestamp="20230518 20:12:03.445" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:59.570" endtime="20230518 20:12:03.445"/>
</kw>
<msg timestamp="20230518 20:12:03.446" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:59.569" endtime="20230518 20:12:03.446"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:03.446" endtime="20230518 20:12:03.446"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:59.568" endtime="20230518 20:12:03.446"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:03.452" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:12:03.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:03.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:03.449" endtime="20230518 20:12:03.455"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:03.456" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:03.455" endtime="20230518 20:12:03.456"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:03.456" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:03.456" endtime="20230518 20:12:03.457"/>
</kw>
<status status="PASS" starttime="20230518 20:12:03.449" endtime="20230518 20:12:03.457"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:03.461" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:09.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:09.510" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:03.459" endtime="20230518 20:12:09.510"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:09.511" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:09.510" endtime="20230518 20:12:09.511"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:09.512" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:09.511" endtime="20230518 20:12:09.512"/>
</kw>
<status status="PASS" starttime="20230518 20:12:03.458" endtime="20230518 20:12:09.512"/>
</kw>
<msg timestamp="20230518 20:12:09.512" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:03.458" endtime="20230518 20:12:09.513"/>
</kw>
<msg timestamp="20230518 20:12:09.513" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:03.457" endtime="20230518 20:12:09.513"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:09.513" endtime="20230518 20:12:09.514"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:09.521" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:09.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:09.522" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:09.514" endtime="20230518 20:12:09.522"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:09.523" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:09.523" endtime="20230518 20:12:09.524"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:09.524" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:09.524" endtime="20230518 20:12:09.524"/>
</kw>
<status status="PASS" starttime="20230518 20:12:09.514" endtime="20230518 20:12:09.525"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:03.448" endtime="20230518 20:12:09.525"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:09.531" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:10.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:10.147" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:09.529" endtime="20230518 20:12:10.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:10.151" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:10.149" endtime="20230518 20:12:10.151"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:10.154" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:10.151" endtime="20230518 20:12:10.154"/>
</kw>
<status status="PASS" starttime="20230518 20:12:09.528" endtime="20230518 20:12:10.155"/>
</kw>
<msg timestamp="20230518 20:12:10.155" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:09.528" endtime="20230518 20:12:10.156"/>
</kw>
<status status="PASS" starttime="20230518 20:12:09.527" endtime="20230518 20:12:10.156"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:10.162" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:10.862" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:10.862" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:10.159" endtime="20230518 20:12:10.862"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:10.864" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:10.863" endtime="20230518 20:12:10.864"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:10.864" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:10.864" endtime="20230518 20:12:10.864"/>
</kw>
<status status="PASS" starttime="20230518 20:12:10.158" endtime="20230518 20:12:10.865"/>
</kw>
<msg timestamp="20230518 20:12:10.865" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:10.157" endtime="20230518 20:12:10.866"/>
</kw>
<status status="PASS" starttime="20230518 20:12:10.156" endtime="20230518 20:12:10.866"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:10.871" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:11.389" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:11.389" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:10.868" endtime="20230518 20:12:11.389"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:11.390" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:11.389" endtime="20230518 20:12:11.390"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:11.391" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:11.390" endtime="20230518 20:12:11.391"/>
</kw>
<status status="PASS" starttime="20230518 20:12:10.867" endtime="20230518 20:12:11.391"/>
</kw>
<msg timestamp="20230518 20:12:11.391" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:10.866" endtime="20230518 20:12:11.392"/>
</kw>
<status status="PASS" starttime="20230518 20:12:10.866" endtime="20230518 20:12:11.392"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:11.396" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:12.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:12.047" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:11.393" endtime="20230518 20:12:12.047"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:12.048" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:12.047" endtime="20230518 20:12:12.048"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:12.049" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:12.048" endtime="20230518 20:12:12.049"/>
</kw>
<status status="PASS" starttime="20230518 20:12:11.393" endtime="20230518 20:12:12.050"/>
</kw>
<msg timestamp="20230518 20:12:12.050" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:11.392" endtime="20230518 20:12:12.051"/>
</kw>
<status status="PASS" starttime="20230518 20:12:11.392" endtime="20230518 20:12:12.051"/>
</kw>
<status status="PASS" starttime="20230518 20:12:09.527" endtime="20230518 20:12:12.051"/>
</kw>
<status status="PASS" starttime="20230518 20:12:09.527" endtime="20230518 20:12:12.051"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:09.526" endtime="20230518 20:12:12.051"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:12.060" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:12.844" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:12.844" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:12:12.057" endtime="20230518 20:12:12.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:12.845" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:12:12.844" endtime="20230518 20:12:12.845"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:12.846" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:12.846" endtime="20230518 20:12:12.847"/>
</kw>
<status status="PASS" starttime="20230518 20:12:12.056" endtime="20230518 20:12:12.848"/>
</kw>
<msg timestamp="20230518 20:12:12.848" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:12.056" endtime="20230518 20:12:12.849"/>
</kw>
<msg timestamp="20230518 20:12:12.849" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:12:12.055" endtime="20230518 20:12:12.849"/>
</kw>
<msg timestamp="20230518 20:12:12.849" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230518 20:12:12.054" endtime="20230518 20:12:12.849"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:12.850" endtime="20230518 20:12:12.850"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:12.850" endtime="20230518 20:12:12.851"/>
</kw>
<msg timestamp="20230518 20:12:12.851" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230518 20:12:12.054" endtime="20230518 20:12:12.851"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230518 20:12:12.851" endtime="20230518 20:12:12.852"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:12.052" endtime="20230518 20:12:12.852"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:12.858" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230518 20:12:12.860" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:12.860" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:12.855" endtime="20230518 20:12:12.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:12.861" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:12.860" endtime="20230518 20:12:12.861"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:12.862" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:12.861" endtime="20230518 20:12:12.862"/>
</kw>
<status status="PASS" starttime="20230518 20:12:12.854" endtime="20230518 20:12:12.862"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:12.866" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:13.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:13.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:12.864" endtime="20230518 20:12:13.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:13.824" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:13.823" endtime="20230518 20:12:13.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:13.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:13.824" endtime="20230518 20:12:13.825"/>
</kw>
<msg timestamp="20230518 20:12:13.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:12.863" endtime="20230518 20:12:13.826"/>
</kw>
<msg timestamp="20230518 20:12:13.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:12.862" endtime="20230518 20:12:13.826"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:13.826" endtime="20230518 20:12:13.827"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:13.830" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:13.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:13.834" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:13.828" endtime="20230518 20:12:13.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:13.835" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:13.834" endtime="20230518 20:12:13.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:13.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:13.835" endtime="20230518 20:12:13.836"/>
</kw>
<status status="PASS" starttime="20230518 20:12:13.827" endtime="20230518 20:12:13.836"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:12.853" endtime="20230518 20:12:13.837"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230518 20:11:46.672" endtime="20230518 20:12:13.839"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:12:17.762" level="INFO">${random} = 05647</msg>
<status status="PASS" starttime="20230518 20:12:17.762" endtime="20230518 20:12:17.762"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:17.768" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-05647 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:23.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:23.214" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:17.764" endtime="20230518 20:12:23.214"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:23.216" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:23.215" endtime="20230518 20:12:23.216"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:23.217" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:23.216" endtime="20230518 20:12:23.217"/>
</kw>
<status status="PASS" starttime="20230518 20:12:17.763" endtime="20230518 20:12:23.217"/>
</kw>
<msg timestamp="20230518 20:12:23.218" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:17.763" endtime="20230518 20:12:23.219"/>
</kw>
<msg timestamp="20230518 20:12:23.219" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:17.762" endtime="20230518 20:12:23.219"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:23.220" endtime="20230518 20:12:23.220"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:23.224" level="INFO">Running command 'cat /tmp/key-05647 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:23.227" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:23.227" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:23.221" endtime="20230518 20:12:23.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:23.229" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:23.228" endtime="20230518 20:12:23.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:23.229" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:23.229" endtime="20230518 20:12:23.230"/>
</kw>
<msg timestamp="20230518 20:12:23.230" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:23.220" endtime="20230518 20:12:23.230"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:23.230" endtime="20230518 20:12:23.231"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:23.234" level="INFO">Running command 'rm /tmp/key-05647 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:23.237" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:23.237" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:23.232" endtime="20230518 20:12:23.237"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:23.239" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:23.238" endtime="20230518 20:12:23.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:23.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:23.239" endtime="20230518 20:12:23.240"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.231" endtime="20230518 20:12:23.240"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:17.760" endtime="20230518 20:12:23.241"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:23.247" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:23.799" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:23.799" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:23.245" endtime="20230518 20:12:23.799"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:23.801" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:23.800" endtime="20230518 20:12:23.801"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:23.802" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:23.801" endtime="20230518 20:12:23.802"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.244" endtime="20230518 20:12:23.802"/>
</kw>
<msg timestamp="20230518 20:12:23.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:23.244" endtime="20230518 20:12:23.803"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.244" endtime="20230518 20:12:23.803"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:23.807" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:24.326" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:24.326" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:23.805" endtime="20230518 20:12:24.326"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:24.327" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:24.326" endtime="20230518 20:12:24.327"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:24.328" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:24.327" endtime="20230518 20:12:24.328"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.804" endtime="20230518 20:12:24.328"/>
</kw>
<msg timestamp="20230518 20:12:24.328" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:23.804" endtime="20230518 20:12:24.328"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.803" endtime="20230518 20:12:24.329"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:24.332" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:24.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:24.865" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:24.330" endtime="20230518 20:12:24.865"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:24.866" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:24.865" endtime="20230518 20:12:24.867"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:24.867" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:24.867" endtime="20230518 20:12:24.867"/>
</kw>
<status status="PASS" starttime="20230518 20:12:24.329" endtime="20230518 20:12:24.868"/>
</kw>
<msg timestamp="20230518 20:12:24.868" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:24.329" endtime="20230518 20:12:24.868"/>
</kw>
<status status="PASS" starttime="20230518 20:12:24.329" endtime="20230518 20:12:24.869"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:24.873" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:25.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:25.403" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:24.870" endtime="20230518 20:12:25.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:25.404" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:25.403" endtime="20230518 20:12:25.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:25.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:25.404" endtime="20230518 20:12:25.405"/>
</kw>
<status status="PASS" starttime="20230518 20:12:24.870" endtime="20230518 20:12:25.405"/>
</kw>
<msg timestamp="20230518 20:12:25.405" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:24.869" endtime="20230518 20:12:25.406"/>
</kw>
<status status="PASS" starttime="20230518 20:12:24.869" endtime="20230518 20:12:25.406"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.243" endtime="20230518 20:12:25.406"/>
</kw>
<status status="PASS" starttime="20230518 20:12:23.243" endtime="20230518 20:12:25.406"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:23.242" endtime="20230518 20:12:25.407"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:25.412" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.094" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:25.410" endtime="20230518 20:12:26.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.096" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:12:25 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:12:26.095" endtime="20230518 20:12:26.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.096" endtime="20230518 20:12:26.097"/>
</kw>
<msg timestamp="20230518 20:12:26.097" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:25.409" endtime="20230518 20:12:26.097"/>
</kw>
<msg timestamp="20230518 20:12:26.098" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:25.408" endtime="20230518 20:12:26.098"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:26.098" endtime="20230518 20:12:26.098"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:26.102" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.104" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.104" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:26.099" endtime="20230518 20:12:26.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.106" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:26.105" endtime="20230518 20:12:26.106"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.106" endtime="20230518 20:12:26.106"/>
</kw>
<msg timestamp="20230518 20:12:26.107" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:12:26.099" endtime="20230518 20:12:26.107"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:26.107" endtime="20230518 20:12:26.107"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:26.110" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:26.108" endtime="20230518 20:12:26.113"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.114" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:26.113" endtime="20230518 20:12:26.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.114" endtime="20230518 20:12:26.114"/>
</kw>
<status status="PASS" starttime="20230518 20:12:26.108" endtime="20230518 20:12:26.115"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:25.407" endtime="20230518 20:12:26.115"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:26.120" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.858" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:26.118" endtime="20230518 20:12:26.858"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.860" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:12:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:12:26.859" endtime="20230518 20:12:26.860"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.861" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.860" endtime="20230518 20:12:26.861"/>
</kw>
<msg timestamp="20230518 20:12:26.861" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:26.117" endtime="20230518 20:12:26.861"/>
</kw>
<msg timestamp="20230518 20:12:26.862" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:12:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:12:26.117" endtime="20230518 20:12:26.862"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:26.862" endtime="20230518 20:12:26.863"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:26.866" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.869" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.869" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:12:26.863" endtime="20230518 20:12:26.869"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.870" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:12:26.870" endtime="20230518 20:12:26.870"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.871" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.870" endtime="20230518 20:12:26.871"/>
</kw>
<msg timestamp="20230518 20:12:26.871" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:12:26.863" endtime="20230518 20:12:26.871"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:26.872" endtime="20230518 20:12:26.872"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:26.875" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:26.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:26.877" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:12:26.873" endtime="20230518 20:12:26.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:26.879" level="INFO"/>
<status status="PASS" starttime="20230518 20:12:26.878" endtime="20230518 20:12:26.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:26.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:26.879" endtime="20230518 20:12:26.879"/>
</kw>
<status status="PASS" starttime="20230518 20:12:26.872" endtime="20230518 20:12:26.880"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:26.116" endtime="20230518 20:12:26.880"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:12:17.683" endtime="20230518 20:12:26.882"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230518 20:12:30.935" endtime="20230518 20:12:30.936"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230518 20:12:30.936" endtime="20230518 20:12:30.936"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:12:30.943" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:12:39.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:12:39.902" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 20:12:30.938" endtime="20230518 20:12:39.902"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:12:39.904" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [63]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230518 20:12:39.903" endtime="20230518 20:12:39.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:12:39.904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:12:39.904" endtime="20230518 20:12:39.905"/>
</kw>
<status status="PASS" starttime="20230518 20:12:30.937" endtime="20230518 20:12:39.905"/>
</kw>
<msg timestamp="20230518 20:12:39.905" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:12:30.937" endtime="20230518 20:12:39.907"/>
</kw>
<msg timestamp="20230518 20:12:39.907" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [63].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230518 20:12:30.936" endtime="20230518 20:12:39.907"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:12:39.908" endtime="20230518 20:12:39.908"/>
</kw>
<status status="PASS" starttime="20230518 20:12:39.907" endtime="20230518 20:12:39.908"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:12:30.933" endtime="20230518 20:12:39.908"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230518 20:12:30.872" endtime="20230518 20:12:39.910"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230518 20:11:05.778" level="INFO">${random} = 89279</msg>
<status status="PASS" starttime="20230518 20:11:05.777" endtime="20230518 20:11:05.778"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:05.785" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-89279 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:12.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:12.734" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:05.780" endtime="20230518 20:11:12.734"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:12.737" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:12.736" endtime="20230518 20:11:12.737"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:12.738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:12.737" endtime="20230518 20:11:12.738"/>
</kw>
<status status="PASS" starttime="20230518 20:11:05.780" endtime="20230518 20:11:12.738"/>
</kw>
<msg timestamp="20230518 20:11:12.738" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:05.779" endtime="20230518 20:11:12.739"/>
</kw>
<msg timestamp="20230518 20:11:12.740" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:05.778" endtime="20230518 20:11:12.740"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:12.740" endtime="20230518 20:11:12.740"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:12.743" level="INFO">Running command 'cat /tmp/key-89279 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:12.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:12.747" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:12.741" endtime="20230518 20:11:12.747"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:12.748" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:12.747" endtime="20230518 20:11:12.748"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:12.749" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:12.749" endtime="20230518 20:11:12.750"/>
</kw>
<msg timestamp="20230518 20:11:12.750" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:12.740" endtime="20230518 20:11:12.750"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:12.750" endtime="20230518 20:11:12.751"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:12.754" level="INFO">Running command 'rm /tmp/key-89279 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:12.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:12.757" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:12.752" endtime="20230518 20:11:12.757"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:12.758" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:12.757" endtime="20230518 20:11:12.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:12.759" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:12.758" endtime="20230518 20:11:12.759"/>
</kw>
<status status="PASS" starttime="20230518 20:11:12.751" endtime="20230518 20:11:12.759"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:05.776" endtime="20230518 20:11:12.760"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:12.771" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:13.453" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:13.453" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:12.769" endtime="20230518 20:11:13.453"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:13.454" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:13.453" endtime="20230518 20:11:13.454"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:13.454" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:13.454" endtime="20230518 20:11:13.455"/>
</kw>
<status status="PASS" starttime="20230518 20:11:12.764" endtime="20230518 20:11:13.455"/>
</kw>
<msg timestamp="20230518 20:11:13.455" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:12.764" endtime="20230518 20:11:13.455"/>
</kw>
<status status="PASS" starttime="20230518 20:11:12.763" endtime="20230518 20:11:13.456"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:13.460" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:14.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:14.053" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:13.457" endtime="20230518 20:11:14.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:14.055" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:14.054" endtime="20230518 20:11:14.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:14.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:14.055" endtime="20230518 20:11:14.056"/>
</kw>
<status status="PASS" starttime="20230518 20:11:13.457" endtime="20230518 20:11:14.056"/>
</kw>
<msg timestamp="20230518 20:11:14.057" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:13.456" endtime="20230518 20:11:14.057"/>
</kw>
<status status="PASS" starttime="20230518 20:11:13.456" endtime="20230518 20:11:14.057"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:14.062" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:14.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:14.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:14.059" endtime="20230518 20:11:14.606"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:14.607" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:14.606" endtime="20230518 20:11:14.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:14.607" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:14.607" endtime="20230518 20:11:14.607"/>
</kw>
<status status="PASS" starttime="20230518 20:11:14.058" endtime="20230518 20:11:14.608"/>
</kw>
<msg timestamp="20230518 20:11:14.608" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:14.058" endtime="20230518 20:11:14.608"/>
</kw>
<status status="PASS" starttime="20230518 20:11:14.058" endtime="20230518 20:11:14.608"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:14.612" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:15.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:15.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:14.610" endtime="20230518 20:11:15.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:15.114" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:15.113" endtime="20230518 20:11:15.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:15.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:15.114" endtime="20230518 20:11:15.115"/>
</kw>
<status status="PASS" starttime="20230518 20:11:14.609" endtime="20230518 20:11:15.115"/>
</kw>
<msg timestamp="20230518 20:11:15.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230518 20:11:14.609" endtime="20230518 20:11:15.116"/>
</kw>
<status status="PASS" starttime="20230518 20:11:14.608" endtime="20230518 20:11:15.116"/>
</kw>
<status status="PASS" starttime="20230518 20:11:12.762" endtime="20230518 20:11:15.116"/>
</kw>
<status status="PASS" starttime="20230518 20:11:12.762" endtime="20230518 20:11:15.116"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:12.761" endtime="20230518 20:11:15.117"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:15.124" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.082" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:15.122" endtime="20230518 20:11:19.082"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.083" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:11:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:11:19.082" endtime="20230518 20:11:19.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.084" endtime="20230518 20:11:19.084"/>
</kw>
<msg timestamp="20230518 20:11:19.084" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:15.121" endtime="20230518 20:11:19.085"/>
</kw>
<msg timestamp="20230518 20:11:19.085" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:26 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:15.120" endtime="20230518 20:11:19.085"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:19.085" endtime="20230518 20:11:19.085"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:19.089" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.092" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.092" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:19.086" endtime="20230518 20:11:19.092"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.093" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:19.092" endtime="20230518 20:11:19.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.093" endtime="20230518 20:11:19.094"/>
</kw>
<msg timestamp="20230518 20:11:19.094" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230518 20:11:19.086" endtime="20230518 20:11:19.094"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:19.094" endtime="20230518 20:11:19.095"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:19.098" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.101" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.101" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:19.096" endtime="20230518 20:11:19.101"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.102" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:19.101" endtime="20230518 20:11:19.102"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.103" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.102" endtime="20230518 20:11:19.103"/>
</kw>
<status status="PASS" starttime="20230518 20:11:19.095" endtime="20230518 20:11:19.103"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:15.118" endtime="20230518 20:11:19.103"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:19.109" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.828" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.828" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:19.107" endtime="20230518 20:11:19.828"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.830" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 18 May 2023 20:11:19 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230518 20:11:19.829" endtime="20230518 20:11:19.830"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.831" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.830" endtime="20230518 20:11:19.831"/>
</kw>
<msg timestamp="20230518 20:11:19.831" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:19.106" endtime="20230518 20:11:19.831"/>
</kw>
<msg timestamp="20230518 20:11:19.832" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 18 May 2023 20:08:32 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230518 20:11:19.106" endtime="20230518 20:11:19.832"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:19.832" endtime="20230518 20:11:19.832"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:19.836" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.839" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:11:19.833" endtime="20230518 20:11:19.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.840" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:11:19.839" endtime="20230518 20:11:19.840"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.841" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.840" endtime="20230518 20:11:19.841"/>
</kw>
<msg timestamp="20230518 20:11:19.841" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230518 20:11:19.833" endtime="20230518 20:11:19.841"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230518 20:11:19.841" endtime="20230518 20:11:19.842"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230518 20:11:19.846" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230518 20:11:19.848" level="INFO">${rc} = 0</msg>
<msg timestamp="20230518 20:11:19.848" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230518 20:11:19.843" endtime="20230518 20:11:19.848"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230518 20:11:19.849" level="INFO"/>
<status status="PASS" starttime="20230518 20:11:19.848" endtime="20230518 20:11:19.849"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230518 20:11:19.850" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230518 20:11:19.849" endtime="20230518 20:11:19.850"/>
</kw>
<status status="PASS" starttime="20230518 20:11:19.842" endtime="20230518 20:11:19.850"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230518 20:11:19.105" endtime="20230518 20:11:19.850"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230518 20:11:05.687" endtime="20230518 20:11:19.852"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="486686"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
