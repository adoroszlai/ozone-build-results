<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230509 17:15:38.843" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 17:06:08.032" level="INFO">${random} = 52025</msg>
<status status="PASS" starttime="20230509 17:06:08.031" endtime="20230509 17:06:08.032"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:08.037" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-52025 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:12.922" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:12.922" level="INFO">${output} = 2023-05-09 17:06:11,392 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:11,613 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:08.034" endtime="20230509 17:06:12.922"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:12.923" level="INFO">2023-05-09 17:06:11,392 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:11,613 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:06:11,613 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230509 17:06:12.922" endtime="20230509 17:06:12.923"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:12.924" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:12.923" endtime="20230509 17:06:12.924"/>
</kw>
<status status="PASS" starttime="20230509 17:06:08.033" endtime="20230509 17:06:12.924"/>
</kw>
<msg timestamp="20230509 17:06:12.924" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:08.032" endtime="20230509 17:06:12.925"/>
</kw>
<msg timestamp="20230509 17:06:12.926" level="INFO">${output} = 2023-05-09 17:06:11,392 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:11,613 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:08.032" endtime="20230509 17:06:12.926"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:12.926" endtime="20230509 17:06:12.926"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:12.929" level="INFO">Running command 'cat /tmp/key-52025 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:12.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:12.932" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:12.927" endtime="20230509 17:06:12.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:12.933" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:12.932" endtime="20230509 17:06:12.933"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:12.933" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:12.933" endtime="20230509 17:06:12.934"/>
</kw>
<msg timestamp="20230509 17:06:12.934" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:12.927" endtime="20230509 17:06:12.934"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:12.934" endtime="20230509 17:06:12.934"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:12.937" level="INFO">Running command 'rm /tmp/key-52025 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:12.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:12.940" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:12.935" endtime="20230509 17:06:12.941"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:12.941" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:12.941" endtime="20230509 17:06:12.942"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:12.942" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:12.942" endtime="20230509 17:06:12.942"/>
</kw>
<status status="PASS" starttime="20230509 17:06:12.934" endtime="20230509 17:06:12.942"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:08.030" endtime="20230509 17:06:12.943"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:12.949" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:13.487" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:13.487" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:12.946" endtime="20230509 17:06:13.487"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:13.488" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:13.487" endtime="20230509 17:06:13.488"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:13.489" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:13.488" endtime="20230509 17:06:13.489"/>
</kw>
<status status="PASS" starttime="20230509 17:06:12.946" endtime="20230509 17:06:13.489"/>
</kw>
<msg timestamp="20230509 17:06:13.489" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:12.946" endtime="20230509 17:06:13.490"/>
</kw>
<status status="PASS" starttime="20230509 17:06:12.945" endtime="20230509 17:06:13.490"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:13.494" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:14.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:14.005" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:13.492" endtime="20230509 17:06:14.005"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:14.006" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:14.005" endtime="20230509 17:06:14.006"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:14.007" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:14.006" endtime="20230509 17:06:14.007"/>
</kw>
<status status="PASS" starttime="20230509 17:06:13.491" endtime="20230509 17:06:14.007"/>
</kw>
<msg timestamp="20230509 17:06:14.007" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:13.491" endtime="20230509 17:06:14.008"/>
</kw>
<status status="PASS" starttime="20230509 17:06:13.490" endtime="20230509 17:06:14.008"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:14.012" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:14.508" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:14.508" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:14.009" endtime="20230509 17:06:14.508"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:14.509" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:14.508" endtime="20230509 17:06:14.509"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:14.510" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:14.509" endtime="20230509 17:06:14.510"/>
</kw>
<status status="PASS" starttime="20230509 17:06:14.009" endtime="20230509 17:06:14.510"/>
</kw>
<msg timestamp="20230509 17:06:14.510" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:14.008" endtime="20230509 17:06:14.511"/>
</kw>
<status status="PASS" starttime="20230509 17:06:14.008" endtime="20230509 17:06:14.511"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:14.517" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:15.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:15.043" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:14.513" endtime="20230509 17:06:15.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:15.044" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:15.043" endtime="20230509 17:06:15.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:15.045" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:15.044" endtime="20230509 17:06:15.045"/>
</kw>
<status status="PASS" starttime="20230509 17:06:14.512" endtime="20230509 17:06:15.045"/>
</kw>
<msg timestamp="20230509 17:06:15.045" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:14.512" endtime="20230509 17:06:15.046"/>
</kw>
<status status="PASS" starttime="20230509 17:06:14.511" endtime="20230509 17:06:15.046"/>
</kw>
<status status="PASS" starttime="20230509 17:06:12.945" endtime="20230509 17:06:15.046"/>
</kw>
<status status="PASS" starttime="20230509 17:06:12.944" endtime="20230509 17:06:15.046"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:12.944" endtime="20230509 17:06:15.046"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:15.052" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.025" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.026" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:47 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:15.050" endtime="20230509 17:06:18.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.027" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:47 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:06:15 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:06:18.026" endtime="20230509 17:06:18.027"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.028" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.027" endtime="20230509 17:06:18.028"/>
</kw>
<msg timestamp="20230509 17:06:18.028" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:47 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:15.049" endtime="20230509 17:06:18.028"/>
</kw>
<msg timestamp="20230509 17:06:18.028" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:47 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:15.048" endtime="20230509 17:06:18.028"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:18.029" endtime="20230509 17:06:18.029"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:18.034" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.036" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:18.030" endtime="20230509 17:06:18.036"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.039" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:18.037" endtime="20230509 17:06:18.039"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.040" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.039" endtime="20230509 17:06:18.040"/>
</kw>
<msg timestamp="20230509 17:06:18.040" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:18.029" endtime="20230509 17:06:18.040"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:18.040" endtime="20230509 17:06:18.041"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:18.043" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.046" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:18.041" endtime="20230509 17:06:18.046"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.047" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:18.046" endtime="20230509 17:06:18.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.047" endtime="20230509 17:06:18.048"/>
</kw>
<status status="PASS" starttime="20230509 17:06:18.041" endtime="20230509 17:06:18.048"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:15.048" endtime="20230509 17:06:18.048"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:18.053" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.690" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.690" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:18.051" endtime="20230509 17:06:18.690"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.691" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:06:18 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:06:18.691" endtime="20230509 17:06:18.691"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.692" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.692" endtime="20230509 17:06:18.692"/>
</kw>
<msg timestamp="20230509 17:06:18.692" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:18.050" endtime="20230509 17:06:18.693"/>
</kw>
<msg timestamp="20230509 17:06:18.693" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:02:52 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:18.050" endtime="20230509 17:06:18.693"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:18.693" endtime="20230509 17:06:18.693"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:18.697" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.699" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:18.694" endtime="20230509 17:06:18.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.700" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:18.699" endtime="20230509 17:06:18.700"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.700" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.700" endtime="20230509 17:06:18.701"/>
</kw>
<msg timestamp="20230509 17:06:18.701" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:18.694" endtime="20230509 17:06:18.701"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:18.701" endtime="20230509 17:06:18.702"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:18.704" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:18.707" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:18.707" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:18.702" endtime="20230509 17:06:18.707"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:18.708" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:18.707" endtime="20230509 17:06:18.708"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:18.709" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:18.708" endtime="20230509 17:06:18.709"/>
</kw>
<status status="PASS" starttime="20230509 17:06:18.702" endtime="20230509 17:06:18.709"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:18.049" endtime="20230509 17:06:18.709"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 17:06:07.946" endtime="20230509 17:06:18.710"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 17:06:22.681" level="INFO">${random} = 80130</msg>
<status status="PASS" starttime="20230509 17:06:22.680" endtime="20230509 17:06:22.681"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:22.687" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-80130 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:27.016" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:27.016" level="INFO">${output} = 2023-05-09 17:06:25,740 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:25,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:22.683" endtime="20230509 17:06:27.016"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:27.017" level="INFO">2023-05-09 17:06:25,740 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:25,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:06:25,874 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230509 17:06:27.016" endtime="20230509 17:06:27.017"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:27.018" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:27.018" endtime="20230509 17:06:27.018"/>
</kw>
<status status="PASS" starttime="20230509 17:06:22.683" endtime="20230509 17:06:27.018"/>
</kw>
<msg timestamp="20230509 17:06:27.018" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:22.682" endtime="20230509 17:06:27.019"/>
</kw>
<msg timestamp="20230509 17:06:27.020" level="INFO">${output} = 2023-05-09 17:06:25,740 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:25,874 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:22.681" endtime="20230509 17:06:27.020"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:27.020" endtime="20230509 17:06:27.020"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:27.023" level="INFO">Running command 'cat /tmp/key-80130 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:27.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:27.026" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:27.021" endtime="20230509 17:06:27.026"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:27.027" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:27.026" endtime="20230509 17:06:27.027"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:27.028" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:27.027" endtime="20230509 17:06:27.028"/>
</kw>
<msg timestamp="20230509 17:06:27.028" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:27.020" endtime="20230509 17:06:27.028"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:27.028" endtime="20230509 17:06:27.029"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:27.032" level="INFO">Running command 'rm /tmp/key-80130 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:27.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:27.034" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:27.029" endtime="20230509 17:06:27.034"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:27.035" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:27.035" endtime="20230509 17:06:27.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:27.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:27.035" endtime="20230509 17:06:27.036"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.029" endtime="20230509 17:06:27.036"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:22.679" endtime="20230509 17:06:27.036"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:27.042" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:27.541" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:27.541" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:27.040" endtime="20230509 17:06:27.541"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:27.542" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:27.541" endtime="20230509 17:06:27.542"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:27.543" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:27.543" endtime="20230509 17:06:27.543"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.040" endtime="20230509 17:06:27.544"/>
</kw>
<msg timestamp="20230509 17:06:27.544" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:27.039" endtime="20230509 17:06:27.544"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.039" endtime="20230509 17:06:27.545"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:27.549" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:28.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:28.046" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:27.546" endtime="20230509 17:06:28.046"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:28.047" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:28.046" endtime="20230509 17:06:28.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:28.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:28.047" endtime="20230509 17:06:28.048"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.546" endtime="20230509 17:06:28.048"/>
</kw>
<msg timestamp="20230509 17:06:28.048" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:27.546" endtime="20230509 17:06:28.049"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.545" endtime="20230509 17:06:28.049"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:28.052" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:28.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:28.549" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:28.050" endtime="20230509 17:06:28.549"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:28.550" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:28.549" endtime="20230509 17:06:28.550"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:28.551" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:28.550" endtime="20230509 17:06:28.551"/>
</kw>
<status status="PASS" starttime="20230509 17:06:28.050" endtime="20230509 17:06:28.551"/>
</kw>
<msg timestamp="20230509 17:06:28.551" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:28.050" endtime="20230509 17:06:28.552"/>
</kw>
<status status="PASS" starttime="20230509 17:06:28.049" endtime="20230509 17:06:28.552"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:28.556" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:29.084" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:29.084" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:28.553" endtime="20230509 17:06:29.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:29.086" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:29.085" endtime="20230509 17:06:29.086"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:29.086" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:29.086" endtime="20230509 17:06:29.086"/>
</kw>
<status status="PASS" starttime="20230509 17:06:28.553" endtime="20230509 17:06:29.087"/>
</kw>
<msg timestamp="20230509 17:06:29.087" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:28.552" endtime="20230509 17:06:29.087"/>
</kw>
<status status="PASS" starttime="20230509 17:06:28.552" endtime="20230509 17:06:29.087"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.038" endtime="20230509 17:06:29.087"/>
</kw>
<status status="PASS" starttime="20230509 17:06:27.038" endtime="20230509 17:06:29.087"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:27.037" endtime="20230509 17:06:29.088"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:29.093" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:29.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:29.741" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.090" endtime="20230509 17:06:29.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:29.742" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:06:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:06:29.741" endtime="20230509 17:06:29.742"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:29.752" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:29.742" endtime="20230509 17:06:29.752"/>
</kw>
<msg timestamp="20230509 17:06:29.753" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.090" endtime="20230509 17:06:29.753"/>
</kw>
<msg timestamp="20230509 17:06:29.753" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.089" endtime="20230509 17:06:29.753"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:29.753" endtime="20230509 17:06:29.753"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:29.779" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:29.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:29.783" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:29.774" endtime="20230509 17:06:29.783"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:29.784" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:29.783" endtime="20230509 17:06:29.784"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:29.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:29.784" endtime="20230509 17:06:29.785"/>
</kw>
<msg timestamp="20230509 17:06:29.786" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:06:29.768" endtime="20230509 17:06:29.786"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:29.786" endtime="20230509 17:06:29.786"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:29.793" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:29.796" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:29.796" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:29.787" endtime="20230509 17:06:29.796"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:29.797" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:29.797" endtime="20230509 17:06:29.797"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:29.798" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:29.797" endtime="20230509 17:06:29.798"/>
</kw>
<status status="PASS" starttime="20230509 17:06:29.786" endtime="20230509 17:06:29.798"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:29.089" endtime="20230509 17:06:29.799"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:29.804" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:30.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:30.486" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.802" endtime="20230509 17:06:30.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:30.487" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:06:30 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:06:30.486" endtime="20230509 17:06:30.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:30.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:30.487" endtime="20230509 17:06:30.488"/>
</kw>
<msg timestamp="20230509 17:06:30.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.801" endtime="20230509 17:06:30.488"/>
</kw>
<msg timestamp="20230509 17:06:30.489" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:06:29.800" endtime="20230509 17:06:30.489"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:30.489" endtime="20230509 17:06:30.489"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:30.492" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:30.495" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:30.495" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:30.490" endtime="20230509 17:06:30.495"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:30.496" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:30.496" endtime="20230509 17:06:30.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:30.497" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:30.496" endtime="20230509 17:06:30.497"/>
</kw>
<msg timestamp="20230509 17:06:30.497" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:06:30.489" endtime="20230509 17:06:30.497"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:30.497" endtime="20230509 17:06:30.498"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:30.501" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:30.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:30.503" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:30.498" endtime="20230509 17:06:30.503"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:30.505" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:30.504" endtime="20230509 17:06:30.505"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:30.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:30.505" endtime="20230509 17:06:30.505"/>
</kw>
<status status="PASS" starttime="20230509 17:06:30.498" endtime="20230509 17:06:30.506"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:29.799" endtime="20230509 17:06:30.506"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 17:06:22.600" endtime="20230509 17:06:30.507"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:34.340" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:37.089" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:37.089" level="INFO">${output} = 2023-05-09 17:06:36,857 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 17:06:34.335" endtime="20230509 17:06:37.089"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:37.090" level="INFO">2023-05-09 17:06:36,857 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 17:06:37.090" endtime="20230509 17:06:37.090"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:37.094" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:37.093" endtime="20230509 17:06:37.094"/>
</kw>
<status status="PASS" starttime="20230509 17:06:34.335" endtime="20230509 17:06:37.094"/>
</kw>
<msg timestamp="20230509 17:06:37.094" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:34.335" endtime="20230509 17:06:37.095"/>
</kw>
<msg timestamp="20230509 17:06:37.095" level="INFO">${output} = 2023-05-09 17:06:36,857 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 17:06:34.334" endtime="20230509 17:06:37.095"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:37.096" endtime="20230509 17:06:37.096"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:37.103" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:40.096" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:40.096" level="INFO">${output} = 2023-05-09 17:06:40,022 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230509 17:06:37.097" endtime="20230509 17:06:40.096"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:40.098" level="INFO">2023-05-09 17:06:40,022 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230509 17:06:40.096" endtime="20230509 17:06:40.098"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:40.099" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:40.098" endtime="20230509 17:06:40.099"/>
</kw>
<status status="PASS" starttime="20230509 17:06:37.097" endtime="20230509 17:06:40.099"/>
</kw>
<msg timestamp="20230509 17:06:40.099" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:37.097" endtime="20230509 17:06:40.099"/>
</kw>
<msg timestamp="20230509 17:06:40.100" level="INFO">${output} = 2023-05-09 17:06:40,022 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230509 17:06:37.096" endtime="20230509 17:06:40.100"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:40.100" endtime="20230509 17:06:40.100"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:34.333" endtime="20230509 17:06:40.101"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:40.107" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:06:40.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:40.109" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:40.104" endtime="20230509 17:06:40.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:40.110" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:40.109" endtime="20230509 17:06:40.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:40.110" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:40.110" endtime="20230509 17:06:40.110"/>
</kw>
<status status="PASS" starttime="20230509 17:06:40.103" endtime="20230509 17:06:40.111"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:40.120" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:46.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:46.151" level="INFO">${output} = 2023-05-09 17:06:44,042 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:44,159 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:40.113" endtime="20230509 17:06:46.151"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:46.152" level="INFO">2023-05-09 17:06:44,042 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:44,159 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:06:44,160 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 17:06:44,414 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 17:06:46.152" endtime="20230509 17:06:46.152"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:46.153" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:46.153" endtime="20230509 17:06:46.153"/>
</kw>
<status status="PASS" starttime="20230509 17:06:40.112" endtime="20230509 17:06:46.153"/>
</kw>
<msg timestamp="20230509 17:06:46.153" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:40.112" endtime="20230509 17:06:46.154"/>
</kw>
<msg timestamp="20230509 17:06:46.154" level="INFO">${output} = 2023-05-09 17:06:44,042 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:44,159 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:40.111" endtime="20230509 17:06:46.154"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:46.154" endtime="20230509 17:06:46.155"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:46.158" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:46.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:46.161" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:46.155" endtime="20230509 17:06:46.161"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:46.162" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:46.161" endtime="20230509 17:06:46.162"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:46.162" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:46.162" endtime="20230509 17:06:46.162"/>
</kw>
<status status="PASS" starttime="20230509 17:06:46.155" endtime="20230509 17:06:46.163"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:40.102" endtime="20230509 17:06:46.163"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:46.172" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:48.835" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:48.835" level="INFO">${output} = 2023-05-09 17:06:48,766 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230509 17:06:46.166" endtime="20230509 17:06:48.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:48.837" level="INFO">2023-05-09 17:06:48,766 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230509 17:06:48.836" endtime="20230509 17:06:48.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:48.837" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:48.837" endtime="20230509 17:06:48.838"/>
</kw>
<status status="PASS" starttime="20230509 17:06:46.165" endtime="20230509 17:06:48.838"/>
</kw>
<msg timestamp="20230509 17:06:48.838" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:46.165" endtime="20230509 17:06:48.838"/>
</kw>
<msg timestamp="20230509 17:06:48.838" level="INFO">${output} = 2023-05-09 17:06:48,766 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230509 17:06:46.165" endtime="20230509 17:06:48.839"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:48.839" endtime="20230509 17:06:48.839"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:46.164" endtime="20230509 17:06:48.839"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:48.844" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:06:48.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:48.845" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:48.841" endtime="20230509 17:06:48.845"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:48.846" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:48.846" endtime="20230509 17:06:48.846"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:48.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:48.847" endtime="20230509 17:06:48.847"/>
</kw>
<status status="PASS" starttime="20230509 17:06:48.841" endtime="20230509 17:06:48.847"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:48.851" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:53.808" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:53.808" level="INFO">${output} = 2023-05-09 17:06:52,289 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:52,369 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:48.849" endtime="20230509 17:06:53.808"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:53.809" level="INFO">2023-05-09 17:06:52,289 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:52,369 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:06:52,369 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 17:06:52,617 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 17:06:53.808" endtime="20230509 17:06:53.809"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:53.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:53.810" endtime="20230509 17:06:53.810"/>
</kw>
<status status="PASS" starttime="20230509 17:06:48.848" endtime="20230509 17:06:53.810"/>
</kw>
<msg timestamp="20230509 17:06:53.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:48.848" endtime="20230509 17:06:53.811"/>
</kw>
<msg timestamp="20230509 17:06:53.811" level="INFO">${output} = 2023-05-09 17:06:52,289 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:06:52,369 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:06:48.848" endtime="20230509 17:06:53.811"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:53.811" endtime="20230509 17:06:53.812"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:53.815" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:53.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:53.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:53.813" endtime="20230509 17:06:53.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:53.818" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:53.818" endtime="20230509 17:06:53.818"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:53.819" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:53.818" endtime="20230509 17:06:53.819"/>
</kw>
<status status="PASS" starttime="20230509 17:06:53.812" endtime="20230509 17:06:53.819"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:48.840" endtime="20230509 17:06:53.820"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:53.826" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:54.314" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:54.314" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:53.824" endtime="20230509 17:06:54.314"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:54.317" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:54.316" endtime="20230509 17:06:54.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:54.317" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:54.317" endtime="20230509 17:06:54.317"/>
</kw>
<status status="PASS" starttime="20230509 17:06:53.824" endtime="20230509 17:06:54.318"/>
</kw>
<msg timestamp="20230509 17:06:54.318" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:53.823" endtime="20230509 17:06:54.318"/>
</kw>
<status status="PASS" starttime="20230509 17:06:53.823" endtime="20230509 17:06:54.318"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:54.322" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:54.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:54.833" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:54.320" endtime="20230509 17:06:54.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:54.834" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:54.833" endtime="20230509 17:06:54.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:54.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:54.834" endtime="20230509 17:06:54.835"/>
</kw>
<status status="PASS" starttime="20230509 17:06:54.320" endtime="20230509 17:06:54.835"/>
</kw>
<msg timestamp="20230509 17:06:54.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:54.319" endtime="20230509 17:06:54.836"/>
</kw>
<status status="PASS" starttime="20230509 17:06:54.319" endtime="20230509 17:06:54.836"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:54.840" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:55.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:55.332" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:54.837" endtime="20230509 17:06:55.332"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:55.333" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:55.332" endtime="20230509 17:06:55.333"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:55.333" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:55.333" endtime="20230509 17:06:55.334"/>
</kw>
<status status="PASS" starttime="20230509 17:06:54.837" endtime="20230509 17:06:55.334"/>
</kw>
<msg timestamp="20230509 17:06:55.334" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:54.836" endtime="20230509 17:06:55.334"/>
</kw>
<status status="PASS" starttime="20230509 17:06:54.836" endtime="20230509 17:06:55.335"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:55.338" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:55.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:55.833" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:55.336" endtime="20230509 17:06:55.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:55.834" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:55.833" endtime="20230509 17:06:55.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:55.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:55.834" endtime="20230509 17:06:55.835"/>
</kw>
<status status="PASS" starttime="20230509 17:06:55.335" endtime="20230509 17:06:55.835"/>
</kw>
<msg timestamp="20230509 17:06:55.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:55.335" endtime="20230509 17:06:55.836"/>
</kw>
<status status="PASS" starttime="20230509 17:06:55.335" endtime="20230509 17:06:55.836"/>
</kw>
<status status="PASS" starttime="20230509 17:06:53.822" endtime="20230509 17:06:55.836"/>
</kw>
<status status="PASS" starttime="20230509 17:06:53.822" endtime="20230509 17:06:55.836"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:53.821" endtime="20230509 17:06:55.836"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:55.843" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:56.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:56.494" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:06:55.840" endtime="20230509 17:06:56.494"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:56.495" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:06:56.494" endtime="20230509 17:06:56.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:56.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:56.496" endtime="20230509 17:06:56.497"/>
</kw>
<status status="PASS" starttime="20230509 17:06:55.840" endtime="20230509 17:06:56.497"/>
</kw>
<msg timestamp="20230509 17:06:56.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:55.840" endtime="20230509 17:06:56.498"/>
</kw>
<msg timestamp="20230509 17:06:56.498" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:06:55.839" endtime="20230509 17:06:56.498"/>
</kw>
<msg timestamp="20230509 17:06:56.498" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:06:55.839" endtime="20230509 17:06:56.498"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:56.498" endtime="20230509 17:06:56.499"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:56.499" endtime="20230509 17:06:56.499"/>
</kw>
<msg timestamp="20230509 17:06:56.500" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230509 17:06:55.838" endtime="20230509 17:06:56.500"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230509 17:06:56.500" endtime="20230509 17:06:56.500"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:55.837" endtime="20230509 17:06:56.500"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:56.505" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:06:56.507" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:56.507" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:56.503" endtime="20230509 17:06:56.507"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:56.508" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:56.507" endtime="20230509 17:06:56.508"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:56.509" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:56.508" endtime="20230509 17:06:56.509"/>
</kw>
<status status="PASS" starttime="20230509 17:06:56.502" endtime="20230509 17:06:56.509"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:56.513" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:57.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:57.629" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:56.511" endtime="20230509 17:06:57.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:57.630" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:57.630" endtime="20230509 17:06:57.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:57.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:57.630" endtime="20230509 17:06:57.631"/>
</kw>
<msg timestamp="20230509 17:06:57.632" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:56.510" endtime="20230509 17:06:57.632"/>
</kw>
<msg timestamp="20230509 17:06:57.632" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:56.509" endtime="20230509 17:06:57.632"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:06:57.632" endtime="20230509 17:06:57.632"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:57.636" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:57.638" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:57.638" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:06:57.633" endtime="20230509 17:06:57.638"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:57.639" level="INFO"/>
<status status="PASS" starttime="20230509 17:06:57.639" endtime="20230509 17:06:57.639"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:57.640" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:57.640" endtime="20230509 17:06:57.640"/>
</kw>
<status status="PASS" starttime="20230509 17:06:57.633" endtime="20230509 17:06:57.640"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:06:56.501" endtime="20230509 17:06:57.641"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230509 17:06:34.257" endtime="20230509 17:06:57.642"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 17:07:01.574" level="INFO">${random} = 50704</msg>
<status status="PASS" starttime="20230509 17:07:01.573" endtime="20230509 17:07:01.574"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:01.579" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-50704 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:05.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:05.967" level="INFO">${output} = 2023-05-09 17:07:04,597 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:04,722 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:01.576" endtime="20230509 17:07:05.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:05.968" level="INFO">2023-05-09 17:07:04,597 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:04,722 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:07:04,722 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230509 17:07:05.967" endtime="20230509 17:07:05.968"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:05.968" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:05.968" endtime="20230509 17:07:05.969"/>
</kw>
<status status="PASS" starttime="20230509 17:07:01.575" endtime="20230509 17:07:05.969"/>
</kw>
<msg timestamp="20230509 17:07:05.969" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:01.574" endtime="20230509 17:07:05.970"/>
</kw>
<msg timestamp="20230509 17:07:05.970" level="INFO">${output} = 2023-05-09 17:07:04,597 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:04,722 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:01.574" endtime="20230509 17:07:05.970"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:05.970" endtime="20230509 17:07:05.971"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:05.974" level="INFO">Running command 'cat /tmp/key-50704 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:05.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:05.977" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:05.972" endtime="20230509 17:07:05.977"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:05.978" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:05.977" endtime="20230509 17:07:05.978"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:05.978" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:05.978" endtime="20230509 17:07:05.978"/>
</kw>
<msg timestamp="20230509 17:07:05.979" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:05.971" endtime="20230509 17:07:05.979"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:05.979" endtime="20230509 17:07:05.979"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:05.983" level="INFO">Running command 'rm /tmp/key-50704 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:05.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:05.985" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:05.980" endtime="20230509 17:07:05.985"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:05.986" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:05.986" endtime="20230509 17:07:05.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:05.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:05.986" endtime="20230509 17:07:05.987"/>
</kw>
<status status="PASS" starttime="20230509 17:07:05.980" endtime="20230509 17:07:05.987"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:01.572" endtime="20230509 17:07:05.988"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:05.994" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:06.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:06.485" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:05.991" endtime="20230509 17:07:06.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:06.486" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:06.485" endtime="20230509 17:07:06.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:06.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:06.486" endtime="20230509 17:07:06.487"/>
</kw>
<status status="PASS" starttime="20230509 17:07:05.991" endtime="20230509 17:07:06.487"/>
</kw>
<msg timestamp="20230509 17:07:06.487" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:05.991" endtime="20230509 17:07:06.487"/>
</kw>
<status status="PASS" starttime="20230509 17:07:05.990" endtime="20230509 17:07:06.488"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:06.491" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:06.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:06.976" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:06.489" endtime="20230509 17:07:06.976"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:06.977" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:06.976" endtime="20230509 17:07:06.977"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:06.978" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:06.977" endtime="20230509 17:07:06.978"/>
</kw>
<status status="PASS" starttime="20230509 17:07:06.488" endtime="20230509 17:07:06.978"/>
</kw>
<msg timestamp="20230509 17:07:06.978" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:06.488" endtime="20230509 17:07:06.979"/>
</kw>
<status status="PASS" starttime="20230509 17:07:06.488" endtime="20230509 17:07:06.979"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:06.983" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:07.473" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:07.474" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:06.980" endtime="20230509 17:07:07.474"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:07.475" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:07.474" endtime="20230509 17:07:07.475"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:07.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:07.475" endtime="20230509 17:07:07.476"/>
</kw>
<status status="PASS" starttime="20230509 17:07:06.980" endtime="20230509 17:07:07.476"/>
</kw>
<msg timestamp="20230509 17:07:07.476" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:06.979" endtime="20230509 17:07:07.476"/>
</kw>
<status status="PASS" starttime="20230509 17:07:06.979" endtime="20230509 17:07:07.477"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:07.480" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:07.971" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:07.971" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:07.478" endtime="20230509 17:07:07.971"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:07.972" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:07.971" endtime="20230509 17:07:07.972"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:07.973" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:07.972" endtime="20230509 17:07:07.973"/>
</kw>
<status status="PASS" starttime="20230509 17:07:07.477" endtime="20230509 17:07:07.973"/>
</kw>
<msg timestamp="20230509 17:07:07.973" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:07.477" endtime="20230509 17:07:07.974"/>
</kw>
<status status="PASS" starttime="20230509 17:07:07.477" endtime="20230509 17:07:07.974"/>
</kw>
<status status="PASS" starttime="20230509 17:07:05.990" endtime="20230509 17:07:07.974"/>
</kw>
<status status="PASS" starttime="20230509 17:07:05.989" endtime="20230509 17:07:07.974"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:05.989" endtime="20230509 17:07:07.974"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:07.979" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:08.612" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:08.612" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:53 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:07.977" endtime="20230509 17:07:08.612"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:08.613" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:53 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:07:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:07:08.612" endtime="20230509 17:07:08.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:08.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:08.613" endtime="20230509 17:07:08.614"/>
</kw>
<msg timestamp="20230509 17:07:08.614" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:53 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:07.976" endtime="20230509 17:07:08.614"/>
</kw>
<msg timestamp="20230509 17:07:08.615" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:53 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:07.976" endtime="20230509 17:07:08.615"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:08.615" endtime="20230509 17:07:08.615"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:08.618" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:08.621" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:08.621" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:08.616" endtime="20230509 17:07:08.621"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:08.622" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:08.621" endtime="20230509 17:07:08.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:08.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:08.622" endtime="20230509 17:07:08.623"/>
</kw>
<msg timestamp="20230509 17:07:08.623" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:07:08.615" endtime="20230509 17:07:08.623"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:08.623" endtime="20230509 17:07:08.623"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:08.626" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:08.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:08.629" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:08.624" endtime="20230509 17:07:08.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:08.630" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:08.629" endtime="20230509 17:07:08.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:08.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:08.630" endtime="20230509 17:07:08.631"/>
</kw>
<status status="PASS" starttime="20230509 17:07:08.624" endtime="20230509 17:07:08.631"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:07.975" endtime="20230509 17:07:08.632"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:08.637" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:09.238" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:09.238" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:57 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:08.635" endtime="20230509 17:07:09.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:09.239" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:57 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:07:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:07:09.238" endtime="20230509 17:07:09.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:09.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:09.239" endtime="20230509 17:07:09.240"/>
</kw>
<msg timestamp="20230509 17:07:09.240" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:57 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:08.634" endtime="20230509 17:07:09.240"/>
</kw>
<msg timestamp="20230509 17:07:09.240" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:06:57 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:07:08.633" endtime="20230509 17:07:09.240"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:09.241" endtime="20230509 17:07:09.241"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:09.244" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:09.246" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:09.246" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:07:09.242" endtime="20230509 17:07:09.246"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:09.247" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:07:09.247" endtime="20230509 17:07:09.248"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:09.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:09.248" endtime="20230509 17:07:09.248"/>
</kw>
<msg timestamp="20230509 17:07:09.249" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:07:09.241" endtime="20230509 17:07:09.249"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:09.249" endtime="20230509 17:07:09.249"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:09.252" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:09.254" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:09.254" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:09.250" endtime="20230509 17:07:09.254"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:09.255" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:09.255" endtime="20230509 17:07:09.256"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:09.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:09.256" endtime="20230509 17:07:09.256"/>
</kw>
<status status="PASS" starttime="20230509 17:07:09.249" endtime="20230509 17:07:09.256"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:08.632" endtime="20230509 17:07:09.257"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 17:07:01.498" endtime="20230509 17:07:09.258"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:13.310" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:07:13.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:13.313" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:13.306" endtime="20230509 17:07:13.313"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:13.314" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:13.313" endtime="20230509 17:07:13.314"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:13.315" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:13.314" endtime="20230509 17:07:13.315"/>
</kw>
<status status="PASS" starttime="20230509 17:07:13.305" endtime="20230509 17:07:13.315"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:13.327" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:18.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:18.317" level="INFO">${output} = 2023-05-09 17:07:16,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:16,778 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:13.323" endtime="20230509 17:07:18.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:18.318" level="INFO">2023-05-09 17:07:16,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:16,778 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:07:16,778 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 17:07:17,177 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 17:07:18.318" endtime="20230509 17:07:18.319"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:18.319" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:18.319" endtime="20230509 17:07:18.319"/>
</kw>
<status status="PASS" starttime="20230509 17:07:13.316" endtime="20230509 17:07:18.320"/>
</kw>
<msg timestamp="20230509 17:07:18.320" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:13.316" endtime="20230509 17:07:18.321"/>
</kw>
<msg timestamp="20230509 17:07:18.321" level="INFO">${output} = 2023-05-09 17:07:16,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:16,778 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:13.315" endtime="20230509 17:07:18.321"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:18.321" endtime="20230509 17:07:18.322"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:18.325" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:18.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:18.327" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:18.322" endtime="20230509 17:07:18.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:18.328" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:18.328" endtime="20230509 17:07:18.328"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:18.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:18.329" endtime="20230509 17:07:18.329"/>
</kw>
<status status="PASS" starttime="20230509 17:07:18.322" endtime="20230509 17:07:18.329"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:13.304" endtime="20230509 17:07:18.330"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:18.335" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:07:18.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:18.337" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:18.333" endtime="20230509 17:07:18.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:18.338" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:18.337" endtime="20230509 17:07:18.338"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:18.339" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:18.338" endtime="20230509 17:07:18.339"/>
</kw>
<status status="PASS" starttime="20230509 17:07:18.332" endtime="20230509 17:07:18.339"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:18.343" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:22.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:22.957" level="INFO">${output} = 2023-05-09 17:07:21,494 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:21,614 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:18.341" endtime="20230509 17:07:22.957"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:22.958" level="INFO">2023-05-09 17:07:21,494 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:21,614 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 17:07:21,614 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 17:07:21,877 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 17:07:22.957" endtime="20230509 17:07:22.958"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:22.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:22.958" endtime="20230509 17:07:22.959"/>
</kw>
<status status="PASS" starttime="20230509 17:07:18.340" endtime="20230509 17:07:22.959"/>
</kw>
<msg timestamp="20230509 17:07:22.959" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:18.340" endtime="20230509 17:07:22.959"/>
</kw>
<msg timestamp="20230509 17:07:22.960" level="INFO">${output} = 2023-05-09 17:07:21,494 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 17:07:21,614 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 17:07:18.339" endtime="20230509 17:07:22.960"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:22.960" endtime="20230509 17:07:22.960"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:22.963" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:22.966" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:22.966" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:22.961" endtime="20230509 17:07:22.966"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:22.967" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:22.966" endtime="20230509 17:07:22.967"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:22.967" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:22.967" endtime="20230509 17:07:22.967"/>
</kw>
<status status="PASS" starttime="20230509 17:07:22.960" endtime="20230509 17:07:22.968"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:18.331" endtime="20230509 17:07:22.968"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:22.974" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:23.474" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:23.474" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:22.972" endtime="20230509 17:07:23.474"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:23.476" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:23.475" endtime="20230509 17:07:23.476"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:23.476" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:23.476" endtime="20230509 17:07:23.476"/>
</kw>
<status status="PASS" starttime="20230509 17:07:22.971" endtime="20230509 17:07:23.477"/>
</kw>
<msg timestamp="20230509 17:07:23.477" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:22.971" endtime="20230509 17:07:23.477"/>
</kw>
<status status="PASS" starttime="20230509 17:07:22.970" endtime="20230509 17:07:23.478"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:23.482" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:23.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:23.972" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:23.479" endtime="20230509 17:07:23.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:23.973" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:23.972" endtime="20230509 17:07:23.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:23.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:23.973" endtime="20230509 17:07:23.974"/>
</kw>
<status status="PASS" starttime="20230509 17:07:23.479" endtime="20230509 17:07:23.975"/>
</kw>
<msg timestamp="20230509 17:07:23.975" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:23.478" endtime="20230509 17:07:23.975"/>
</kw>
<status status="PASS" starttime="20230509 17:07:23.478" endtime="20230509 17:07:23.975"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:23.980" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:24.459" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:24.459" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:23.978" endtime="20230509 17:07:24.460"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:24.461" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:24.460" endtime="20230509 17:07:24.461"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:24.463" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:24.461" endtime="20230509 17:07:24.463"/>
</kw>
<status status="PASS" starttime="20230509 17:07:23.976" endtime="20230509 17:07:24.463"/>
</kw>
<msg timestamp="20230509 17:07:24.463" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:23.976" endtime="20230509 17:07:24.463"/>
</kw>
<status status="PASS" starttime="20230509 17:07:23.975" endtime="20230509 17:07:24.464"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:24.467" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:24.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:24.979" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:24.465" endtime="20230509 17:07:24.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:24.980" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:24.980" endtime="20230509 17:07:24.980"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:24.981" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:24.981" endtime="20230509 17:07:24.981"/>
</kw>
<status status="PASS" starttime="20230509 17:07:24.465" endtime="20230509 17:07:24.981"/>
</kw>
<msg timestamp="20230509 17:07:24.981" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:24.464" endtime="20230509 17:07:24.982"/>
</kw>
<status status="PASS" starttime="20230509 17:07:24.464" endtime="20230509 17:07:24.982"/>
</kw>
<status status="PASS" starttime="20230509 17:07:22.970" endtime="20230509 17:07:24.982"/>
</kw>
<status status="PASS" starttime="20230509 17:07:22.970" endtime="20230509 17:07:24.982"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:22.969" endtime="20230509 17:07:24.982"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:24.988" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:25.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:25.642" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:07:24.986" endtime="20230509 17:07:25.642"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:25.643" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:07:25.642" endtime="20230509 17:07:25.643"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:25.644" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:25.643" endtime="20230509 17:07:25.644"/>
</kw>
<status status="PASS" starttime="20230509 17:07:24.986" endtime="20230509 17:07:25.644"/>
</kw>
<msg timestamp="20230509 17:07:25.644" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:07:24.985" endtime="20230509 17:07:25.645"/>
</kw>
<msg timestamp="20230509 17:07:25.645" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:07:24.985" endtime="20230509 17:07:25.645"/>
</kw>
<msg timestamp="20230509 17:07:25.645" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:07:24.985" endtime="20230509 17:07:25.645"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:25.645" endtime="20230509 17:07:25.646"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:25.646" endtime="20230509 17:07:25.646"/>
</kw>
<msg timestamp="20230509 17:07:25.647" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230509 17:07:24.984" endtime="20230509 17:07:25.647"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230509 17:07:25.647" endtime="20230509 17:07:25.647"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:24.983" endtime="20230509 17:07:25.648"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:25.652" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:07:25.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:25.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:25.650" endtime="20230509 17:07:25.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:25.655" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:25.655" endtime="20230509 17:07:25.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:25.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:25.656" endtime="20230509 17:07:25.656"/>
</kw>
<status status="PASS" starttime="20230509 17:07:25.649" endtime="20230509 17:07:25.656"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:25.660" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:26.400" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:26.400" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:25.658" endtime="20230509 17:07:26.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:26.402" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:26.401" endtime="20230509 17:07:26.402"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:26.403" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:26.402" endtime="20230509 17:07:26.403"/>
</kw>
<msg timestamp="20230509 17:07:26.403" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:25.657" endtime="20230509 17:07:26.403"/>
</kw>
<msg timestamp="20230509 17:07:26.404" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:25.656" endtime="20230509 17:07:26.404"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:07:26.404" endtime="20230509 17:07:26.404"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:26.407" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:07:26.410" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:07:26.410" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:07:26.405" endtime="20230509 17:07:26.410"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:07:26.411" level="INFO"/>
<status status="PASS" starttime="20230509 17:07:26.410" endtime="20230509 17:07:26.411"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:07:26.412" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:07:26.411" endtime="20230509 17:07:26.412"/>
</kw>
<status status="PASS" starttime="20230509 17:07:26.404" endtime="20230509 17:07:26.412"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:07:25.648" endtime="20230509 17:07:26.413"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230509 17:07:13.223" endtime="20230509 17:07:26.414"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 17:07:30.395" endtime="20230509 17:07:30.396"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 17:07:30.396" endtime="20230509 17:07:30.396"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:07:30.401" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:12:30.396" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230509 17:07:30.398" endtime="20230509 17:12:30.396"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230509 17:12:30.396" endtime="20230509 17:12:30.396"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230509 17:12:30.397" endtime="20230509 17:12:30.397"/>
</kw>
<status status="FAIL" starttime="20230509 17:07:30.397" endtime="20230509 17:12:30.397"/>
</kw>
<msg timestamp="20230509 17:12:30.398" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230509 17:07:30.397" endtime="20230509 17:12:30.399"/>
</kw>
<status status="FAIL" starttime="20230509 17:07:30.396" endtime="20230509 17:12:30.399"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230509 17:12:30.400" endtime="20230509 17:12:30.400"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230509 17:07:30.394" endtime="20230509 17:12:30.400">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230509 17:07:30.344" endtime="20230509 17:12:30.402"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 17:05:57.634" endtime="20230509 17:05:57.635"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:05:57.640" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:05:57.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:05:57.642" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bc5ae2ea854d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230509 17:05:57.636" endtime="20230509 17:05:57.642"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:05:57.643" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bc5ae2ea854d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230509 17:05:57.643" endtime="20230509 17:05:57.644"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:05:57.644" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:05:57.644" endtime="20230509 17:05:57.644"/>
</kw>
<status status="PASS" starttime="20230509 17:05:57.636" endtime="20230509 17:05:57.644"/>
</kw>
<msg timestamp="20230509 17:05:57.644" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:05:57.636" endtime="20230509 17:05:57.645"/>
</kw>
<msg timestamp="20230509 17:05:57.646" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bc5ae2ea854d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230509 17:05:57.635" endtime="20230509 17:05:57.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:05:57.646" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bc5ae2ea854d
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230509 17:05:57.646" endtime="20230509 17:05:57.646"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 17:05:57.646" endtime="20230509 17:05:57.647"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:05:57.652" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:01.235" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:01.235" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 17:05:57.649" endtime="20230509 17:06:01.235"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:01.236" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 17:06:01.236" endtime="20230509 17:06:01.237"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:01.237" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:01.237" endtime="20230509 17:06:01.237"/>
</kw>
<status status="PASS" starttime="20230509 17:05:57.648" endtime="20230509 17:06:01.237"/>
</kw>
<msg timestamp="20230509 17:06:01.237" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:05:57.647" endtime="20230509 17:06:01.238"/>
</kw>
<msg timestamp="20230509 17:06:01.238" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 17:05:57.647" endtime="20230509 17:06:01.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:01.239" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 17:06:01.238" endtime="20230509 17:06:01.239"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230509 17:06:01.239" endtime="20230509 17:06:01.239"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230509 17:05:57.634" endtime="20230509 17:06:01.239"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 17:06:01.241" endtime="20230509 17:06:01.241"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 17:06:01.241" endtime="20230509 17:06:01.241"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:06:01.246" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:06:04.051" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:06:04.051" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 17:06:01.243" endtime="20230509 17:06:04.051"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:04.052" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 17:06:04.051" endtime="20230509 17:06:04.052"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:06:04.053" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:06:04.052" endtime="20230509 17:06:04.053"/>
</kw>
<status status="PASS" starttime="20230509 17:06:01.242" endtime="20230509 17:06:04.053"/>
</kw>
<msg timestamp="20230509 17:06:04.053" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:06:01.242" endtime="20230509 17:06:04.054"/>
</kw>
<msg timestamp="20230509 17:06:04.054" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 17:06:01.242" endtime="20230509 17:06:04.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:06:04.055" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 17:06:04.054" endtime="20230509 17:06:04.055"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230509 17:06:04.055" endtime="20230509 17:06:04.055"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230509 17:06:01.240" endtime="20230509 17:06:04.055"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230509 17:05:57.586" endtime="20230509 17:06:04.057"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:51.565" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:58:54.121" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:54.121" level="INFO">${output} = 2023-05-09 16:58:54,013 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 16:58:51.560" endtime="20230509 16:58:54.121"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:54.125" level="INFO">2023-05-09 16:58:54,013 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 16:58:54.122" endtime="20230509 16:58:54.125"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:54.126" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:54.125" endtime="20230509 16:58:54.126"/>
</kw>
<status status="PASS" starttime="20230509 16:58:51.560" endtime="20230509 16:58:54.126"/>
</kw>
<msg timestamp="20230509 16:58:54.126" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:51.559" endtime="20230509 16:58:54.128"/>
</kw>
<msg timestamp="20230509 16:58:54.128" level="INFO">${output} = 2023-05-09 16:58:54,013 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230509 16:58:51.559" endtime="20230509 16:58:54.128"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:58:54.128" endtime="20230509 16:58:54.129"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:54.132" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:58:56.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:56.735" level="INFO">${output} = 2023-05-09 16:58:56,663 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230509 16:58:54.130" endtime="20230509 16:58:56.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:56.736" level="INFO">2023-05-09 16:58:56,663 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230509 16:58:56.735" endtime="20230509 16:58:56.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:56.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:56.736" endtime="20230509 16:58:56.737"/>
</kw>
<status status="PASS" starttime="20230509 16:58:54.130" endtime="20230509 16:58:56.737"/>
</kw>
<msg timestamp="20230509 16:58:56.737" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:54.129" endtime="20230509 16:58:56.738"/>
</kw>
<msg timestamp="20230509 16:58:56.738" level="INFO">${output} = 2023-05-09 16:58:56,663 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230509 16:58:54.129" endtime="20230509 16:58:56.738"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:58:56.738" endtime="20230509 16:58:56.738"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:58:51.558" endtime="20230509 16:58:56.739"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:56.744" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 16:58:56.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:56.746" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:58:56.742" endtime="20230509 16:58:56.746"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:56.747" level="INFO"/>
<status status="PASS" starttime="20230509 16:58:56.746" endtime="20230509 16:58:56.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:56.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:56.747" endtime="20230509 16:58:56.747"/>
</kw>
<status status="PASS" starttime="20230509 16:58:56.741" endtime="20230509 16:58:56.747"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:56.752" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:02.809" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:02.810" level="INFO">${output} = 2023-05-09 16:59:00,338 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:00,478 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:58:56.749" endtime="20230509 16:59:02.810"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:02.811" level="INFO">2023-05-09 16:59:00,338 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:00,478 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 16:59:00,478 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 16:59:00,825 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 16:59:02.810" endtime="20230509 16:59:02.811"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:02.811" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:02.811" endtime="20230509 16:59:02.812"/>
</kw>
<status status="PASS" starttime="20230509 16:58:56.749" endtime="20230509 16:59:02.812"/>
</kw>
<msg timestamp="20230509 16:59:02.812" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:56.749" endtime="20230509 16:59:02.812"/>
</kw>
<msg timestamp="20230509 16:59:02.813" level="INFO">${output} = 2023-05-09 16:59:00,338 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:00,478 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:58:56.748" endtime="20230509 16:59:02.813"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:02.813" endtime="20230509 16:59:02.813"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:02.817" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:02.819" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:02.819" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:02.814" endtime="20230509 16:59:02.819"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:02.820" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:02.819" endtime="20230509 16:59:02.820"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:02.820" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:02.820" endtime="20230509 16:59:02.821"/>
</kw>
<status status="PASS" starttime="20230509 16:59:02.813" endtime="20230509 16:59:02.821"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:58:56.740" endtime="20230509 16:59:02.821"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:02.827" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:05.556" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:05.556" level="INFO">${output} = 2023-05-09 16:59:05,464 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230509 16:59:02.824" endtime="20230509 16:59:05.556"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:05.557" level="INFO">2023-05-09 16:59:05,464 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230509 16:59:05.557" endtime="20230509 16:59:05.557"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:05.558" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:05.558" endtime="20230509 16:59:05.558"/>
</kw>
<status status="PASS" starttime="20230509 16:59:02.824" endtime="20230509 16:59:05.559"/>
</kw>
<msg timestamp="20230509 16:59:05.559" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:02.824" endtime="20230509 16:59:05.564"/>
</kw>
<msg timestamp="20230509 16:59:05.564" level="INFO">${output} = 2023-05-09 16:59:05,464 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230509 16:59:02.823" endtime="20230509 16:59:05.564"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:05.564" endtime="20230509 16:59:05.565"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:02.822" endtime="20230509 16:59:05.565"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:05.571" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 16:59:05.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:05.573" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:05.569" endtime="20230509 16:59:05.574"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:05.574" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:05.574" endtime="20230509 16:59:05.575"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:05.575" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:05.575" endtime="20230509 16:59:05.575"/>
</kw>
<status status="PASS" starttime="20230509 16:59:05.568" endtime="20230509 16:59:05.575"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:05.579" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:10.640" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:10.640" level="INFO">${output} = 2023-05-09 16:59:09,154 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:09,268 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:59:05.577" endtime="20230509 16:59:10.640"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:10.642" level="INFO">2023-05-09 16:59:09,154 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:09,268 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 16:59:09,268 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-05-09 16:59:09,579 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230509 16:59:10.641" endtime="20230509 16:59:10.642"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:10.642" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:10.642" endtime="20230509 16:59:10.643"/>
</kw>
<status status="PASS" starttime="20230509 16:59:05.576" endtime="20230509 16:59:10.643"/>
</kw>
<msg timestamp="20230509 16:59:10.643" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:05.576" endtime="20230509 16:59:10.643"/>
</kw>
<msg timestamp="20230509 16:59:10.644" level="INFO">${output} = 2023-05-09 16:59:09,154 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:09,268 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:59:05.576" endtime="20230509 16:59:10.644"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:10.644" endtime="20230509 16:59:10.644"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:10.647" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:10.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:10.650" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:10.645" endtime="20230509 16:59:10.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:10.651" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:10.650" endtime="20230509 16:59:10.651"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:10.651" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:10.651" endtime="20230509 16:59:10.652"/>
</kw>
<status status="PASS" starttime="20230509 16:59:10.645" endtime="20230509 16:59:10.652"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:05.567" endtime="20230509 16:59:10.652"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:10.657" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:11.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:11.329" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:10.655" endtime="20230509 16:59:11.329"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:11.330" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:11.330" endtime="20230509 16:59:11.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:11.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:11.331" endtime="20230509 16:59:11.331"/>
</kw>
<status status="PASS" starttime="20230509 16:59:10.655" endtime="20230509 16:59:11.332"/>
</kw>
<msg timestamp="20230509 16:59:11.332" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:10.654" endtime="20230509 16:59:11.332"/>
</kw>
<status status="PASS" starttime="20230509 16:59:10.654" endtime="20230509 16:59:11.332"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:11.336" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:11.846" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:11.846" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:11.334" endtime="20230509 16:59:11.846"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:11.847" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:11.846" endtime="20230509 16:59:11.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:11.848" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:11.848" endtime="20230509 16:59:11.848"/>
</kw>
<status status="PASS" starttime="20230509 16:59:11.333" endtime="20230509 16:59:11.848"/>
</kw>
<msg timestamp="20230509 16:59:11.848" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:11.333" endtime="20230509 16:59:11.849"/>
</kw>
<status status="PASS" starttime="20230509 16:59:11.332" endtime="20230509 16:59:11.849"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:11.853" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:12.360" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:12.360" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:11.851" endtime="20230509 16:59:12.360"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:12.361" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:12.360" endtime="20230509 16:59:12.361"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:12.362" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:12.361" endtime="20230509 16:59:12.362"/>
</kw>
<status status="PASS" starttime="20230509 16:59:11.850" endtime="20230509 16:59:12.362"/>
</kw>
<msg timestamp="20230509 16:59:12.362" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:11.850" endtime="20230509 16:59:12.363"/>
</kw>
<status status="PASS" starttime="20230509 16:59:11.849" endtime="20230509 16:59:12.363"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:12.367" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:12.870" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:12.870" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:12.364" endtime="20230509 16:59:12.870"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:12.872" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:12.871" endtime="20230509 16:59:12.872"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:12.872" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:12.872" endtime="20230509 16:59:12.873"/>
</kw>
<status status="PASS" starttime="20230509 16:59:12.364" endtime="20230509 16:59:12.873"/>
</kw>
<msg timestamp="20230509 16:59:12.873" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:12.363" endtime="20230509 16:59:12.873"/>
</kw>
<status status="PASS" starttime="20230509 16:59:12.363" endtime="20230509 16:59:12.874"/>
</kw>
<status status="PASS" starttime="20230509 16:59:10.654" endtime="20230509 16:59:12.874"/>
</kw>
<status status="PASS" starttime="20230509 16:59:10.654" endtime="20230509 16:59:12.874"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:10.653" endtime="20230509 16:59:12.874"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:12.883" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:14.950" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:14.950" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 16:59:12.880" endtime="20230509 16:59:14.950"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:14.952" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 16:59:14.951" endtime="20230509 16:59:14.952"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:14.953" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:14.952" endtime="20230509 16:59:14.953"/>
</kw>
<status status="PASS" starttime="20230509 16:59:12.879" endtime="20230509 16:59:14.953"/>
</kw>
<msg timestamp="20230509 16:59:14.953" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:12.878" endtime="20230509 16:59:14.954"/>
</kw>
<msg timestamp="20230509 16:59:14.954" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 16:59:12.878" endtime="20230509 16:59:14.954"/>
</kw>
<msg timestamp="20230509 16:59:14.955" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 16:59:12.877" endtime="20230509 16:59:14.955"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:14.955" endtime="20230509 16:59:14.955"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:14.955" endtime="20230509 16:59:14.956"/>
</kw>
<msg timestamp="20230509 16:59:14.956" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230509 16:59:12.877" endtime="20230509 16:59:14.956"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230509 16:59:14.956" endtime="20230509 16:59:14.956"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:12.876" endtime="20230509 16:59:14.957"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:14.962" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 16:59:14.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:14.963" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:14.960" endtime="20230509 16:59:14.964"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:14.965" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:14.964" endtime="20230509 16:59:14.965"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:14.965" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:14.965" endtime="20230509 16:59:14.966"/>
</kw>
<status status="PASS" starttime="20230509 16:59:14.959" endtime="20230509 16:59:14.966"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:14.970" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:16.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:16.601" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:14.968" endtime="20230509 16:59:16.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:16.602" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:16.601" endtime="20230509 16:59:16.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:16.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:16.602" endtime="20230509 16:59:16.603"/>
</kw>
<msg timestamp="20230509 16:59:16.603" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:14.967" endtime="20230509 16:59:16.603"/>
</kw>
<msg timestamp="20230509 16:59:16.604" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:14.966" endtime="20230509 16:59:16.604"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:16.604" endtime="20230509 16:59:16.604"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:16.608" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:16.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:16.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:16.605" endtime="20230509 16:59:16.610"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:16.611" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:16.610" endtime="20230509 16:59:16.611"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:16.612" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:16.611" endtime="20230509 16:59:16.612"/>
</kw>
<status status="PASS" starttime="20230509 16:59:16.604" endtime="20230509 16:59:16.612"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:14.958" endtime="20230509 16:59:16.612"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230509 16:58:51.485" endtime="20230509 16:59:16.614"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 16:59:20.478" level="INFO">${random} = 18843</msg>
<status status="PASS" starttime="20230509 16:59:20.478" endtime="20230509 16:59:20.478"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:20.484" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-18843 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:25.070" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:25.070" level="INFO">${output} = 2023-05-09 16:59:23,766 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:23,843 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:59:20.481" endtime="20230509 16:59:25.070"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:25.071" level="INFO">2023-05-09 16:59:23,766 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:23,843 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-05-09 16:59:23,843 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230509 16:59:25.071" endtime="20230509 16:59:25.072"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:25.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:25.072" endtime="20230509 16:59:25.072"/>
</kw>
<status status="PASS" starttime="20230509 16:59:20.480" endtime="20230509 16:59:25.072"/>
</kw>
<msg timestamp="20230509 16:59:25.072" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:20.479" endtime="20230509 16:59:25.074"/>
</kw>
<msg timestamp="20230509 16:59:25.074" level="INFO">${output} = 2023-05-09 16:59:23,766 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-05-09 16:59:23,843 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230509 16:59:20.479" endtime="20230509 16:59:25.074"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:25.074" endtime="20230509 16:59:25.074"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:25.077" level="INFO">Running command 'cat /tmp/key-18843 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:25.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:25.080" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:25.075" endtime="20230509 16:59:25.080"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:25.081" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:25.080" endtime="20230509 16:59:25.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:25.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:25.081" endtime="20230509 16:59:25.081"/>
</kw>
<msg timestamp="20230509 16:59:25.082" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:25.074" endtime="20230509 16:59:25.082"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:25.082" endtime="20230509 16:59:25.082"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:25.086" level="INFO">Running command 'rm /tmp/key-18843 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:25.088" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:25.088" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:25.083" endtime="20230509 16:59:25.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:25.089" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:25.088" endtime="20230509 16:59:25.089"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:25.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:25.089" endtime="20230509 16:59:25.090"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.082" endtime="20230509 16:59:25.090"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:20.477" endtime="20230509 16:59:25.090"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:25.096" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:25.565" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:25.565" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:25.094" endtime="20230509 16:59:25.565"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:25.567" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:25.566" endtime="20230509 16:59:25.567"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:25.567" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:25.567" endtime="20230509 16:59:25.568"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.094" endtime="20230509 16:59:25.568"/>
</kw>
<msg timestamp="20230509 16:59:25.568" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:25.093" endtime="20230509 16:59:25.568"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.093" endtime="20230509 16:59:25.569"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:25.572" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:26.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:26.061" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:25.570" endtime="20230509 16:59:26.061"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:26.062" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:26.061" endtime="20230509 16:59:26.062"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:26.062" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:26.062" endtime="20230509 16:59:26.062"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.570" endtime="20230509 16:59:26.063"/>
</kw>
<msg timestamp="20230509 16:59:26.063" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:25.569" endtime="20230509 16:59:26.063"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.569" endtime="20230509 16:59:26.063"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:26.067" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:26.547" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:26.547" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:26.065" endtime="20230509 16:59:26.547"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:26.548" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:26.547" endtime="20230509 16:59:26.548"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:26.549" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:26.548" endtime="20230509 16:59:26.549"/>
</kw>
<status status="PASS" starttime="20230509 16:59:26.064" endtime="20230509 16:59:26.549"/>
</kw>
<msg timestamp="20230509 16:59:26.549" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:26.064" endtime="20230509 16:59:26.550"/>
</kw>
<status status="PASS" starttime="20230509 16:59:26.064" endtime="20230509 16:59:26.550"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:26.555" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:27.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:27.055" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:26.552" endtime="20230509 16:59:27.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:27.056" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:27.056" endtime="20230509 16:59:27.056"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:27.057" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:27.057" endtime="20230509 16:59:27.058"/>
</kw>
<status status="PASS" starttime="20230509 16:59:26.551" endtime="20230509 16:59:27.058"/>
</kw>
<msg timestamp="20230509 16:59:27.058" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:26.551" endtime="20230509 16:59:27.059"/>
</kw>
<status status="PASS" starttime="20230509 16:59:26.551" endtime="20230509 16:59:27.059"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.092" endtime="20230509 16:59:27.059"/>
</kw>
<status status="PASS" starttime="20230509 16:59:25.092" endtime="20230509 16:59:27.059"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:25.091" endtime="20230509 16:59:27.059"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:27.065" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:27.810" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:27.810" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.062" endtime="20230509 16:59:27.810"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:27.811" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 16:59:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 16:59:27.811" endtime="20230509 16:59:27.811"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:27.812" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:27.812" endtime="20230509 16:59:27.812"/>
</kw>
<msg timestamp="20230509 16:59:27.812" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.062" endtime="20230509 16:59:27.812"/>
</kw>
<msg timestamp="20230509 16:59:27.813" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.061" endtime="20230509 16:59:27.813"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:27.813" endtime="20230509 16:59:27.813"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:27.816" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:27.818" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:27.818" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:27.814" endtime="20230509 16:59:27.818"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:27.820" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:27.819" endtime="20230509 16:59:27.820"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:27.820" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:27.820" endtime="20230509 16:59:27.820"/>
</kw>
<msg timestamp="20230509 16:59:27.821" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 16:59:27.813" endtime="20230509 16:59:27.821"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:27.821" endtime="20230509 16:59:27.821"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:27.824" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:27.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:27.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:27.822" endtime="20230509 16:59:27.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:27.827" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:27.826" endtime="20230509 16:59:27.827"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:27.828" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:27.827" endtime="20230509 16:59:27.828"/>
</kw>
<status status="PASS" starttime="20230509 16:59:27.821" endtime="20230509 16:59:27.828"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:27.060" endtime="20230509 16:59:27.828"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:27.833" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:28.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:28.466" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.831" endtime="20230509 16:59:28.466"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:28.468" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 16:59:28 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 16:59:28.467" endtime="20230509 16:59:28.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:28.468" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:28.468" endtime="20230509 16:59:28.468"/>
</kw>
<msg timestamp="20230509 16:59:28.469" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.830" endtime="20230509 16:59:28.469"/>
</kw>
<msg timestamp="20230509 16:59:28.469" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 16:59:27.830" endtime="20230509 16:59:28.469"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:28.469" endtime="20230509 16:59:28.470"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:28.473" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:28.475" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:28.475" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 16:59:28.470" endtime="20230509 16:59:28.476"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:28.476" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 16:59:28.476" endtime="20230509 16:59:28.476"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:28.477" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:28.477" endtime="20230509 16:59:28.477"/>
</kw>
<msg timestamp="20230509 16:59:28.477" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 16:59:28.470" endtime="20230509 16:59:28.477"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:28.478" endtime="20230509 16:59:28.478"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:28.481" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:28.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:28.483" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 16:59:28.479" endtime="20230509 16:59:28.483"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:28.484" level="INFO"/>
<status status="PASS" starttime="20230509 16:59:28.484" endtime="20230509 16:59:28.484"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:28.485" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:28.484" endtime="20230509 16:59:28.485"/>
</kw>
<status status="PASS" starttime="20230509 16:59:28.478" endtime="20230509 16:59:28.485"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:27.829" endtime="20230509 16:59:28.485"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 16:59:20.402" endtime="20230509 16:59:28.488"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 16:59:32.390" endtime="20230509 16:59:32.391"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 16:59:32.391" endtime="20230509 16:59:32.391"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:59:32.396" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:59:40.158" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:59:40.158" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230509 16:59:32.393" endtime="20230509 16:59:40.158"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:59:40.159" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230509 16:59:40.158" endtime="20230509 16:59:40.159"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:59:40.160" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:59:40.159" endtime="20230509 16:59:40.160"/>
</kw>
<status status="PASS" starttime="20230509 16:59:32.392" endtime="20230509 16:59:40.160"/>
</kw>
<msg timestamp="20230509 16:59:40.160" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:59:32.392" endtime="20230509 16:59:40.161"/>
</kw>
<msg timestamp="20230509 16:59:40.162" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230509 16:59:32.391" endtime="20230509 16:59:40.162"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 16:59:40.162" endtime="20230509 16:59:40.163"/>
</kw>
<status status="PASS" starttime="20230509 16:59:40.162" endtime="20230509 16:59:40.163"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 16:59:32.389" endtime="20230509 16:59:40.163"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230509 16:59:32.344" endtime="20230509 16:59:40.164"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 16:58:42.345" endtime="20230509 16:58:42.346"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:42.351" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:58:42.354" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:42.354" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=36f642d4db64
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230509 16:58:42.347" endtime="20230509 16:58:42.354"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:42.355" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=36f642d4db64
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230509 16:58:42.355" endtime="20230509 16:58:42.355"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:42.356" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:42.356" endtime="20230509 16:58:42.356"/>
</kw>
<status status="PASS" starttime="20230509 16:58:42.347" endtime="20230509 16:58:42.356"/>
</kw>
<msg timestamp="20230509 16:58:42.356" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:42.346" endtime="20230509 16:58:42.357"/>
</kw>
<msg timestamp="20230509 16:58:42.358" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=36f642d4db64
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230509 16:58:42.346" endtime="20230509 16:58:42.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:42.358" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=36f642d4db64
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230509 16:58:42.358" endtime="20230509 16:58:42.358"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 16:58:42.359" endtime="20230509 16:58:42.359"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:42.363" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:58:45.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:45.031" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 16:58:42.361" endtime="20230509 16:58:45.031"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:45.032" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 16:58:45.032" endtime="20230509 16:58:45.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:45.033" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:45.032" endtime="20230509 16:58:45.033"/>
</kw>
<status status="PASS" starttime="20230509 16:58:42.360" endtime="20230509 16:58:45.033"/>
</kw>
<msg timestamp="20230509 16:58:45.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:42.359" endtime="20230509 16:58:45.034"/>
</kw>
<msg timestamp="20230509 16:58:45.034" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 16:58:42.359" endtime="20230509 16:58:45.034"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:45.034" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230509 16:58:45.034" endtime="20230509 16:58:45.034"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230509 16:58:45.035" endtime="20230509 16:58:45.035"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230509 16:58:42.344" endtime="20230509 16:58:45.035"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 16:58:45.037" endtime="20230509 16:58:45.037"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 16:58:45.038" endtime="20230509 16:58:45.038"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 16:58:45.042" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 16:58:47.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 16:58:47.675" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 16:58:45.039" endtime="20230509 16:58:47.675"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:47.676" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 16:58:47.675" endtime="20230509 16:58:47.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 16:58:47.676" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 16:58:47.676" endtime="20230509 16:58:47.677"/>
</kw>
<status status="PASS" starttime="20230509 16:58:45.039" endtime="20230509 16:58:47.677"/>
</kw>
<msg timestamp="20230509 16:58:47.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 16:58:45.039" endtime="20230509 16:58:47.677"/>
</kw>
<msg timestamp="20230509 16:58:47.678" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 16:58:45.038" endtime="20230509 16:58:47.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 16:58:47.678" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230509 16:58:47.678" endtime="20230509 16:58:47.678"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230509 16:58:47.678" endtime="20230509 16:58:47.679"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230509 16:58:45.036" endtime="20230509 16:58:47.679"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230509 16:58:42.297" endtime="20230509 16:58:47.680"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:31.280" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:02:31.282" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:31.282" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:31.273" endtime="20230509 17:02:31.282"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:31.284" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:31.283" endtime="20230509 17:02:31.285"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:31.285" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:31.285" endtime="20230509 17:02:31.286"/>
</kw>
<status status="PASS" starttime="20230509 17:02:31.272" endtime="20230509 17:02:31.286"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:31.292" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:40.230" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:40.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:31.288" endtime="20230509 17:02:40.231"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:40.235" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:40.232" endtime="20230509 17:02:40.235"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:40.237" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:40.236" endtime="20230509 17:02:40.238"/>
</kw>
<status status="PASS" starttime="20230509 17:02:31.288" endtime="20230509 17:02:40.239"/>
</kw>
<msg timestamp="20230509 17:02:40.239" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:31.287" endtime="20230509 17:02:40.243"/>
</kw>
<msg timestamp="20230509 17:02:40.244" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:31.286" endtime="20230509 17:02:40.244"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:40.245" endtime="20230509 17:02:40.247"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:40.254" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:40.257" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:40.258" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:40.249" endtime="20230509 17:02:40.258"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:40.259" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:40.258" endtime="20230509 17:02:40.259"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:40.259" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:40.259" endtime="20230509 17:02:40.260"/>
</kw>
<status status="PASS" starttime="20230509 17:02:40.247" endtime="20230509 17:02:40.260"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:31.270" endtime="20230509 17:02:40.260"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:40.265" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:02:40.268" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:40.268" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:40.262" endtime="20230509 17:02:40.268"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:40.270" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:40.269" endtime="20230509 17:02:40.270"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:40.270" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:40.270" endtime="20230509 17:02:40.271"/>
</kw>
<status status="PASS" starttime="20230509 17:02:40.262" endtime="20230509 17:02:40.271"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:40.276" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:47.715" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:47.715" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:40.273" endtime="20230509 17:02:47.715"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:47.717" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:47.716" endtime="20230509 17:02:47.717"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:47.718" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:47.718" endtime="20230509 17:02:47.719"/>
</kw>
<status status="PASS" starttime="20230509 17:02:40.272" endtime="20230509 17:02:47.719"/>
</kw>
<msg timestamp="20230509 17:02:47.719" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:40.272" endtime="20230509 17:02:47.720"/>
</kw>
<msg timestamp="20230509 17:02:47.720" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:40.271" endtime="20230509 17:02:47.720"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:47.720" endtime="20230509 17:02:47.721"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:47.725" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:47.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:47.731" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:47.722" endtime="20230509 17:02:47.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:47.732" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:47.731" endtime="20230509 17:02:47.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:47.733" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:47.732" endtime="20230509 17:02:47.733"/>
</kw>
<status status="PASS" starttime="20230509 17:02:47.721" endtime="20230509 17:02:47.734"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:40.261" endtime="20230509 17:02:47.734"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:47.741" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:48.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:48.343" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:47.738" endtime="20230509 17:02:48.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:48.345" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:48.344" endtime="20230509 17:02:48.345"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:48.345" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:48.345" endtime="20230509 17:02:48.345"/>
</kw>
<status status="PASS" starttime="20230509 17:02:47.738" endtime="20230509 17:02:48.346"/>
</kw>
<msg timestamp="20230509 17:02:48.346" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:47.737" endtime="20230509 17:02:48.347"/>
</kw>
<status status="PASS" starttime="20230509 17:02:47.737" endtime="20230509 17:02:48.347"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:48.353" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:48.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:48.987" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:48.349" endtime="20230509 17:02:48.987"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:48.989" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:48.988" endtime="20230509 17:02:48.989"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:48.990" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:48.989" endtime="20230509 17:02:48.990"/>
</kw>
<status status="PASS" starttime="20230509 17:02:48.348" endtime="20230509 17:02:48.990"/>
</kw>
<msg timestamp="20230509 17:02:48.990" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:48.348" endtime="20230509 17:02:48.993"/>
</kw>
<status status="PASS" starttime="20230509 17:02:48.347" endtime="20230509 17:02:48.993"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:48.998" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:49.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:49.696" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:48.995" endtime="20230509 17:02:49.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:49.698" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:49.697" endtime="20230509 17:02:49.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:49.699" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:49.698" endtime="20230509 17:02:49.699"/>
</kw>
<status status="PASS" starttime="20230509 17:02:48.994" endtime="20230509 17:02:49.699"/>
</kw>
<msg timestamp="20230509 17:02:49.700" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:48.994" endtime="20230509 17:02:49.700"/>
</kw>
<status status="PASS" starttime="20230509 17:02:48.993" endtime="20230509 17:02:49.700"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:49.705" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:50.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:50.318" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:49.702" endtime="20230509 17:02:50.319"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:50.321" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:50.319" endtime="20230509 17:02:50.321"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:50.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:50.321" endtime="20230509 17:02:50.322"/>
</kw>
<status status="PASS" starttime="20230509 17:02:49.701" endtime="20230509 17:02:50.323"/>
</kw>
<msg timestamp="20230509 17:02:50.323" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:49.701" endtime="20230509 17:02:50.323"/>
</kw>
<status status="PASS" starttime="20230509 17:02:49.701" endtime="20230509 17:02:50.324"/>
</kw>
<status status="PASS" starttime="20230509 17:02:47.736" endtime="20230509 17:02:50.324"/>
</kw>
<status status="PASS" starttime="20230509 17:02:47.736" endtime="20230509 17:02:50.324"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:47.735" endtime="20230509 17:02:50.324"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:50.334" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:51.139" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:51.139" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:02:50.331" endtime="20230509 17:02:51.139"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:51.141" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:02:51.140" endtime="20230509 17:02:51.141"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:51.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:51.141" endtime="20230509 17:02:51.142"/>
</kw>
<status status="PASS" starttime="20230509 17:02:50.330" endtime="20230509 17:02:51.142"/>
</kw>
<msg timestamp="20230509 17:02:51.142" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:50.330" endtime="20230509 17:02:51.143"/>
</kw>
<msg timestamp="20230509 17:02:51.143" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:02:50.329" endtime="20230509 17:02:51.143"/>
</kw>
<msg timestamp="20230509 17:02:51.144" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:02:50.328" endtime="20230509 17:02:51.144"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:51.144" endtime="20230509 17:02:51.144"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:51.144" endtime="20230509 17:02:51.145"/>
</kw>
<msg timestamp="20230509 17:02:51.145" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230509 17:02:50.328" endtime="20230509 17:02:51.145"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230509 17:02:51.145" endtime="20230509 17:02:51.146"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:50.327" endtime="20230509 17:02:51.146"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:51.152" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:02:51.154" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:51.154" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:51.150" endtime="20230509 17:02:51.154"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:51.155" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:51.155" endtime="20230509 17:02:51.156"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:51.156" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:51.156" endtime="20230509 17:02:51.156"/>
</kw>
<status status="PASS" starttime="20230509 17:02:51.149" endtime="20230509 17:02:51.157"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:51.161" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:53.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:53.081" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:51.159" endtime="20230509 17:02:53.081"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:53.085" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:53.083" endtime="20230509 17:02:53.085"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:53.087" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:53.086" endtime="20230509 17:02:53.087"/>
</kw>
<msg timestamp="20230509 17:02:53.089" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:51.158" endtime="20230509 17:02:53.089"/>
</kw>
<msg timestamp="20230509 17:02:53.089" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:51.157" endtime="20230509 17:02:53.089"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:53.091" endtime="20230509 17:02:53.091"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:53.100" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:53.106" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:53.106" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:53.093" endtime="20230509 17:02:53.107"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:53.109" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:53.107" endtime="20230509 17:02:53.109"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:53.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:53.111" endtime="20230509 17:02:53.111"/>
</kw>
<status status="PASS" starttime="20230509 17:02:53.091" endtime="20230509 17:02:53.112"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:51.148" endtime="20230509 17:02:53.113"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230509 17:02:31.145" endtime="20230509 17:02:53.117"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:57.499" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:01.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:01.470" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:57.493" endtime="20230509 17:03:01.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:01.472" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:01.471" endtime="20230509 17:03:01.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:01.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:01.473" endtime="20230509 17:03:01.474"/>
</kw>
<status status="PASS" starttime="20230509 17:02:57.493" endtime="20230509 17:03:01.474"/>
</kw>
<msg timestamp="20230509 17:03:01.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:57.492" endtime="20230509 17:03:01.476"/>
</kw>
<msg timestamp="20230509 17:03:01.476" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:57.491" endtime="20230509 17:03:01.477"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:01.477" endtime="20230509 17:03:01.477"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:01.483" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:06.209" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:06.209" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:01.480" endtime="20230509 17:03:06.209"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:06.210" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:06.209" endtime="20230509 17:03:06.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:06.211" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:06.211" endtime="20230509 17:03:06.211"/>
</kw>
<status status="PASS" starttime="20230509 17:03:01.479" endtime="20230509 17:03:06.212"/>
</kw>
<msg timestamp="20230509 17:03:06.212" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:01.478" endtime="20230509 17:03:06.212"/>
</kw>
<msg timestamp="20230509 17:03:06.213" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:01.478" endtime="20230509 17:03:06.213"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:06.213" endtime="20230509 17:03:06.213"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:57.490" endtime="20230509 17:03:06.214"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:06.219" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:03:06.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:06.221" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:06.216" endtime="20230509 17:03:06.221"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:06.222" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:06.221" endtime="20230509 17:03:06.222"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:06.223" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:06.222" endtime="20230509 17:03:06.223"/>
</kw>
<status status="PASS" starttime="20230509 17:03:06.215" endtime="20230509 17:03:06.223"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:06.228" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:13.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:13.156" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:06.225" endtime="20230509 17:03:13.156"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:13.158" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:13.157" endtime="20230509 17:03:13.158"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:13.159" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:13.159" endtime="20230509 17:03:13.160"/>
</kw>
<status status="PASS" starttime="20230509 17:03:06.225" endtime="20230509 17:03:13.160"/>
</kw>
<msg timestamp="20230509 17:03:13.160" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:06.224" endtime="20230509 17:03:13.161"/>
</kw>
<msg timestamp="20230509 17:03:13.161" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:06.223" endtime="20230509 17:03:13.161"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:13.161" endtime="20230509 17:03:13.162"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:13.165" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:13.169" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:13.169" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:13.163" endtime="20230509 17:03:13.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:13.171" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:13.170" endtime="20230509 17:03:13.171"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:13.172" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:13.171" endtime="20230509 17:03:13.172"/>
</kw>
<status status="PASS" starttime="20230509 17:03:13.162" endtime="20230509 17:03:13.172"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:06.214" endtime="20230509 17:03:13.173"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:13.181" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:17.387" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:17.387" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:13.178" endtime="20230509 17:03:17.387"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:17.389" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:17.388" endtime="20230509 17:03:17.389"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:17.390" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:17.389" endtime="20230509 17:03:17.390"/>
</kw>
<status status="PASS" starttime="20230509 17:03:13.178" endtime="20230509 17:03:17.390"/>
</kw>
<msg timestamp="20230509 17:03:17.390" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:13.177" endtime="20230509 17:03:17.391"/>
</kw>
<msg timestamp="20230509 17:03:17.391" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:13.176" endtime="20230509 17:03:17.391"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:17.391" endtime="20230509 17:03:17.392"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:13.175" endtime="20230509 17:03:17.392"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:17.399" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:03:17.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:17.402" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:17.396" endtime="20230509 17:03:17.402"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:17.404" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:17.402" endtime="20230509 17:03:17.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:17.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:17.404" endtime="20230509 17:03:17.405"/>
</kw>
<status status="PASS" starttime="20230509 17:03:17.395" endtime="20230509 17:03:17.405"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:17.412" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:23.837" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:23.838" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:17.408" endtime="20230509 17:03:23.838"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:23.839" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:23.838" endtime="20230509 17:03:23.839"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:23.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:23.840" endtime="20230509 17:03:23.840"/>
</kw>
<status status="PASS" starttime="20230509 17:03:17.407" endtime="20230509 17:03:23.841"/>
</kw>
<msg timestamp="20230509 17:03:23.841" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:17.407" endtime="20230509 17:03:23.842"/>
</kw>
<msg timestamp="20230509 17:03:23.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:17.406" endtime="20230509 17:03:23.842"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:23.842" endtime="20230509 17:03:23.844"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:23.848" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:23.852" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:23.852" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:23.844" endtime="20230509 17:03:23.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:23.853" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:23.852" endtime="20230509 17:03:23.853"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:23.854" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:23.853" endtime="20230509 17:03:23.854"/>
</kw>
<status status="PASS" starttime="20230509 17:03:23.844" endtime="20230509 17:03:23.854"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:17.394" endtime="20230509 17:03:23.855"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:23.862" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:24.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:24.524" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:23.859" endtime="20230509 17:03:24.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:24.526" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:24.524" endtime="20230509 17:03:24.526"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:24.527" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:24.526" endtime="20230509 17:03:24.527"/>
</kw>
<status status="PASS" starttime="20230509 17:03:23.859" endtime="20230509 17:03:24.527"/>
</kw>
<msg timestamp="20230509 17:03:24.527" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:23.858" endtime="20230509 17:03:24.528"/>
</kw>
<status status="PASS" starttime="20230509 17:03:23.858" endtime="20230509 17:03:24.528"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:24.533" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:25.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:25.147" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:24.530" endtime="20230509 17:03:25.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:25.149" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:25.148" endtime="20230509 17:03:25.149"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:25.149" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:25.149" endtime="20230509 17:03:25.149"/>
</kw>
<status status="PASS" starttime="20230509 17:03:24.529" endtime="20230509 17:03:25.150"/>
</kw>
<msg timestamp="20230509 17:03:25.150" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:24.529" endtime="20230509 17:03:25.150"/>
</kw>
<status status="PASS" starttime="20230509 17:03:24.528" endtime="20230509 17:03:25.150"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:25.155" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:25.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:25.805" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:25.152" endtime="20230509 17:03:25.805"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:25.806" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:25.805" endtime="20230509 17:03:25.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:25.811" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:25.810" endtime="20230509 17:03:25.811"/>
</kw>
<status status="PASS" starttime="20230509 17:03:25.151" endtime="20230509 17:03:25.811"/>
</kw>
<msg timestamp="20230509 17:03:25.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:25.151" endtime="20230509 17:03:25.812"/>
</kw>
<status status="PASS" starttime="20230509 17:03:25.151" endtime="20230509 17:03:25.812"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:25.817" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:26.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:26.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:25.814" endtime="20230509 17:03:26.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:26.434" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:26.434" endtime="20230509 17:03:26.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:26.435" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:26.435" endtime="20230509 17:03:26.435"/>
</kw>
<status status="PASS" starttime="20230509 17:03:25.814" endtime="20230509 17:03:26.435"/>
</kw>
<msg timestamp="20230509 17:03:26.436" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:25.813" endtime="20230509 17:03:26.436"/>
</kw>
<status status="PASS" starttime="20230509 17:03:25.812" endtime="20230509 17:03:26.436"/>
</kw>
<status status="PASS" starttime="20230509 17:03:23.857" endtime="20230509 17:03:26.437"/>
</kw>
<status status="PASS" starttime="20230509 17:03:23.857" endtime="20230509 17:03:26.437"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:23.856" endtime="20230509 17:03:26.437"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:26.445" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:27.277" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:27.277" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:03:26.442" endtime="20230509 17:03:27.277"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:27.279" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:03:27.278" endtime="20230509 17:03:27.279"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:27.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:27.280" endtime="20230509 17:03:27.281"/>
</kw>
<status status="PASS" starttime="20230509 17:03:26.442" endtime="20230509 17:03:27.281"/>
</kw>
<msg timestamp="20230509 17:03:27.281" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:26.441" endtime="20230509 17:03:27.282"/>
</kw>
<msg timestamp="20230509 17:03:27.283" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:03:26.441" endtime="20230509 17:03:27.283"/>
</kw>
<msg timestamp="20230509 17:03:27.283" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230509 17:03:26.440" endtime="20230509 17:03:27.284"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:27.284" endtime="20230509 17:03:27.290"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:27.290" endtime="20230509 17:03:27.291"/>
</kw>
<msg timestamp="20230509 17:03:27.291" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230509 17:03:26.440" endtime="20230509 17:03:27.291"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230509 17:03:27.291" endtime="20230509 17:03:27.292"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:26.439" endtime="20230509 17:03:27.292"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:27.298" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230509 17:03:27.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:27.301" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:27.295" endtime="20230509 17:03:27.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:27.302" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:27.302" endtime="20230509 17:03:27.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:27.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:27.303" endtime="20230509 17:03:27.303"/>
</kw>
<status status="PASS" starttime="20230509 17:03:27.295" endtime="20230509 17:03:27.304"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:27.309" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:28.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:28.339" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:27.306" endtime="20230509 17:03:28.339"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:28.341" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:28.340" endtime="20230509 17:03:28.341"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:28.341" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:28.341" endtime="20230509 17:03:28.341"/>
</kw>
<msg timestamp="20230509 17:03:28.342" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:27.305" endtime="20230509 17:03:28.342"/>
</kw>
<msg timestamp="20230509 17:03:28.342" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:27.304" endtime="20230509 17:03:28.342"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:28.342" endtime="20230509 17:03:28.343"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:28.346" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:28.350" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:28.350" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:28.344" endtime="20230509 17:03:28.350"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:28.351" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:28.350" endtime="20230509 17:03:28.351"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:28.352" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:28.351" endtime="20230509 17:03:28.352"/>
</kw>
<status status="PASS" starttime="20230509 17:03:28.343" endtime="20230509 17:03:28.352"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:27.294" endtime="20230509 17:03:28.353"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230509 17:02:57.393" endtime="20230509 17:03:28.355"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 17:03:32.856" level="INFO">${random} = 21784</msg>
<status status="PASS" starttime="20230509 17:03:32.856" endtime="20230509 17:03:32.856"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:32.864" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-21784 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:39.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:39.114" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:32.859" endtime="20230509 17:03:39.114"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:39.116" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:39.115" endtime="20230509 17:03:39.116"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:39.117" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:39.117" endtime="20230509 17:03:39.118"/>
</kw>
<status status="PASS" starttime="20230509 17:03:32.859" endtime="20230509 17:03:39.118"/>
</kw>
<msg timestamp="20230509 17:03:39.118" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:32.857" endtime="20230509 17:03:39.120"/>
</kw>
<msg timestamp="20230509 17:03:39.121" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:32.857" endtime="20230509 17:03:39.121"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:39.121" endtime="20230509 17:03:39.122"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:39.125" level="INFO">Running command 'cat /tmp/key-21784 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:39.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:39.130" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:39.123" endtime="20230509 17:03:39.130"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:39.131" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:39.130" endtime="20230509 17:03:39.131"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:39.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:39.131" endtime="20230509 17:03:39.132"/>
</kw>
<msg timestamp="20230509 17:03:39.132" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:39.122" endtime="20230509 17:03:39.132"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:39.133" endtime="20230509 17:03:39.133"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:39.137" level="INFO">Running command 'rm /tmp/key-21784 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:39.140" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:39.140" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:39.134" endtime="20230509 17:03:39.140"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:39.142" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:39.141" endtime="20230509 17:03:39.142"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:39.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:39.142" endtime="20230509 17:03:39.143"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.133" endtime="20230509 17:03:39.143"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:32.854" endtime="20230509 17:03:39.143"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:39.151" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:39.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:39.719" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:39.148" endtime="20230509 17:03:39.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:39.721" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:39.720" endtime="20230509 17:03:39.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:39.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:39.721" endtime="20230509 17:03:39.722"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.148" endtime="20230509 17:03:39.722"/>
</kw>
<msg timestamp="20230509 17:03:39.722" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:39.147" endtime="20230509 17:03:39.722"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.147" endtime="20230509 17:03:39.723"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:39.726" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:40.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:40.396" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:39.724" endtime="20230509 17:03:40.396"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:40.399" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:40.397" endtime="20230509 17:03:40.399"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:40.400" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:40.399" endtime="20230509 17:03:40.400"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.723" endtime="20230509 17:03:40.401"/>
</kw>
<msg timestamp="20230509 17:03:40.401" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:39.723" endtime="20230509 17:03:40.402"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.723" endtime="20230509 17:03:40.402"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:40.407" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:40.982" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:40.983" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:40.404" endtime="20230509 17:03:40.983"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:40.984" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:40.983" endtime="20230509 17:03:40.984"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:40.985" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:40.984" endtime="20230509 17:03:40.985"/>
</kw>
<status status="PASS" starttime="20230509 17:03:40.403" endtime="20230509 17:03:40.985"/>
</kw>
<msg timestamp="20230509 17:03:40.985" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:40.403" endtime="20230509 17:03:40.986"/>
</kw>
<status status="PASS" starttime="20230509 17:03:40.402" endtime="20230509 17:03:40.986"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:40.991" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:41.567" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:41.567" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:40.987" endtime="20230509 17:03:41.567"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:41.568" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:41.567" endtime="20230509 17:03:41.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:41.569" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:41.569" endtime="20230509 17:03:41.569"/>
</kw>
<status status="PASS" starttime="20230509 17:03:40.987" endtime="20230509 17:03:41.570"/>
</kw>
<msg timestamp="20230509 17:03:41.570" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:40.986" endtime="20230509 17:03:41.570"/>
</kw>
<status status="PASS" starttime="20230509 17:03:40.986" endtime="20230509 17:03:41.570"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.146" endtime="20230509 17:03:41.571"/>
</kw>
<status status="PASS" starttime="20230509 17:03:39.146" endtime="20230509 17:03:41.571"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:39.145" endtime="20230509 17:03:41.571"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:41.577" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:42.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:42.267" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:41.574" endtime="20230509 17:03:42.267"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:42.269" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:03:42 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:03:42.267" endtime="20230509 17:03:42.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:42.270" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:42.269" endtime="20230509 17:03:42.270"/>
</kw>
<msg timestamp="20230509 17:03:42.271" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:41.574" endtime="20230509 17:03:42.271"/>
</kw>
<msg timestamp="20230509 17:03:42.271" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:23 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:41.573" endtime="20230509 17:03:42.271"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:42.271" endtime="20230509 17:03:42.272"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:42.275" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:42.279" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:42.279" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:42.273" endtime="20230509 17:03:42.279"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:42.281" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:42.280" endtime="20230509 17:03:42.281"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:42.282" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:42.281" endtime="20230509 17:03:42.282"/>
</kw>
<msg timestamp="20230509 17:03:42.282" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:03:42.272" endtime="20230509 17:03:42.282"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:42.282" endtime="20230509 17:03:42.283"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:42.287" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:42.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:42.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:42.284" endtime="20230509 17:03:42.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:42.292" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:42.291" endtime="20230509 17:03:42.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:42.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:42.292" endtime="20230509 17:03:42.293"/>
</kw>
<status status="PASS" starttime="20230509 17:03:42.284" endtime="20230509 17:03:42.293"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:41.572" endtime="20230509 17:03:42.294"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:42.303" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:43.146" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:43.146" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:42.300" endtime="20230509 17:03:43.146"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:43.148" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:03:43 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:03:43.147" endtime="20230509 17:03:43.148"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:43.148" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:43.148" endtime="20230509 17:03:43.149"/>
</kw>
<msg timestamp="20230509 17:03:43.149" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:42.300" endtime="20230509 17:03:43.149"/>
</kw>
<msg timestamp="20230509 17:03:43.149" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 17:03:28 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:03:42.299" endtime="20230509 17:03:43.149"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:43.149" endtime="20230509 17:03:43.150"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:43.153" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:43.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:43.156" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:03:43.151" endtime="20230509 17:03:43.156"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:43.157" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:03:43.156" endtime="20230509 17:03:43.157"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:43.158" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:43.157" endtime="20230509 17:03:43.158"/>
</kw>
<msg timestamp="20230509 17:03:43.159" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:03:43.150" endtime="20230509 17:03:43.159"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:43.159" endtime="20230509 17:03:43.159"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:43.163" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:43.166" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:43.166" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:03:43.160" endtime="20230509 17:03:43.166"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:43.167" level="INFO"/>
<status status="PASS" starttime="20230509 17:03:43.167" endtime="20230509 17:03:43.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:43.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:43.168" endtime="20230509 17:03:43.168"/>
</kw>
<status status="PASS" starttime="20230509 17:03:43.160" endtime="20230509 17:03:43.169"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:42.295" endtime="20230509 17:03:43.169"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 17:03:32.721" endtime="20230509 17:03:43.171"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230509 17:03:47.275" endtime="20230509 17:03:47.276"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230509 17:03:47.276" endtime="20230509 17:03:47.276"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:03:47.282" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:03:56.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:03:56.654" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230509 17:03:47.278" endtime="20230509 17:03:56.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:03:56.656" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230509 17:03:56.655" endtime="20230509 17:03:56.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:03:56.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:03:56.656" endtime="20230509 17:03:56.656"/>
</kw>
<status status="PASS" starttime="20230509 17:03:47.277" endtime="20230509 17:03:56.657"/>
</kw>
<msg timestamp="20230509 17:03:56.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:03:47.277" endtime="20230509 17:03:56.658"/>
</kw>
<msg timestamp="20230509 17:03:56.658" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230509 17:03:47.276" endtime="20230509 17:03:56.659"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:03:56.659" endtime="20230509 17:03:56.660"/>
</kw>
<status status="PASS" starttime="20230509 17:03:56.659" endtime="20230509 17:03:56.660"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:03:47.274" endtime="20230509 17:03:56.660"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230509 17:03:47.220" endtime="20230509 17:03:56.662"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230509 17:02:07.110" level="INFO">${random} = 63292</msg>
<status status="PASS" starttime="20230509 17:02:07.110" endtime="20230509 17:02:07.110"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:07.118" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-63292 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:18.656" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:18.657" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:07.113" endtime="20230509 17:02:18.657"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:18.658" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:18.657" endtime="20230509 17:02:18.658"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:18.659" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:18.659" endtime="20230509 17:02:18.659"/>
</kw>
<status status="PASS" starttime="20230509 17:02:07.112" endtime="20230509 17:02:18.660"/>
</kw>
<msg timestamp="20230509 17:02:18.660" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:07.111" endtime="20230509 17:02:18.661"/>
</kw>
<msg timestamp="20230509 17:02:18.662" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:07.110" endtime="20230509 17:02:18.662"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:18.662" endtime="20230509 17:02:18.663"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:18.667" level="INFO">Running command 'cat /tmp/key-63292 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:18.672" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:18.672" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:18.664" endtime="20230509 17:02:18.672"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:18.673" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:18.672" endtime="20230509 17:02:18.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:18.674" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:18.673" endtime="20230509 17:02:18.674"/>
</kw>
<msg timestamp="20230509 17:02:18.674" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:18.663" endtime="20230509 17:02:18.674"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:18.675" endtime="20230509 17:02:18.675"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:18.678" level="INFO">Running command 'rm /tmp/key-63292 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:18.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:18.682" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:18.676" endtime="20230509 17:02:18.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:18.684" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:18.683" endtime="20230509 17:02:18.684"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:18.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:18.684" endtime="20230509 17:02:18.685"/>
</kw>
<status status="PASS" starttime="20230509 17:02:18.675" endtime="20230509 17:02:18.685"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:07.108" endtime="20230509 17:02:18.686"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:18.693" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:19.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:19.542" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:18.690" endtime="20230509 17:02:19.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:19.544" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:19.543" endtime="20230509 17:02:19.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:19.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:19.544" endtime="20230509 17:02:19.545"/>
</kw>
<status status="PASS" starttime="20230509 17:02:18.690" endtime="20230509 17:02:19.545"/>
</kw>
<msg timestamp="20230509 17:02:19.545" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:18.689" endtime="20230509 17:02:19.546"/>
</kw>
<status status="PASS" starttime="20230509 17:02:18.689" endtime="20230509 17:02:19.546"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:19.551" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:20.184" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:20.184" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:19.548" endtime="20230509 17:02:20.184"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:20.185" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:20.184" endtime="20230509 17:02:20.186"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:20.186" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:20.186" endtime="20230509 17:02:20.187"/>
</kw>
<status status="PASS" starttime="20230509 17:02:19.547" endtime="20230509 17:02:20.187"/>
</kw>
<msg timestamp="20230509 17:02:20.187" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:19.547" endtime="20230509 17:02:20.188"/>
</kw>
<status status="PASS" starttime="20230509 17:02:19.546" endtime="20230509 17:02:20.188"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:20.193" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:20.808" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:20.808" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:20.190" endtime="20230509 17:02:20.808"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:20.810" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:20.809" endtime="20230509 17:02:20.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:20.811" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:20.810" endtime="20230509 17:02:20.811"/>
</kw>
<status status="PASS" starttime="20230509 17:02:20.189" endtime="20230509 17:02:20.813"/>
</kw>
<msg timestamp="20230509 17:02:20.813" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:20.189" endtime="20230509 17:02:20.814"/>
</kw>
<status status="PASS" starttime="20230509 17:02:20.188" endtime="20230509 17:02:20.814"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:20.819" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:21.445" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:21.445" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:20.816" endtime="20230509 17:02:21.445"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:21.446" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:21.446" endtime="20230509 17:02:21.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:21.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:21.447" endtime="20230509 17:02:21.447"/>
</kw>
<status status="PASS" starttime="20230509 17:02:20.815" endtime="20230509 17:02:21.448"/>
</kw>
<msg timestamp="20230509 17:02:21.448" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230509 17:02:20.815" endtime="20230509 17:02:21.448"/>
</kw>
<status status="PASS" starttime="20230509 17:02:20.814" endtime="20230509 17:02:21.449"/>
</kw>
<status status="PASS" starttime="20230509 17:02:18.688" endtime="20230509 17:02:21.449"/>
</kw>
<status status="PASS" starttime="20230509 17:02:18.688" endtime="20230509 17:02:21.449"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:18.687" endtime="20230509 17:02:21.449"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:21.455" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.108" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:21.452" endtime="20230509 17:02:26.108"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.110" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:02:22 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:02:26.109" endtime="20230509 17:02:26.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.110" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.110" endtime="20230509 17:02:26.110"/>
</kw>
<msg timestamp="20230509 17:02:26.111" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:21.451" endtime="20230509 17:02:26.111"/>
</kw>
<msg timestamp="20230509 17:02:26.111" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:10 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:21.451" endtime="20230509 17:02:26.111"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:26.111" endtime="20230509 17:02:26.112"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:26.117" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.120" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:26.112" endtime="20230509 17:02:26.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.121" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:26.120" endtime="20230509 17:02:26.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.122" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.121" endtime="20230509 17:02:26.122"/>
</kw>
<msg timestamp="20230509 17:02:26.122" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230509 17:02:26.112" endtime="20230509 17:02:26.122"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:26.123" endtime="20230509 17:02:26.123"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:26.127" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.130" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:26.124" endtime="20230509 17:02:26.130"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.131" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:26.130" endtime="20230509 17:02:26.131"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.131" endtime="20230509 17:02:26.132"/>
</kw>
<status status="PASS" starttime="20230509 17:02:26.123" endtime="20230509 17:02:26.132"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:21.450" endtime="20230509 17:02:26.132"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:26.139" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.884" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.884" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:26.136" endtime="20230509 17:02:26.884"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.886" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 09 May 2023 17:02:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230509 17:02:26.885" endtime="20230509 17:02:26.886"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.887" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.887" endtime="20230509 17:02:26.887"/>
</kw>
<msg timestamp="20230509 17:02:26.888" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:26.135" endtime="20230509 17:02:26.888"/>
</kw>
<msg timestamp="20230509 17:02:26.888" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 09 May 2023 16:59:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230509 17:02:26.134" endtime="20230509 17:02:26.888"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:26.889" endtime="20230509 17:02:26.889"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:26.893" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.896" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.896" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:02:26.890" endtime="20230509 17:02:26.896"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.897" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:02:26.897" endtime="20230509 17:02:26.898"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.898" endtime="20230509 17:02:26.899"/>
</kw>
<msg timestamp="20230509 17:02:26.899" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230509 17:02:26.890" endtime="20230509 17:02:26.899"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230509 17:02:26.899" endtime="20230509 17:02:26.900"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230509 17:02:26.903" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230509 17:02:26.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20230509 17:02:26.908" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230509 17:02:26.901" endtime="20230509 17:02:26.908"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230509 17:02:26.909" level="INFO"/>
<status status="PASS" starttime="20230509 17:02:26.908" endtime="20230509 17:02:26.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230509 17:02:26.910" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230509 17:02:26.910" endtime="20230509 17:02:26.910"/>
</kw>
<status status="PASS" starttime="20230509 17:02:26.900" endtime="20230509 17:02:26.911"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230509 17:02:26.133" endtime="20230509 17:02:26.911"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230509 17:02:07.008" endtime="20230509 17:02:26.913"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="508685"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
