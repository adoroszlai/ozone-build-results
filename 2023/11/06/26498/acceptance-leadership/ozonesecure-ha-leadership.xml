<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.8.10 on linux)" generated="20231106 23:24:07.406" rpa="false" schemaversion="4">
<suite id="s1" name="ozonesecure-ha-leadership">
<suite id="s1-s1" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s1-t1" name="Kinit" line="27">
<kw name="Kinit test user" library="commonlib">
<arg>${testuser}</arg>
<arg>${testuser}.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:10:45.093" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:10:45.100" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:10:45.100" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:10:45.089" endtime="20231106 23:10:45.100"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:10:45.101" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:10:45.100" endtime="20231106 23:10:45.101"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:10:45.102" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:10:45.102" endtime="20231106 23:10:45.102"/>
</kw>
<status status="PASS" starttime="20231106 23:10:45.088" endtime="20231106 23:10:45.103"/>
</kw>
<msg timestamp="20231106 23:10:45.103" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:10:45.088" endtime="20231106 23:10:45.103"/>
</kw>
<msg timestamp="20231106 23:10:45.104" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:10:45.087" endtime="20231106 23:10:45.104"/>
</kw>
<msg timestamp="20231106 23:10:45.104" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:10:45.087" endtime="20231106 23:10:45.104"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:10:45.105" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:10:45.104" endtime="20231106 23:10:45.105"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:10:45.111" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:10:45.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:10:45.304" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:10:45.108" endtime="20231106 23:10:45.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:10:45.305" level="INFO"/>
<status status="PASS" starttime="20231106 23:10:45.304" endtime="20231106 23:10:45.305"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:10:45.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:10:45.306" endtime="20231106 23:10:45.307"/>
</kw>
<status status="PASS" starttime="20231106 23:10:45.107" endtime="20231106 23:10:45.307"/>
</kw>
<msg timestamp="20231106 23:10:45.308" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:10:45.107" endtime="20231106 23:10:45.308"/>
</kw>
<status status="PASS" starttime="20231106 23:10:45.106" endtime="20231106 23:10:45.308"/>
</kw>
<status status="PASS" starttime="20231106 23:10:45.105" endtime="20231106 23:10:45.308"/>
</kw>
<status status="PASS" starttime="20231106 23:10:45.085" endtime="20231106 23:10:45.308"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20231106 23:10:45.080" endtime="20231106 23:10:45.309"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" starttime="20231106 23:10:44.993" endtime="20231106 23:10:45.311"/>
</suite>
<suite id="s1-s2" name="Admincli" source="/opt/hadoop/smoketest/admincli">
<suite id="s1-s2-s1" name="Admin" source="/opt/hadoop/smoketest/admincli/admin.robot">
<test id="s1-s2-s1-t1" name="Incomplete command" line="23">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:10:50.681" level="INFO">Running command 'ozone admin 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:10:55.909" level="INFO">${rc} = 2</msg>
<msg timestamp="20231106 23:10:55.909" level="INFO">${output} = Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configu...</msg>
<status status="PASS" starttime="20231106 23:10:50.677" endtime="20231106 23:10:55.909"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:10:55.911" level="INFO">Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configurationPath&gt;

  -D, --set=&lt;String=String&gt;

  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
      --verbose   More verbose output. Show the stack trace of the errors.
Commands:
  containerbalancer   ContainerBalancer specific operations
  replicationmanager  ReplicationManager specific operations
  safemode            Safe mode specific operations
  printTopology       Print a tree of the network topology as reported by SCM
  cert                Certificate related operations
  container           Container specific operations
  datanode            Datanode specific operations
  pipeline            Pipeline specific operations
  namespace           Namespace Summary specific admin operations
  om                  Ozone Manager specific admin operations
  reconfig            Dynamically reconfigure server without restarting it
  scm                 Ozone Storage Container Manager specific admin operations</msg>
<status status="PASS" starttime="20231106 23:10:55.910" endtime="20231106 23:10:55.911"/>
</kw>
<msg timestamp="20231106 23:10:55.912" level="INFO">${output} = Incomplete command
Usage: ozone admin [-hV] [--verbose] [-conf=&lt;configurationPath&gt;]
                   [-D=&lt;String=String&gt;]... [COMMAND]
Developer tools for Ozone Admin operations
      -conf=&lt;configu...</msg>
<status status="PASS" starttime="20231106 23:10:50.676" endtime="20231106 23:10:55.912"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.912" endtime="20231106 23:10:55.913"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>container</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.913" endtime="20231106 23:10:55.914"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>datanode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.914" endtime="20231106 23:10:55.915"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>om</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.915" endtime="20231106 23:10:55.916"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>pipeline</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.917" endtime="20231106 23:10:55.917"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>replicationmanager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.918" endtime="20231106 23:10:55.918"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>safemode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.919" endtime="20231106 23:10:55.920"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>printTopology</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:10:55.920" endtime="20231106 23:10:55.920"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:10:50.675" endtime="20231106 23:10:55.921"/>
</test>
<doc>Test ozone admin command</doc>
<status status="PASS" starttime="20231106 23:10:50.631" endtime="20231106 23:10:55.926"/>
</suite>
<suite id="s1-s2-s2" name="Cert" source="/opt/hadoop/smoketest/admincli/cert.robot">
<test id="s1-s2-s2-t1" name="List certificates" line="26">
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>N/A</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231106 23:10:55.945" endtime="20231106 23:10:55.945"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin cert list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:10:55.952" level="INFO">Running command 'ozone admin cert list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:04.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:04.225" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                       ...</msg>
<status status="PASS" starttime="20231106 23:10:55.948" endtime="20231106 23:11:04.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:04.229" level="INFO">Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                                                                        Issuer                                                                                                        
1                 Mon Nov 06 23:06:32 UTC 2023   Thu Dec 14 23:06:32 UTC 2028   CN=scm@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=1 CN=scm@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=1
2                 Mon Nov 06 23:06:33 UTC 2023   Thu Dec 14 23:06:33 UTC 2028   CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2 CN=scm@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=1
3                 Mon Nov 06 23:07:03 UTC 2023   Tue Nov 05 23:07:03 UTC 2024   CN=recon@recon,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=3 CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
4                 Mon Nov 06 23:07:06 UTC 2023   Thu Dec 14 23:07:06 UTC 2028   CN=scm-sub@scm2.org,OU=0aa222b5-13cf-4795-9f36-452161a3eb0f,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=4 CN=scm@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=1
5                 Mon Nov 06 23:07:33 UTC 2023   Thu Dec 14 23:07:33 UTC 2028   CN=scm-sub@scm3.org,OU=cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=5 CN=scm@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=1
6                 Mon Nov 06 23:08:34 UTC 2023   Tue Nov 05 23:08:34 UTC 2024   CN=dn@e37f49da3641,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=6 CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
7                 Mon Nov 06 23:08:35 UTC 2023   Tue Nov 05 23:08:35 UTC 2024   CN=dn@a329891b5ed3,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=7 CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
8                 Mon Nov 06 23:08:38 UTC 2023   Tue Nov 05 23:08:38 UTC 2024   CN=dn@1bd059faa4b9,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=8 CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
9                 Mon Nov 06 23:08:40 UTC 2023   Tue Nov 05 23:08:40 UTC 2024   CN=om2,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=9       CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
10                Mon Nov 06 23:08:41 UTC 2023   Tue Nov 05 23:08:41 UTC 2024   CN=om1,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=10      CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2
11                Mon Nov 06 23:08:42 UTC 2023   Tue Nov 05 23:08:42 UTC 2024   CN=om3,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=11      CN=scm-sub@scm1.org,OU=589564b3-bd57-4499-b10d-49fab8a8d31c,O=CID-8a6c4810-342e-45c7-bab5-716d3465cbae,SERIALNUMBER=2</msg>
<status status="PASS" starttime="20231106 23:11:04.226" endtime="20231106 23:11:04.229"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:04.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:04.229" endtime="20231106 23:11:04.230"/>
</kw>
<status status="PASS" starttime="20231106 23:10:55.947" endtime="20231106 23:11:04.230"/>
</kw>
<msg timestamp="20231106 23:11:04.231" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:10:55.946" endtime="20231106 23:11:04.231"/>
</kw>
<msg timestamp="20231106 23:11:04.231" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)
SerialNumber      Valid From                     Expiry                         Subject                                                       ...</msg>
<status status="PASS" starttime="20231106 23:10:55.946" endtime="20231106 23:11:04.231"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Certificate list:(Type=</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:04.231" endtime="20231106 23:11:04.232"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:10:55.943" endtime="20231106 23:11:04.232"/>
</test>
<test id="s1-s2-s2-t2" name="List certificates as JSON" line="31">
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>N/A</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231106 23:11:04.236" endtime="20231106 23:11:04.237"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone admin cert list --json 1&gt;&gt; outStream 2&gt;&gt; errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:04.244" level="INFO">Running command 'ozone admin cert list --json 1&gt;&gt; outStream 2&gt;&gt; errStream'.</msg>
<msg timestamp="20231106 23:11:12.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.337" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:04.239" endtime="20231106 23:11:12.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.340" level="INFO"/>
<status status="PASS" starttime="20231106 23:11:12.338" endtime="20231106 23:11:12.340"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.342" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.341" endtime="20231106 23:11:12.342"/>
</kw>
<status status="PASS" starttime="20231106 23:11:04.239" endtime="20231106 23:11:12.342"/>
</kw>
<msg timestamp="20231106 23:11:12.343" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:04.238" endtime="20231106 23:11:12.343"/>
</kw>
<status status="PASS" starttime="20231106 23:11:04.237" endtime="20231106 23:11:12.343"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>cat outStream | jq -r '.[0] | keys'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.358" level="INFO">Running command 'cat outStream | jq -r '.[0] | keys' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.448" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.448" level="INFO">${output} = [
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231106 23:11:12.353" endtime="20231106 23:11:12.449"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.452" level="INFO">[
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231106 23:11:12.449" endtime="20231106 23:11:12.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.452" endtime="20231106 23:11:12.453"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.352" endtime="20231106 23:11:12.454"/>
</kw>
<msg timestamp="20231106 23:11:12.454" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.352" endtime="20231106 23:11:12.454"/>
</kw>
<msg timestamp="20231106 23:11:12.454" level="INFO">${output} = [
  "expiry",
  "issuerDN",
  "serialNumber",
  "subjectDN",
  "validFrom"
]</msg>
<status status="PASS" starttime="20231106 23:11:12.343" endtime="20231106 23:11:12.454"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>serialNumber</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:12.455" endtime="20231106 23:11:12.455"/>
</kw>
<kw name="Execute" library="os">
<var>${errOutput}</var>
<arg>cat errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.464" level="INFO">Running command 'cat errStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.468" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.469" level="INFO">${output} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231106 23:11:12.461" endtime="20231106 23:11:12.469"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.471" level="INFO">Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231106 23:11:12.469" endtime="20231106 23:11:12.471"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.472" endtime="20231106 23:11:12.473"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.457" endtime="20231106 23:11:12.474"/>
</kw>
<msg timestamp="20231106 23:11:12.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.457" endtime="20231106 23:11:12.474"/>
</kw>
<msg timestamp="20231106 23:11:12.474" level="INFO">${errOutput} = Certificate list:(Type=VALID, BatchSize=20, CertCount=11)</msg>
<status status="PASS" starttime="20231106 23:11:12.456" endtime="20231106 23:11:12.474"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${errOutput}</arg>
<arg>Certificate list:(Type=</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:12.475" endtime="20231106 23:11:12.475"/>
</kw>
<kw name="Execute" library="os">
<arg>rm outStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.481" level="INFO">Running command 'rm outStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.485" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:12.478" endtime="20231106 23:11:12.485"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.486" level="INFO"/>
<status status="PASS" starttime="20231106 23:11:12.485" endtime="20231106 23:11:12.486"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.487" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.487" endtime="20231106 23:11:12.488"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.477" endtime="20231106 23:11:12.488"/>
</kw>
<msg timestamp="20231106 23:11:12.488" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.476" endtime="20231106 23:11:12.489"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.475" endtime="20231106 23:11:12.489"/>
</kw>
<kw name="Execute" library="os">
<arg>rm errStream</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.497" level="INFO">Running command 'rm errStream 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.501" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:12.495" endtime="20231106 23:11:12.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.504" level="INFO"/>
<status status="PASS" starttime="20231106 23:11:12.502" endtime="20231106 23:11:12.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.504" endtime="20231106 23:11:12.505"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.493" endtime="20231106 23:11:12.505"/>
</kw>
<msg timestamp="20231106 23:11:12.506" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.493" endtime="20231106 23:11:12.506"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.489" endtime="20231106 23:11:12.506"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:11:04.234" endtime="20231106 23:11:12.506"/>
</test>
<doc>Test ozone admin cert command</doc>
<status status="PASS" starttime="20231106 23:10:55.930" endtime="20231106 23:11:12.508"/>
</suite>
<suite id="s1-s2-s3" name="Container" source="/opt/hadoop/smoketest/admincli/container.robot">
<kw name="Create test data" type="SETUP">
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.527" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.535" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.535" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:11:12.524" endtime="20231106 23:11:12.535"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.536" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:11:12.535" endtime="20231106 23:11:12.537"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.537" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.537" endtime="20231106 23:11:12.538"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.524" endtime="20231106 23:11:12.539"/>
</kw>
<msg timestamp="20231106 23:11:12.539" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.523" endtime="20231106 23:11:12.539"/>
</kw>
<msg timestamp="20231106 23:11:12.539" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:11:12.523" endtime="20231106 23:11:12.539"/>
</kw>
<msg timestamp="20231106 23:11:12.540" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:11:12.522" endtime="20231106 23:11:12.540"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:11:12.541" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:11:12.540" endtime="20231106 23:11:12.541"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.547" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:12.728" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:12.728" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:12.544" endtime="20231106 23:11:12.729"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:12.730" level="INFO"/>
<status status="PASS" starttime="20231106 23:11:12.729" endtime="20231106 23:11:12.730"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:12.731" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:12.730" endtime="20231106 23:11:12.731"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.543" endtime="20231106 23:11:12.731"/>
</kw>
<msg timestamp="20231106 23:11:12.731" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.543" endtime="20231106 23:11:12.732"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.542" endtime="20231106 23:11:12.732"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.541" endtime="20231106 23:11:12.733"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.522" endtime="20231106 23:11:12.733"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.520" endtime="20231106 23:11:12.733"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone freon ockg -n1 -t1 -p container</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:12.738" level="INFO">Running command 'ozone freon ockg -n1 -t1 -p container 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:31.616" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:31.616" level="INFO">${output} = 2023-11-06 23:11:17,318 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-11-06 23:11:17,663 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20231106 23:11:12.735" endtime="20231106 23:11:31.616"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:31.618" level="INFO">2023-11-06 23:11:17,318 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-11-06 23:11:17,663 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-11-06 23:11:17,663 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2023-11-06 23:11:17,796 [main] INFO freon.BaseFreonGenerator: Executing test with prefix container and number-of-tests 1
2023-11-06 23:11:17,895 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:18,897 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:19,900 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:20,901 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:21,810 [main] INFO rpc.RpcClient: Creating Volume: vol1, with testuser as owner and space quota set to -1 bytes, counts quota set to -1
2023-11-06 23:11:21,901 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:22,415 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, testuser as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2023-11-06 23:11:22,902 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:23,903 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:24,691 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2023-11-06 23:11:24,760 [pool-2-thread-1] INFO netty.NettyConfigKeys$DataStream: setTlsConf GrpcTlsConfig0-
2023-11-06 23:11:24,903 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:25,228 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-11-06 23:11:25,904 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:26,904 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:27,905 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:28,905 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:29,906 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 1)
2023-11-06 23:11:30,906 [Thread-5] INFO freon.ProgressBar: Progress: 100.00 % (1 out of 1)
2023-11-06 23:11:31,191 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=1, min=7539.980722, max=7539.980722, mean=7539.980722, stddev=0.0, median=7539.980722, p75=7539.980722, p95=7539.980722, p98=7539.980722, p99=7539.980722, p999=7539.980722, mean_rate=0.11920319680191707, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2023-11-06 23:11:31,192 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 13
2023-11-06 23:11:31,193 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2023-11-06 23:11:31,193 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 1</msg>
<status status="PASS" starttime="20231106 23:11:31.617" endtime="20231106 23:11:31.618"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:31.619" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:31.618" endtime="20231106 23:11:31.619"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.734" endtime="20231106 23:11:31.619"/>
</kw>
<msg timestamp="20231106 23:11:31.619" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:12.734" endtime="20231106 23:11:31.620"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.733" endtime="20231106 23:11:31.620"/>
</kw>
<status status="PASS" starttime="20231106 23:11:12.520" endtime="20231106 23:11:31.620"/>
</kw>
<test id="s1-s2-s3-t1" name="Create container" line="38">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container create</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:31.629" level="INFO">Running command 'ozone admin container create 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:43.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:43.578" level="INFO">${output} = Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231106 23:11:31.625" endtime="20231106 23:11:43.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:43.580" level="INFO">Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231106 23:11:43.579" endtime="20231106 23:11:43.580"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:43.581" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:43.580" endtime="20231106 23:11:43.581"/>
</kw>
<status status="PASS" starttime="20231106 23:11:31.624" endtime="20231106 23:11:43.582"/>
</kw>
<msg timestamp="20231106 23:11:43.582" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:31.623" endtime="20231106 23:11:43.582"/>
</kw>
<msg timestamp="20231106 23:11:43.582" level="INFO">${output} = Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created.</msg>
<status status="PASS" starttime="20231106 23:11:31.622" endtime="20231106 23:11:43.583"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>is created</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:43.583" endtime="20231106 23:11:43.583"/>
</kw>
<kw name="Execute" library="os">
<var>${container}</var>
<arg>echo "${output}" | grep 'is created' | cut -f2 -d' '</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:43.590" level="INFO">Running command 'echo "Loaded properties from hadoop-metrics2.properties
Scheduled Metric snapshot period at 10 second(s).
XceiverClientMetrics metrics system started
Container 2 is created." | grep 'is created' | cut -f2 -d' ' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:43.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:43.595" level="INFO">${output} = 2</msg>
<status status="PASS" starttime="20231106 23:11:43.587" endtime="20231106 23:11:43.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:43.598" level="INFO">2</msg>
<status status="PASS" starttime="20231106 23:11:43.596" endtime="20231106 23:11:43.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:43.599" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:43.598" endtime="20231106 23:11:43.600"/>
</kw>
<status status="PASS" starttime="20231106 23:11:43.586" endtime="20231106 23:11:43.600"/>
</kw>
<msg timestamp="20231106 23:11:43.600" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:43.585" endtime="20231106 23:11:43.601"/>
</kw>
<msg timestamp="20231106 23:11:43.601" level="INFO">${container} = 2</msg>
<status status="PASS" starttime="20231106 23:11:43.584" endtime="20231106 23:11:43.601"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${CONTAINER}</arg>
<arg>${container}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:11:43.602" level="INFO">${CONTAINER} = 2</msg>
<status status="PASS" starttime="20231106 23:11:43.601" endtime="20231106 23:11:43.602"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:11:31.620" endtime="20231106 23:11:43.603"/>
</test>
<test id="s1-s2-s3-t2" name="List containers" line="44">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:43.619" level="INFO">Running command 'ozone admin container list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:51.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:51.137" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:11:43.614" endtime="20231106 23:11:51.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:51.139" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-11-06T23:11:50.900329Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}
{
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:39.949Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "replicationType" : "STANDALONE"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-11-06T23:11:50.901739Z",
  "owner" : "OZONE",
  "containerID" : 2,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231106 23:11:51.138" endtime="20231106 23:11:51.139"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:51.140" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:51.139" endtime="20231106 23:11:51.140"/>
</kw>
<status status="PASS" starttime="20231106 23:11:43.612" endtime="20231106 23:11:51.140"/>
</kw>
<msg timestamp="20231106 23:11:51.140" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:43.611" endtime="20231106 23:11:51.140"/>
</kw>
<msg timestamp="20231106 23:11:51.141" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:11:43.609" endtime="20231106 23:11:51.141"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:51.141" endtime="20231106 23:11:51.142"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:11:43.606" endtime="20231106 23:11:51.142"/>
</test>
<test id="s1-s2-s3-t3" name="List containers with explicit host" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:51.149" level="INFO">Running command 'ozone admin container list --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:11:59.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:11:59.135" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:11:51.146" endtime="20231106 23:11:59.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:11:59.138" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-11-06T23:11:58.845358Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}
{
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:39.949Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "replicationType" : "STANDALONE"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-11-06T23:11:58.848112Z",
  "owner" : "OZONE",
  "containerID" : 2,
  "deleteTransactionId" : 0,
  "sequenceId" : 0,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231106 23:11:59.137" endtime="20231106 23:11:59.139"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:11:59.140" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:11:59.139" endtime="20231106 23:11:59.140"/>
</kw>
<status status="PASS" starttime="20231106 23:11:51.146" endtime="20231106 23:11:59.140"/>
</kw>
<msg timestamp="20231106 23:11:59.140" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:51.145" endtime="20231106 23:11:59.141"/>
</kw>
<msg timestamp="20231106 23:11:59.141" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:11:51.144" endtime="20231106 23:11:59.141"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:11:59.141" endtime="20231106 23:11:59.142"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:11:51.143" endtime="20231106 23:11:59.143"/>
</test>
<test id="s1-s2-s3-t4" name="List containers with container state" line="52">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list --state=CLOSED</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:11:59.154" level="INFO">Running command 'ozone admin container list --state=CLOSED 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:06.800" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:06.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:59.151" endtime="20231106 23:12:06.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:06.802" level="INFO"/>
<status status="PASS" starttime="20231106 23:12:06.801" endtime="20231106 23:12:06.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:06.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:06.802" endtime="20231106 23:12:06.803"/>
</kw>
<status status="PASS" starttime="20231106 23:11:59.150" endtime="20231106 23:12:06.804"/>
</kw>
<msg timestamp="20231106 23:12:06.804" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:11:59.149" endtime="20231106 23:12:06.804"/>
</kw>
<msg timestamp="20231106 23:12:06.804" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:11:59.147" endtime="20231106 23:12:06.805"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:06.805" endtime="20231106 23:12:06.806"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:11:59.145" endtime="20231106 23:12:06.806"/>
</test>
<test id="s1-s2-s3-t5" name="List containers with replication factor ONE" line="56">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list -t RATIS -r ONE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:06.815" level="INFO">Running command 'ozone admin container list -t RATIS -r ONE 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:14.736" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:14.737" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:12:06.811" endtime="20231106 23:12:14.737"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:14.739" level="INFO"/>
<status status="PASS" starttime="20231106 23:12:14.738" endtime="20231106 23:12:14.739"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:14.740" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:14.739" endtime="20231106 23:12:14.740"/>
</kw>
<status status="PASS" starttime="20231106 23:12:06.810" endtime="20231106 23:12:14.740"/>
</kw>
<msg timestamp="20231106 23:12:14.741" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:06.810" endtime="20231106 23:12:14.741"/>
</kw>
<msg timestamp="20231106 23:12:14.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:12:06.809" endtime="20231106 23:12:14.741"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>THREE</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:14.742" endtime="20231106 23:12:14.742"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:12:06.808" endtime="20231106 23:12:14.743"/>
</test>
<test id="s1-s2-s3-t6" name="List containers with replication factor THREE" line="60">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container list -t RATIS -r THREE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:14.750" level="INFO">Running command 'ozone admin container list -t RATIS -r THREE 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:22.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:22.574" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:12:14.747" endtime="20231106 23:12:22.574"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:22.576" level="INFO">{
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfKeys" : 0,
  "lastUsed" : "2023-11-06T23:12:22.309575Z",
  "owner" : "omservice",
  "containerID" : 1,
  "deleteTransactionId" : 0,
  "sequenceId" : 2,
  "open" : true,
  "deleted" : false
}</msg>
<status status="PASS" starttime="20231106 23:12:22.574" endtime="20231106 23:12:22.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:22.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:22.576" endtime="20231106 23:12:22.577"/>
</kw>
<status status="PASS" starttime="20231106 23:12:14.746" endtime="20231106 23:12:22.577"/>
</kw>
<msg timestamp="20231106 23:12:22.577" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:14.746" endtime="20231106 23:12:22.577"/>
</kw>
<msg timestamp="20231106 23:12:22.578" level="INFO">${output} = {
  "state" : "OPEN",
  "stateEnterTime" : "2023-11-06T23:11:23.212Z",
  "replicationConfig" : {
    "replicationFactor" : "THREE",
    "replicationType" : "RATIS"
  },
  "usedBytes" : 0,
  "numberOfK...</msg>
<status status="PASS" starttime="20231106 23:12:14.745" endtime="20231106 23:12:22.578"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ONE</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:22.578" endtime="20231106 23:12:22.578"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:12:14.744" endtime="20231106 23:12:22.579"/>
</test>
<test id="s1-s2-s3-t7" name="Container info" line="64">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${CONTAINER}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:22.586" level="INFO">Running command 'ozone admin container info "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:30.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:30.603" level="INFO">${output} = Container id: 2
Pipeline id: 437a27c2-2608-4a6b-a25b-ec527dfec42f
Container State: OPEN
Datanodes: [85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: ...</msg>
<status status="PASS" starttime="20231106 23:12:22.583" endtime="20231106 23:12:30.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:30.605" level="INFO">Container id: 2
Pipeline id: 437a27c2-2608-4a6b-a25b-ec527dfec42f
Container State: OPEN
Datanodes: [85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:12:30.604" endtime="20231106 23:12:30.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:30.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:30.605" endtime="20231106 23:12:30.606"/>
</kw>
<status status="PASS" starttime="20231106 23:12:22.582" endtime="20231106 23:12:30.606"/>
</kw>
<msg timestamp="20231106 23:12:30.606" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:22.582" endtime="20231106 23:12:30.607"/>
</kw>
<msg timestamp="20231106 23:12:30.607" level="INFO">${output} = Container id: 2
Pipeline id: 437a27c2-2608-4a6b-a25b-ec527dfec42f
Container State: OPEN
Datanodes: [85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: ...</msg>
<status status="PASS" starttime="20231106 23:12:22.581" endtime="20231106 23:12:30.607"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Container id: ${CONTAINER}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:30.607" endtime="20231106 23:12:30.608"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Pipeline id</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:30.608" endtime="20231106 23:12:30.609"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanodes</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:30.609" endtime="20231106 23:12:30.610"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:12:22.580" endtime="20231106 23:12:30.610"/>
</test>
<test id="s1-s2-s3-t8" name="Verbose container info" line="70">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin --verbose container info "${CONTAINER}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:30.619" level="INFO">Running command 'ozone admin --verbose container info "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:38.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:38.440" level="INFO">${output} = Container id: 2
Pipeline Info: Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), Replic...</msg>
<status status="PASS" starttime="20231106 23:12:30.615" endtime="20231106 23:12:38.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:38.442" level="INFO">Container id: 2
Pipeline Info: Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:11:39.910Z[UTC]]
Container State: OPEN
Datanodes: [85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:12:38.441" endtime="20231106 23:12:38.442"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:38.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:38.443" endtime="20231106 23:12:38.444"/>
</kw>
<status status="PASS" starttime="20231106 23:12:30.614" endtime="20231106 23:12:38.444"/>
</kw>
<msg timestamp="20231106 23:12:38.445" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:30.614" endtime="20231106 23:12:38.445"/>
</kw>
<msg timestamp="20231106 23:12:38.445" level="INFO">${output} = Container id: 2
Pipeline Info: Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), Replic...</msg>
<status status="PASS" starttime="20231106 23:12:30.613" endtime="20231106 23:12:38.445"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Pipeline Info</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:12:38.445" endtime="20231106 23:12:38.446"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:12:30.611" endtime="20231106 23:12:38.447"/>
</test>
<test id="s1-s2-s3-t9" name="Close container" line="74">
<kw name="Execute" library="os">
<var>${container}</var>
<arg>ozone admin container list --state OPEN | jq -r 'select(.replicationConfig.replicationFactor == "THREE") | .containerID' | head -1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:38.454" level="INFO">Running command 'ozone admin container list --state OPEN | jq -r 'select(.replicationConfig.replicationFactor == "THREE") | .containerID' | head -1 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:46.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:46.191" level="INFO">${output} = 1</msg>
<status status="PASS" starttime="20231106 23:12:38.451" endtime="20231106 23:12:46.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:46.193" level="INFO">1</msg>
<status status="PASS" starttime="20231106 23:12:46.192" endtime="20231106 23:12:46.193"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:46.194" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:46.194" endtime="20231106 23:12:46.194"/>
</kw>
<status status="PASS" starttime="20231106 23:12:38.450" endtime="20231106 23:12:46.195"/>
</kw>
<msg timestamp="20231106 23:12:46.195" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:38.450" endtime="20231106 23:12:46.195"/>
</kw>
<msg timestamp="20231106 23:12:46.195" level="INFO">${container} = 1</msg>
<status status="PASS" starttime="20231106 23:12:38.449" endtime="20231106 23:12:46.195"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone admin container close "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:46.201" level="INFO">Running command 'ozone admin container close "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:12:54.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:12:54.362" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:12:46.197" endtime="20231106 23:12:54.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:12:54.367" level="INFO"/>
<status status="PASS" starttime="20231106 23:12:54.363" endtime="20231106 23:12:54.367"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:12:54.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:12:54.367" endtime="20231106 23:12:54.368"/>
</kw>
<status status="PASS" starttime="20231106 23:12:46.197" endtime="20231106 23:12:54.368"/>
</kw>
<msg timestamp="20231106 23:12:54.368" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:46.196" endtime="20231106 23:12:54.369"/>
</kw>
<status status="PASS" starttime="20231106 23:12:46.196" endtime="20231106 23:12:54.369"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:12:54.376" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:02.093" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:02.093" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:12:54.372" endtime="20231106 23:13:02.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:02.096" level="INFO">Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:13:02.094" endtime="20231106 23:13:02.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:02.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:02.096" endtime="20231106 23:13:02.097"/>
</kw>
<status status="PASS" starttime="20231106 23:12:54.371" endtime="20231106 23:13:02.098"/>
</kw>
<msg timestamp="20231106 23:13:02.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:12:54.370" endtime="20231106 23:13:02.098"/>
</kw>
<msg timestamp="20231106 23:13:02.098" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:12:54.369" endtime="20231106 23:13:02.098"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:02.098" endtime="20231106 23:13:02.099"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1min</arg>
<arg>10sec</arg>
<arg>Container is closed</arg>
<arg>${container}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:02.108" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:08.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:08.822" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:13:02.104" endtime="20231106 23:13:08.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:08.823" level="INFO">Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:13:08.823" endtime="20231106 23:13:08.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:08.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:08.824" endtime="20231106 23:13:08.825"/>
</kw>
<status status="PASS" starttime="20231106 23:13:02.103" endtime="20231106 23:13:08.825"/>
</kw>
<msg timestamp="20231106 23:13:08.825" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:02.102" endtime="20231106 23:13:08.825"/>
</kw>
<msg timestamp="20231106 23:13:08.826" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:13:02.102" endtime="20231106 23:13:08.826"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20231106 23:13:08.827" level="FAIL">'Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net]' does not contain 'CLOSED'</msg>
<status status="FAIL" starttime="20231106 23:13:08.826" endtime="20231106 23:13:08.827"/>
</kw>
<status status="FAIL" starttime="20231106 23:13:02.101" endtime="20231106 23:13:08.827"/>
</kw>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:18.834" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:26.357" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:26.357" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:13:18.831" endtime="20231106 23:13:26.357"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:26.359" level="INFO">Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: CLOSING; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:13:26.358" endtime="20231106 23:13:26.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:26.360" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:26.359" endtime="20231106 23:13:26.360"/>
</kw>
<status status="PASS" starttime="20231106 23:13:18.830" endtime="20231106 23:13:26.361"/>
</kw>
<msg timestamp="20231106 23:13:26.361" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:18.830" endtime="20231106 23:13:26.361"/>
</kw>
<msg timestamp="20231106 23:13:26.361" level="INFO">${output} = Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d51356...</msg>
<status status="PASS" starttime="20231106 23:13:18.829" endtime="20231106 23:13:26.361"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<msg timestamp="20231106 23:13:26.362" level="FAIL">'Container id: 1
Pipeline id: 15c52a08-9876-4879-9dd9-56399b8f19dd
Container State: CLOSING
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: OPEN; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: OPEN; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: CLOSING; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]' does not contain 'CLOSED'</msg>
<status status="FAIL" starttime="20231106 23:13:26.361" endtime="20231106 23:13:26.362"/>
</kw>
<status status="FAIL" starttime="20231106 23:13:18.828" endtime="20231106 23:13:26.363"/>
</kw>
<kw name="Container is closed">
<arg>${container}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin container info "${container}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:36.370" level="INFO">Running command 'ozone admin container info "1" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:43.233" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:43.233" level="INFO">${output} = Container id: 1
Pipeline id: 62dc4f26-d8e5-44f6-824b-3a6d1db1a6d0
Container State: CLOSED
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567...</msg>
<status status="PASS" starttime="20231106 23:13:36.367" endtime="20231106 23:13:43.233"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:43.236" level="INFO">Container id: 1
Pipeline id: 62dc4f26-d8e5-44f6-824b-3a6d1db1a6d0
Container State: CLOSED
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]
Replicas: [State: CLOSED; ReplicaIndex: 0; Origin: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a; Location: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
State: CLOSED; ReplicaIndex: 0; Origin: 0d513567-80fb-4be3-9a44-e971feba591e; Location: 0d513567-80fb-4be3-9a44-e971feba591e/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net,
State: CLOSED; ReplicaIndex: 0; Origin: 85600458-daf8-460b-822f-0fbd46b1ce52; Location: 85600458-daf8-460b-822f-0fbd46b1ce52/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net]</msg>
<status status="PASS" starttime="20231106 23:13:43.234" endtime="20231106 23:13:43.236"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:43.237" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:43.236" endtime="20231106 23:13:43.237"/>
</kw>
<status status="PASS" starttime="20231106 23:13:36.366" endtime="20231106 23:13:43.237"/>
</kw>
<msg timestamp="20231106 23:13:43.238" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:36.365" endtime="20231106 23:13:43.238"/>
</kw>
<msg timestamp="20231106 23:13:43.238" level="INFO">${output} = Container id: 1
Pipeline id: 62dc4f26-d8e5-44f6-824b-3a6d1db1a6d0
Container State: CLOSED
Datanodes: [a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net,
0d513567...</msg>
<status status="PASS" starttime="20231106 23:13:36.364" endtime="20231106 23:13:43.238"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>CLOSED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:43.238" endtime="20231106 23:13:43.239"/>
</kw>
<status status="PASS" starttime="20231106 23:13:36.363" endtime="20231106 23:13:43.239"/>
</kw>
<status status="PASS" starttime="20231106 23:13:02.099" endtime="20231106 23:13:43.239"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:12:38.448" endtime="20231106 23:13:43.240"/>
</test>
<test id="s1-s2-s3-t10" name="Incomplete command" line="81">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin container</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:43.246" level="INFO">Running command 'ozone admin container 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:48.201" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:13:48.201" level="INFO">${output} = Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
C...</msg>
<status status="PASS" starttime="20231106 23:13:43.243" endtime="20231106 23:13:48.201"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:48.203" level="INFO">Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list    List containers
  info    Show information about a specific container
  create  Create container
  close   close container
  report  Display the container summary report</msg>
<status status="PASS" starttime="20231106 23:13:48.202" endtime="20231106 23:13:48.204"/>
</kw>
<msg timestamp="20231106 23:13:48.204" level="INFO">${output} = Incomplete command
Usage: ozone admin container [-hV] [COMMAND]
Container specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
C...</msg>
<status status="PASS" starttime="20231106 23:13:43.242" endtime="20231106 23:13:48.204"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:48.204" endtime="20231106 23:13:48.205"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:48.205" endtime="20231106 23:13:48.205"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>info</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:48.206" endtime="20231106 23:13:48.206"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>create</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:48.206" endtime="20231106 23:13:48.207"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>close</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:48.207" endtime="20231106 23:13:48.207"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:13:43.241" endtime="20231106 23:13:48.208"/>
</test>
<test id="s1-s2-s3-t11" name="Cannot close container without admin privilege" line="93">
<kw name="Requires admin privilege" library="commonlib">
<arg>ozone admin container close "${CONTAINER}"</arg>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip privilege check in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231106 23:13:48.210" endtime="20231106 23:13:48.210"/>
</kw>
<kw name="Kinit test user" library="commonlib">
<arg>testuser2</arg>
<arg>testuser2.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:48.216" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:48.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:48.222" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:13:48.213" endtime="20231106 23:13:48.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:48.224" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:13:48.223" endtime="20231106 23:13:48.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:48.226" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:48.225" endtime="20231106 23:13:48.226"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.212" endtime="20231106 23:13:48.227"/>
</kw>
<msg timestamp="20231106 23:13:48.227" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:48.212" endtime="20231106 23:13:48.227"/>
</kw>
<msg timestamp="20231106 23:13:48.227" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:13:48.211" endtime="20231106 23:13:48.227"/>
</kw>
<msg timestamp="20231106 23:13:48.228" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:13:48.211" endtime="20231106 23:13:48.228"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:13:48.229" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:13:48.228" endtime="20231106 23:13:48.229"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:48.235" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser2.keytab testuser2/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:48.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:48.324" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:13:48.231" endtime="20231106 23:13:48.324"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:48.326" level="INFO"/>
<status status="PASS" starttime="20231106 23:13:48.325" endtime="20231106 23:13:48.326"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:48.327" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:48.326" endtime="20231106 23:13:48.327"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.231" endtime="20231106 23:13:48.328"/>
</kw>
<msg timestamp="20231106 23:13:48.328" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:48.231" endtime="20231106 23:13:48.328"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.230" endtime="20231106 23:13:48.328"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.229" endtime="20231106 23:13:48.328"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.210" endtime="20231106 23:13:48.329"/>
</kw>
<kw name="Access should be denied" library="commonlib">
<arg>${command}</arg>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>${command}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:48.334" level="INFO">Running command 'ozone admin container close "2" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:54.470" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:13:54.470" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:13:48.330" endtime="20231106 23:13:54.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:54.472" level="INFO">Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:13:54.471" endtime="20231106 23:13:54.473"/>
</kw>
<msg timestamp="20231106 23:13:54.473" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:13:48.330" endtime="20231106 23:13:54.473"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Access denied</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:13:54.473" endtime="20231106 23:13:54.474"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.329" endtime="20231106 23:13:54.474"/>
</kw>
<status status="PASS" starttime="20231106 23:13:48.209" endtime="20231106 23:13:54.475"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:13:48.208" endtime="20231106 23:13:54.475"/>
</test>
<test id="s1-s2-s3-t12" name="Cannot create container without admin privilege" line="96">
<kw name="Requires admin privilege" library="commonlib">
<arg>ozone admin container create</arg>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip privilege check in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231106 23:13:54.479" endtime="20231106 23:13:54.480"/>
</kw>
<kw name="Kinit test user" library="commonlib">
<arg>testuser2</arg>
<arg>testuser2.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:54.486" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:54.493" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:54.493" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:13:54.483" endtime="20231106 23:13:54.493"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:54.495" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:13:54.494" endtime="20231106 23:13:54.495"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:54.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:54.495" endtime="20231106 23:13:54.496"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.482" endtime="20231106 23:13:54.496"/>
</kw>
<msg timestamp="20231106 23:13:54.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:54.482" endtime="20231106 23:13:54.497"/>
</kw>
<msg timestamp="20231106 23:13:54.497" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:13:54.481" endtime="20231106 23:13:54.497"/>
</kw>
<msg timestamp="20231106 23:13:54.498" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:13:54.480" endtime="20231106 23:13:54.498"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:13:54.499" level="INFO">${TEST_USER} = testuser2/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:13:54.498" endtime="20231106 23:13:54.499"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:54.505" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser2.keytab testuser2/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:13:54.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:13:54.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:13:54.502" endtime="20231106 23:13:54.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:13:54.656" level="INFO"/>
<status status="PASS" starttime="20231106 23:13:54.655" endtime="20231106 23:13:54.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:13:54.657" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:13:54.656" endtime="20231106 23:13:54.657"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.501" endtime="20231106 23:13:54.657"/>
</kw>
<msg timestamp="20231106 23:13:54.657" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:13:54.500" endtime="20231106 23:13:54.657"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.499" endtime="20231106 23:13:54.657"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.499" endtime="20231106 23:13:54.658"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.480" endtime="20231106 23:13:54.658"/>
</kw>
<kw name="Access should be denied" library="commonlib">
<arg>${command}</arg>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>${command}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:13:54.665" level="INFO">Running command 'ozone admin container create 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:02.979" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:14:02.979" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:13:54.659" endtime="20231106 23:14:02.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:02.981" level="INFO">Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:14:02.980" endtime="20231106 23:14:02.981"/>
</kw>
<msg timestamp="20231106 23:14:02.982" level="INFO">${output} = Access denied for user testuser2/s3g@EXAMPLE.COM. SCM superuser privilege is required.</msg>
<status status="PASS" starttime="20231106 23:13:54.659" endtime="20231106 23:14:02.982"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Access denied</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:02.982" endtime="20231106 23:14:02.983"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.658" endtime="20231106 23:14:02.983"/>
</kw>
<status status="PASS" starttime="20231106 23:13:54.478" endtime="20231106 23:14:02.983"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:13:54.477" endtime="20231106 23:14:02.983"/>
</test>
<test id="s1-s2-s3-t13" name="Reset user" line="99">
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:02.994" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:03.000" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:03.000" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:14:02.991" endtime="20231106 23:14:03.000"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:03.002" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:14:03.001" endtime="20231106 23:14:03.003"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:03.004" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:03.003" endtime="20231106 23:14:03.004"/>
</kw>
<status status="PASS" starttime="20231106 23:14:02.990" endtime="20231106 23:14:03.005"/>
</kw>
<msg timestamp="20231106 23:14:03.005" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:02.989" endtime="20231106 23:14:03.005"/>
</kw>
<msg timestamp="20231106 23:14:03.005" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:14:02.989" endtime="20231106 23:14:03.005"/>
</kw>
<msg timestamp="20231106 23:14:03.006" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:14:02.988" endtime="20231106 23:14:03.006"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:14:03.007" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:14:03.006" endtime="20231106 23:14:03.007"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:03.014" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:03.071" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:03.071" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:14:03.011" endtime="20231106 23:14:03.071"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:03.074" level="INFO"/>
<status status="PASS" starttime="20231106 23:14:03.072" endtime="20231106 23:14:03.074"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:03.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:03.074" endtime="20231106 23:14:03.076"/>
</kw>
<status status="PASS" starttime="20231106 23:14:03.010" endtime="20231106 23:14:03.076"/>
</kw>
<msg timestamp="20231106 23:14:03.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:03.009" endtime="20231106 23:14:03.077"/>
</kw>
<status status="PASS" starttime="20231106 23:14:03.008" endtime="20231106 23:14:03.077"/>
</kw>
<status status="PASS" starttime="20231106 23:14:03.008" endtime="20231106 23:14:03.077"/>
</kw>
<status status="PASS" starttime="20231106 23:14:02.987" endtime="20231106 23:14:03.077"/>
</kw>
<status status="PASS" starttime="20231106 23:14:02.986" endtime="20231106 23:14:03.077"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:02.985" endtime="20231106 23:14:03.078"/>
</test>
<doc>Test ozone admin container command</doc>
<status status="PASS" starttime="20231106 23:11:12.511" endtime="20231106 23:14:03.080"/>
</suite>
<suite id="s1-s2-s4" name="Datanode" source="/opt/hadoop/smoketest/admincli/datanode.robot">
<test id="s1-s2-s4-t1" name="List datanodes" line="23">
<kw name="Execute" library="os">
<arg>ozone admin datanode list &gt; datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:03.100" level="INFO">Running command 'ozone admin datanode list &gt; datanode.list'.</msg>
<msg timestamp="20231106 23:14:09.950" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:09.950" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:14:03.097" endtime="20231106 23:14:09.950"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:09.952" level="INFO"/>
<status status="PASS" starttime="20231106 23:14:09.951" endtime="20231106 23:14:09.952"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:09.954" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:09.952" endtime="20231106 23:14:09.954"/>
</kw>
<status status="PASS" starttime="20231106 23:14:03.096" endtime="20231106 23:14:09.954"/>
</kw>
<msg timestamp="20231106 23:14:09.955" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:03.096" endtime="20231106 23:14:09.955"/>
</kw>
<status status="PASS" starttime="20231106 23:14:03.095" endtime="20231106 23:14:09.955"/>
</kw>
<kw name="Get File" library="OperatingSystem">
<var>${output}</var>
<arg>datanode.list</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20231106 23:14:09.956" level="INFO" html="true">Getting file '&lt;a href="file:///opt/hadoop/datanode.list"&gt;/opt/hadoop/datanode.list&lt;/a&gt;'.</msg>
<msg timestamp="20231106 23:14:09.956" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:09.955" endtime="20231106 23:14:09.956"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:09.957" endtime="20231106 23:14:09.957"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Related pipelines:</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:09.958" endtime="20231106 23:14:09.958"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:03.094" endtime="20231106 23:14:09.958"/>
</test>
<test id="s1-s2-s4-t2" name="Filter list by UUID" line="29">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:09.966" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:09.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:09.974" level="INFO">${output} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:09.963" endtime="20231106 23:14:09.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:09.975" level="INFO">85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:09.974" endtime="20231106 23:14:09.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:09.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:09.976" endtime="20231106 23:14:09.976"/>
</kw>
<status status="PASS" starttime="20231106 23:14:09.963" endtime="20231106 23:14:09.977"/>
</kw>
<msg timestamp="20231106 23:14:09.977" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:09.962" endtime="20231106 23:14:09.977"/>
</kw>
<msg timestamp="20231106 23:14:09.977" level="INFO">${uuid} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:09.961" endtime="20231106 23:14:09.978"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --id "${uuid}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:09.982" level="INFO">Running command 'ozone admin datanode list --id "85600458-daf8-460b-822f-0fbd46b1ce52" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:17.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:17.317" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:09.979" endtime="20231106 23:14:17.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:17.319" level="INFO">Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Follower
437a27c2-2608-4a6b-a25b-ec527dfec42f/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
03ce9719-11cf-47e6-b53a-0b7db90127a1/RATIS/ONE/RATIS/OPEN/Leader
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Leader
</msg>
<status status="PASS" starttime="20231106 23:14:17.318" endtime="20231106 23:14:17.319"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:17.320" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:17.320" endtime="20231106 23:14:17.320"/>
</kw>
<status status="PASS" starttime="20231106 23:14:09.979" endtime="20231106 23:14:17.321"/>
</kw>
<msg timestamp="20231106 23:14:17.321" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:09.978" endtime="20231106 23:14:17.321"/>
</kw>
<msg timestamp="20231106 23:14:17.322" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:09.978" endtime="20231106 23:14:17.322"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:17.322" endtime="20231106 23:14:17.322"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:14:17.323" level="INFO">1 out of 8 lines matched</msg>
<msg timestamp="20231106 23:14:17.323" level="INFO">${datanodes} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)</msg>
<status status="PASS" starttime="20231106 23:14:17.323" endtime="20231106 23:14:17.323"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231106 23:14:17.324" level="INFO">1 lines returned</msg>
<msg timestamp="20231106 23:14:17.325" level="INFO">@{lines} = [ Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines) ]</msg>
<status status="PASS" starttime="20231106 23:14:17.324" endtime="20231106 23:14:17.325"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231106 23:14:17.326" level="INFO">Length is 1</msg>
<msg timestamp="20231106 23:14:17.326" level="INFO">${count} = 1</msg>
<status status="PASS" starttime="20231106 23:14:17.325" endtime="20231106 23:14:17.326"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>1</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:17.327" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:17.326" endtime="20231106 23:14:17.327"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:09.960" endtime="20231106 23:14:17.327"/>
</test>
<test id="s1-s2-s4-t3" name="Filter list by NodeOperationalState" line="38">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:17.338" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:17.344" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:17.344" level="INFO">${output} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:17.333" endtime="20231106 23:14:17.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:17.346" level="INFO">85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:17.345" endtime="20231106 23:14:17.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:17.347" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:17.347" endtime="20231106 23:14:17.347"/>
</kw>
<status status="PASS" starttime="20231106 23:14:17.333" endtime="20231106 23:14:17.348"/>
</kw>
<msg timestamp="20231106 23:14:17.348" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:17.332" endtime="20231106 23:14:17.348"/>
</kw>
<msg timestamp="20231106 23:14:17.348" level="INFO">${uuid} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:17.331" endtime="20231106 23:14:17.348"/>
</kw>
<kw name="Execute" library="os">
<var>${expected}</var>
<arg>grep -c 'Operational State: IN_SERVICE' datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:17.354" level="INFO">Running command 'grep -c 'Operational State: IN_SERVICE' datanode.list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:17.360" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:17.360" level="INFO">${output} = 3</msg>
<status status="PASS" starttime="20231106 23:14:17.351" endtime="20231106 23:14:17.361"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:17.362" level="INFO">3</msg>
<status status="PASS" starttime="20231106 23:14:17.361" endtime="20231106 23:14:17.363"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:17.364" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:17.363" endtime="20231106 23:14:17.364"/>
</kw>
<status status="PASS" starttime="20231106 23:14:17.350" endtime="20231106 23:14:17.364"/>
</kw>
<msg timestamp="20231106 23:14:17.364" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:17.350" endtime="20231106 23:14:17.365"/>
</kw>
<msg timestamp="20231106 23:14:17.365" level="INFO">${expected} = 3</msg>
<status status="PASS" starttime="20231106 23:14:17.349" endtime="20231106 23:14:17.365"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --operational-state IN_SERVICE</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:17.371" level="INFO">Running command 'ozone admin datanode list --operational-state IN_SERVICE 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:24.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:24.026" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:17.368" endtime="20231106 23:14:24.027"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:24.028" level="INFO">Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Follower
437a27c2-2608-4a6b-a25b-ec527dfec42f/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
03ce9719-11cf-47e6-b53a-0b7db90127a1/RATIS/ONE/RATIS/OPEN/Leader
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Leader

Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Leader
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Follower
7d619819-f60e-4b34-b991-76aa5ec677b0/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 0d513567-80fb-4be3-9a44-e971feba591e (/default-rack/172.25.0.104/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Follower
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Follower
465c246f-f043-4063-b02f-0613de15f885/RATIS/ONE/RATIS/OPEN/Leader
</msg>
<status status="PASS" starttime="20231106 23:14:24.027" endtime="20231106 23:14:24.028"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:24.029" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:24.029" endtime="20231106 23:14:24.030"/>
</kw>
<status status="PASS" starttime="20231106 23:14:17.367" endtime="20231106 23:14:24.030"/>
</kw>
<msg timestamp="20231106 23:14:24.030" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:17.366" endtime="20231106 23:14:24.030"/>
</kw>
<msg timestamp="20231106 23:14:24.030" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:17.366" endtime="20231106 23:14:24.030"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:24.031" endtime="20231106 23:14:24.031"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:14:24.032" level="INFO">3 out of 24 lines matched</msg>
<msg timestamp="20231106 23:14:24.032" level="INFO">${datanodes} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default-rac...</msg>
<status status="PASS" starttime="20231106 23:14:24.032" endtime="20231106 23:14:24.032"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231106 23:14:24.033" level="INFO">3 lines returned</msg>
<msg timestamp="20231106 23:14:24.034" level="INFO">@{lines} = [ Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines) | Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default...</msg>
<status status="PASS" starttime="20231106 23:14:24.033" endtime="20231106 23:14:24.034"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231106 23:14:24.034" level="INFO">Length is 3</msg>
<msg timestamp="20231106 23:14:24.034" level="INFO">${count} = 3</msg>
<status status="PASS" starttime="20231106 23:14:24.034" endtime="20231106 23:14:24.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>${expected}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:24.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:24.035" endtime="20231106 23:14:24.036"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:17.330" endtime="20231106 23:14:24.036"/>
</test>
<test id="s1-s2-s4-t4" name="Filter list by NodeState" line="48">
<kw name="Execute" library="os">
<var>${uuid}</var>
<arg>grep '^Datanode:' datanode.list | head -1 | awk '{ print \$2 }'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:24.044" level="INFO">Running command 'grep '^Datanode:' datanode.list | head -1 | awk '{ print $2 }' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:24.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:24.049" level="INFO">${output} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:24.041" endtime="20231106 23:14:24.049"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:24.051" level="INFO">85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:24.050" endtime="20231106 23:14:24.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:24.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:24.051" endtime="20231106 23:14:24.052"/>
</kw>
<status status="PASS" starttime="20231106 23:14:24.040" endtime="20231106 23:14:24.052"/>
</kw>
<msg timestamp="20231106 23:14:24.053" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:24.040" endtime="20231106 23:14:24.053"/>
</kw>
<msg timestamp="20231106 23:14:24.053" level="INFO">${uuid} = 85600458-daf8-460b-822f-0fbd46b1ce52</msg>
<status status="PASS" starttime="20231106 23:14:24.039" endtime="20231106 23:14:24.053"/>
</kw>
<kw name="Execute" library="os">
<var>${expected}</var>
<arg>grep -c 'Health State: HEALTHY' datanode.list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:24.075" level="INFO">Running command 'grep -c 'Health State: HEALTHY' datanode.list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:24.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:24.079" level="INFO">${output} = 3</msg>
<status status="PASS" starttime="20231106 23:14:24.055" endtime="20231106 23:14:24.079"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:24.080" level="INFO">3</msg>
<status status="PASS" starttime="20231106 23:14:24.079" endtime="20231106 23:14:24.080"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:24.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:24.081" endtime="20231106 23:14:24.081"/>
</kw>
<status status="PASS" starttime="20231106 23:14:24.054" endtime="20231106 23:14:24.081"/>
</kw>
<msg timestamp="20231106 23:14:24.082" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:24.054" endtime="20231106 23:14:24.082"/>
</kw>
<msg timestamp="20231106 23:14:24.082" level="INFO">${expected} = 3</msg>
<status status="PASS" starttime="20231106 23:14:24.053" endtime="20231106 23:14:24.082"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --node-state HEALTHY</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:24.086" level="INFO">Running command 'ozone admin datanode list --node-state HEALTHY 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:31.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:31.875" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:24.084" endtime="20231106 23:14:31.875"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:31.877" level="INFO">Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Follower
437a27c2-2608-4a6b-a25b-ec527dfec42f/STANDALONE/ONE/STAND_ALONE/OPEN/Follower
03ce9719-11cf-47e6-b53a-0b7db90127a1/RATIS/ONE/RATIS/OPEN/Leader
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Leader

Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default-rack/172.25.0.103/ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Leader
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Follower
7d619819-f60e-4b34-b991-76aa5ec677b0/RATIS/ONE/RATIS/OPEN/Leader

Datanode: 0d513567-80fb-4be3-9a44-e971feba591e (/default-rack/172.25.0.104/ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/3 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related pipelines:
15c52a08-9876-4879-9dd9-56399b8f19dd/RATIS/THREE/RATIS/OPEN/Follower
7d6ba776-f284-4d15-bfc0-a0b2c6678b13/RATIS/THREE/RATIS/OPEN/Follower
465c246f-f043-4063-b02f-0613de15f885/RATIS/ONE/RATIS/OPEN/Leader
</msg>
<status status="PASS" starttime="20231106 23:14:31.876" endtime="20231106 23:14:31.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:31.878" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:31.877" endtime="20231106 23:14:31.878"/>
</kw>
<status status="PASS" starttime="20231106 23:14:24.083" endtime="20231106 23:14:31.879"/>
</kw>
<msg timestamp="20231106 23:14:31.879" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:24.083" endtime="20231106 23:14:31.879"/>
</kw>
<msg timestamp="20231106 23:14:31.879" level="INFO">${output} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Operational State: IN_SERVICE
Health State: HEALTHY
Related ...</msg>
<status status="PASS" starttime="20231106 23:14:24.082" endtime="20231106 23:14:31.879"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Datanode: ${uuid}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:31.880" endtime="20231106 23:14:31.880"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${datanodes}</var>
<arg>${output}</arg>
<arg>Datanode:</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:14:31.881" level="INFO">3 out of 24 lines matched</msg>
<msg timestamp="20231106 23:14:31.882" level="INFO">${datanodes} = Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines)
Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default-rac...</msg>
<status status="PASS" starttime="20231106 23:14:31.881" endtime="20231106 23:14:31.882"/>
</kw>
<kw name="Split To Lines" library="String">
<var>@{lines}</var>
<arg>${datanodes}</arg>
<doc>Splits the given string to lines.</doc>
<msg timestamp="20231106 23:14:31.883" level="INFO">3 lines returned</msg>
<msg timestamp="20231106 23:14:31.883" level="INFO">@{lines} = [ Datanode: 85600458-daf8-460b-822f-0fbd46b1ce52 (/default-rack/172.25.0.102/ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/4 pipelines) | Datanode: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a (/default...</msg>
<status status="PASS" starttime="20231106 23:14:31.882" endtime="20231106 23:14:31.883"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${count}</var>
<arg>${lines}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231106 23:14:31.884" level="INFO">Length is 3</msg>
<msg timestamp="20231106 23:14:31.884" level="INFO">${count} = 3</msg>
<status status="PASS" starttime="20231106 23:14:31.883" endtime="20231106 23:14:31.884"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>${expected}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:31.885" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:31.884" endtime="20231106 23:14:31.885"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:24.038" endtime="20231106 23:14:31.885"/>
</test>
<test id="s1-s2-s4-t5" name="Incomplete command" line="58">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin datanode</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:31.892" level="INFO">Running command 'ozone admin datanode 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:36.957" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:14:36.957" level="INFO">${output} = Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231106 23:14:31.888" endtime="20231106 23:14:36.957"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:36.959" level="INFO">Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list          List info of datanodes
  decommission  Decommission a datanode
  maintenance   Put a datanode into Maintenance Mode
  recommission  Return a datanode to service
  usageinfo     List usage information (such as Capacity, SCMUsed, Remaining)
                  of a datanode by IP address or UUID</msg>
<status status="PASS" starttime="20231106 23:14:36.958" endtime="20231106 23:14:36.960"/>
</kw>
<msg timestamp="20231106 23:14:36.960" level="INFO">${output} = Incomplete command
Usage: ozone admin datanode [-hV] [COMMAND]
Datanode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231106 23:14:31.888" endtime="20231106 23:14:36.960"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:36.960" endtime="20231106 23:14:36.962"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:36.962" endtime="20231106 23:14:36.962"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:31.886" endtime="20231106 23:14:36.963"/>
</test>
<test id="s1-s2-s4-t6" name="List datanodes as JSON" line="67">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin datanode list --json | jq -r '.'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:36.972" level="INFO">Running command 'ozone admin datanode list --json | jq -r '.' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:44.427" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:44.427" level="INFO">${output} = [
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "uuidString": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "ipAddress": "...</msg>
<status status="PASS" starttime="20231106 23:14:36.967" endtime="20231106 23:14:44.427"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:44.430" level="INFO">[
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "uuidString": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "ipAddress": "172.25.0.102",
      "hostName": "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": 1003097621,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/85600458-daf8-460b-822f-0fbd46b1ce52",
      "numOfLeaves": 1,
      "networkName": "85600458-daf8-460b-822f-0fbd46b1ce52"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  },
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a",
      "uuidString": "a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a",
      "ipAddress": "172.25.0.103",
      "hostName": "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": 714514840,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a",
      "numOfLeaves": 1,
      "networkName": "a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  },
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "0d513567-80fb-4be3-9a44-e971feba591e",
      "uuidString": "0d513567-80fb-4be3-9a44-e971feba591e",
      "ipAddress": "172.25.0.104",
      "hostName": "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
      "ports": [
        {
          "name": "HTTP",
          "value": 9882
        },
        {
          "name": "CLIENT_RPC",
          "value": 9864
        },
        {
          "name": "REPLICATION",
          "value": 9886
        },
        {
          "name": "RATIS",
          "value": 9858
        },
        {
          "name": "RATIS_ADMIN",
          "value": 9857
        },
        {
          "name": "RATIS_SERVER",
          "value": 9856
        },
        {
          "name": "RATIS_DATASTREAM",
          "value": 9855
        },
        {
          "name": "STANDALONE",
          "value": 9859
        }
      ],
      "setupTime": 0,
      "persistedOpState": "IN_SERVICE",
      "persistedOpStateExpiryEpochSec": 0,
      "initialVersion": 0,
      "currentVersion": 1,
      "signature": 1936931100,
      "decommissioned": false,
      "maintenance": false,
      "networkLocation": "/default-rack",
      "networkFullPath": "/default-rack/0d513567-80fb-4be3-9a44-e971feba591e",
      "numOfLeaves": 1,
      "networkName": "0d513567-80fb-4be3-9a44-e971feba591e"
    },
    "healthState": "HEALTHY",
    "opState": "IN_SERVICE"
  }
]</msg>
<status status="PASS" starttime="20231106 23:14:44.428" endtime="20231106 23:14:44.431"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:44.432" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:44.431" endtime="20231106 23:14:44.432"/>
</kw>
<status status="PASS" starttime="20231106 23:14:36.967" endtime="20231106 23:14:44.432"/>
</kw>
<msg timestamp="20231106 23:14:44.432" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:36.966" endtime="20231106 23:14:44.434"/>
</kw>
<msg timestamp="20231106 23:14:44.434" level="INFO">${output} = [
  {
    "datanodeDetails": {
      "level": 0,
      "cost": 0,
      "uuid": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "uuidString": "85600458-daf8-460b-822f-0fbd46b1ce52",
      "ipAddress": "...</msg>
<status status="PASS" starttime="20231106 23:14:36.966" endtime="20231106 23:14:44.434"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>datanodeDetails</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:44.434" endtime="20231106 23:14:44.435"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>healthState</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:44.435" endtime="20231106 23:14:44.436"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>opState</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:44.436" endtime="20231106 23:14:44.437"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:36.964" endtime="20231106 23:14:44.437"/>
</test>
<doc>Test ozone admin datanode command</doc>
<status status="PASS" starttime="20231106 23:14:03.084" endtime="20231106 23:14:44.438"/>
</suite>
<suite id="s1-s2-s5" name="Pipeline" source="/opt/hadoop/smoketest/admincli/pipeline.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:44.478" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:44.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:44.486" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:14:44.473" endtime="20231106 23:14:44.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:44.487" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:14:44.486" endtime="20231106 23:14:44.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:44.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:44.488" endtime="20231106 23:14:44.488"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.472" endtime="20231106 23:14:44.489"/>
</kw>
<msg timestamp="20231106 23:14:44.489" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:44.472" endtime="20231106 23:14:44.489"/>
</kw>
<msg timestamp="20231106 23:14:44.490" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:14:44.471" endtime="20231106 23:14:44.490"/>
</kw>
<msg timestamp="20231106 23:14:44.490" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:14:44.470" endtime="20231106 23:14:44.490"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:14:44.491" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:14:44.491" endtime="20231106 23:14:44.491"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:44.499" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:44.555" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:44.556" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:14:44.495" endtime="20231106 23:14:44.556"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:44.558" level="INFO"/>
<status status="PASS" starttime="20231106 23:14:44.557" endtime="20231106 23:14:44.558"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:44.559" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:44.558" endtime="20231106 23:14:44.559"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.494" endtime="20231106 23:14:44.559"/>
</kw>
<msg timestamp="20231106 23:14:44.559" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:44.493" endtime="20231106 23:14:44.560"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.492" endtime="20231106 23:14:44.560"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.492" endtime="20231106 23:14:44.560"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.469" endtime="20231106 23:14:44.560"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.467" endtime="20231106 23:14:44.560"/>
</kw>
<test id="s1-s2-s5-t1" name="Create pipeline" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline create</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:44.571" level="INFO">Running command 'ozone admin pipeline create 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:51.782" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:51.782" level="INFO">${output} = PipelineID=a1e2fcdc-5db1-4539-9c06-b9651d930d9b is created. Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_oz...</msg>
<status status="PASS" starttime="20231106 23:14:44.567" endtime="20231106 23:14:51.782"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:51.784" level="INFO">PipelineID=a1e2fcdc-5db1-4539-9c06-b9651d930d9b is created. Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:14:51.783" endtime="20231106 23:14:51.785"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:51.786" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:51.785" endtime="20231106 23:14:51.786"/>
</kw>
<status status="PASS" starttime="20231106 23:14:44.566" endtime="20231106 23:14:51.786"/>
</kw>
<msg timestamp="20231106 23:14:51.786" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:44.565" endtime="20231106 23:14:51.786"/>
</kw>
<msg timestamp="20231106 23:14:51.787" level="INFO">${output} = PipelineID=a1e2fcdc-5db1-4539-9c06-b9651d930d9b is created. Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_oz...</msg>
<status status="PASS" starttime="20231106 23:14:44.564" endtime="20231106 23:14:51.787"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>is created.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:51.787" endtime="20231106 23:14:51.787"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:51.788" endtime="20231106 23:14:51.788"/>
</kw>
<kw name="Execute" library="os">
<var>${pipeline}</var>
<arg>echo "${output}" | grep 'is created' | cut -f1 -d' ' | cut -f2 -d'='</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:51.795" level="INFO">Running command 'echo "PipelineID=a1e2fcdc-5db1-4539-9c06-b9651d930d9b is created. Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]" | grep 'is created' | cut -f1 -d' ' | cut -f2 -d'=' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:51.802" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:51.802" level="INFO">${output} = a1e2fcdc-5db1-4539-9c06-b9651d930d9b</msg>
<status status="PASS" starttime="20231106 23:14:51.791" endtime="20231106 23:14:51.802"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:51.803" level="INFO">a1e2fcdc-5db1-4539-9c06-b9651d930d9b</msg>
<status status="PASS" starttime="20231106 23:14:51.803" endtime="20231106 23:14:51.804"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:51.805" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:51.804" endtime="20231106 23:14:51.805"/>
</kw>
<status status="PASS" starttime="20231106 23:14:51.790" endtime="20231106 23:14:51.805"/>
</kw>
<msg timestamp="20231106 23:14:51.805" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:51.790" endtime="20231106 23:14:51.805"/>
</kw>
<msg timestamp="20231106 23:14:51.806" level="INFO">${pipeline} = a1e2fcdc-5db1-4539-9c06-b9651d930d9b</msg>
<status status="PASS" starttime="20231106 23:14:51.789" endtime="20231106 23:14:51.806"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${PIPELINE}</arg>
<arg>${pipeline}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:14:51.806" level="INFO">${PIPELINE} = a1e2fcdc-5db1-4539-9c06-b9651d930d9b</msg>
<status status="PASS" starttime="20231106 23:14:51.806" endtime="20231106 23:14:51.806"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:44.563" endtime="20231106 23:14:51.807"/>
</test>
<test id="s1-s2-s5-t2" name="List pipelines" line="35">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:51.814" level="INFO">Running command 'ozone admin pipeline list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:14:59.628" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:14:59.629" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:14:51.811" endtime="20231106 23:14:59.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:14:59.642" level="INFO">Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:23.075Z[UTC]]
Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:11:39.910Z[UTC]]
Pipeline[ Id: 03ce9719-11cf-47e6-b53a-0b7db90127a1, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.688Z[UTC]]
Pipeline[ Id: 7d6ba776-f284-4d15-bfc0-a0b2c6678b13, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.891Z[UTC]]
Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]
Pipeline[ Id: 7d619819-f60e-4b34-b991-76aa5ec677b0, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:19.489Z[UTC]]
Pipeline[ Id: 465c246f-f043-4063-b02f-0613de15f885, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0d513567-80fb-4be3-9a44-e971feba591e, CreationTimestamp2023-11-06T23:09:20.004Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:14:59.630" endtime="20231106 23:14:59.643"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:14:59.648" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:14:59.643" endtime="20231106 23:14:59.648"/>
</kw>
<status status="PASS" starttime="20231106 23:14:51.810" endtime="20231106 23:14:59.648"/>
</kw>
<msg timestamp="20231106 23:14:59.649" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:51.810" endtime="20231106 23:14:59.649"/>
</kw>
<msg timestamp="20231106 23:14:59.649" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:14:51.809" endtime="20231106 23:14:59.649"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:14:59.650" endtime="20231106 23:14:59.651"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:51.808" endtime="20231106 23:14:59.651"/>
</test>
<test id="s1-s2-s5-t3" name="List pipeline with json option" line="39">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:14:59.665" level="INFO">Running command 'ozone admin pipeline list --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:06.704" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:06.704" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231106 23:14:59.659" endtime="20231106 23:15:06.704"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:06.706" level="INFO">true</msg>
<status status="PASS" starttime="20231106 23:15:06.705" endtime="20231106 23:15:06.706"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:06.706" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:06.706" endtime="20231106 23:15:06.707"/>
</kw>
<status status="PASS" starttime="20231106 23:14:59.658" endtime="20231106 23:15:06.707"/>
</kw>
<msg timestamp="20231106 23:15:06.707" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:14:59.657" endtime="20231106 23:15:06.707"/>
</kw>
<msg timestamp="20231106 23:15:06.707" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231106 23:14:59.654" endtime="20231106 23:15:06.707"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>$output</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231106 23:15:06.708" endtime="20231106 23:15:06.716"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:14:59.653" endtime="20231106 23:15:06.716"/>
</test>
<test id="s1-s2-s5-t4" name="List pipelines with explicit host" line="44">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:06.724" level="INFO">Running command 'ozone admin pipeline list --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:13.551" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:13.552" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:15:06.721" endtime="20231106 23:15:13.552"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:13.554" level="INFO">Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:23.075Z[UTC]]
Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:11:39.910Z[UTC]]
Pipeline[ Id: 03ce9719-11cf-47e6-b53a-0b7db90127a1, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.688Z[UTC]]
Pipeline[ Id: 7d6ba776-f284-4d15-bfc0-a0b2c6678b13, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.891Z[UTC]]
Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]
Pipeline[ Id: 7d619819-f60e-4b34-b991-76aa5ec677b0, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:19.489Z[UTC]]
Pipeline[ Id: 465c246f-f043-4063-b02f-0613de15f885, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0d513567-80fb-4be3-9a44-e971feba591e, CreationTimestamp2023-11-06T23:09:20.004Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:15:13.552" endtime="20231106 23:15:13.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:13.556" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:13.555" endtime="20231106 23:15:13.556"/>
</kw>
<status status="PASS" starttime="20231106 23:15:06.720" endtime="20231106 23:15:13.557"/>
</kw>
<msg timestamp="20231106 23:15:13.557" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:06.720" endtime="20231106 23:15:13.557"/>
</kw>
<msg timestamp="20231106 23:15:13.558" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:15:06.719" endtime="20231106 23:15:13.558"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>STANDALONE/ONE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:15:13.558" endtime="20231106 23:15:13.558"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:15:06.718" endtime="20231106 23:15:13.559"/>
</test>
<test id="s1-s2-s5-t5" name="List pipelines with explicit host and json option" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list --scm ${SCM} --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:13.568" level="INFO">Running command 'ozone admin pipeline list --scm scm1.org --json | jq 'map(.replicationConfig) | contains([{"replicationFactor": "ONE", "replicationType": "STANDALONE"}])' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:20.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:20.666" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231106 23:15:13.564" endtime="20231106 23:15:20.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:20.668" level="INFO">true</msg>
<status status="PASS" starttime="20231106 23:15:20.667" endtime="20231106 23:15:20.668"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:20.670" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:20.668" endtime="20231106 23:15:20.671"/>
</kw>
<status status="PASS" starttime="20231106 23:15:13.563" endtime="20231106 23:15:20.672"/>
</kw>
<msg timestamp="20231106 23:15:20.672" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:13.562" endtime="20231106 23:15:20.672"/>
</kw>
<msg timestamp="20231106 23:15:20.672" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20231106 23:15:13.562" endtime="20231106 23:15:20.672"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>$output</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20231106 23:15:20.672" endtime="20231106 23:15:20.673"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:15:13.560" endtime="20231106 23:15:20.674"/>
</test>
<test id="s1-s2-s5-t6" name="Deactivate pipeline" line="53">
<kw name="Execute" library="os">
<arg>ozone admin pipeline deactivate "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:20.683" level="INFO">Running command 'ozone admin pipeline deactivate "a1e2fcdc-5db1-4539-9c06-b9651d930d9b" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:27.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:27.738" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:15:20.679" endtime="20231106 23:15:27.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:27.740" level="INFO"/>
<status status="PASS" starttime="20231106 23:15:27.739" endtime="20231106 23:15:27.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:27.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:27.740" endtime="20231106 23:15:27.742"/>
</kw>
<status status="PASS" starttime="20231106 23:15:20.678" endtime="20231106 23:15:27.742"/>
</kw>
<msg timestamp="20231106 23:15:27.742" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:20.678" endtime="20231106 23:15:27.742"/>
</kw>
<status status="PASS" starttime="20231106 23:15:20.677" endtime="20231106 23:15:27.743"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list | grep "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:27.751" level="INFO">Running command 'ozone admin pipeline list | grep "a1e2fcdc-5db1-4539-9c06-b9651d930d9b" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:35.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:35.339" level="INFO">${output} = Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231106 23:15:27.746" endtime="20231106 23:15:35.339"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:35.342" level="INFO">Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:DORMANT, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:15:35.340" endtime="20231106 23:15:35.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:35.343" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:35.342" endtime="20231106 23:15:35.343"/>
</kw>
<status status="PASS" starttime="20231106 23:15:27.744" endtime="20231106 23:15:35.343"/>
</kw>
<msg timestamp="20231106 23:15:35.343" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:27.744" endtime="20231106 23:15:35.344"/>
</kw>
<msg timestamp="20231106 23:15:35.344" level="INFO">${output} = Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231106 23:15:27.743" endtime="20231106 23:15:35.344"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>DORMANT</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:15:35.344" endtime="20231106 23:15:35.345"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:15:20.675" endtime="20231106 23:15:35.345"/>
</test>
<test id="s1-s2-s5-t7" name="Activate pipeline" line="58">
<kw name="Execute" library="os">
<arg>ozone admin pipeline activate "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:35.353" level="INFO">Running command 'ozone admin pipeline activate "a1e2fcdc-5db1-4539-9c06-b9651d930d9b" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:42.444" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:42.444" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:15:35.349" endtime="20231106 23:15:42.444"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:42.446" level="INFO"/>
<status status="PASS" starttime="20231106 23:15:42.445" endtime="20231106 23:15:42.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:42.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:42.446" endtime="20231106 23:15:42.447"/>
</kw>
<status status="PASS" starttime="20231106 23:15:35.349" endtime="20231106 23:15:42.447"/>
</kw>
<msg timestamp="20231106 23:15:42.447" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:35.348" endtime="20231106 23:15:42.447"/>
</kw>
<status status="PASS" starttime="20231106 23:15:35.347" endtime="20231106 23:15:42.447"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list | grep "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:42.455" level="INFO">Running command 'ozone admin pipeline list | grep "a1e2fcdc-5db1-4539-9c06-b9651d930d9b" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:49.186" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:49.186" level="INFO">${output} = Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231106 23:15:42.450" endtime="20231106 23:15:49.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:49.189" level="INFO">Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:15:49.187" endtime="20231106 23:15:49.189"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:49.190" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:49.189" endtime="20231106 23:15:49.190"/>
</kw>
<status status="PASS" starttime="20231106 23:15:42.449" endtime="20231106 23:15:49.190"/>
</kw>
<msg timestamp="20231106 23:15:49.190" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:42.448" endtime="20231106 23:15:49.190"/>
</kw>
<msg timestamp="20231106 23:15:49.191" level="INFO">${output} = Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, St...</msg>
<status status="PASS" starttime="20231106 23:15:42.448" endtime="20231106 23:15:49.191"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>OPEN</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:15:49.191" endtime="20231106 23:15:49.191"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:15:35.346" endtime="20231106 23:15:49.192"/>
</test>
<test id="s1-s2-s5-t8" name="Close pipeline" line="63">
<kw name="Execute" library="os">
<arg>ozone admin pipeline close "${PIPELINE}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:49.204" level="INFO">Running command 'ozone admin pipeline close "a1e2fcdc-5db1-4539-9c06-b9651d930d9b" 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:15:56.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:15:56.219" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:15:49.200" endtime="20231106 23:15:56.219"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:15:56.221" level="INFO"/>
<status status="PASS" starttime="20231106 23:15:56.220" endtime="20231106 23:15:56.221"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:15:56.223" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:15:56.222" endtime="20231106 23:15:56.223"/>
</kw>
<status status="PASS" starttime="20231106 23:15:49.199" endtime="20231106 23:15:56.224"/>
</kw>
<msg timestamp="20231106 23:15:56.224" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:49.199" endtime="20231106 23:15:56.224"/>
</kw>
<status status="PASS" starttime="20231106 23:15:49.198" endtime="20231106 23:15:56.224"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin pipeline list</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:15:56.231" level="INFO">Running command 'ozone admin pipeline list 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:03.621" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:03.621" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:15:56.227" endtime="20231106 23:16:03.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:03.623" level="INFO">Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:23.075Z[UTC]]
Pipeline[ Id: 437a27c2-2608-4a6b-a25b-ec527dfec42f, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: STANDALONE/ONE, State:OPEN, leaderId:, CreationTimestamp2023-11-06T23:11:39.910Z[UTC]]
Pipeline[ Id: 03ce9719-11cf-47e6-b53a-0b7db90127a1, Nodes: 85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.688Z[UTC]]
Pipeline[ Id: 7d6ba776-f284-4d15-bfc0-a0b2c6678b13, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104)85600458-daf8-460b-822f-0fbd46b1ce52(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net/172.25.0.102)a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:85600458-daf8-460b-822f-0fbd46b1ce52, CreationTimestamp2023-11-06T23:09:22.891Z[UTC]]
Pipeline[ Id: a1e2fcdc-5db1-4539-9c06-b9651d930d9b, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: STANDALONE/ONE, State:CLOSED, leaderId:, CreationTimestamp2023-11-06T23:14:51.128Z[UTC]]
Pipeline[ Id: 7d619819-f60e-4b34-b991-76aa5ec677b0, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a, CreationTimestamp2023-11-06T23:09:19.489Z[UTC]]
Pipeline[ Id: 465c246f-f043-4063-b02f-0613de15f885, Nodes: 0d513567-80fb-4be3-9a44-e971feba591e(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net/172.25.0.104), ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0d513567-80fb-4be3-9a44-e971feba591e, CreationTimestamp2023-11-06T23:09:20.004Z[UTC]]</msg>
<status status="PASS" starttime="20231106 23:16:03.622" endtime="20231106 23:16:03.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:03.624" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:03.623" endtime="20231106 23:16:03.624"/>
</kw>
<status status="PASS" starttime="20231106 23:15:56.226" endtime="20231106 23:16:03.624"/>
</kw>
<msg timestamp="20231106 23:16:03.624" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:15:56.226" endtime="20231106 23:16:03.625"/>
</kw>
<msg timestamp="20231106 23:16:03.625" level="INFO">${output} = Pipeline[ Id: 15c52a08-9876-4879-9dd9-56399b8f19dd, Nodes: a0ee4cb9-396f-4e08-83f9-7f8f3cd2d08a(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net/172.25.0.103)0d513567-80fb-4be3-9a44-e971feba591e(oz...</msg>
<status status="PASS" starttime="20231106 23:15:56.224" endtime="20231106 23:16:03.625"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${PIPELINE}' not in '''${output}'''</arg>
<arg>Pipeline already scrubbed</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20231106 23:16:03.625" endtime="20231106 23:16:03.626"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>${PIPELINE}.*CLOSED</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:16:03.626" endtime="20231106 23:16:03.627"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:15:49.196" endtime="20231106 23:16:03.627"/>
</test>
<test id="s1-s2-s5-t9" name="Incomplete command" line="69">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin pipeline</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:03.634" level="INFO">Running command 'ozone admin pipeline 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:08.436" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:16:08.436" level="INFO">${output} = Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231106 23:16:03.630" endtime="20231106 23:16:08.437"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:08.439" level="INFO">Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  list        List all active pipelines
  activate    Activates the given Pipeline
  deactivate  Deactivates the given Pipeline
  create      create pipeline
  close       Close pipeline</msg>
<status status="PASS" starttime="20231106 23:16:08.438" endtime="20231106 23:16:08.439"/>
</kw>
<msg timestamp="20231106 23:16:08.440" level="INFO">${output} = Incomplete command
Usage: ozone admin pipeline [-hV] [COMMAND]
Pipeline specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Com...</msg>
<status status="PASS" starttime="20231106 23:16:03.629" endtime="20231106 23:16:08.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:08.441" endtime="20231106 23:16:08.441"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>close</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:08.442" endtime="20231106 23:16:08.443"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>create</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:08.443" endtime="20231106 23:16:08.444"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>deactivate</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:08.444" endtime="20231106 23:16:08.445"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>list</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:08.445" endtime="20231106 23:16:08.445"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:03.628" endtime="20231106 23:16:08.446"/>
</test>
<doc>Test ozone admin pipeline command</doc>
<status status="PASS" starttime="20231106 23:14:44.447" endtime="20231106 23:16:08.448"/>
</suite>
<suite id="s1-s2-s6" name="printTopology" source="/opt/hadoop/smoketest/admincli/printTopology.robot">
<test id="s1-s2-s6-t1" name="Run printTopology" line="25">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin printTopology</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:08.489" level="INFO">Running command 'ozone admin printTopology 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:15.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:15.726" level="INFO">${output} = State = HEALTHY
 172.25.0.102(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDA...</msg>
<status status="PASS" starttime="20231106 23:16:08.476" endtime="20231106 23:16:15.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:15.729" level="INFO">State = HEALTHY
 172.25.0.102(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack
 172.25.0.103(ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack
 172.25.0.104(ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDALONE=9859    IN_SERVICE    /default-rack</msg>
<status status="PASS" starttime="20231106 23:16:15.727" endtime="20231106 23:16:15.729"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:15.738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:15.729" endtime="20231106 23:16:15.738"/>
</kw>
<status status="PASS" starttime="20231106 23:16:08.476" endtime="20231106 23:16:15.738"/>
</kw>
<msg timestamp="20231106 23:16:15.738" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:08.475" endtime="20231106 23:16:15.739"/>
</kw>
<msg timestamp="20231106 23:16:15.739" level="INFO">${output} = State = HEALTHY
 172.25.0.102(ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net):HTTP=9882,CLIENT_RPC=9864,REPLICATION=9886,RATIS=9858,RATIS_ADMIN=9857,RATIS_SERVER=9856,RATIS_DATASTREAM=9855,STANDA...</msg>
<status status="PASS" starttime="20231106 23:16:08.475" endtime="20231106 23:16:15.739"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>State =</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:16:15.740" endtime="20231106 23:16:15.741"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:08.473" endtime="20231106 23:16:15.741"/>
</test>
<test id="s1-s2-s6-t2" name="Run printTopology as JSON" line="29">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin printTopology --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:15.751" level="INFO">Running command 'ozone admin printTopology --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:22.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:22.751" level="INFO">${output} = [ {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/defaul...</msg>
<status status="PASS" starttime="20231106 23:16:15.746" endtime="20231106 23:16:22.751"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:22.753" level="INFO">[ {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.104",
  "hostName" : "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
} ]</msg>
<status status="PASS" starttime="20231106 23:16:22.752" endtime="20231106 23:16:22.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:22.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:22.754" endtime="20231106 23:16:22.755"/>
</kw>
<status status="PASS" starttime="20231106 23:16:15.746" endtime="20231106 23:16:22.755"/>
</kw>
<msg timestamp="20231106 23:16:22.755" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:15.745" endtime="20231106 23:16:22.755"/>
</kw>
<msg timestamp="20231106 23:16:22.756" level="INFO">${output} = [ {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/defaul...</msg>
<status status="PASS" starttime="20231106 23:16:15.744" endtime="20231106 23:16:22.756"/>
</kw>
<kw name="Execute" library="os">
<var>${keys}</var>
<arg>echo '${output}' | jq -r '.[0] | keys'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:22.762" level="INFO">Running command 'echo '[ {
  "ipAddress" : "172.25.0.102",
  "hostName" : "ozonesecure-ha_datanode1_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.103",
  "hostName" : "ozonesecure-ha_datanode2_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
}, {
  "ipAddress" : "172.25.0.104",
  "hostName" : "ozonesecure-ha_datanode3_1.ozonesecure-ha_ozone_net",
  "nodeState" : "HEALTHY",
  "operationalState" : "IN_SERVICE",
  "networkLocation" : "/default-rack",
  "ports" : {
    "HTTP" : 9882,
    "CLIENT_RPC" : 9864,
    "REPLICATION" : 9886,
    "RATIS" : 9858,
    "RATIS_ADMIN" : 9857,
    "RATIS_SERVER" : 9856,
    "RATIS_DATASTREAM" : 9855,
    "STANDALONE" : 9859
  }
} ]' | jq -r '.[0] | keys' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:22.824" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:22.824" level="INFO">${output} = [
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231106 23:16:22.758" endtime="20231106 23:16:22.824"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:22.827" level="INFO">[
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231106 23:16:22.825" endtime="20231106 23:16:22.827"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:22.828" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:22.827" endtime="20231106 23:16:22.828"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.757" endtime="20231106 23:16:22.829"/>
</kw>
<msg timestamp="20231106 23:16:22.829" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:22.757" endtime="20231106 23:16:22.829"/>
</kw>
<msg timestamp="20231106 23:16:22.829" level="INFO">${keys} = [
  "hostName",
  "ipAddress",
  "networkLocation",
  "nodeState",
  "operationalState",
  "ports"
]</msg>
<status status="PASS" starttime="20231106 23:16:22.756" endtime="20231106 23:16:22.830"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ipAddress</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:22.830" endtime="20231106 23:16:22.831"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:15.743" endtime="20231106 23:16:22.831"/>
</test>
<doc>Test ozone admin printTopology command</doc>
<status status="PASS" starttime="20231106 23:16:08.453" endtime="20231106 23:16:22.834"/>
</suite>
<suite id="s1-s2-s7" name="Replicationmanager" source="/opt/hadoop/smoketest/admincli/replicationmanager.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:22.852" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:22.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:22.859" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:16:22.849" endtime="20231106 23:16:22.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:22.860" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:16:22.859" endtime="20231106 23:16:22.860"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:22.861" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:22.861" endtime="20231106 23:16:22.862"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.848" endtime="20231106 23:16:22.862"/>
</kw>
<msg timestamp="20231106 23:16:22.862" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:22.848" endtime="20231106 23:16:22.862"/>
</kw>
<msg timestamp="20231106 23:16:22.863" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:16:22.847" endtime="20231106 23:16:22.863"/>
</kw>
<msg timestamp="20231106 23:16:22.863" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:16:22.847" endtime="20231106 23:16:22.863"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:16:22.864" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:16:22.864" endtime="20231106 23:16:22.865"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:22.871" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:23.047" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:23.048" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:16:22.868" endtime="20231106 23:16:23.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:23.049" level="INFO"/>
<status status="PASS" starttime="20231106 23:16:23.048" endtime="20231106 23:16:23.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:23.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:23.049" endtime="20231106 23:16:23.050"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.867" endtime="20231106 23:16:23.050"/>
</kw>
<msg timestamp="20231106 23:16:23.050" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:22.867" endtime="20231106 23:16:23.050"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.866" endtime="20231106 23:16:23.051"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.865" endtime="20231106 23:16:23.051"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.846" endtime="20231106 23:16:23.051"/>
</kw>
<status status="PASS" starttime="20231106 23:16:22.845" endtime="20231106 23:16:23.051"/>
</kw>
<test id="s1-s2-s7-t1" name="Check replicationmanager" line="27">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager status</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:23.059" level="INFO">Running command 'ozone admin replicationmanager status 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:30.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:30.138" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:23.056" endtime="20231106 23:16:30.138"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:30.140" level="INFO">ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:30.139" endtime="20231106 23:16:30.140"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:30.141" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:30.140" endtime="20231106 23:16:30.141"/>
</kw>
<status status="PASS" starttime="20231106 23:16:23.054" endtime="20231106 23:16:30.141"/>
</kw>
<msg timestamp="20231106 23:16:30.141" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:23.054" endtime="20231106 23:16:30.142"/>
</kw>
<msg timestamp="20231106 23:16:30.142" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:23.053" endtime="20231106 23:16:30.142"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:30.142" endtime="20231106 23:16:30.143"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Running</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:30.143" endtime="20231106 23:16:30.144"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:23.051" endtime="20231106 23:16:30.144"/>
</test>
<test id="s1-s2-s7-t2" name="Check replicationmanager with explicit host" line="32">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager status --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:30.154" level="INFO">Running command 'ozone admin replicationmanager status --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:37.627" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:37.627" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:30.150" endtime="20231106 23:16:37.627"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:37.629" level="INFO">ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:37.628" endtime="20231106 23:16:37.629"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:37.630" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:37.629" endtime="20231106 23:16:37.630"/>
</kw>
<status status="PASS" starttime="20231106 23:16:30.149" endtime="20231106 23:16:37.630"/>
</kw>
<msg timestamp="20231106 23:16:37.630" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:30.149" endtime="20231106 23:16:37.631"/>
</kw>
<msg timestamp="20231106 23:16:37.631" level="INFO">${output} = ReplicationManager is Running.</msg>
<status status="PASS" starttime="20231106 23:16:30.148" endtime="20231106 23:16:37.631"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:37.631" endtime="20231106 23:16:37.632"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Running</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:37.632" endtime="20231106 23:16:37.633"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:30.147" endtime="20231106 23:16:37.633"/>
</test>
<test id="s1-s2-s7-t3" name="Stop replicationmanager" line="37">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager stop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:37.643" level="INFO">Running command 'ozone admin replicationmanager stop 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:46.104" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:46.104" level="INFO">${output} = Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231106 23:16:37.639" endtime="20231106 23:16:46.104"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:46.107" level="INFO">Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231106 23:16:46.105" endtime="20231106 23:16:46.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:46.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:46.107" endtime="20231106 23:16:46.108"/>
</kw>
<status status="PASS" starttime="20231106 23:16:37.639" endtime="20231106 23:16:46.109"/>
</kw>
<msg timestamp="20231106 23:16:46.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:37.638" endtime="20231106 23:16:46.110"/>
</kw>
<msg timestamp="20231106 23:16:46.110" level="INFO">${output} = Stopping ReplicationManager...
Requested SCM to stop ReplicationManager, it might take sometime for the ReplicationManager to stop.</msg>
<status status="PASS" starttime="20231106 23:16:37.637" endtime="20231106 23:16:46.110"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Stopping ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:16:46.111" endtime="20231106 23:16:46.112"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>30sec</arg>
<arg>5sec</arg>
<arg>Execute</arg>
<arg>ozone admin replicationmanager status | grep -q 'is Not Running'</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>ozone admin replicationmanager status | grep -q 'is Not Running'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:46.124" level="INFO">Running command 'ozone admin replicationmanager status | grep -q 'is Not Running' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:16:53.254" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:16:53.254" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:16:46.119" endtime="20231106 23:16:53.255"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:16:53.257" level="INFO"/>
<status status="PASS" starttime="20231106 23:16:53.255" endtime="20231106 23:16:53.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:16:53.258" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:16:53.257" endtime="20231106 23:16:53.259"/>
</kw>
<status status="PASS" starttime="20231106 23:16:46.118" endtime="20231106 23:16:53.259"/>
</kw>
<msg timestamp="20231106 23:16:53.259" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:46.117" endtime="20231106 23:16:53.259"/>
</kw>
<status status="PASS" starttime="20231106 23:16:46.115" endtime="20231106 23:16:53.260"/>
</kw>
<status status="PASS" starttime="20231106 23:16:46.112" endtime="20231106 23:16:53.260"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:37.635" endtime="20231106 23:16:53.260"/>
</test>
<test id="s1-s2-s7-t4" name="Start replicationmanager" line="42">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager start</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:16:53.269" level="INFO">Running command 'ozone admin replicationmanager start 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:00.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:00.225" level="INFO">${output} = Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231106 23:16:53.266" endtime="20231106 23:17:00.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:00.227" level="INFO">Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231106 23:17:00.226" endtime="20231106 23:17:00.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:00.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:00.228" endtime="20231106 23:17:00.228"/>
</kw>
<status status="PASS" starttime="20231106 23:16:53.265" endtime="20231106 23:17:00.229"/>
</kw>
<msg timestamp="20231106 23:17:00.229" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:16:53.264" endtime="20231106 23:17:00.229"/>
</kw>
<msg timestamp="20231106 23:17:00.230" level="INFO">${output} = Starting ReplicationManager...</msg>
<status status="PASS" starttime="20231106 23:16:53.264" endtime="20231106 23:17:00.230"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Starting ReplicationManager</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:00.230" endtime="20231106 23:17:00.231"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>30sec</arg>
<arg>5sec</arg>
<arg>Execute</arg>
<arg>ozone admin replicationmanager status | grep -q 'is Running'</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>ozone admin replicationmanager status | grep -q 'is Running'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:00.238" level="INFO">Running command 'ozone admin replicationmanager status | grep -q 'is Running' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:07.379" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:07.379" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:17:00.234" endtime="20231106 23:17:07.379"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:07.381" level="INFO"/>
<status status="PASS" starttime="20231106 23:17:07.380" endtime="20231106 23:17:07.381"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:07.382" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:07.382" endtime="20231106 23:17:07.382"/>
</kw>
<status status="PASS" starttime="20231106 23:17:00.233" endtime="20231106 23:17:07.383"/>
</kw>
<msg timestamp="20231106 23:17:07.383" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:00.232" endtime="20231106 23:17:07.383"/>
</kw>
<status status="PASS" starttime="20231106 23:17:00.231" endtime="20231106 23:17:07.383"/>
</kw>
<status status="PASS" starttime="20231106 23:17:00.231" endtime="20231106 23:17:07.383"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:16:53.263" endtime="20231106 23:17:07.383"/>
</test>
<test id="s1-s2-s7-t5" name="Incomplete command" line="47">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin replicationmanager</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:07.392" level="INFO">Running command 'ozone admin replicationmanager 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:12.481" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:17:12.481" level="INFO">${output} = Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version infor...</msg>
<status status="PASS" starttime="20231106 23:17:07.388" endtime="20231106 23:17:12.482"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:12.483" level="INFO">Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  start   Start ReplicationManager
  stop    Stop ReplicationManager
  status  Check if ReplicationManager is running or not</msg>
<status status="PASS" starttime="20231106 23:17:12.482" endtime="20231106 23:17:12.484"/>
</kw>
<msg timestamp="20231106 23:17:12.484" level="INFO">${output} = Incomplete command
Usage: ozone admin replicationmanager [-hV] [COMMAND]
ReplicationManager specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version infor...</msg>
<status status="PASS" starttime="20231106 23:17:07.387" endtime="20231106 23:17:12.484"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:12.484" endtime="20231106 23:17:12.485"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>start</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:12.485" endtime="20231106 23:17:12.486"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>stop</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:12.486" endtime="20231106 23:17:12.487"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>status</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:12.487" endtime="20231106 23:17:12.488"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:07.385" endtime="20231106 23:17:12.488"/>
</test>
<doc>Test ozone admin replicationmanager command</doc>
<status status="PASS" starttime="20231106 23:16:22.836" endtime="20231106 23:17:12.490"/>
</suite>
<suite id="s1-s2-s8" name="Safemode" source="/opt/hadoop/smoketest/admincli/safemode.robot">
<test id="s1-s2-s8-t1" name="Check safemode" line="26">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode status</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:12.511" level="INFO">Running command 'ozone admin safemode status 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:19.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:19.131" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:12.507" endtime="20231106 23:17:19.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:19.133" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:19.132" endtime="20231106 23:17:19.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:19.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:19.133" endtime="20231106 23:17:19.134"/>
</kw>
<status status="PASS" starttime="20231106 23:17:12.506" endtime="20231106 23:17:19.134"/>
</kw>
<msg timestamp="20231106 23:17:19.134" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:12.506" endtime="20231106 23:17:19.135"/>
</kw>
<msg timestamp="20231106 23:17:19.135" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:12.505" endtime="20231106 23:17:19.135"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:19.135" endtime="20231106 23:17:19.136"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:12.504" endtime="20231106 23:17:19.136"/>
</test>
<test id="s1-s2-s8-t2" name="Check safemode with explicit host" line="30">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode status --scm ${SCM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:19.145" level="INFO">Running command 'ozone admin safemode status --scm scm1.org 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:26.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:26.337" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:19.142" endtime="20231106 23:17:26.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:26.339" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:26.338" endtime="20231106 23:17:26.339"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:26.340" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:26.339" endtime="20231106 23:17:26.340"/>
</kw>
<status status="PASS" starttime="20231106 23:17:19.141" endtime="20231106 23:17:26.340"/>
</kw>
<msg timestamp="20231106 23:17:26.340" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:19.140" endtime="20231106 23:17:26.340"/>
</kw>
<msg timestamp="20231106 23:17:26.340" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:19.139" endtime="20231106 23:17:26.340"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:26.341" endtime="20231106 23:17:26.341"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:19.138" endtime="20231106 23:17:26.341"/>
</test>
<test id="s1-s2-s8-t3" name="Wait for safemode exit" line="34">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin safemode wait -t 2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:26.348" level="INFO">Running command 'ozone admin safemode wait -t 2 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:33.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:33.323" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:26.344" endtime="20231106 23:17:33.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:33.324" level="INFO">SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:33.323" endtime="20231106 23:17:33.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:33.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:33.324" endtime="20231106 23:17:33.325"/>
</kw>
<status status="PASS" starttime="20231106 23:17:26.344" endtime="20231106 23:17:33.325"/>
</kw>
<msg timestamp="20231106 23:17:33.325" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:26.344" endtime="20231106 23:17:33.325"/>
</kw>
<msg timestamp="20231106 23:17:33.326" level="INFO">${output} = SCM is out of safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:26.343" endtime="20231106 23:17:33.326"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SCM is out of safe mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:33.326" endtime="20231106 23:17:33.327"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:26.342" endtime="20231106 23:17:33.327"/>
</test>
<test id="s1-s2-s8-t4" name="Incomplete command" line="38">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone admin safemode</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:33.334" level="INFO">Running command 'ozone admin safemode 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:37.950" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:17:37.950" level="INFO">${output} = Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Co...</msg>
<status status="PASS" starttime="20231106 23:17:33.330" endtime="20231106 23:17:37.950"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:37.952" level="INFO">Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  status  Check if SCM is in safe mode
  exit    Force SCM out of safe mode
  wait    Wait until the scm is out from the safe mode.</msg>
<status status="PASS" starttime="20231106 23:17:37.951" endtime="20231106 23:17:37.952"/>
</kw>
<msg timestamp="20231106 23:17:37.953" level="INFO">${output} = Incomplete command
Usage: ozone admin safemode [-hV] [COMMAND]
Safe mode specific operations
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Co...</msg>
<status status="PASS" starttime="20231106 23:17:33.330" endtime="20231106 23:17:37.953"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Incomplete command</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:37.953" endtime="20231106 23:17:37.954"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>status</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:37.954" endtime="20231106 23:17:37.954"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>exit</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:37.954" endtime="20231106 23:17:37.955"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>wait</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:17:37.955" endtime="20231106 23:17:37.956"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:33.329" endtime="20231106 23:17:37.956"/>
</test>
<doc>Test ozone admin safemode command</doc>
<status status="PASS" starttime="20231106 23:17:12.493" endtime="20231106 23:17:37.959"/>
</suite>
<suite id="s1-s2-s9" name="Scmrole" source="/opt/hadoop/smoketest/admincli/scmrole.robot">
<test id="s1-s2-s9-t1" name="Run scm roles" line="26">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin scm roles</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:37.980" level="INFO">Running command 'ozone admin scm roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:44.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:44.835" level="INFO">${output} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:17:37.975" endtime="20231106 23:17:44.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:44.837" level="INFO">scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:17:44.835" endtime="20231106 23:17:44.837"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:44.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:44.837" endtime="20231106 23:17:44.838"/>
</kw>
<status status="PASS" starttime="20231106 23:17:37.975" endtime="20231106 23:17:44.838"/>
</kw>
<msg timestamp="20231106 23:17:44.838" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:37.974" endtime="20231106 23:17:44.838"/>
</kw>
<msg timestamp="20231106 23:17:44.839" level="INFO">${output} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:17:37.973" endtime="20231106 23:17:44.839"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[scm:9894(:LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:17:44.839" endtime="20231106 23:17:44.840"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:37.973" endtime="20231106 23:17:44.840"/>
</test>
<test id="s1-s2-s9-t2" name="List scm roles as JSON" line="30">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone admin scm roles --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:44.848" level="INFO">Running command 'ozone admin scm roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:51.970" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:51.970" level="INFO">${output} = {
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "589564b3-bd57-4499-b10d-49fab8a8d31c",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "addr...</msg>
<status status="PASS" starttime="20231106 23:17:44.845" endtime="20231106 23:17:51.970"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:51.972" level="INFO">{
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "589564b3-bd57-4499-b10d-49fab8a8d31c",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "address" : "scm3.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15",
    "InetAddress" : "172.25.0.118"
  },
  "scm2.org" : {
    "address" : "scm2.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "0aa222b5-13cf-4795-9f36-452161a3eb0f",
    "InetAddress" : "172.25.0.117"
  }
}</msg>
<status status="PASS" starttime="20231106 23:17:51.971" endtime="20231106 23:17:51.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:51.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:51.973" endtime="20231106 23:17:51.974"/>
</kw>
<status status="PASS" starttime="20231106 23:17:44.844" endtime="20231106 23:17:51.974"/>
</kw>
<msg timestamp="20231106 23:17:51.974" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:44.844" endtime="20231106 23:17:51.974"/>
</kw>
<msg timestamp="20231106 23:17:51.975" level="INFO">${output} = {
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "589564b3-bd57-4499-b10d-49fab8a8d31c",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "addr...</msg>
<status status="PASS" starttime="20231106 23:17:44.843" endtime="20231106 23:17:51.975"/>
</kw>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq -r '.[] | select(.raftPeerRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:51.982" level="INFO">Running command 'echo '{
  "scm1.org" : {
    "address" : "scm1.org:9894",
    "raftPeerRole" : "LEADER",
    "ID" : "589564b3-bd57-4499-b10d-49fab8a8d31c",
    "InetAddress" : "172.25.0.116"
  },
  "scm3.org" : {
    "address" : "scm3.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15",
    "InetAddress" : "172.25.0.118"
  },
  "scm2.org" : {
    "address" : "scm2.org:9894",
    "raftPeerRole" : "FOLLOWER",
    "ID" : "0aa222b5-13cf-4795-9f36-452161a3eb0f",
    "InetAddress" : "172.25.0.117"
  }
}' | jq -r '.[] | select(.raftPeerRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:52.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:52.043" level="INFO">${output} = {
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "589564b3-bd57-4499-b10d-49fab8a8d31c",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231106 23:17:51.978" endtime="20231106 23:17:52.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:52.046" level="INFO">{
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "589564b3-bd57-4499-b10d-49fab8a8d31c",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231106 23:17:52.044" endtime="20231106 23:17:52.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:52.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:52.047" endtime="20231106 23:17:52.048"/>
</kw>
<status status="PASS" starttime="20231106 23:17:51.976" endtime="20231106 23:17:52.049"/>
</kw>
<msg timestamp="20231106 23:17:52.049" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:51.976" endtime="20231106 23:17:52.049"/>
</kw>
<msg timestamp="20231106 23:17:52.050" level="INFO">${leader} = {
  "address": "scm1.org:9894",
  "raftPeerRole": "LEADER",
  "ID": "589564b3-bd57-4499-b10d-49fab8a8d31c",
  "InetAddress": "172.25.0.116"
}</msg>
<status status="PASS" starttime="20231106 23:17:51.975" endtime="20231106 23:17:52.050"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:17:52.050" endtime="20231106 23:17:52.052"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:44.842" endtime="20231106 23:17:52.053"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231106 23:17:37.962" endtime="20231106 23:17:52.057"/>
</suite>
<status status="PASS" starttime="20231106 23:10:50.590" endtime="20231106 23:17:52.065"/>
</suite>
<suite id="s1-s3" name="Om-Fetch-Key" source="/opt/hadoop/smoketest/omha/om-fetch-key.robot">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:57.538" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:57.544" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:57.544" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:17:57.535" endtime="20231106 23:17:57.544"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:57.546" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:17:57.545" endtime="20231106 23:17:57.546"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:57.547" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:57.546" endtime="20231106 23:17:57.547"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.534" endtime="20231106 23:17:57.547"/>
</kw>
<msg timestamp="20231106 23:17:57.547" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:57.533" endtime="20231106 23:17:57.547"/>
</kw>
<msg timestamp="20231106 23:17:57.547" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:17:57.533" endtime="20231106 23:17:57.548"/>
</kw>
<msg timestamp="20231106 23:17:57.548" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:17:57.532" endtime="20231106 23:17:57.548"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:17:57.549" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:17:57.548" endtime="20231106 23:17:57.549"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:57.555" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:17:57.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:17:57.710" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:17:57.552" endtime="20231106 23:17:57.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:17:57.711" level="INFO"/>
<status status="PASS" starttime="20231106 23:17:57.710" endtime="20231106 23:17:57.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:17:57.712" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:17:57.711" endtime="20231106 23:17:57.712"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.551" endtime="20231106 23:17:57.712"/>
</kw>
<msg timestamp="20231106 23:17:57.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:57.551" endtime="20231106 23:17:57.713"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.550" endtime="20231106 23:17:57.713"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.549" endtime="20231106 23:17:57.713"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.531" endtime="20231106 23:17:57.713"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.530" endtime="20231106 23:17:57.713"/>
</kw>
<test id="s1-s3-t1" name="Fetch Key with Valid ServiceID Specified" line="31">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om fetch-key --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:17:57.721" level="INFO">Running command 'ozone admin om fetch-key --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:05.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:05.859" level="INFO">${output} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:17:57.718" endtime="20231106 23:18:05.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:05.861" level="INFO">Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:05.860" endtime="20231106 23:18:05.862"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:05.863" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:05.862" endtime="20231106 23:18:05.863"/>
</kw>
<status status="PASS" starttime="20231106 23:17:57.717" endtime="20231106 23:18:05.863"/>
</kw>
<msg timestamp="20231106 23:18:05.864" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:17:57.716" endtime="20231106 23:18:05.864"/>
</kw>
<msg timestamp="20231106 23:18:05.864" level="INFO">${result} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:17:57.715" endtime="20231106 23:18:05.864"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:05.865" endtime="20231106 23:18:05.865"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:17:57.714" endtime="20231106 23:18:05.866"/>
</test>
<test id="s1-s3-t2" name="Fetch Key with Multiple ServiceIDs, Valid ServiceID Specified" line="35">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:05.874" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:13.713" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:13.713" level="INFO">${output} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:05.870" endtime="20231106 23:18:13.713"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:13.715" level="INFO">Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:13.714" endtime="20231106 23:18:13.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:13.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:13.716" endtime="20231106 23:18:13.717"/>
</kw>
<status status="PASS" starttime="20231106 23:18:05.870" endtime="20231106 23:18:13.717"/>
</kw>
<msg timestamp="20231106 23:18:13.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:05.869" endtime="20231106 23:18:13.718"/>
</kw>
<msg timestamp="20231106 23:18:13.718" level="INFO">${result} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:05.868" endtime="20231106 23:18:13.718"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:13.718" endtime="20231106 23:18:13.719"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:05.867" endtime="20231106 23:18:13.720"/>
</test>
<test id="s1-s3-t3" name="Fetch Key with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="39">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice3</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:13.727" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice3 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:18.891" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:18:18.891" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:18:13.723" endtime="20231106 23:18:18.891"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:18.893" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231106 23:18:18.892" endtime="20231106 23:18:18.894"/>
</kw>
<msg timestamp="20231106 23:18:18.894" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:18:13.723" endtime="20231106 23:18:18.894"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:18.894" endtime="20231106 23:18:18.895"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:13.721" endtime="20231106 23:18:18.895"/>
</test>
<test id="s1-s3-t4" name="Fetch Key with Multiple ServiceIDs, Invalid ServiceID Specified" line="43">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:18.903" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om fetch-key --service-id=omservice2 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:24.281" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:18:24.281" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:18:18.899" endtime="20231106 23:18:24.281"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:24.283" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:18:24.282" endtime="20231106 23:18:24.283"/>
</kw>
<msg timestamp="20231106 23:18:24.283" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:18:18.898" endtime="20231106 23:18:24.284"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:24.284" endtime="20231106 23:18:24.284"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:18.897" endtime="20231106 23:18:24.285"/>
</test>
<test id="s1-s3-t5" name="Fetch Key without OM Service ID" line="47">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om fetch-key</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:24.294" level="INFO">Running command 'ozone admin om fetch-key 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:32.246" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:32.247" level="INFO">${output} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:24.290" endtime="20231106 23:18:32.247"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:32.248" level="INFO">Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:32.247" endtime="20231106 23:18:32.248"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:32.250" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:32.249" endtime="20231106 23:18:32.250"/>
</kw>
<status status="PASS" starttime="20231106 23:18:24.289" endtime="20231106 23:18:32.250"/>
</kw>
<msg timestamp="20231106 23:18:32.250" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:24.288" endtime="20231106 23:18:32.250"/>
</kw>
<msg timestamp="20231106 23:18:32.251" level="INFO">${result} = Current Secret Key ID: 668361c5-83a9-409f-8c01-96dcaa031bb5</msg>
<status status="PASS" starttime="20231106 23:18:24.288" endtime="20231106 23:18:32.251"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Current Secret Key ID</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:32.251" endtime="20231106 23:18:32.251"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:24.286" endtime="20231106 23:18:32.252"/>
</test>
<test id="s1-s3-t6" name="Fetch Key with Multiple ServiceIDs, No ServiceID Specified" line="51">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om fetch-key</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:32.259" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om fetch-key 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:37.378" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:18:37.378" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:18:32.255" endtime="20231106 23:18:37.379"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:37.381" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:18:37.380" endtime="20231106 23:18:37.381"/>
</kw>
<msg timestamp="20231106 23:18:37.382" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:18:32.255" endtime="20231106 23:18:37.382"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:18:37.382" endtime="20231106 23:18:37.383"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:32.254" endtime="20231106 23:18:37.383"/>
</test>
<doc>Smoke test for om fetch-key</doc>
<status status="PASS" starttime="20231106 23:17:57.436" endtime="20231106 23:18:37.387"/>
</suite>
<suite id="s1-s4" name="Om-Roles" source="/opt/hadoop/smoketest/omha/om-roles.robot">
<test id="s1-s4-t1" name="List om roles with OM service ID passed" line="33">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:42.786" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:42.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:42.792" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:18:42.782" endtime="20231106 23:18:42.792"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:42.794" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:18:42.793" endtime="20231106 23:18:42.795"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:42.796" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:42.795" endtime="20231106 23:18:42.796"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.781" endtime="20231106 23:18:42.796"/>
</kw>
<msg timestamp="20231106 23:18:42.796" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:42.781" endtime="20231106 23:18:42.797"/>
</kw>
<msg timestamp="20231106 23:18:42.797" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:18:42.780" endtime="20231106 23:18:42.797"/>
</kw>
<msg timestamp="20231106 23:18:42.797" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:18:42.779" endtime="20231106 23:18:42.798"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:18:42.799" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:18:42.798" endtime="20231106 23:18:42.799"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:42.806" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:42.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:42.986" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:18:42.803" endtime="20231106 23:18:42.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:42.988" level="INFO"/>
<status status="PASS" starttime="20231106 23:18:42.987" endtime="20231106 23:18:42.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:42.989" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:42.988" endtime="20231106 23:18:42.989"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.802" endtime="20231106 23:18:42.989"/>
</kw>
<msg timestamp="20231106 23:18:42.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:42.801" endtime="20231106 23:18:42.989"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.800" endtime="20231106 23:18:42.989"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.799" endtime="20231106 23:18:42.990"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.779" endtime="20231106 23:18:42.990"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.778" endtime="20231106 23:18:42.990"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin om roles --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:42.995" level="INFO">Running command 'ozone admin om roles --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:50.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:50.618" level="INFO">${output} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:42.992" endtime="20231106 23:18:50.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:50.621" level="INFO">om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:50.620" endtime="20231106 23:18:50.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:50.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:50.621" endtime="20231106 23:18:50.622"/>
</kw>
<status status="PASS" starttime="20231106 23:18:42.991" endtime="20231106 23:18:50.622"/>
</kw>
<msg timestamp="20231106 23:18:50.623" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:42.991" endtime="20231106 23:18:50.623"/>
</kw>
<msg timestamp="20231106 23:18:50.623" level="INFO">${output_with_id_passed} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:42.990" endtime="20231106 23:18:50.623"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_with_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:18:50.624" endtime="20231106 23:18:50.625"/>
</kw>
<status status="PASS" starttime="20231106 23:18:50.624" endtime="20231106 23:18:50.626"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:50.631" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:57.991" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:57.991" level="INFO">${output} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:50.627" endtime="20231106 23:18:57.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:57.993" level="INFO">om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:57.992" endtime="20231106 23:18:57.993"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:57.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:57.994" endtime="20231106 23:18:57.995"/>
</kw>
<status status="PASS" starttime="20231106 23:18:50.627" endtime="20231106 23:18:57.995"/>
</kw>
<msg timestamp="20231106 23:18:57.995" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:50.626" endtime="20231106 23:18:57.995"/>
</kw>
<msg timestamp="20231106 23:18:57.995" level="INFO">${output_with_id_passed} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:50.626" endtime="20231106 23:18:57.995"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_with_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:18:57.996" endtime="20231106 23:18:57.997"/>
</kw>
<status status="PASS" starttime="20231106 23:18:57.996" endtime="20231106 23:18:57.997"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:42.777" endtime="20231106 23:18:57.997"/>
</test>
<test id="s1-s4-t2" name="List om roles without OM service ID passed" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:58.008" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:58.016" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:58.016" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:18:58.005" endtime="20231106 23:18:58.016"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:58.017" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:18:58.016" endtime="20231106 23:18:58.017"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:58.018" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:58.018" endtime="20231106 23:18:58.018"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.004" endtime="20231106 23:18:58.019"/>
</kw>
<msg timestamp="20231106 23:18:58.019" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:58.003" endtime="20231106 23:18:58.019"/>
</kw>
<msg timestamp="20231106 23:18:58.020" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:18:58.003" endtime="20231106 23:18:58.020"/>
</kw>
<msg timestamp="20231106 23:18:58.020" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:18:58.002" endtime="20231106 23:18:58.020"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:18:58.021" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:18:58.021" endtime="20231106 23:18:58.021"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:58.028" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:18:58.207" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:18:58.207" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:18:58.025" endtime="20231106 23:18:58.207"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:18:58.209" level="INFO"/>
<status status="PASS" starttime="20231106 23:18:58.208" endtime="20231106 23:18:58.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:18:58.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:18:58.210" endtime="20231106 23:18:58.211"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.024" endtime="20231106 23:18:58.211"/>
</kw>
<msg timestamp="20231106 23:18:58.211" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:58.023" endtime="20231106 23:18:58.211"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.022" endtime="20231106 23:18:58.211"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.022" endtime="20231106 23:18:58.211"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.001" endtime="20231106 23:18:58.211"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.001" endtime="20231106 23:18:58.212"/>
</kw>
<kw name="Execute" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin om roles</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:18:58.217" level="INFO">Running command 'ozone admin om roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:06.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:06.112" level="INFO">${output} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:58.214" endtime="20231106 23:19:06.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:06.114" level="INFO">om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:19:06.113" endtime="20231106 23:19:06.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:06.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:06.115" endtime="20231106 23:19:06.116"/>
</kw>
<status status="PASS" starttime="20231106 23:18:58.213" endtime="20231106 23:19:06.116"/>
</kw>
<msg timestamp="20231106 23:19:06.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:18:58.213" endtime="20231106 23:19:06.116"/>
</kw>
<msg timestamp="20231106 23:19:06.116" level="INFO">${output_without_id_passed} = om1 : FOLLOWER (om1)
om2 : FOLLOWER (om2)
om3 : LEADER (om3)</msg>
<status status="PASS" starttime="20231106 23:18:58.212" endtime="20231106 23:19:06.116"/>
</kw>
<kw name="Assert Leader Present">
<arg>${output_without_id_passed}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${output}</arg>
<arg>[om (: LEADER|)]</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20231106 23:19:06.118" endtime="20231106 23:19:06.119"/>
</kw>
<status status="PASS" starttime="20231106 23:19:06.117" endtime="20231106 23:19:06.119"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:06.123" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:11.440" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:19:11.440" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:06.120" endtime="20231106 23:19:11.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:11.442" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:11.441" endtime="20231106 23:19:11.442"/>
</kw>
<msg timestamp="20231106 23:19:11.443" level="INFO">${output_without_id_passed} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:06.119" endtime="20231106 23:19:11.443"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output_without_id_passed}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:19:11.443" endtime="20231106 23:19:11.444"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:18:58.000" endtime="20231106 23:19:11.444"/>
</test>
<test id="s1-s4-t3" name="List om roles as JSON with OM service ID passed" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:11.457" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:11.464" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:11.464" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:19:11.451" endtime="20231106 23:19:11.464"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:11.467" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:19:11.465" endtime="20231106 23:19:11.467"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:11.468" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:11.467" endtime="20231106 23:19:11.468"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.451" endtime="20231106 23:19:11.468"/>
</kw>
<msg timestamp="20231106 23:19:11.468" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:11.450" endtime="20231106 23:19:11.469"/>
</kw>
<msg timestamp="20231106 23:19:11.469" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:19:11.449" endtime="20231106 23:19:11.469"/>
</kw>
<msg timestamp="20231106 23:19:11.470" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:19:11.448" endtime="20231106 23:19:11.470"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:19:11.470" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:19:11.470" endtime="20231106 23:19:11.470"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:11.477" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:11.598" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:11.598" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:19:11.474" endtime="20231106 23:19:11.598"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:11.600" level="INFO"/>
<status status="PASS" starttime="20231106 23:19:11.599" endtime="20231106 23:19:11.600"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:11.601" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:11.600" endtime="20231106 23:19:11.601"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.473" endtime="20231106 23:19:11.601"/>
</kw>
<msg timestamp="20231106 23:19:11.601" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:11.472" endtime="20231106 23:19:11.602"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.472" endtime="20231106 23:19:11.602"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.471" endtime="20231106 23:19:11.602"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.448" endtime="20231106 23:19:11.602"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.446" endtime="20231106 23:19:11.602"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin om roles --service-id=omservice --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:11.608" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:18.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:18.934" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:11.604" endtime="20231106 23:19:18.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:18.937" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]</msg>
<status status="PASS" starttime="20231106 23:19:18.935" endtime="20231106 23:19:18.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:18.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:18.937" endtime="20231106 23:19:18.938"/>
</kw>
<status status="PASS" starttime="20231106 23:19:11.604" endtime="20231106 23:19:18.939"/>
</kw>
<msg timestamp="20231106 23:19:18.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:11.603" endtime="20231106 23:19:18.939"/>
</kw>
<msg timestamp="20231106 23:19:18.939" level="INFO">${output_with_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:11.603" endtime="20231106 23:19:18.939"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_with_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:18.947" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:18.997" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:18.997" level="INFO">${output} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:18.943" endtime="20231106 23:19:18.997"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:18.999" level="INFO">{
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:18.998" endtime="20231106 23:19:18.999"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:19.000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:18.999" endtime="20231106 23:19:19.000"/>
</kw>
<status status="PASS" starttime="20231106 23:19:18.942" endtime="20231106 23:19:19.000"/>
</kw>
<msg timestamp="20231106 23:19:19.000" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:18.942" endtime="20231106 23:19:19.001"/>
</kw>
<msg timestamp="20231106 23:19:19.001" level="INFO">${leader} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:18.941" endtime="20231106 23:19:19.001"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:19:19.001" endtime="20231106 23:19:19.002"/>
</kw>
<status status="PASS" starttime="20231106 23:19:18.940" endtime="20231106 23:19:19.003"/>
</kw>
<kw name="Execute" library="os">
<var>${output_with_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:19.009" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --service-id=omservice --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:26.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:26.558" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:19.005" endtime="20231106 23:19:26.558"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:26.560" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]</msg>
<status status="PASS" starttime="20231106 23:19:26.559" endtime="20231106 23:19:26.560"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:26.561" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:26.560" endtime="20231106 23:19:26.561"/>
</kw>
<status status="PASS" starttime="20231106 23:19:19.004" endtime="20231106 23:19:26.562"/>
</kw>
<msg timestamp="20231106 23:19:26.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:19.003" endtime="20231106 23:19:26.562"/>
</kw>
<msg timestamp="20231106 23:19:26.562" level="INFO">${output_with_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:19.003" endtime="20231106 23:19:26.562"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_with_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:26.568" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:26.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:26.618" level="INFO">${output} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:26.565" endtime="20231106 23:19:26.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:26.619" level="INFO">{
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:26.618" endtime="20231106 23:19:26.619"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:26.620" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:26.619" endtime="20231106 23:19:26.620"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.564" endtime="20231106 23:19:26.620"/>
</kw>
<msg timestamp="20231106 23:19:26.620" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:26.564" endtime="20231106 23:19:26.621"/>
</kw>
<msg timestamp="20231106 23:19:26.621" level="INFO">${leader} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:26.563" endtime="20231106 23:19:26.621"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:19:26.621" endtime="20231106 23:19:26.623"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.563" endtime="20231106 23:19:26.623"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:19:11.445" endtime="20231106 23:19:26.624"/>
</test>
<test id="s1-s4-t4" name="List om roles as JSON without OM service ID passed" line="51">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Kinit test user" library="commonlib">
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:26.633" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/' | sed 's/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:26.639" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:26.639" level="INFO">${output} = s3g</msg>
<status status="PASS" starttime="20231106 23:19:26.629" endtime="20231106 23:19:26.639"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:26.641" level="INFO">s3g</msg>
<status status="PASS" starttime="20231106 23:19:26.640" endtime="20231106 23:19:26.641"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:26.642" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:26.641" endtime="20231106 23:19:26.642"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.628" endtime="20231106 23:19:26.642"/>
</kw>
<msg timestamp="20231106 23:19:26.642" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:26.628" endtime="20231106 23:19:26.643"/>
</kw>
<msg timestamp="20231106 23:19:26.643" level="INFO">${instance} = s3g</msg>
<status status="PASS" starttime="20231106 23:19:26.627" endtime="20231106 23:19:26.643"/>
</kw>
<msg timestamp="20231106 23:19:26.643" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:19:26.627" endtime="20231106 23:19:26.643"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20231106 23:19:26.644" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" starttime="20231106 23:19:26.644" endtime="20231106 23:19:26.644"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:26.650" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/s3g@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:26.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:26.795" level="INFO">${output} = </msg>
<status status="PASS" starttime="20231106 23:19:26.647" endtime="20231106 23:19:26.795"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:26.796" level="INFO"/>
<status status="PASS" starttime="20231106 23:19:26.795" endtime="20231106 23:19:26.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:26.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:26.796" endtime="20231106 23:19:26.798"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.646" endtime="20231106 23:19:26.798"/>
</kw>
<msg timestamp="20231106 23:19:26.798" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:26.646" endtime="20231106 23:19:26.799"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.645" endtime="20231106 23:19:26.799"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.644" endtime="20231106 23:19:26.799"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.626" endtime="20231106 23:19:26.799"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.626" endtime="20231106 23:19:26.799"/>
</kw>
<kw name="Execute" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin om roles --json</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:26.805" level="INFO">Running command 'ozone admin om roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:34.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:34.984" level="INFO">${output} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:26.802" endtime="20231106 23:19:34.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:34.986" level="INFO">[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]</msg>
<status status="PASS" starttime="20231106 23:19:34.985" endtime="20231106 23:19:34.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:34.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:34.987" endtime="20231106 23:19:34.987"/>
</kw>
<status status="PASS" starttime="20231106 23:19:26.801" endtime="20231106 23:19:34.988"/>
</kw>
<msg timestamp="20231106 23:19:34.988" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:26.801" endtime="20231106 23:19:34.988"/>
</kw>
<msg timestamp="20231106 23:19:34.988" level="INFO">${output_without_id_passed} = [ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "...</msg>
<status status="PASS" starttime="20231106 23:19:26.800" endtime="20231106 23:19:34.988"/>
</kw>
<kw name="Assert Leader Present in JSON">
<arg>${output_without_id_passed}</arg>
<kw name="Execute" library="os">
<var>${leader}</var>
<arg>echo '${output}' | jq '.[] | select(.[] | .serverRole == "LEADER")'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:34.995" level="INFO">Running command 'echo '[ {
  "om1" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om1"
  }
}, {
  "om2" : {
    "serverRole" : "FOLLOWER",
    "hostname" : "om2"
  }
}, {
  "om3" : {
    "serverRole" : "LEADER",
    "hostname" : "om3"
  }
} ]' | jq '.[] | select(.[] | .serverRole == "LEADER")' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:35.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:35.060" level="INFO">${output} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:34.992" endtime="20231106 23:19:35.060"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:35.062" level="INFO">{
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:35.061" endtime="20231106 23:19:35.062"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:35.063" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:35.062" endtime="20231106 23:19:35.063"/>
</kw>
<status status="PASS" starttime="20231106 23:19:34.991" endtime="20231106 23:19:35.064"/>
</kw>
<msg timestamp="20231106 23:19:35.064" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:34.991" endtime="20231106 23:19:35.064"/>
</kw>
<msg timestamp="20231106 23:19:35.064" level="INFO">${leader} = {
  "om3": {
    "serverRole": "LEADER",
    "hostname": "om3"
  }
}</msg>
<status status="PASS" starttime="20231106 23:19:34.990" endtime="20231106 23:19:35.065"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leader}</arg>
<arg>${EMPTY}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:19:35.065" endtime="20231106 23:19:35.066"/>
</kw>
<status status="PASS" starttime="20231106 23:19:34.989" endtime="20231106 23:19:35.067"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output_without_id_passed}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --json</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:35.072" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om roles --json 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:40.308" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:19:40.308" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:35.068" endtime="20231106 23:19:40.308"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:40.310" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:40.309" endtime="20231106 23:19:40.310"/>
</kw>
<msg timestamp="20231106 23:19:40.311" level="INFO">${output_without_id_passed} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:19:35.067" endtime="20231106 23:19:40.311"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output_without_id_passed}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:19:40.311" endtime="20231106 23:19:40.312"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:19:26.625" endtime="20231106 23:19:40.313"/>
</test>
<doc>Smoke test for listing om roles.</doc>
<status status="PASS" starttime="20231106 23:18:42.690" endtime="20231106 23:19:40.315"/>
</suite>
<suite id="s1-s5" name="Om-Leader-Transfer" source="/opt/hadoop/smoketest/omha/om-leader-transfer.robot">
<test id="s1-s5-t1" name="Transfer Leadership for OM with Valid ServiceID Specified" line="52">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:45.680" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:19:53.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:19:53.330" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:19:45.675" endtime="20231106 23:19:53.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:19:53.331" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:19:53.330" endtime="20231106 23:19:53.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:19:53.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:19:53.331" endtime="20231106 23:19:53.332"/>
</kw>
<status status="PASS" starttime="20231106 23:19:45.674" endtime="20231106 23:19:53.333"/>
</kw>
<msg timestamp="20231106 23:19:53.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:45.674" endtime="20231106 23:19:53.333"/>
</kw>
<msg timestamp="20231106 23:19:53.333" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:19:45.674" endtime="20231106 23:19:53.333"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:19:53.334" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:19:53.333" endtime="20231106 23:19:53.334"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:19:53.335" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:19:53.334" endtime="20231106 23:19:53.335"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:19:53.336" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:19:53.335" endtime="20231106 23:19:53.336"/>
</kw>
<msg timestamp="20231106 23:19:53.337" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:19:45.673" endtime="20231106 23:19:53.337"/>
</kw>
<msg timestamp="20231106 23:19:53.338" level="INFO">${leaderOM} = om3</msg>
<msg timestamp="20231106 23:19:53.338" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231106 23:19:45.672" endtime="20231106 23:19:53.338"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer --service-id=omservice -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:19:53.344" level="INFO">Running command 'ozone admin om transfer --service-id=omservice -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:09.776" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:09.776" level="INFO">${output} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:19:53.340" endtime="20231106 23:20:09.776"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:09.778" level="INFO">Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:20:09.777" endtime="20231106 23:20:09.779"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:09.780" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:09.779" endtime="20231106 23:20:09.780"/>
</kw>
<status status="PASS" starttime="20231106 23:19:53.340" endtime="20231106 23:20:09.780"/>
</kw>
<msg timestamp="20231106 23:20:09.780" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:19:53.339" endtime="20231106 23:20:09.781"/>
</kw>
<msg timestamp="20231106 23:20:09.781" level="INFO">${result} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:19:53.338" endtime="20231106 23:20:09.781"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:20:09.781" endtime="20231106 23:20:09.782"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:09.790" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:17.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:17.719" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:09.787" endtime="20231106 23:20:17.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:17.721" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:17.720" endtime="20231106 23:20:17.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:17.722" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:17.721" endtime="20231106 23:20:17.722"/>
</kw>
<status status="PASS" starttime="20231106 23:20:09.786" endtime="20231106 23:20:17.722"/>
</kw>
<msg timestamp="20231106 23:20:17.723" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:09.785" endtime="20231106 23:20:17.723"/>
</kw>
<msg timestamp="20231106 23:20:17.723" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:09.785" endtime="20231106 23:20:17.723"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:17.724" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:20:17.723" endtime="20231106 23:20:17.724"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:17.725" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:20:17.724" endtime="20231106 23:20:17.725"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:17.725" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:20:17.725" endtime="20231106 23:20:17.725"/>
</kw>
<msg timestamp="20231106 23:20:17.726" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:20:09.784" endtime="20231106 23:20:17.726"/>
</kw>
<msg timestamp="20231106 23:20:17.726" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231106 23:20:09.783" endtime="20231106 23:20:17.726"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:20:17.727" endtime="20231106 23:20:17.727"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231106 23:20:17.728" endtime="20231106 23:20:17.729"/>
</kw>
<status status="PASS" starttime="20231106 23:20:17.728" endtime="20231106 23:20:17.729"/>
</kw>
<status status="PASS" starttime="20231106 23:20:09.782" endtime="20231106 23:20:17.729"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:19:45.671" endtime="20231106 23:20:17.730"/>
</test>
<test id="s1-s5-t2" name="Transfer Leadership for OM with Multiple ServiceIDs, Valid ServiceID Specified" line="62">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:17.742" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:25.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:25.817" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:17.736" endtime="20231106 23:20:25.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:25.819" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:25.818" endtime="20231106 23:20:25.819"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:25.820" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:25.819" endtime="20231106 23:20:25.820"/>
</kw>
<status status="PASS" starttime="20231106 23:20:17.735" endtime="20231106 23:20:25.820"/>
</kw>
<msg timestamp="20231106 23:20:25.820" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:17.735" endtime="20231106 23:20:25.820"/>
</kw>
<msg timestamp="20231106 23:20:25.821" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:20:17.734" endtime="20231106 23:20:25.821"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:25.821" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:20:25.821" endtime="20231106 23:20:25.821"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:25.822" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:20:25.821" endtime="20231106 23:20:25.822"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:25.822" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:20:25.822" endtime="20231106 23:20:25.822"/>
</kw>
<msg timestamp="20231106 23:20:25.823" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:20:17.734" endtime="20231106 23:20:25.823"/>
</kw>
<msg timestamp="20231106 23:20:25.823" level="INFO">${leaderOM} = om1</msg>
<msg timestamp="20231106 23:20:25.823" level="INFO">${followerOM} = om3</msg>
<status status="PASS" starttime="20231106 23:20:17.733" endtime="20231106 23:20:25.824"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:25.829" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -n om3 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:34.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:34.700" level="INFO">${output} = Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231106 23:20:25.826" endtime="20231106 23:20:34.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:34.702" level="INFO">Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231106 23:20:34.701" endtime="20231106 23:20:34.703"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:34.703" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:34.703" endtime="20231106 23:20:34.704"/>
</kw>
<status status="PASS" starttime="20231106 23:20:25.825" endtime="20231106 23:20:34.704"/>
</kw>
<msg timestamp="20231106 23:20:34.704" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:25.825" endtime="20231106 23:20:34.704"/>
</kw>
<msg timestamp="20231106 23:20:34.705" level="INFO">${result} = Transfer leadership successfully to om3.</msg>
<status status="PASS" starttime="20231106 23:20:25.824" endtime="20231106 23:20:34.705"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:20:34.705" endtime="20231106 23:20:34.706"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:34.720" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:42.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:42.756" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:34.716" endtime="20231106 23:20:42.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:42.758" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:42.757" endtime="20231106 23:20:42.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:42.759" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:42.758" endtime="20231106 23:20:42.759"/>
</kw>
<status status="PASS" starttime="20231106 23:20:34.715" endtime="20231106 23:20:42.760"/>
</kw>
<msg timestamp="20231106 23:20:42.760" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:34.714" endtime="20231106 23:20:42.760"/>
</kw>
<msg timestamp="20231106 23:20:42.760" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:34.714" endtime="20231106 23:20:42.760"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:42.761" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:20:42.760" endtime="20231106 23:20:42.761"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:42.762" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:20:42.761" endtime="20231106 23:20:42.762"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:42.763" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:20:42.762" endtime="20231106 23:20:42.763"/>
</kw>
<msg timestamp="20231106 23:20:42.763" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:20:34.710" endtime="20231106 23:20:42.763"/>
</kw>
<msg timestamp="20231106 23:20:42.764" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231106 23:20:34.710" endtime="20231106 23:20:42.764"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:20:42.764" endtime="20231106 23:20:42.765"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231106 23:20:42.766" endtime="20231106 23:20:42.766"/>
</kw>
<status status="PASS" starttime="20231106 23:20:42.765" endtime="20231106 23:20:42.766"/>
</kw>
<status status="PASS" starttime="20231106 23:20:34.706" endtime="20231106 23:20:42.767"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:20:17.731" endtime="20231106 23:20:42.767"/>
</test>
<test id="s1-s5-t3" name="Transfer Leadership for OM with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="72">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:42.776" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:50.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:20:50.434" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:42.772" endtime="20231106 23:20:50.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:50.436" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:50.435" endtime="20231106 23:20:50.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:20:50.437" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:20:50.436" endtime="20231106 23:20:50.437"/>
</kw>
<status status="PASS" starttime="20231106 23:20:42.772" endtime="20231106 23:20:50.438"/>
</kw>
<msg timestamp="20231106 23:20:50.438" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:42.771" endtime="20231106 23:20:50.438"/>
</kw>
<msg timestamp="20231106 23:20:50.438" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:42.771" endtime="20231106 23:20:50.439"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:50.439" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:20:50.439" endtime="20231106 23:20:50.439"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:50.441" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:20:50.440" endtime="20231106 23:20:50.441"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:20:50.442" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:20:50.441" endtime="20231106 23:20:50.442"/>
</kw>
<msg timestamp="20231106 23:20:50.442" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:20:42.770" endtime="20231106 23:20:50.442"/>
</kw>
<msg timestamp="20231106 23:20:50.443" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231106 23:20:42.770" endtime="20231106 23:20:50.443"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:50.449" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:20:55.528" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:20:55.529" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:20:50.445" endtime="20231106 23:20:55.529"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:20:55.531" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231106 23:20:55.530" endtime="20231106 23:20:55.531"/>
</kw>
<msg timestamp="20231106 23:20:55.532" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:20:50.443" endtime="20231106 23:20:55.532"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:20:55.532" endtime="20231106 23:20:55.533"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:20:42.768" endtime="20231106 23:20:55.533"/>
</test>
<test id="s1-s5-t4" name="Transfer Leadership for OM with Multiple ServiceIDs, Invalid ServiceID Specified" line="80">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:20:55.544" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:03.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:03.566" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:55.540" endtime="20231106 23:21:03.567"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:03.569" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:21:03.567" endtime="20231106 23:21:03.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:03.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:03.569" endtime="20231106 23:21:03.570"/>
</kw>
<status status="PASS" starttime="20231106 23:20:55.539" endtime="20231106 23:21:03.570"/>
</kw>
<msg timestamp="20231106 23:21:03.570" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:20:55.539" endtime="20231106 23:21:03.571"/>
</kw>
<msg timestamp="20231106 23:21:03.571" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:20:55.538" endtime="20231106 23:21:03.571"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:03.572" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:21:03.571" endtime="20231106 23:21:03.572"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:03.573" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:21:03.572" endtime="20231106 23:21:03.573"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:03.574" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:21:03.573" endtime="20231106 23:21:03.574"/>
</kw>
<msg timestamp="20231106 23:21:03.575" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:20:55.537" endtime="20231106 23:21:03.575"/>
</kw>
<msg timestamp="20231106 23:21:03.575" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231106 23:20:55.536" endtime="20231106 23:21:03.575"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:03.580" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:08.343" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:21:08.343" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:21:03.576" endtime="20231106 23:21:08.343"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:08.345" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:21:08.344" endtime="20231106 23:21:08.345"/>
</kw>
<msg timestamp="20231106 23:21:08.346" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:21:03.575" endtime="20231106 23:21:08.346"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:21:08.346" endtime="20231106 23:21:08.347"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:20:55.534" endtime="20231106 23:21:08.347"/>
</test>
<test id="s1-s5-t5" name="Transfer Leadership for OM without ServiceID specified" line="88">
<kw name="Get OM Leader and One Follower Node">
<var>${leaderOM}</var>
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:08.358" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:16.494" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:16.494" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:21:08.354" endtime="20231106 23:21:16.495"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:16.496" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:21:16.495" endtime="20231106 23:21:16.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:16.497" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:16.497" endtime="20231106 23:21:16.498"/>
</kw>
<status status="PASS" starttime="20231106 23:21:08.353" endtime="20231106 23:21:16.498"/>
</kw>
<msg timestamp="20231106 23:21:16.498" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:08.352" endtime="20231106 23:21:16.498"/>
</kw>
<msg timestamp="20231106 23:21:16.498" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:21:08.352" endtime="20231106 23:21:16.498"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:16.499" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:21:16.499" endtime="20231106 23:21:16.499"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:16.500" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:21:16.499" endtime="20231106 23:21:16.500"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:16.501" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:21:16.500" endtime="20231106 23:21:16.501"/>
</kw>
<msg timestamp="20231106 23:21:16.502" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:21:08.351" endtime="20231106 23:21:16.502"/>
</kw>
<msg timestamp="20231106 23:21:16.502" level="INFO">${leaderOM} = om3</msg>
<msg timestamp="20231106 23:21:16.502" level="INFO">${followerOM} = om1</msg>
<status status="PASS" starttime="20231106 23:21:08.350" endtime="20231106 23:21:16.502"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer -n ${followerOM}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:16.508" level="INFO">Running command 'ozone admin om transfer -n om1 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:24.205" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:24.206" level="INFO">${output} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:21:16.505" endtime="20231106 23:21:24.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:24.207" level="INFO">Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:21:24.206" endtime="20231106 23:21:24.208"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:24.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:24.208" endtime="20231106 23:21:24.209"/>
</kw>
<status status="PASS" starttime="20231106 23:21:16.504" endtime="20231106 23:21:24.209"/>
</kw>
<msg timestamp="20231106 23:21:24.209" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:16.504" endtime="20231106 23:21:24.209"/>
</kw>
<msg timestamp="20231106 23:21:24.209" level="INFO">${result} = Transfer leadership successfully to om1.</msg>
<status status="PASS" starttime="20231106 23:21:16.503" endtime="20231106 23:21:24.209"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:21:24.210" endtime="20231106 23:21:24.210"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>${followerOM}</arg>
<arg>true</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:24.218" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:31.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:31.804" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:24.214" endtime="20231106 23:21:31.804"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:31.805" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:31.804" endtime="20231106 23:21:31.805"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:31.806" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:31.805" endtime="20231106 23:21:31.806"/>
</kw>
<status status="PASS" starttime="20231106 23:21:24.214" endtime="20231106 23:21:31.806"/>
</kw>
<msg timestamp="20231106 23:21:31.807" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:24.213" endtime="20231106 23:21:31.807"/>
</kw>
<msg timestamp="20231106 23:21:31.807" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:24.213" endtime="20231106 23:21:31.807"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:31.808" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:21:31.807" endtime="20231106 23:21:31.808"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:31.809" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:21:31.808" endtime="20231106 23:21:31.809"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:31.810" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:21:31.809" endtime="20231106 23:21:31.810"/>
</kw>
<msg timestamp="20231106 23:21:31.810" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:21:24.212" endtime="20231106 23:21:31.810"/>
</kw>
<msg timestamp="20231106 23:21:31.810" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231106 23:21:24.211" endtime="20231106 23:21:31.810"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:21:31.811" endtime="20231106 23:21:31.811"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20231106 23:21:31.812" endtime="20231106 23:21:31.813"/>
</kw>
<status status="PASS" starttime="20231106 23:21:31.811" endtime="20231106 23:21:31.813"/>
</kw>
<status status="PASS" starttime="20231106 23:21:24.210" endtime="20231106 23:21:31.813"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:21:08.348" endtime="20231106 23:21:31.813"/>
</test>
<test id="s1-s5-t6" name="Transfer Leadership for OM with Multiple ServiceIDs, No ServiceID Specified" line="98">
<kw name="Get One OM Follower Node">
<var>${followerOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:31.821" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:39.647" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:39.647" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:31.818" endtime="20231106 23:21:39.647"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:39.649" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:39.648" endtime="20231106 23:21:39.649"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:39.651" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:39.650" endtime="20231106 23:21:39.651"/>
</kw>
<status status="PASS" starttime="20231106 23:21:31.818" endtime="20231106 23:21:39.651"/>
</kw>
<msg timestamp="20231106 23:21:39.651" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:31.817" endtime="20231106 23:21:39.651"/>
</kw>
<msg timestamp="20231106 23:21:39.652" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:31.816" endtime="20231106 23:21:39.652"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:39.652" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:21:39.652" endtime="20231106 23:21:39.652"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:39.654" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:21:39.653" endtime="20231106 23:21:39.654"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:39.655" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:21:39.654" endtime="20231106 23:21:39.655"/>
</kw>
<msg timestamp="20231106 23:21:39.656" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:21:31.816" endtime="20231106 23:21:39.656"/>
</kw>
<msg timestamp="20231106 23:21:39.656" level="INFO">${followerOM} = om3</msg>
<status status="PASS" starttime="20231106 23:21:31.816" endtime="20231106 23:21:39.656"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -n ${followerOM}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:39.662" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -n om3 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:44.532" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:21:44.532" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:21:39.658" endtime="20231106 23:21:44.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:44.534" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:21:44.533" endtime="20231106 23:21:44.534"/>
</kw>
<msg timestamp="20231106 23:21:44.535" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:21:39.657" endtime="20231106 23:21:44.535"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:21:44.535" endtime="20231106 23:21:44.536"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:21:31.815" endtime="20231106 23:21:44.536"/>
</test>
<test id="s1-s5-t7" name="Transfer Leadership for OM randomly with Valid ServiceID Specified" line="106">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:44.546" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:21:51.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:21:51.678" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:44.542" endtime="20231106 23:21:51.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:21:51.680" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:51.679" endtime="20231106 23:21:51.680"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:21:51.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:21:51.680" endtime="20231106 23:21:51.680"/>
</kw>
<status status="PASS" starttime="20231106 23:21:44.542" endtime="20231106 23:21:51.681"/>
</kw>
<msg timestamp="20231106 23:21:51.681" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:44.541" endtime="20231106 23:21:51.681"/>
</kw>
<msg timestamp="20231106 23:21:51.681" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:21:44.540" endtime="20231106 23:21:51.681"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:51.682" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:21:51.682" endtime="20231106 23:21:51.682"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:51.683" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:21:51.682" endtime="20231106 23:21:51.683"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:21:51.684" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:21:51.683" endtime="20231106 23:21:51.684"/>
</kw>
<msg timestamp="20231106 23:21:51.684" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:21:44.540" endtime="20231106 23:21:51.684"/>
</kw>
<msg timestamp="20231106 23:21:51.684" level="INFO">${leaderOM} = om1</msg>
<status status="PASS" starttime="20231106 23:21:44.539" endtime="20231106 23:21:51.684"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer --service-id=omservice -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:21:51.690" level="INFO">Running command 'ozone admin om transfer --service-id=omservice -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:00.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:00.280" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:21:51.686" endtime="20231106 23:22:00.280"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:00.282" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:00.281" endtime="20231106 23:22:00.282"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:00.283" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:00.283" endtime="20231106 23:22:00.283"/>
</kw>
<status status="PASS" starttime="20231106 23:21:51.686" endtime="20231106 23:22:00.284"/>
</kw>
<msg timestamp="20231106 23:22:00.284" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:21:51.685" endtime="20231106 23:22:00.284"/>
</kw>
<msg timestamp="20231106 23:22:00.284" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:21:51.685" endtime="20231106 23:22:00.284"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:22:00.284" endtime="20231106 23:22:00.285"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:00.293" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:07.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:07.973" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:00.289" endtime="20231106 23:22:07.973"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:07.976" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:07.974" endtime="20231106 23:22:07.976"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:07.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:07.976" endtime="20231106 23:22:07.977"/>
</kw>
<status status="PASS" starttime="20231106 23:22:00.289" endtime="20231106 23:22:07.977"/>
</kw>
<msg timestamp="20231106 23:22:07.977" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:00.288" endtime="20231106 23:22:07.977"/>
</kw>
<msg timestamp="20231106 23:22:07.978" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:00.287" endtime="20231106 23:22:07.978"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:07.979" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:22:07.978" endtime="20231106 23:22:07.979"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:07.980" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:22:07.979" endtime="20231106 23:22:07.980"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:07.981" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:22:07.980" endtime="20231106 23:22:07.981"/>
</kw>
<msg timestamp="20231106 23:22:07.981" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:22:00.287" endtime="20231106 23:22:07.981"/>
</kw>
<msg timestamp="20231106 23:22:07.982" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231106 23:22:00.286" endtime="20231106 23:22:07.982"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:22:07.982" endtime="20231106 23:22:07.983"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231106 23:22:07.983" endtime="20231106 23:22:07.984"/>
</kw>
<status status="PASS" starttime="20231106 23:22:00.285" endtime="20231106 23:22:07.984"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:21:44.538" endtime="20231106 23:22:07.984"/>
</test>
<test id="s1-s5-t8" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Valid ServiceID Specified" line="115">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:07.995" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:15.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:15.463" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:07.992" endtime="20231106 23:22:15.463"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:15.465" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:15.464" endtime="20231106 23:22:15.465"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:15.466" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:15.466" endtime="20231106 23:22:15.466"/>
</kw>
<status status="PASS" starttime="20231106 23:22:07.991" endtime="20231106 23:22:15.467"/>
</kw>
<msg timestamp="20231106 23:22:15.467" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:07.991" endtime="20231106 23:22:15.467"/>
</kw>
<msg timestamp="20231106 23:22:15.467" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:07.990" endtime="20231106 23:22:15.467"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:15.468" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:22:15.468" endtime="20231106 23:22:15.468"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:15.470" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:22:15.468" endtime="20231106 23:22:15.470"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:15.471" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:22:15.470" endtime="20231106 23:22:15.471"/>
</kw>
<msg timestamp="20231106 23:22:15.471" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:22:07.990" endtime="20231106 23:22:15.471"/>
</kw>
<msg timestamp="20231106 23:22:15.472" level="INFO">${leaderOM} = om3</msg>
<status status="PASS" starttime="20231106 23:22:07.989" endtime="20231106 23:22:15.472"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:15.477" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:22.874" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:22.874" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:15.474" endtime="20231106 23:22:22.874"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:22.876" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:22.875" endtime="20231106 23:22:22.876"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:22.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:22.876" endtime="20231106 23:22:22.877"/>
</kw>
<status status="PASS" starttime="20231106 23:22:15.473" endtime="20231106 23:22:22.878"/>
</kw>
<msg timestamp="20231106 23:22:22.878" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:15.473" endtime="20231106 23:22:22.878"/>
</kw>
<msg timestamp="20231106 23:22:22.878" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:15.472" endtime="20231106 23:22:22.878"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:22:22.878" endtime="20231106 23:22:22.879"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:22.888" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:30.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:30.747" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:22.885" endtime="20231106 23:22:30.747"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:30.750" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:30.749" endtime="20231106 23:22:30.750"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:30.751" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:30.751" endtime="20231106 23:22:30.751"/>
</kw>
<status status="PASS" starttime="20231106 23:22:22.884" endtime="20231106 23:22:30.752"/>
</kw>
<msg timestamp="20231106 23:22:30.752" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:22.883" endtime="20231106 23:22:30.752"/>
</kw>
<msg timestamp="20231106 23:22:30.753" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:22.882" endtime="20231106 23:22:30.753"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:30.753" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:22:30.753" endtime="20231106 23:22:30.754"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:30.755" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:22:30.754" endtime="20231106 23:22:30.755"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:30.756" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:22:30.756" endtime="20231106 23:22:30.756"/>
</kw>
<msg timestamp="20231106 23:22:30.757" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:22:22.882" endtime="20231106 23:22:30.757"/>
</kw>
<msg timestamp="20231106 23:22:30.757" level="INFO">${newLeaderOM} = om1</msg>
<status status="PASS" starttime="20231106 23:22:22.881" endtime="20231106 23:22:30.758"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:22:30.758" endtime="20231106 23:22:30.759"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231106 23:22:30.759" endtime="20231106 23:22:30.760"/>
</kw>
<status status="PASS" starttime="20231106 23:22:22.880" endtime="20231106 23:22:30.760"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:22:07.987" endtime="20231106 23:22:30.760"/>
</test>
<test id="s1-s5-t9" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Unconfigured ServiceID Specified" line="125">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:30.767" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice3 -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:35.912" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:22:35.912" level="INFO">${output} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:22:30.764" endtime="20231106 23:22:35.912"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:35.914" level="INFO">This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservice2]</msg>
<status status="PASS" starttime="20231106 23:22:35.913" endtime="20231106 23:22:35.914"/>
</kw>
<msg timestamp="20231106 23:22:35.914" level="INFO">${result} = This command works only on OzoneManager HA cluster. Service ID specified does not match with ozone.om.service.ids defined in the configuration. Configured ozone.om.service.ids are [omservice, omservic...</msg>
<status status="PASS" starttime="20231106 23:22:30.763" endtime="20231106 23:22:35.915"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Service ID specified does not match</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:22:35.915" endtime="20231106 23:22:35.915"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:22:30.762" endtime="20231106 23:22:35.916"/>
</test>
<test id="s1-s5-t10" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, Invalid ServiceID Specified" line="130">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:35.923" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,omservice2 om transfer --service-id=omservice2 -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:41.131" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:22:41.131" level="INFO">${output} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:22:35.920" endtime="20231106 23:22:41.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:41.134" level="INFO">Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:22:41.132" endtime="20231106 23:22:41.134"/>
</kw>
<msg timestamp="20231106 23:22:41.134" level="INFO">${result} = Could not find any configured addresses for OM. Please configure the system with ozone.om.address</msg>
<status status="PASS" starttime="20231106 23:22:35.919" endtime="20231106 23:22:41.134"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Could not find any configured addresses for OM.</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:22:41.134" endtime="20231106 23:22:41.135"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:22:35.917" endtime="20231106 23:22:41.136"/>
</test>
<test id="s1-s5-t11" name="Transfer Leadership for OM randomly without ServiceID specified" line="136">
<kw name="Get OM Leader Node">
<var>${leaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:41.146" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:48.685" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:48.685" level="INFO">${output} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:41.142" endtime="20231106 23:22:48.686"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:48.688" level="INFO">om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:48.686" endtime="20231106 23:22:48.688"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:48.689" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:48.688" endtime="20231106 23:22:48.689"/>
</kw>
<status status="PASS" starttime="20231106 23:22:41.141" endtime="20231106 23:22:48.689"/>
</kw>
<msg timestamp="20231106 23:22:48.690" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:41.140" endtime="20231106 23:22:48.690"/>
</kw>
<msg timestamp="20231106 23:22:48.690" level="INFO">${result} = om1
om3
om2</msg>
<status status="PASS" starttime="20231106 23:22:41.140" endtime="20231106 23:22:48.690"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:48.691" level="INFO">${leader} = om1</msg>
<status status="PASS" starttime="20231106 23:22:48.690" endtime="20231106 23:22:48.691"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:48.692" level="INFO">${follower1} = om3</msg>
<status status="PASS" starttime="20231106 23:22:48.692" endtime="20231106 23:22:48.692"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:22:48.693" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:22:48.693" endtime="20231106 23:22:48.693"/>
</kw>
<msg timestamp="20231106 23:22:48.694" level="INFO">${result} = ['om1', 'om3', 'om2']</msg>
<status status="PASS" starttime="20231106 23:22:41.139" endtime="20231106 23:22:48.694"/>
</kw>
<msg timestamp="20231106 23:22:48.694" level="INFO">${leaderOM} = om1</msg>
<status status="PASS" starttime="20231106 23:22:41.139" endtime="20231106 23:22:48.694"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om transfer -r</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:48.701" level="INFO">Running command 'ozone admin om transfer -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:22:56.039" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:22:56.039" level="INFO">${output} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:48.698" endtime="20231106 23:22:56.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:22:56.042" level="INFO">Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:56.040" endtime="20231106 23:22:56.042"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:22:56.043" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:22:56.042" endtime="20231106 23:22:56.043"/>
</kw>
<status status="PASS" starttime="20231106 23:22:48.696" endtime="20231106 23:22:56.043"/>
</kw>
<msg timestamp="20231106 23:22:56.044" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:48.695" endtime="20231106 23:22:56.044"/>
</kw>
<msg timestamp="20231106 23:22:56.044" level="INFO">${result} = Transfer leadership successfully to random node.</msg>
<status status="PASS" starttime="20231106 23:22:48.695" endtime="20231106 23:22:56.044"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:22:56.044" endtime="20231106 23:22:56.045"/>
</kw>
<kw name="Assert OM leader Role Transitions">
<arg>${leaderOM}</arg>
<arg>""</arg>
<arg>false</arg>
<kw name="Get OM Leader Node">
<var>${newLeaderOM}</var>
<kw name="Get OM Nodes">
<var>${result}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:22:56.055" level="INFO">Running command 'ozone admin om roles --service-id=omservice --json | jq -r '[.[] | .[] | select(.serverRole == "LEADER") | .hostname], [.[] | .[] | select(.serverRole == "FOLLOWER") | .hostname] | .[]' 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:04.281" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:23:04.281" level="INFO">${output} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:56.050" endtime="20231106 23:23:04.281"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:04.285" level="INFO">om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:23:04.284" endtime="20231106 23:23:04.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:23:04.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:23:04.286" endtime="20231106 23:23:04.287"/>
</kw>
<status status="PASS" starttime="20231106 23:22:56.049" endtime="20231106 23:23:04.287"/>
</kw>
<msg timestamp="20231106 23:23:04.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:22:56.048" endtime="20231106 23:23:04.288"/>
</kw>
<msg timestamp="20231106 23:23:04.288" level="INFO">${result} = om3
om1
om2</msg>
<status status="PASS" starttime="20231106 23:22:56.048" endtime="20231106 23:23:04.288"/>
</kw>
<kw name="Get Line" library="String">
<var>${leader}</var>
<arg>${result}</arg>
<arg>0</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:23:04.289" level="INFO">${leader} = om3</msg>
<status status="PASS" starttime="20231106 23:23:04.288" endtime="20231106 23:23:04.289"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower1}</var>
<arg>${result}</arg>
<arg>1</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:23:04.290" level="INFO">${follower1} = om1</msg>
<status status="PASS" starttime="20231106 23:23:04.289" endtime="20231106 23:23:04.290"/>
</kw>
<kw name="Get Line" library="String">
<var>${follower2}</var>
<arg>${result}</arg>
<arg>2</arg>
<doc>Returns the specified line from the given ``string``.</doc>
<msg timestamp="20231106 23:23:04.291" level="INFO">${follower2} = om2</msg>
<status status="PASS" starttime="20231106 23:23:04.290" endtime="20231106 23:23:04.291"/>
</kw>
<msg timestamp="20231106 23:23:04.292" level="INFO">${result} = ['om3', 'om1', 'om2']</msg>
<status status="PASS" starttime="20231106 23:22:56.047" endtime="20231106 23:23:04.292"/>
</kw>
<msg timestamp="20231106 23:23:04.292" level="INFO">${newLeaderOM} = om3</msg>
<status status="PASS" starttime="20231106 23:22:56.046" endtime="20231106 23:23:04.292"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:23:04.292" endtime="20231106 23:23:04.293"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${isEqualCheck}' == 'true'</arg>
<arg>Should be Equal</arg>
<arg>${followerOM}</arg>
<arg>${newLeaderOM}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20231106 23:23:04.293" endtime="20231106 23:23:04.294"/>
</kw>
<status status="PASS" starttime="20231106 23:22:56.045" endtime="20231106 23:23:04.294"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:22:41.137" endtime="20231106 23:23:04.294"/>
</test>
<test id="s1-s5-t12" name="Transfer Leadership for OM randomly with Multiple ServiceIDs, No ServiceID Specified" line="146">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -r</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:23:04.301" level="INFO">Running command 'ozone admin --set=ozone.om.service.ids=omservice,ozone1 om transfer -r 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:09.586" level="INFO">${rc} = 255</msg>
<msg timestamp="20231106 23:23:09.586" level="INFO">${output} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:23:04.298" endtime="20231106 23:23:09.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:09.588" level="INFO">There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:23:09.587" endtime="20231106 23:23:09.588"/>
</kw>
<msg timestamp="20231106 23:23:09.588" level="INFO">${result} = There is no Ozone Manager service ID specified, but there are either zero, or more than one service IDconfigured.</msg>
<status status="PASS" starttime="20231106 23:23:04.297" endtime="20231106 23:23:09.588"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>no Ozone Manager service ID specified</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:09.588" endtime="20231106 23:23:09.589"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:23:04.296" endtime="20231106 23:23:09.589"/>
</test>
<doc>Smoketest for OM leader transfer</doc>
<status status="PASS" starttime="20231106 23:19:45.596" endtime="20231106 23:23:09.592"/>
</suite>
<suite id="s1-s6" name="Scm-Leader-Transfer" source="/opt/hadoop/smoketest/scmha/scm-leader-transfer.robot">
<test id="s1-s6-t1" name="Transfer Leadership" line="47">
<kw name="Get SCM Leader Node">
<var>${leaderSCM}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:23:15.264" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:21.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:23:21.731" level="INFO">${output} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:15.260" endtime="20231106 23:23:21.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:21.734" level="INFO">scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:21.732" endtime="20231106 23:23:21.734"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:23:21.735" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:23:21.734" endtime="20231106 23:23:21.735"/>
</kw>
<status status="PASS" starttime="20231106 23:23:15.259" endtime="20231106 23:23:21.735"/>
</kw>
<msg timestamp="20231106 23:23:21.735" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:23:15.258" endtime="20231106 23:23:21.736"/>
</kw>
<msg timestamp="20231106 23:23:21.736" level="INFO">${result} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:15.257" endtime="20231106 23:23:21.736"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:21.737" level="INFO">scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:21.736" endtime="20231106 23:23:21.737"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>LEADER</arg>
<arg>1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:21.738" endtime="20231106 23:23:21.739"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>FOLLOWER</arg>
<arg>2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:21.739" endtime="20231106 23:23:21.739"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scmLine}</var>
<arg>${result}</arg>
<arg>LEADER</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:23:21.740" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231106 23:23:21.741" level="INFO">${scmLine} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116</msg>
<status status="PASS" starttime="20231106 23:23:21.740" endtime="20231106 23:23:21.741"/>
</kw>
<kw name="Split String" library="String">
<var>${splits}</var>
<arg>${scmLine}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231106 23:23:21.742" level="INFO">${splits} = ['scm1.org', '9894', 'LEADER', '589564b3-bd57-4499-b10d-49fab8a8d31c', '172.25.0.116']</msg>
<status status="PASS" starttime="20231106 23:23:21.741" endtime="20231106 23:23:21.742"/>
</kw>
<kw name="Strip String" library="String">
<var>${leaderSCM}</var>
<arg>${splits[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231106 23:23:21.743" level="INFO">${leaderSCM} = 589564b3-bd57-4499-b10d-49fab8a8d31c</msg>
<status status="PASS" starttime="20231106 23:23:21.742" endtime="20231106 23:23:21.743"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:21.744" level="INFO">Leader SCM: 589564b3-bd57-4499-b10d-49fab8a8d31c</msg>
<status status="PASS" starttime="20231106 23:23:21.744" endtime="20231106 23:23:21.744"/>
</kw>
<msg timestamp="20231106 23:23:21.745" level="INFO">${leaderSCM} = 589564b3-bd57-4499-b10d-49fab8a8d31c</msg>
<status status="PASS" starttime="20231106 23:23:15.256" endtime="20231106 23:23:21.745"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:21.746" level="INFO">Leader SCM: 589564b3-bd57-4499-b10d-49fab8a8d31c</msg>
<status status="PASS" starttime="20231106 23:23:21.745" endtime="20231106 23:23:21.746"/>
</kw>
<kw name="Get SCM UUID">
<var>${target_scm_uuid}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:23:21.754" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:28.685" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:23:28.686" level="INFO">${output} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:21.749" endtime="20231106 23:23:28.686"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:28.688" level="INFO">scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:28.686" endtime="20231106 23:23:28.688"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:23:28.689" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:23:28.688" endtime="20231106 23:23:28.689"/>
</kw>
<status status="PASS" starttime="20231106 23:23:21.748" endtime="20231106 23:23:28.690"/>
</kw>
<msg timestamp="20231106 23:23:28.690" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:23:21.748" endtime="20231106 23:23:28.690"/>
</kw>
<msg timestamp="20231106 23:23:28.690" level="INFO">${result} = scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:21.747" endtime="20231106 23:23:28.690"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:28.691" level="INFO">scm1.org:9894:LEADER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:28.691" endtime="20231106 23:23:28.691"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scm_line}</var>
<arg>${result}</arg>
<arg>${TARGET_SCM}</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:23:28.692" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231106 23:23:28.692" level="INFO">${scm_line} = scm2.org:9894:FOLLOWER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:28.691" endtime="20231106 23:23:28.692"/>
</kw>
<kw name="Split String" library="String">
<var>${scm_split}</var>
<arg>${scm_line}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231106 23:23:28.693" level="INFO">${scm_split} = ['scm2.org', '9894', 'FOLLOWER', '0aa222b5-13cf-4795-9f36-452161a3eb0f', '172.25.0.117']</msg>
<status status="PASS" starttime="20231106 23:23:28.692" endtime="20231106 23:23:28.693"/>
</kw>
<kw name="Strip String" library="String">
<var>${scm_uuid}</var>
<arg>${scm_split[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231106 23:23:28.695" level="INFO">${scm_uuid} = 0aa222b5-13cf-4795-9f36-452161a3eb0f</msg>
<status status="PASS" starttime="20231106 23:23:28.693" endtime="20231106 23:23:28.695"/>
</kw>
<msg timestamp="20231106 23:23:28.695" level="INFO">${target_scm_uuid} = 0aa222b5-13cf-4795-9f36-452161a3eb0f</msg>
<status status="PASS" starttime="20231106 23:23:21.746" endtime="20231106 23:23:28.695"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm transfer --service-id=scmservice -n ${target_scm_uuid}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:23:28.701" level="INFO">Running command 'ozone admin scm transfer --service-id=scmservice -n 0aa222b5-13cf-4795-9f36-452161a3eb0f 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:37.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:23:37.051" level="INFO">${output} = Transfer leadership successfully to 0aa222b5-13cf-4795-9f36-452161a3eb0f.</msg>
<status status="PASS" starttime="20231106 23:23:28.697" endtime="20231106 23:23:37.051"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:37.053" level="INFO">Transfer leadership successfully to 0aa222b5-13cf-4795-9f36-452161a3eb0f.</msg>
<status status="PASS" starttime="20231106 23:23:37.051" endtime="20231106 23:23:37.053"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:23:37.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:23:37.053" endtime="20231106 23:23:37.054"/>
</kw>
<status status="PASS" starttime="20231106 23:23:28.696" endtime="20231106 23:23:37.054"/>
</kw>
<msg timestamp="20231106 23:23:37.054" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:23:28.696" endtime="20231106 23:23:37.055"/>
</kw>
<msg timestamp="20231106 23:23:37.055" level="INFO">${result} = Transfer leadership successfully to 0aa222b5-13cf-4795-9f36-452161a3eb0f.</msg>
<status status="PASS" starttime="20231106 23:23:28.695" endtime="20231106 23:23:37.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:37.056" level="INFO">Transfer leadership successfully to 0aa222b5-13cf-4795-9f36-452161a3eb0f.</msg>
<status status="PASS" starttime="20231106 23:23:37.055" endtime="20231106 23:23:37.056"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:37.056" endtime="20231106 23:23:37.057"/>
</kw>
<kw name="Get SCM Leader Node">
<var>${newLeaderSCM}</var>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm roles --service-id=scmservice</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20231106 23:23:37.065" level="INFO">Running command 'ozone admin scm roles --service-id=scmservice 2&gt;&amp;1'.</msg>
<msg timestamp="20231106 23:23:46.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20231106 23:23:46.043" level="INFO">${output} = scm1.org:9894:FOLLOWER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:LEADER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:37.060" endtime="20231106 23:23:46.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:46.046" level="INFO">scm1.org:9894:FOLLOWER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:LEADER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:46.044" endtime="20231106 23:23:46.046"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20231106 23:23:46.047" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20231106 23:23:46.046" endtime="20231106 23:23:46.047"/>
</kw>
<status status="PASS" starttime="20231106 23:23:37.059" endtime="20231106 23:23:46.048"/>
</kw>
<msg timestamp="20231106 23:23:46.048" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20231106 23:23:37.058" endtime="20231106 23:23:46.048"/>
</kw>
<msg timestamp="20231106 23:23:46.048" level="INFO">${result} = scm1.org:9894:FOLLOWER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:LEADER:0aa222b5-13cf-4795-9f36-452161a3e...</msg>
<status status="PASS" starttime="20231106 23:23:37.058" endtime="20231106 23:23:46.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:46.049" level="INFO">scm1.org:9894:FOLLOWER:589564b3-bd57-4499-b10d-49fab8a8d31c:172.25.0.116
scm3.org:9894:FOLLOWER:cb4bdf5f-e600-49fe-aea2-fd5c80ad7d15:172.25.0.118
scm2.org:9894:LEADER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:46.049" endtime="20231106 23:23:46.049"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>LEADER</arg>
<arg>1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:46.050" endtime="20231106 23:23:46.050"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>FOLLOWER</arg>
<arg>2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20231106 23:23:46.050" endtime="20231106 23:23:46.051"/>
</kw>
<kw name="Get Lines Containing String" library="String">
<var>${scmLine}</var>
<arg>${result}</arg>
<arg>LEADER</arg>
<doc>Returns lines of the given ``string`` that contain the ``pattern``.</doc>
<msg timestamp="20231106 23:23:46.052" level="INFO">1 out of 3 lines matched</msg>
<msg timestamp="20231106 23:23:46.052" level="INFO">${scmLine} = scm2.org:9894:LEADER:0aa222b5-13cf-4795-9f36-452161a3eb0f:172.25.0.117</msg>
<status status="PASS" starttime="20231106 23:23:46.051" endtime="20231106 23:23:46.052"/>
</kw>
<kw name="Split String" library="String">
<var>${splits}</var>
<arg>${scmLine}</arg>
<arg>:</arg>
<doc>Splits the ``string`` using ``separator`` as a delimiter string.</doc>
<msg timestamp="20231106 23:23:46.053" level="INFO">${splits} = ['scm2.org', '9894', 'LEADER', '0aa222b5-13cf-4795-9f36-452161a3eb0f', '172.25.0.117']</msg>
<status status="PASS" starttime="20231106 23:23:46.052" endtime="20231106 23:23:46.054"/>
</kw>
<kw name="Strip String" library="String">
<var>${leaderSCM}</var>
<arg>${splits[3]}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<msg timestamp="20231106 23:23:46.055" level="INFO">${leaderSCM} = 0aa222b5-13cf-4795-9f36-452161a3eb0f</msg>
<status status="PASS" starttime="20231106 23:23:46.054" endtime="20231106 23:23:46.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Leader SCM: ${leaderSCM}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231106 23:23:46.056" level="INFO">Leader SCM: 0aa222b5-13cf-4795-9f36-452161a3eb0f</msg>
<status status="PASS" starttime="20231106 23:23:46.056" endtime="20231106 23:23:46.057"/>
</kw>
<msg timestamp="20231106 23:23:46.057" level="INFO">${newLeaderSCM} = 0aa222b5-13cf-4795-9f36-452161a3eb0f</msg>
<status status="PASS" starttime="20231106 23:23:37.057" endtime="20231106 23:23:46.057"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${leaderSCM}</arg>
<arg>${newLeaderSCM}</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20231106 23:23:46.057" endtime="20231106 23:23:46.058"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20231106 23:23:15.255" endtime="20231106 23:23:46.059"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20231106 23:23:15.172" endtime="20231106 23:23:46.060"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="754253"/>
</suite>
<statistics>
<total>
<stat pass="68" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="68" fail="0" skip="0" id="s1" name="ozonesecure-ha-leadership">ozonesecure-ha-leadership</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1" name="Kinit">ozonesecure-ha-leadership.Kinit</stat>
<stat pass="44" fail="0" skip="0" id="s1-s2" name="Admincli">ozonesecure-ha-leadership.Admincli</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s1" name="Admin">ozonesecure-ha-leadership.Admincli.Admin</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s2" name="Cert">ozonesecure-ha-leadership.Admincli.Cert</stat>
<stat pass="13" fail="0" skip="0" id="s1-s2-s3" name="Container">ozonesecure-ha-leadership.Admincli.Container</stat>
<stat pass="6" fail="0" skip="0" id="s1-s2-s4" name="Datanode">ozonesecure-ha-leadership.Admincli.Datanode</stat>
<stat pass="9" fail="0" skip="0" id="s1-s2-s5" name="Pipeline">ozonesecure-ha-leadership.Admincli.Pipeline</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s6" name="printTopology">ozonesecure-ha-leadership.Admincli.printTopology</stat>
<stat pass="5" fail="0" skip="0" id="s1-s2-s7" name="Replicationmanager">ozonesecure-ha-leadership.Admincli.Replicationmanager</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2-s8" name="Safemode">ozonesecure-ha-leadership.Admincli.Safemode</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s9" name="Scmrole">ozonesecure-ha-leadership.Admincli.Scmrole</stat>
<stat pass="6" fail="0" skip="0" id="s1-s3" name="Om-Fetch-Key">ozonesecure-ha-leadership.Om-Fetch-Key</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Om-Roles">ozonesecure-ha-leadership.Om-Roles</stat>
<stat pass="12" fail="0" skip="0" id="s1-s5" name="Om-Leader-Transfer">ozonesecure-ha-leadership.Om-Leader-Transfer</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Scm-Leader-Transfer">ozonesecure-ha-leadership.Scm-Leader-Transfer</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
