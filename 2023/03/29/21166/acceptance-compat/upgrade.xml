<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230329 08:47:33.643" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:40:47.109" level="INFO">${random} = 83441</msg>
<status status="PASS" starttime="20230329 08:40:47.108" endtime="20230329 08:40:47.109"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:47.115" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-83441 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:51.785" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:51.786" level="INFO">${output} = 2023-03-29 08:40:50,487 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:40:50,602 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:40:47.111" endtime="20230329 08:40:51.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:51.787" level="INFO">2023-03-29 08:40:50,487 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:40:50,602 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:40:50,602 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230329 08:40:51.786" endtime="20230329 08:40:51.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:51.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:51.787" endtime="20230329 08:40:51.788"/>
</kw>
<status status="PASS" starttime="20230329 08:40:47.110" endtime="20230329 08:40:51.788"/>
</kw>
<msg timestamp="20230329 08:40:51.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:47.109" endtime="20230329 08:40:51.790"/>
</kw>
<msg timestamp="20230329 08:40:51.790" level="INFO">${output} = 2023-03-29 08:40:50,487 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:40:50,602 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:40:47.109" endtime="20230329 08:40:51.790"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:51.790" endtime="20230329 08:40:51.790"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:51.795" level="INFO">Running command 'cat /tmp/key-83441 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:51.801" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:51.801" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:51.792" endtime="20230329 08:40:51.801"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:51.802" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:51.802" endtime="20230329 08:40:51.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:51.803" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:51.803" endtime="20230329 08:40:51.803"/>
</kw>
<msg timestamp="20230329 08:40:51.804" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:51.791" endtime="20230329 08:40:51.804"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:51.804" endtime="20230329 08:40:51.804"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:51.812" level="INFO">Running command 'rm /tmp/key-83441 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:51.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:51.814" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:51.805" endtime="20230329 08:40:51.814"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:51.815" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:51.814" endtime="20230329 08:40:51.815"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:51.816" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:51.816" endtime="20230329 08:40:51.816"/>
</kw>
<status status="PASS" starttime="20230329 08:40:51.804" endtime="20230329 08:40:51.818"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:40:47.107" endtime="20230329 08:40:51.818"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:51.829" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:52.448" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:52.448" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:51.824" endtime="20230329 08:40:52.448"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:52.450" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:52.449" endtime="20230329 08:40:52.450"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:52.450" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:52.450" endtime="20230329 08:40:52.451"/>
</kw>
<status status="PASS" starttime="20230329 08:40:51.824" endtime="20230329 08:40:52.451"/>
</kw>
<msg timestamp="20230329 08:40:52.451" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:51.823" endtime="20230329 08:40:52.451"/>
</kw>
<status status="PASS" starttime="20230329 08:40:51.822" endtime="20230329 08:40:52.452"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:52.462" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:52.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:52.945" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:52.453" endtime="20230329 08:40:52.945"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:52.947" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:52.946" endtime="20230329 08:40:52.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:52.947" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:52.947" endtime="20230329 08:40:52.948"/>
</kw>
<status status="PASS" starttime="20230329 08:40:52.452" endtime="20230329 08:40:52.948"/>
</kw>
<msg timestamp="20230329 08:40:52.948" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:52.452" endtime="20230329 08:40:52.949"/>
</kw>
<status status="PASS" starttime="20230329 08:40:52.452" endtime="20230329 08:40:52.949"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:52.953" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:53.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:53.411" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:52.950" endtime="20230329 08:40:53.411"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:53.412" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:53.411" endtime="20230329 08:40:53.412"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:53.412" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:53.412" endtime="20230329 08:40:53.413"/>
</kw>
<status status="PASS" starttime="20230329 08:40:52.950" endtime="20230329 08:40:53.413"/>
</kw>
<msg timestamp="20230329 08:40:53.413" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:52.949" endtime="20230329 08:40:53.413"/>
</kw>
<status status="PASS" starttime="20230329 08:40:52.949" endtime="20230329 08:40:53.414"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:53.417" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:53.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:53.875" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:53.415" endtime="20230329 08:40:53.875"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:53.876" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:53.876" endtime="20230329 08:40:53.876"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:53.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:53.877" endtime="20230329 08:40:53.877"/>
</kw>
<status status="PASS" starttime="20230329 08:40:53.414" endtime="20230329 08:40:53.877"/>
</kw>
<msg timestamp="20230329 08:40:53.877" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:53.414" endtime="20230329 08:40:53.878"/>
</kw>
<status status="PASS" starttime="20230329 08:40:53.414" endtime="20230329 08:40:53.878"/>
</kw>
<status status="PASS" starttime="20230329 08:40:51.822" endtime="20230329 08:40:53.878"/>
</kw>
<status status="PASS" starttime="20230329 08:40:51.821" endtime="20230329 08:40:53.878"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:40:51.819" endtime="20230329 08:40:53.878"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:53.884" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:56.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:56.614" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:53.882" endtime="20230329 08:40:56.614"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:56.616" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:40:54 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:40:56.615" endtime="20230329 08:40:56.616"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:56.617" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:56.616" endtime="20230329 08:40:56.617"/>
</kw>
<msg timestamp="20230329 08:40:56.617" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:53.881" endtime="20230329 08:40:56.617"/>
</kw>
<msg timestamp="20230329 08:40:56.617" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:35 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:53.880" endtime="20230329 08:40:56.617"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:56.617" endtime="20230329 08:40:56.618"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:56.621" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:56.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:56.623" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:56.619" endtime="20230329 08:40:56.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:56.624" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:56.624" endtime="20230329 08:40:56.624"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:56.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:56.625" endtime="20230329 08:40:56.625"/>
</kw>
<msg timestamp="20230329 08:40:56.626" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:40:56.618" endtime="20230329 08:40:56.626"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:56.626" endtime="20230329 08:40:56.626"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:56.629" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:56.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:56.631" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:56.627" endtime="20230329 08:40:56.631"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:56.632" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:56.632" endtime="20230329 08:40:56.632"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:56.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:56.632" endtime="20230329 08:40:56.634"/>
</kw>
<status status="PASS" starttime="20230329 08:40:56.626" endtime="20230329 08:40:56.634"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:40:53.880" endtime="20230329 08:40:56.634"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:56.640" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:57.307" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:57.307" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:56.637" endtime="20230329 08:40:57.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:57.308" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:40:57 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:40:57.307" endtime="20230329 08:40:57.308"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:57.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:57.308" endtime="20230329 08:40:57.309"/>
</kw>
<msg timestamp="20230329 08:40:57.309" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:56.637" endtime="20230329 08:40:57.309"/>
</kw>
<msg timestamp="20230329 08:40:57.310" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:37:40 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:40:56.636" endtime="20230329 08:40:57.310"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:57.310" endtime="20230329 08:40:57.310"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:57.313" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:57.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:57.316" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:40:57.311" endtime="20230329 08:40:57.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:57.317" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:40:57.317" endtime="20230329 08:40:57.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:57.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:57.317" endtime="20230329 08:40:57.318"/>
</kw>
<msg timestamp="20230329 08:40:57.318" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:40:57.311" endtime="20230329 08:40:57.318"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:40:57.318" endtime="20230329 08:40:57.319"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:57.321" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:57.324" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:57.324" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:40:57.319" endtime="20230329 08:40:57.324"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:57.325" level="INFO"/>
<status status="PASS" starttime="20230329 08:40:57.324" endtime="20230329 08:40:57.325"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:57.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:57.325" endtime="20230329 08:40:57.326"/>
</kw>
<status status="PASS" starttime="20230329 08:40:57.319" endtime="20230329 08:40:57.326"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:40:56.636" endtime="20230329 08:40:57.326"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:40:47.028" endtime="20230329 08:40:57.328"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:41:01.150" level="INFO">${random} = 87439</msg>
<status status="PASS" starttime="20230329 08:41:01.150" endtime="20230329 08:41:01.150"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:01.156" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-87439 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:05.246" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:05.246" level="INFO">${output} = 2023-03-29 08:41:04,095 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:04,176 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:01.153" endtime="20230329 08:41:05.246"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:05.248" level="INFO">2023-03-29 08:41:04,095 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:04,176 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:04,177 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230329 08:41:05.247" endtime="20230329 08:41:05.248"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:05.248" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:05.248" endtime="20230329 08:41:05.248"/>
</kw>
<status status="PASS" starttime="20230329 08:41:01.152" endtime="20230329 08:41:05.249"/>
</kw>
<msg timestamp="20230329 08:41:05.249" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:01.151" endtime="20230329 08:41:05.250"/>
</kw>
<msg timestamp="20230329 08:41:05.250" level="INFO">${output} = 2023-03-29 08:41:04,095 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:04,176 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:01.151" endtime="20230329 08:41:05.250"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:05.250" endtime="20230329 08:41:05.251"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:05.253" level="INFO">Running command 'cat /tmp/key-87439 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:05.256" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:05.256" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:05.251" endtime="20230329 08:41:05.256"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:05.260" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:05.256" endtime="20230329 08:41:05.260"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:05.261" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:05.260" endtime="20230329 08:41:05.261"/>
</kw>
<msg timestamp="20230329 08:41:05.261" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:05.251" endtime="20230329 08:41:05.261"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:05.262" endtime="20230329 08:41:05.262"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:05.265" level="INFO">Running command 'rm /tmp/key-87439 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:05.268" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:05.268" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:05.263" endtime="20230329 08:41:05.268"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:05.269" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:05.268" endtime="20230329 08:41:05.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:05.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:05.269" endtime="20230329 08:41:05.269"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.262" endtime="20230329 08:41:05.270"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:01.149" endtime="20230329 08:41:05.270"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:05.275" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:05.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:05.735" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:05.274" endtime="20230329 08:41:05.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:05.736" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:05.735" endtime="20230329 08:41:05.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:05.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:05.736" endtime="20230329 08:41:05.737"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.273" endtime="20230329 08:41:05.737"/>
</kw>
<msg timestamp="20230329 08:41:05.737" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:05.273" endtime="20230329 08:41:05.738"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.273" endtime="20230329 08:41:05.738"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:05.741" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:06.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:06.197" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:05.739" endtime="20230329 08:41:06.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:06.198" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:06.197" endtime="20230329 08:41:06.198"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:06.198" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:06.198" endtime="20230329 08:41:06.199"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.739" endtime="20230329 08:41:06.199"/>
</kw>
<msg timestamp="20230329 08:41:06.199" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:05.738" endtime="20230329 08:41:06.199"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.738" endtime="20230329 08:41:06.199"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:06.203" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:06.702" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:06.702" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:06.201" endtime="20230329 08:41:06.702"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:06.703" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:06.702" endtime="20230329 08:41:06.703"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:06.704" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:06.704" endtime="20230329 08:41:06.704"/>
</kw>
<status status="PASS" starttime="20230329 08:41:06.200" endtime="20230329 08:41:06.704"/>
</kw>
<msg timestamp="20230329 08:41:06.705" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:06.200" endtime="20230329 08:41:06.705"/>
</kw>
<status status="PASS" starttime="20230329 08:41:06.200" endtime="20230329 08:41:06.705"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:06.709" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:07.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:07.170" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:06.707" endtime="20230329 08:41:07.170"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:07.171" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:07.171" endtime="20230329 08:41:07.171"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:07.172" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:07.171" endtime="20230329 08:41:07.172"/>
</kw>
<status status="PASS" starttime="20230329 08:41:06.706" endtime="20230329 08:41:07.172"/>
</kw>
<msg timestamp="20230329 08:41:07.172" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:06.706" endtime="20230329 08:41:07.173"/>
</kw>
<status status="PASS" starttime="20230329 08:41:06.705" endtime="20230329 08:41:07.173"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.272" endtime="20230329 08:41:07.173"/>
</kw>
<status status="PASS" starttime="20230329 08:41:05.272" endtime="20230329 08:41:07.173"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:05.271" endtime="20230329 08:41:07.173"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:07.178" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:07.788" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:07.788" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.176" endtime="20230329 08:41:07.788"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:07.790" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:41:07 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:41:07.789" endtime="20230329 08:41:07.790"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:07.790" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:07.790" endtime="20230329 08:41:07.791"/>
</kw>
<msg timestamp="20230329 08:41:07.791" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.175" endtime="20230329 08:41:07.791"/>
</kw>
<msg timestamp="20230329 08:41:07.791" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.174" endtime="20230329 08:41:07.791"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:07.791" endtime="20230329 08:41:07.792"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:07.795" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:07.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:07.797" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:07.792" endtime="20230329 08:41:07.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:07.798" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:07.797" endtime="20230329 08:41:07.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:07.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:07.798" endtime="20230329 08:41:07.799"/>
</kw>
<msg timestamp="20230329 08:41:07.799" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:07.792" endtime="20230329 08:41:07.799"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:07.799" endtime="20230329 08:41:07.800"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:07.802" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:07.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:07.804" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:07.800" endtime="20230329 08:41:07.804"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:07.806" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:07.805" endtime="20230329 08:41:07.806"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:07.806" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:07.806" endtime="20230329 08:41:07.806"/>
</kw>
<status status="PASS" starttime="20230329 08:41:07.800" endtime="20230329 08:41:07.806"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:07.174" endtime="20230329 08:41:07.807"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:07.811" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:08.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:08.424" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.809" endtime="20230329 08:41:08.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:08.425" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:41:08 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:41:08.424" endtime="20230329 08:41:08.425"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:08.426" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:08.425" endtime="20230329 08:41:08.426"/>
</kw>
<msg timestamp="20230329 08:41:08.426" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.809" endtime="20230329 08:41:08.426"/>
</kw>
<msg timestamp="20230329 08:41:08.426" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:07.808" endtime="20230329 08:41:08.426"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:08.427" endtime="20230329 08:41:08.427"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:08.430" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:08.432" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:08.432" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:08.428" endtime="20230329 08:41:08.432"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:08.433" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:08.433" endtime="20230329 08:41:08.433"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:08.434" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:08.434" endtime="20230329 08:41:08.434"/>
</kw>
<msg timestamp="20230329 08:41:08.434" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:08.427" endtime="20230329 08:41:08.434"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:08.434" endtime="20230329 08:41:08.435"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:08.437" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:08.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:08.440" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:08.435" endtime="20230329 08:41:08.440"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:08.441" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:08.440" endtime="20230329 08:41:08.441"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:08.441" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:08.441" endtime="20230329 08:41:08.441"/>
</kw>
<status status="PASS" starttime="20230329 08:41:08.435" endtime="20230329 08:41:08.442"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:07.807" endtime="20230329 08:41:08.442"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:41:01.067" endtime="20230329 08:41:08.443"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:12.275" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:14.788" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:14.789" level="INFO">${output} = 2023-03-29 08:41:14,577 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:41:12.271" endtime="20230329 08:41:14.789"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:14.796" level="INFO">2023-03-29 08:41:14,577 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:41:14.795" endtime="20230329 08:41:14.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:14.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:14.796" endtime="20230329 08:41:14.797"/>
</kw>
<status status="PASS" starttime="20230329 08:41:12.271" endtime="20230329 08:41:14.797"/>
</kw>
<msg timestamp="20230329 08:41:14.797" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:12.271" endtime="20230329 08:41:14.798"/>
</kw>
<msg timestamp="20230329 08:41:14.799" level="INFO">${output} = 2023-03-29 08:41:14,577 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:41:12.270" endtime="20230329 08:41:14.799"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:14.799" endtime="20230329 08:41:14.799"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:14.813" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:17.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:17.532" level="INFO">${output} = 2023-03-29 08:41:17,447 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230329 08:41:14.805" endtime="20230329 08:41:17.532"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:17.533" level="INFO">2023-03-29 08:41:17,447 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230329 08:41:17.532" endtime="20230329 08:41:17.533"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:17.534" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:17.533" endtime="20230329 08:41:17.534"/>
</kw>
<status status="PASS" starttime="20230329 08:41:14.804" endtime="20230329 08:41:17.534"/>
</kw>
<msg timestamp="20230329 08:41:17.534" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:14.804" endtime="20230329 08:41:17.535"/>
</kw>
<msg timestamp="20230329 08:41:17.535" level="INFO">${output} = 2023-03-29 08:41:17,447 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230329 08:41:14.799" endtime="20230329 08:41:17.535"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:17.535" endtime="20230329 08:41:17.536"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:12.269" endtime="20230329 08:41:17.536"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:17.541" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:41:17.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:17.542" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:17.538" endtime="20230329 08:41:17.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:17.543" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:17.543" endtime="20230329 08:41:17.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:17.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:17.544" endtime="20230329 08:41:17.544"/>
</kw>
<status status="PASS" starttime="20230329 08:41:17.538" endtime="20230329 08:41:17.544"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:17.548" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:22.639" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:22.639" level="INFO">${output} = 2023-03-29 08:41:20,963 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:21,080 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:17.546" endtime="20230329 08:41:22.639"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:22.640" level="INFO">2023-03-29 08:41:20,963 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:21,080 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:21,081 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:41:21,376 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:41:22.640" endtime="20230329 08:41:22.641"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:22.641" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:22.641" endtime="20230329 08:41:22.641"/>
</kw>
<status status="PASS" starttime="20230329 08:41:17.546" endtime="20230329 08:41:22.642"/>
</kw>
<msg timestamp="20230329 08:41:22.642" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:17.545" endtime="20230329 08:41:22.642"/>
</kw>
<msg timestamp="20230329 08:41:22.642" level="INFO">${output} = 2023-03-29 08:41:20,963 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:21,080 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:17.545" endtime="20230329 08:41:22.642"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:22.643" endtime="20230329 08:41:22.643"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:22.646" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:22.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:22.650" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:22.644" endtime="20230329 08:41:22.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:22.651" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:22.651" endtime="20230329 08:41:22.651"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:22.652" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:22.651" endtime="20230329 08:41:22.652"/>
</kw>
<status status="PASS" starttime="20230329 08:41:22.643" endtime="20230329 08:41:22.652"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:17.537" endtime="20230329 08:41:22.652"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:22.658" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:25.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:25.316" level="INFO">${output} = 2023-03-29 08:41:25,213 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230329 08:41:22.656" endtime="20230329 08:41:25.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:25.318" level="INFO">2023-03-29 08:41:25,213 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230329 08:41:25.316" endtime="20230329 08:41:25.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:25.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:25.318" endtime="20230329 08:41:25.318"/>
</kw>
<status status="PASS" starttime="20230329 08:41:22.655" endtime="20230329 08:41:25.319"/>
</kw>
<msg timestamp="20230329 08:41:25.319" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:22.655" endtime="20230329 08:41:25.319"/>
</kw>
<msg timestamp="20230329 08:41:25.320" level="INFO">${output} = 2023-03-29 08:41:25,213 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230329 08:41:22.654" endtime="20230329 08:41:25.320"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:25.320" endtime="20230329 08:41:25.320"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:22.653" endtime="20230329 08:41:25.320"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:25.326" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:41:25.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:25.328" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:25.324" endtime="20230329 08:41:25.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:25.329" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:25.328" endtime="20230329 08:41:25.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:25.330" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:25.329" endtime="20230329 08:41:25.330"/>
</kw>
<status status="PASS" starttime="20230329 08:41:25.323" endtime="20230329 08:41:25.330"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:25.334" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:30.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:30.128" level="INFO">${output} = 2023-03-29 08:41:28,604 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:28,718 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:25.332" endtime="20230329 08:41:30.129"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:30.130" level="INFO">2023-03-29 08:41:28,604 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:28,718 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:28,718 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:41:28,993 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:41:30.129" endtime="20230329 08:41:30.130"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:30.131" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:30.130" endtime="20230329 08:41:30.131"/>
</kw>
<status status="PASS" starttime="20230329 08:41:25.331" endtime="20230329 08:41:30.131"/>
</kw>
<msg timestamp="20230329 08:41:30.131" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:25.331" endtime="20230329 08:41:30.131"/>
</kw>
<msg timestamp="20230329 08:41:30.132" level="INFO">${output} = 2023-03-29 08:41:28,604 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:28,718 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:25.330" endtime="20230329 08:41:30.132"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:30.132" endtime="20230329 08:41:30.132"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:30.135" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:30.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:30.137" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:30.133" endtime="20230329 08:41:30.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:30.139" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:30.138" endtime="20230329 08:41:30.139"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:30.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:30.139" endtime="20230329 08:41:30.140"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.132" endtime="20230329 08:41:30.140"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:25.322" endtime="20230329 08:41:30.140"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:30.145" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:30.630" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:30.630" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:30.143" endtime="20230329 08:41:30.630"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:30.631" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:30.630" endtime="20230329 08:41:30.631"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:30.632" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:30.631" endtime="20230329 08:41:30.632"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.143" endtime="20230329 08:41:30.632"/>
</kw>
<msg timestamp="20230329 08:41:30.632" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:30.143" endtime="20230329 08:41:30.633"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.142" endtime="20230329 08:41:30.633"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:30.637" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:31.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:31.108" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:30.635" endtime="20230329 08:41:31.108"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:31.110" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:31.109" endtime="20230329 08:41:31.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:31.110" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:31.110" endtime="20230329 08:41:31.110"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.634" endtime="20230329 08:41:31.111"/>
</kw>
<msg timestamp="20230329 08:41:31.111" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:30.634" endtime="20230329 08:41:31.111"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.633" endtime="20230329 08:41:31.111"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:31.115" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:31.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:31.601" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:31.113" endtime="20230329 08:41:31.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:31.602" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:31.602" endtime="20230329 08:41:31.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:31.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:31.603" endtime="20230329 08:41:31.603"/>
</kw>
<status status="PASS" starttime="20230329 08:41:31.112" endtime="20230329 08:41:31.603"/>
</kw>
<msg timestamp="20230329 08:41:31.603" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:31.112" endtime="20230329 08:41:31.604"/>
</kw>
<status status="PASS" starttime="20230329 08:41:31.112" endtime="20230329 08:41:31.604"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:31.608" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:32.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:32.069" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:31.605" endtime="20230329 08:41:32.069"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:32.070" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:32.070" endtime="20230329 08:41:32.071"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:32.071" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:32.071" endtime="20230329 08:41:32.071"/>
</kw>
<status status="PASS" starttime="20230329 08:41:31.605" endtime="20230329 08:41:32.071"/>
</kw>
<msg timestamp="20230329 08:41:32.072" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:31.605" endtime="20230329 08:41:32.072"/>
</kw>
<status status="PASS" starttime="20230329 08:41:31.604" endtime="20230329 08:41:32.072"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.142" endtime="20230329 08:41:32.072"/>
</kw>
<status status="PASS" starttime="20230329 08:41:30.142" endtime="20230329 08:41:32.072"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:30.141" endtime="20230329 08:41:32.073"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:32.079" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:32.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:32.693" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:32.077" endtime="20230329 08:41:32.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:32.694" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:32.693" endtime="20230329 08:41:32.694"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:32.695" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:32.694" endtime="20230329 08:41:32.695"/>
</kw>
<status status="PASS" starttime="20230329 08:41:32.076" endtime="20230329 08:41:32.695"/>
</kw>
<msg timestamp="20230329 08:41:32.695" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:32.076" endtime="20230329 08:41:32.696"/>
</kw>
<msg timestamp="20230329 08:41:32.696" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:32.075" endtime="20230329 08:41:32.696"/>
</kw>
<msg timestamp="20230329 08:41:32.696" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:32.075" endtime="20230329 08:41:32.696"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:32.697" endtime="20230329 08:41:32.697"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:32.697" endtime="20230329 08:41:32.698"/>
</kw>
<msg timestamp="20230329 08:41:32.698" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230329 08:41:32.075" endtime="20230329 08:41:32.698"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230329 08:41:32.698" endtime="20230329 08:41:32.699"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:32.074" endtime="20230329 08:41:32.699"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:32.704" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:41:32.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:32.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:32.701" endtime="20230329 08:41:32.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:32.706" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:32.706" endtime="20230329 08:41:32.706"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:32.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:32.706" endtime="20230329 08:41:32.707"/>
</kw>
<status status="PASS" starttime="20230329 08:41:32.701" endtime="20230329 08:41:32.707"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:32.711" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:33.639" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:33.639" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:32.708" endtime="20230329 08:41:33.639"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:33.641" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:33.640" endtime="20230329 08:41:33.641"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:33.641" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:33.641" endtime="20230329 08:41:33.641"/>
</kw>
<msg timestamp="20230329 08:41:33.642" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:32.708" endtime="20230329 08:41:33.642"/>
</kw>
<msg timestamp="20230329 08:41:33.642" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:32.707" endtime="20230329 08:41:33.642"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:33.642" endtime="20230329 08:41:33.643"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:33.646" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:33.648" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:33.648" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:33.643" endtime="20230329 08:41:33.648"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:33.649" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:33.649" endtime="20230329 08:41:33.649"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:33.650" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:33.649" endtime="20230329 08:41:33.650"/>
</kw>
<status status="PASS" starttime="20230329 08:41:33.643" endtime="20230329 08:41:33.650"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:32.700" endtime="20230329 08:41:33.650"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230329 08:41:12.197" endtime="20230329 08:41:33.652"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:41:37.412" level="INFO">${random} = 95128</msg>
<status status="PASS" starttime="20230329 08:41:37.411" endtime="20230329 08:41:37.412"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:37.418" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-95128 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:41.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:41.795" level="INFO">${output} = 2023-03-29 08:41:40,546 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:40,685 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:37.414" endtime="20230329 08:41:41.795"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:41.796" level="INFO">2023-03-29 08:41:40,546 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:40,685 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:40,686 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230329 08:41:41.795" endtime="20230329 08:41:41.796"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:41.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:41.797" endtime="20230329 08:41:41.797"/>
</kw>
<status status="PASS" starttime="20230329 08:41:37.414" endtime="20230329 08:41:41.798"/>
</kw>
<msg timestamp="20230329 08:41:41.798" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:37.413" endtime="20230329 08:41:41.799"/>
</kw>
<msg timestamp="20230329 08:41:41.799" level="INFO">${output} = 2023-03-29 08:41:40,546 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:40,685 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:37.412" endtime="20230329 08:41:41.799"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:41.799" endtime="20230329 08:41:41.800"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:41.803" level="INFO">Running command 'cat /tmp/key-95128 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:41.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:41.805" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:41.800" endtime="20230329 08:41:41.805"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:41.806" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:41.806" endtime="20230329 08:41:41.806"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:41.807" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:41.806" endtime="20230329 08:41:41.807"/>
</kw>
<msg timestamp="20230329 08:41:41.807" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:41.800" endtime="20230329 08:41:41.807"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:41.807" endtime="20230329 08:41:41.808"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:41.810" level="INFO">Running command 'rm /tmp/key-95128 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:41.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:41.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:41.809" endtime="20230329 08:41:41.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:41.814" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:41.813" endtime="20230329 08:41:41.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:41.815" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:41.814" endtime="20230329 08:41:41.815"/>
</kw>
<status status="PASS" starttime="20230329 08:41:41.808" endtime="20230329 08:41:41.815"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:37.411" endtime="20230329 08:41:41.815"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:41.821" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:42.279" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:42.279" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:41.819" endtime="20230329 08:41:42.279"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:42.280" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:42.279" endtime="20230329 08:41:42.280"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:42.281" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:42.280" endtime="20230329 08:41:42.281"/>
</kw>
<status status="PASS" starttime="20230329 08:41:41.818" endtime="20230329 08:41:42.281"/>
</kw>
<msg timestamp="20230329 08:41:42.281" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:41.818" endtime="20230329 08:41:42.282"/>
</kw>
<status status="PASS" starttime="20230329 08:41:41.818" endtime="20230329 08:41:42.282"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:42.286" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:42.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:42.746" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:42.283" endtime="20230329 08:41:42.746"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:42.747" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:42.747" endtime="20230329 08:41:42.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:42.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:42.748" endtime="20230329 08:41:42.748"/>
</kw>
<status status="PASS" starttime="20230329 08:41:42.283" endtime="20230329 08:41:42.748"/>
</kw>
<msg timestamp="20230329 08:41:42.748" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:42.282" endtime="20230329 08:41:42.749"/>
</kw>
<status status="PASS" starttime="20230329 08:41:42.282" endtime="20230329 08:41:42.749"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:42.753" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:43.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:43.226" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:42.750" endtime="20230329 08:41:43.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:43.227" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:43.227" endtime="20230329 08:41:43.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:43.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:43.228" endtime="20230329 08:41:43.228"/>
</kw>
<status status="PASS" starttime="20230329 08:41:42.750" endtime="20230329 08:41:43.228"/>
</kw>
<msg timestamp="20230329 08:41:43.228" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:42.750" endtime="20230329 08:41:43.229"/>
</kw>
<status status="PASS" starttime="20230329 08:41:42.749" endtime="20230329 08:41:43.229"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:43.233" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:43.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:43.698" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:43.230" endtime="20230329 08:41:43.698"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:43.699" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:43.698" endtime="20230329 08:41:43.700"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:43.700" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:43.700" endtime="20230329 08:41:43.700"/>
</kw>
<status status="PASS" starttime="20230329 08:41:43.230" endtime="20230329 08:41:43.700"/>
</kw>
<msg timestamp="20230329 08:41:43.701" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:43.230" endtime="20230329 08:41:43.701"/>
</kw>
<status status="PASS" starttime="20230329 08:41:43.229" endtime="20230329 08:41:43.701"/>
</kw>
<status status="PASS" starttime="20230329 08:41:41.817" endtime="20230329 08:41:43.701"/>
</kw>
<status status="PASS" starttime="20230329 08:41:41.817" endtime="20230329 08:41:43.701"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:41.816" endtime="20230329 08:41:43.702"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:43.706" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.307" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.307" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:43.704" endtime="20230329 08:41:44.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.308" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:41:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:41:44.307" endtime="20230329 08:41:44.308"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.308" endtime="20230329 08:41:44.309"/>
</kw>
<msg timestamp="20230329 08:41:44.309" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:43.704" endtime="20230329 08:41:44.309"/>
</kw>
<msg timestamp="20230329 08:41:44.310" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:43.703" endtime="20230329 08:41:44.310"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:44.310" endtime="20230329 08:41:44.310"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:44.313" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.316" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:44.311" endtime="20230329 08:41:44.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.317" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:44.316" endtime="20230329 08:41:44.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.317" endtime="20230329 08:41:44.318"/>
</kw>
<msg timestamp="20230329 08:41:44.318" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:41:44.310" endtime="20230329 08:41:44.318"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:44.318" endtime="20230329 08:41:44.319"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:44.321" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.324" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.324" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:44.319" endtime="20230329 08:41:44.324"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.325" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:44.325" endtime="20230329 08:41:44.325"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.325" endtime="20230329 08:41:44.326"/>
</kw>
<status status="PASS" starttime="20230329 08:41:44.319" endtime="20230329 08:41:44.326"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:43.702" endtime="20230329 08:41:44.326"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:44.331" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.897" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.898" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:44.329" endtime="20230329 08:41:44.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.899" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:41:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:41:44.898" endtime="20230329 08:41:44.899"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.899" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.899" endtime="20230329 08:41:44.900"/>
</kw>
<msg timestamp="20230329 08:41:44.900" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:44.328" endtime="20230329 08:41:44.900"/>
</kw>
<msg timestamp="20230329 08:41:44.900" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:41:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:41:44.328" endtime="20230329 08:41:44.900"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:44.900" endtime="20230329 08:41:44.901"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:44.904" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.906" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.906" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:44.901" endtime="20230329 08:41:44.906"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.907" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:44.906" endtime="20230329 08:41:44.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.908" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.907" endtime="20230329 08:41:44.908"/>
</kw>
<msg timestamp="20230329 08:41:44.908" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:41:44.901" endtime="20230329 08:41:44.908"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:44.909" endtime="20230329 08:41:44.909"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:44.912" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:44.914" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:44.914" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:44.910" endtime="20230329 08:41:44.914"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:44.915" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:44.915" endtime="20230329 08:41:44.916"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:44.916" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:44.916" endtime="20230329 08:41:44.916"/>
</kw>
<status status="PASS" starttime="20230329 08:41:44.909" endtime="20230329 08:41:44.916"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:44.327" endtime="20230329 08:41:44.917"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:41:37.340" endtime="20230329 08:41:44.919"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:48.712" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:41:48.714" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:48.714" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:48.708" endtime="20230329 08:41:48.714"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:48.715" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:48.714" endtime="20230329 08:41:48.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:48.715" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:48.715" endtime="20230329 08:41:48.715"/>
</kw>
<status status="PASS" starttime="20230329 08:41:48.707" endtime="20230329 08:41:48.716"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:48.719" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:53.556" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:53.556" level="INFO">${output} = 2023-03-29 08:41:51,926 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:52,005 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:48.717" endtime="20230329 08:41:53.556"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:53.557" level="INFO">2023-03-29 08:41:51,926 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:52,005 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:52,005 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:41:52,281 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:41:53.556" endtime="20230329 08:41:53.557"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:53.558" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:53.558" endtime="20230329 08:41:53.558"/>
</kw>
<status status="PASS" starttime="20230329 08:41:48.717" endtime="20230329 08:41:53.558"/>
</kw>
<msg timestamp="20230329 08:41:53.559" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:48.716" endtime="20230329 08:41:53.560"/>
</kw>
<msg timestamp="20230329 08:41:53.560" level="INFO">${output} = 2023-03-29 08:41:51,926 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:52,005 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:48.716" endtime="20230329 08:41:53.560"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:53.560" endtime="20230329 08:41:53.560"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:53.566" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:53.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:53.569" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:53.564" endtime="20230329 08:41:53.569"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:53.570" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:53.569" endtime="20230329 08:41:53.570"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:53.571" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:53.570" endtime="20230329 08:41:53.571"/>
</kw>
<status status="PASS" starttime="20230329 08:41:53.561" endtime="20230329 08:41:53.571"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:48.707" endtime="20230329 08:41:53.571"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:53.576" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:41:53.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:53.577" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:53.574" endtime="20230329 08:41:53.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:53.579" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:53.578" endtime="20230329 08:41:53.579"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:53.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:53.579" endtime="20230329 08:41:53.579"/>
</kw>
<status status="PASS" starttime="20230329 08:41:53.573" endtime="20230329 08:41:53.580"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:53.583" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:58.065" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:58.065" level="INFO">${output} = 2023-03-29 08:41:56,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:56,730 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:53.581" endtime="20230329 08:41:58.065"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:58.066" level="INFO">2023-03-29 08:41:56,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:56,730 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:41:56,730 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:41:56,979 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:41:58.066" endtime="20230329 08:41:58.067"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:58.067" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:58.067" endtime="20230329 08:41:58.068"/>
</kw>
<status status="PASS" starttime="20230329 08:41:53.581" endtime="20230329 08:41:58.068"/>
</kw>
<msg timestamp="20230329 08:41:58.068" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:53.580" endtime="20230329 08:41:58.068"/>
</kw>
<msg timestamp="20230329 08:41:58.068" level="INFO">${output} = 2023-03-29 08:41:56,657 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:41:56,730 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:41:53.580" endtime="20230329 08:41:58.068"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:41:58.069" endtime="20230329 08:41:58.069"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:58.072" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:58.074" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:58.074" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:58.070" endtime="20230329 08:41:58.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:58.075" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:58.075" endtime="20230329 08:41:58.075"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:58.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:58.075" endtime="20230329 08:41:58.076"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.069" endtime="20230329 08:41:58.081"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:53.572" endtime="20230329 08:41:58.082"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:58.087" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:58.571" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:58.571" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:58.085" endtime="20230329 08:41:58.571"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:58.572" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:58.571" endtime="20230329 08:41:58.572"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:58.574" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:58.572" endtime="20230329 08:41:58.574"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.085" endtime="20230329 08:41:58.574"/>
</kw>
<msg timestamp="20230329 08:41:58.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:58.085" endtime="20230329 08:41:58.575"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.084" endtime="20230329 08:41:58.575"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:58.579" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:59.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:59.040" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:58.577" endtime="20230329 08:41:59.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:59.041" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:59.040" endtime="20230329 08:41:59.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:59.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:59.041" endtime="20230329 08:41:59.042"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.576" endtime="20230329 08:41:59.042"/>
</kw>
<msg timestamp="20230329 08:41:59.042" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:58.576" endtime="20230329 08:41:59.043"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.576" endtime="20230329 08:41:59.043"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:59.047" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:59.509" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:59.509" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:59.044" endtime="20230329 08:41:59.509"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:59.510" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:59.510" endtime="20230329 08:41:59.511"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:59.511" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:59.511" endtime="20230329 08:41:59.511"/>
</kw>
<status status="PASS" starttime="20230329 08:41:59.044" endtime="20230329 08:41:59.511"/>
</kw>
<msg timestamp="20230329 08:41:59.512" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:59.044" endtime="20230329 08:41:59.512"/>
</kw>
<status status="PASS" starttime="20230329 08:41:59.043" endtime="20230329 08:41:59.512"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:59.516" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:41:59.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:41:59.980" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:41:59.514" endtime="20230329 08:41:59.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:41:59.981" level="INFO"/>
<status status="PASS" starttime="20230329 08:41:59.980" endtime="20230329 08:41:59.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:41:59.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:41:59.981" endtime="20230329 08:41:59.982"/>
</kw>
<status status="PASS" starttime="20230329 08:41:59.513" endtime="20230329 08:41:59.982"/>
</kw>
<msg timestamp="20230329 08:41:59.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:59.513" endtime="20230329 08:41:59.983"/>
</kw>
<status status="PASS" starttime="20230329 08:41:59.512" endtime="20230329 08:41:59.983"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.084" endtime="20230329 08:41:59.983"/>
</kw>
<status status="PASS" starttime="20230329 08:41:58.084" endtime="20230329 08:41:59.983"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:58.083" endtime="20230329 08:41:59.983"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:41:59.989" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:42:00.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:42:00.623" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:59.987" endtime="20230329 08:42:00.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:42:00.625" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:42:00.624" endtime="20230329 08:42:00.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:42:00.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:42:00.625" endtime="20230329 08:42:00.625"/>
</kw>
<status status="PASS" starttime="20230329 08:41:59.987" endtime="20230329 08:42:00.626"/>
</kw>
<msg timestamp="20230329 08:42:00.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:41:59.986" endtime="20230329 08:42:00.626"/>
</kw>
<msg timestamp="20230329 08:42:00.627" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:59.986" endtime="20230329 08:42:00.627"/>
</kw>
<msg timestamp="20230329 08:42:00.627" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:41:59.985" endtime="20230329 08:42:00.627"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:42:00.628" endtime="20230329 08:42:00.628"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:42:00.628" endtime="20230329 08:42:00.629"/>
</kw>
<msg timestamp="20230329 08:42:00.629" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230329 08:41:59.985" endtime="20230329 08:42:00.629"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230329 08:42:00.629" endtime="20230329 08:42:00.629"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:41:59.984" endtime="20230329 08:42:00.630"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:42:00.634" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:42:00.636" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:42:00.636" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:42:00.632" endtime="20230329 08:42:00.636"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:42:00.637" level="INFO"/>
<status status="PASS" starttime="20230329 08:42:00.636" endtime="20230329 08:42:00.637"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:42:00.638" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:42:00.637" endtime="20230329 08:42:00.638"/>
</kw>
<status status="PASS" starttime="20230329 08:42:00.631" endtime="20230329 08:42:00.638"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:42:00.641" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:42:01.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:42:01.368" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:42:00.639" endtime="20230329 08:42:01.368"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:42:01.370" level="INFO"/>
<status status="PASS" starttime="20230329 08:42:01.369" endtime="20230329 08:42:01.370"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:42:01.371" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:42:01.370" endtime="20230329 08:42:01.371"/>
</kw>
<msg timestamp="20230329 08:42:01.371" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:42:00.639" endtime="20230329 08:42:01.371"/>
</kw>
<msg timestamp="20230329 08:42:01.372" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:42:00.638" endtime="20230329 08:42:01.372"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:42:01.372" endtime="20230329 08:42:01.372"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:42:01.375" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:42:01.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:42:01.378" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:42:01.373" endtime="20230329 08:42:01.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:42:01.379" level="INFO"/>
<status status="PASS" starttime="20230329 08:42:01.378" endtime="20230329 08:42:01.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:42:01.379" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:42:01.379" endtime="20230329 08:42:01.379"/>
</kw>
<status status="PASS" starttime="20230329 08:42:01.372" endtime="20230329 08:42:01.380"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:42:00.630" endtime="20230329 08:42:01.380"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230329 08:41:48.634" endtime="20230329 08:42:01.381"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:42:05.082" endtime="20230329 08:42:05.083"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:42:05.083" endtime="20230329 08:42:05.083"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:42:05.087" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:47:05.082" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230329 08:42:05.084" endtime="20230329 08:47:05.082"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230329 08:47:05.083" endtime="20230329 08:47:05.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230329 08:47:05.083" endtime="20230329 08:47:05.083"/>
</kw>
<status status="FAIL" starttime="20230329 08:42:05.084" endtime="20230329 08:47:05.084"/>
</kw>
<msg timestamp="20230329 08:47:05.084" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230329 08:42:05.083" endtime="20230329 08:47:05.085"/>
</kw>
<status status="FAIL" starttime="20230329 08:42:05.083" endtime="20230329 08:47:05.085"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230329 08:47:05.086" endtime="20230329 08:47:05.086"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230329 08:42:05.081" endtime="20230329 08:47:05.086">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230329 08:42:05.036" endtime="20230329 08:47:05.087"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:40:37.111" endtime="20230329 08:40:37.111"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:37.116" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:37.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:37.118" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=963d35e701d2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230329 08:40:37.112" endtime="20230329 08:40:37.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:37.119" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=963d35e701d2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230329 08:40:37.119" endtime="20230329 08:40:37.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:37.120" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:37.120" endtime="20230329 08:40:37.120"/>
</kw>
<status status="PASS" starttime="20230329 08:40:37.112" endtime="20230329 08:40:37.120"/>
</kw>
<msg timestamp="20230329 08:40:37.120" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:37.112" endtime="20230329 08:40:37.121"/>
</kw>
<msg timestamp="20230329 08:40:37.122" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=963d35e701d2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230329 08:40:37.111" endtime="20230329 08:40:37.122"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:37.122" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=963d35e701d2
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230329 08:40:37.122" endtime="20230329 08:40:37.122"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:40:37.122" endtime="20230329 08:40:37.123"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:37.126" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:39.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:39.786" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:40:37.124" endtime="20230329 08:40:39.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:39.788" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:40:39.787" endtime="20230329 08:40:39.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:39.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:39.788" endtime="20230329 08:40:39.788"/>
</kw>
<status status="PASS" starttime="20230329 08:40:37.124" endtime="20230329 08:40:39.789"/>
</kw>
<msg timestamp="20230329 08:40:39.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:37.123" endtime="20230329 08:40:39.789"/>
</kw>
<msg timestamp="20230329 08:40:39.789" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:40:37.123" endtime="20230329 08:40:39.789"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:39.790" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:40:39.790" endtime="20230329 08:40:39.790"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230329 08:40:39.790" endtime="20230329 08:40:39.790"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230329 08:40:37.110" endtime="20230329 08:40:39.791"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:40:39.793" endtime="20230329 08:40:39.793"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:40:39.793" endtime="20230329 08:40:39.793"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:40:39.797" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:40:43.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:40:43.137" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:40:39.795" endtime="20230329 08:40:43.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:43.138" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:40:43.138" endtime="20230329 08:40:43.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:40:43.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:40:43.139" endtime="20230329 08:40:43.139"/>
</kw>
<status status="PASS" starttime="20230329 08:40:39.794" endtime="20230329 08:40:43.140"/>
</kw>
<msg timestamp="20230329 08:40:43.140" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:40:39.794" endtime="20230329 08:40:43.140"/>
</kw>
<msg timestamp="20230329 08:40:43.141" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:40:39.794" endtime="20230329 08:40:43.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:40:43.141" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:40:43.141" endtime="20230329 08:40:43.141"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230329 08:40:43.142" endtime="20230329 08:40:43.142"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230329 08:40:39.792" endtime="20230329 08:40:43.142"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230329 08:40:37.060" endtime="20230329 08:40:43.144"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:01.315" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:03.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:03.880" level="INFO">${output} = 2023-03-29 08:34:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:34:01.310" endtime="20230329 08:34:03.880"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:03.885" level="INFO">2023-03-29 08:34:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:34:03.880" endtime="20230329 08:34:03.885"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:03.886" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:03.885" endtime="20230329 08:34:03.886"/>
</kw>
<status status="PASS" starttime="20230329 08:34:01.310" endtime="20230329 08:34:03.886"/>
</kw>
<msg timestamp="20230329 08:34:03.886" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:01.310" endtime="20230329 08:34:03.894"/>
</kw>
<msg timestamp="20230329 08:34:03.895" level="INFO">${output} = 2023-03-29 08:34:03,650 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230329 08:34:01.309" endtime="20230329 08:34:03.895"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:03.895" endtime="20230329 08:34:03.896"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:03.909" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:06.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:06.833" level="INFO">${output} = 2023-03-29 08:34:06,725 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230329 08:34:03.901" endtime="20230329 08:34:06.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:06.834" level="INFO">2023-03-29 08:34:06,725 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230329 08:34:06.833" endtime="20230329 08:34:06.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:06.834" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:06.834" endtime="20230329 08:34:06.835"/>
</kw>
<status status="PASS" starttime="20230329 08:34:03.897" endtime="20230329 08:34:06.835"/>
</kw>
<msg timestamp="20230329 08:34:06.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:03.896" endtime="20230329 08:34:06.835"/>
</kw>
<msg timestamp="20230329 08:34:06.836" level="INFO">${output} = 2023-03-29 08:34:06,725 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230329 08:34:03.896" endtime="20230329 08:34:06.836"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:06.836" endtime="20230329 08:34:06.836"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:01.308" endtime="20230329 08:34:06.836"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:06.842" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:34:06.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:06.845" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:06.839" endtime="20230329 08:34:06.845"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:06.847" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:06.846" endtime="20230329 08:34:06.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:06.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:06.847" endtime="20230329 08:34:06.847"/>
</kw>
<status status="PASS" starttime="20230329 08:34:06.838" endtime="20230329 08:34:06.848"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:06.853" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:12.732" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:12.732" level="INFO">${output} = 2023-03-29 08:34:10,325 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:10,452 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:06.850" endtime="20230329 08:34:12.732"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:12.733" level="INFO">2023-03-29 08:34:10,325 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:10,452 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:34:10,453 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:34:10,733 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:34:12.732" endtime="20230329 08:34:12.733"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:12.734" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:12.733" endtime="20230329 08:34:12.734"/>
</kw>
<status status="PASS" starttime="20230329 08:34:06.849" endtime="20230329 08:34:12.734"/>
</kw>
<msg timestamp="20230329 08:34:12.734" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:06.849" endtime="20230329 08:34:12.735"/>
</kw>
<msg timestamp="20230329 08:34:12.735" level="INFO">${output} = 2023-03-29 08:34:10,325 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:10,452 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:06.848" endtime="20230329 08:34:12.735"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:12.735" endtime="20230329 08:34:12.736"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:12.738" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:12.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:12.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:12.736" endtime="20230329 08:34:12.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:12.742" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:12.741" endtime="20230329 08:34:12.742"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:12.742" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:12.742" endtime="20230329 08:34:12.742"/>
</kw>
<status status="PASS" starttime="20230329 08:34:12.736" endtime="20230329 08:34:12.743"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:06.837" endtime="20230329 08:34:12.743"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:12.748" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:15.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:15.451" level="INFO">${output} = 2023-03-29 08:34:15,376 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230329 08:34:12.746" endtime="20230329 08:34:15.451"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:15.452" level="INFO">2023-03-29 08:34:15,376 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230329 08:34:15.452" endtime="20230329 08:34:15.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:15.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:15.452" endtime="20230329 08:34:15.453"/>
</kw>
<status status="PASS" starttime="20230329 08:34:12.746" endtime="20230329 08:34:15.453"/>
</kw>
<msg timestamp="20230329 08:34:15.453" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:12.746" endtime="20230329 08:34:15.454"/>
</kw>
<msg timestamp="20230329 08:34:15.454" level="INFO">${output} = 2023-03-29 08:34:15,376 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230329 08:34:12.745" endtime="20230329 08:34:15.454"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:15.454" endtime="20230329 08:34:15.454"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:12.744" endtime="20230329 08:34:15.455"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:15.461" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:34:15.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:15.462" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:15.457" endtime="20230329 08:34:15.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:15.463" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:15.462" endtime="20230329 08:34:15.463"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:15.464" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:15.463" endtime="20230329 08:34:15.464"/>
</kw>
<status status="PASS" starttime="20230329 08:34:15.457" endtime="20230329 08:34:15.464"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:15.470" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:20.496" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:20.496" level="INFO">${output} = 2023-03-29 08:34:18,902 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:18,984 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:15.466" endtime="20230329 08:34:20.496"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:20.497" level="INFO">2023-03-29 08:34:18,902 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:18,984 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:34:18,985 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-03-29 08:34:19,256 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230329 08:34:20.497" endtime="20230329 08:34:20.498"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:20.498" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:20.498" endtime="20230329 08:34:20.499"/>
</kw>
<status status="PASS" starttime="20230329 08:34:15.465" endtime="20230329 08:34:20.499"/>
</kw>
<msg timestamp="20230329 08:34:20.499" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:15.465" endtime="20230329 08:34:20.499"/>
</kw>
<msg timestamp="20230329 08:34:20.499" level="INFO">${output} = 2023-03-29 08:34:18,902 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:18,984 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:15.464" endtime="20230329 08:34:20.499"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:20.500" endtime="20230329 08:34:20.500"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:20.503" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:20.506" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:20.506" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:20.501" endtime="20230329 08:34:20.506"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:20.507" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:20.506" endtime="20230329 08:34:20.507"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:20.508" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:20.507" endtime="20230329 08:34:20.508"/>
</kw>
<status status="PASS" starttime="20230329 08:34:20.500" endtime="20230329 08:34:20.508"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:15.456" endtime="20230329 08:34:20.509"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:20.514" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:21.160" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:21.160" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:20.512" endtime="20230329 08:34:21.160"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:21.161" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:21.161" endtime="20230329 08:34:21.161"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:21.162" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:21.162" endtime="20230329 08:34:21.162"/>
</kw>
<status status="PASS" starttime="20230329 08:34:20.512" endtime="20230329 08:34:21.162"/>
</kw>
<msg timestamp="20230329 08:34:21.163" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:20.512" endtime="20230329 08:34:21.163"/>
</kw>
<status status="PASS" starttime="20230329 08:34:20.511" endtime="20230329 08:34:21.163"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:21.167" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:21.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:21.629" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:21.165" endtime="20230329 08:34:21.629"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:21.630" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:21.630" endtime="20230329 08:34:21.631"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:21.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:21.631" endtime="20230329 08:34:21.631"/>
</kw>
<status status="PASS" starttime="20230329 08:34:21.165" endtime="20230329 08:34:21.631"/>
</kw>
<msg timestamp="20230329 08:34:21.632" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:21.164" endtime="20230329 08:34:21.632"/>
</kw>
<status status="PASS" starttime="20230329 08:34:21.164" endtime="20230329 08:34:21.632"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:21.636" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:22.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:22.135" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:21.634" endtime="20230329 08:34:22.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:22.136" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:22.136" endtime="20230329 08:34:22.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:22.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:22.137" endtime="20230329 08:34:22.137"/>
</kw>
<status status="PASS" starttime="20230329 08:34:21.633" endtime="20230329 08:34:22.137"/>
</kw>
<msg timestamp="20230329 08:34:22.138" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:21.633" endtime="20230329 08:34:22.138"/>
</kw>
<status status="PASS" starttime="20230329 08:34:21.632" endtime="20230329 08:34:22.138"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:22.142" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:22.624" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:22.624" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:22.139" endtime="20230329 08:34:22.624"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:22.625" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:22.624" endtime="20230329 08:34:22.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:22.626" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:22.625" endtime="20230329 08:34:22.626"/>
</kw>
<status status="PASS" starttime="20230329 08:34:22.139" endtime="20230329 08:34:22.626"/>
</kw>
<msg timestamp="20230329 08:34:22.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:22.139" endtime="20230329 08:34:22.627"/>
</kw>
<status status="PASS" starttime="20230329 08:34:22.138" endtime="20230329 08:34:22.627"/>
</kw>
<status status="PASS" starttime="20230329 08:34:20.511" endtime="20230329 08:34:22.627"/>
</kw>
<status status="PASS" starttime="20230329 08:34:20.510" endtime="20230329 08:34:22.627"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:20.510" endtime="20230329 08:34:22.627"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:22.636" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:24.622" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:24.622" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:34:22.631" endtime="20230329 08:34:24.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:24.623" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:34:24.622" endtime="20230329 08:34:24.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:24.626" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:24.623" endtime="20230329 08:34:24.626"/>
</kw>
<status status="PASS" starttime="20230329 08:34:22.631" endtime="20230329 08:34:24.626"/>
</kw>
<msg timestamp="20230329 08:34:24.627" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:22.630" endtime="20230329 08:34:24.627"/>
</kw>
<msg timestamp="20230329 08:34:24.627" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:34:22.630" endtime="20230329 08:34:24.627"/>
</kw>
<msg timestamp="20230329 08:34:24.628" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:34:22.630" endtime="20230329 08:34:24.628"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:24.628" endtime="20230329 08:34:24.628"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:24.629" endtime="20230329 08:34:24.629"/>
</kw>
<msg timestamp="20230329 08:34:24.629" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230329 08:34:22.629" endtime="20230329 08:34:24.630"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230329 08:34:24.634" endtime="20230329 08:34:24.634"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:22.628" endtime="20230329 08:34:24.635"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:24.648" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:34:24.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:24.651" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:24.646" endtime="20230329 08:34:24.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:24.651" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:24.651" endtime="20230329 08:34:24.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:24.652" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:24.652" endtime="20230329 08:34:24.652"/>
</kw>
<status status="PASS" starttime="20230329 08:34:24.645" endtime="20230329 08:34:24.653"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:24.660" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:26.228" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:26.229" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:24.657" endtime="20230329 08:34:26.229"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:26.230" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:26.229" endtime="20230329 08:34:26.230"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:26.231" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:26.230" endtime="20230329 08:34:26.231"/>
</kw>
<msg timestamp="20230329 08:34:26.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:24.656" endtime="20230329 08:34:26.231"/>
</kw>
<msg timestamp="20230329 08:34:26.231" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:24.656" endtime="20230329 08:34:26.232"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:26.232" endtime="20230329 08:34:26.232"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:26.235" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:26.238" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:26.238" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:26.233" endtime="20230329 08:34:26.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:26.239" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:26.238" endtime="20230329 08:34:26.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:26.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:26.239" endtime="20230329 08:34:26.240"/>
</kw>
<status status="PASS" starttime="20230329 08:34:26.232" endtime="20230329 08:34:26.240"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:24.644" endtime="20230329 08:34:26.240"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230329 08:34:01.234" endtime="20230329 08:34:26.243"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:34:29.926" level="INFO">${random} = 27748</msg>
<status status="PASS" starttime="20230329 08:34:29.925" endtime="20230329 08:34:29.926"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:29.931" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-27748 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:34.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:34.693" level="INFO">${output} = 2023-03-29 08:34:32,983 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:33,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:29.928" endtime="20230329 08:34:34.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:34.694" level="INFO">2023-03-29 08:34:32,983 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:33,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-03-29 08:34:33,057 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230329 08:34:34.693" endtime="20230329 08:34:34.694"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:34.695" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:34.694" endtime="20230329 08:34:34.695"/>
</kw>
<status status="PASS" starttime="20230329 08:34:29.927" endtime="20230329 08:34:34.695"/>
</kw>
<msg timestamp="20230329 08:34:34.695" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:29.926" endtime="20230329 08:34:34.696"/>
</kw>
<msg timestamp="20230329 08:34:34.697" level="INFO">${output} = 2023-03-29 08:34:32,983 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-03-29 08:34:33,057 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230329 08:34:29.926" endtime="20230329 08:34:34.697"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:34.697" endtime="20230329 08:34:34.697"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:34.700" level="INFO">Running command 'cat /tmp/key-27748 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:34.703" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:34.703" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:34.698" endtime="20230329 08:34:34.703"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:34.704" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:34.703" endtime="20230329 08:34:34.704"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:34.705" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:34.704" endtime="20230329 08:34:34.705"/>
</kw>
<msg timestamp="20230329 08:34:34.705" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:34.697" endtime="20230329 08:34:34.705"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:34.705" endtime="20230329 08:34:34.706"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:34.709" level="INFO">Running command 'rm /tmp/key-27748 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:34.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:34.712" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:34.707" endtime="20230329 08:34:34.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:34.713" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:34.713" endtime="20230329 08:34:34.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:34.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:34.713" endtime="20230329 08:34:34.714"/>
</kw>
<status status="PASS" starttime="20230329 08:34:34.706" endtime="20230329 08:34:34.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:29.924" endtime="20230329 08:34:34.714"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:34.721" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:35.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:35.218" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:34.719" endtime="20230329 08:34:35.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:35.220" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:35.219" endtime="20230329 08:34:35.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:35.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:35.220" endtime="20230329 08:34:35.221"/>
</kw>
<status status="PASS" starttime="20230329 08:34:34.718" endtime="20230329 08:34:35.221"/>
</kw>
<msg timestamp="20230329 08:34:35.221" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:34.718" endtime="20230329 08:34:35.221"/>
</kw>
<status status="PASS" starttime="20230329 08:34:34.717" endtime="20230329 08:34:35.222"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:35.225" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:35.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:35.700" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:35.223" endtime="20230329 08:34:35.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:35.701" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:35.700" endtime="20230329 08:34:35.701"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:35.701" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:35.701" endtime="20230329 08:34:35.701"/>
</kw>
<status status="PASS" starttime="20230329 08:34:35.222" endtime="20230329 08:34:35.702"/>
</kw>
<msg timestamp="20230329 08:34:35.702" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:35.222" endtime="20230329 08:34:35.702"/>
</kw>
<status status="PASS" starttime="20230329 08:34:35.222" endtime="20230329 08:34:35.702"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:35.706" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:36.210" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:36.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:35.704" endtime="20230329 08:34:36.210"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:36.211" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:36.210" endtime="20230329 08:34:36.211"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:36.212" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:36.211" endtime="20230329 08:34:36.212"/>
</kw>
<status status="PASS" starttime="20230329 08:34:35.703" endtime="20230329 08:34:36.212"/>
</kw>
<msg timestamp="20230329 08:34:36.212" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:35.703" endtime="20230329 08:34:36.213"/>
</kw>
<status status="PASS" starttime="20230329 08:34:35.703" endtime="20230329 08:34:36.213"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:36.217" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:36.675" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:36.675" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:36.214" endtime="20230329 08:34:36.675"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:36.676" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:36.675" endtime="20230329 08:34:36.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:36.677" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:36.676" endtime="20230329 08:34:36.677"/>
</kw>
<status status="PASS" starttime="20230329 08:34:36.214" endtime="20230329 08:34:36.677"/>
</kw>
<msg timestamp="20230329 08:34:36.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:36.214" endtime="20230329 08:34:36.678"/>
</kw>
<status status="PASS" starttime="20230329 08:34:36.213" endtime="20230329 08:34:36.678"/>
</kw>
<status status="PASS" starttime="20230329 08:34:34.717" endtime="20230329 08:34:36.678"/>
</kw>
<status status="PASS" starttime="20230329 08:34:34.716" endtime="20230329 08:34:36.678"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:34.716" endtime="20230329 08:34:36.678"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:36.684" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:37.406" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:37.406" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:36.681" endtime="20230329 08:34:37.406"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:37.407" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:34:37 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:34:37.406" endtime="20230329 08:34:37.407"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:37.408" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:37.407" endtime="20230329 08:34:37.408"/>
</kw>
<msg timestamp="20230329 08:34:37.408" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:36.680" endtime="20230329 08:34:37.408"/>
</kw>
<msg timestamp="20230329 08:34:37.409" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:36.680" endtime="20230329 08:34:37.409"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:37.409" endtime="20230329 08:34:37.409"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:37.418" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:37.420" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:37.420" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:37.410" endtime="20230329 08:34:37.420"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:37.421" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:37.421" endtime="20230329 08:34:37.421"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:37.422" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:37.422" endtime="20230329 08:34:37.422"/>
</kw>
<msg timestamp="20230329 08:34:37.422" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:34:37.410" endtime="20230329 08:34:37.422"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:37.423" endtime="20230329 08:34:37.423"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:37.426" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:37.428" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:37.428" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:37.424" endtime="20230329 08:34:37.428"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:37.430" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:37.429" endtime="20230329 08:34:37.430"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:37.430" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:37.430" endtime="20230329 08:34:37.430"/>
</kw>
<status status="PASS" starttime="20230329 08:34:37.423" endtime="20230329 08:34:37.432"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:36.679" endtime="20230329 08:34:37.432"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:37.436" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:38.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:38.194" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:37.434" endtime="20230329 08:34:38.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:38.195" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:34:38 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:34:38.194" endtime="20230329 08:34:38.195"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:38.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:38.195" endtime="20230329 08:34:38.197"/>
</kw>
<msg timestamp="20230329 08:34:38.197" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:37.434" endtime="20230329 08:34:38.197"/>
</kw>
<msg timestamp="20230329 08:34:38.198" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:34:37.433" endtime="20230329 08:34:38.198"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:38.198" endtime="20230329 08:34:38.198"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:38.201" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:38.203" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:38.204" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:34:38.199" endtime="20230329 08:34:38.204"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:38.205" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:34:38.204" endtime="20230329 08:34:38.205"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:38.206" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:38.205" endtime="20230329 08:34:38.206"/>
</kw>
<msg timestamp="20230329 08:34:38.206" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:34:38.198" endtime="20230329 08:34:38.206"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:38.206" endtime="20230329 08:34:38.207"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:38.209" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:38.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:38.212" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:34:38.207" endtime="20230329 08:34:38.212"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:38.213" level="INFO"/>
<status status="PASS" starttime="20230329 08:34:38.212" endtime="20230329 08:34:38.213"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:38.213" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:38.213" endtime="20230329 08:34:38.213"/>
</kw>
<status status="PASS" starttime="20230329 08:34:38.207" endtime="20230329 08:34:38.214"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:37.433" endtime="20230329 08:34:38.214"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:34:29.852" endtime="20230329 08:34:38.216"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:34:42.161" endtime="20230329 08:34:42.161"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:34:42.162" endtime="20230329 08:34:42.162"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:34:42.167" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:34:50.143" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:34:50.143" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230329 08:34:42.163" endtime="20230329 08:34:50.143"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:34:50.144" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230329 08:34:50.144" endtime="20230329 08:34:50.144"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:34:50.145" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:34:50.144" endtime="20230329 08:34:50.145"/>
</kw>
<status status="PASS" starttime="20230329 08:34:42.163" endtime="20230329 08:34:50.145"/>
</kw>
<msg timestamp="20230329 08:34:50.146" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:34:42.162" endtime="20230329 08:34:50.147"/>
</kw>
<msg timestamp="20230329 08:34:50.147" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230329 08:34:42.162" endtime="20230329 08:34:50.147"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:34:50.148" endtime="20230329 08:34:50.148"/>
</kw>
<status status="PASS" starttime="20230329 08:34:50.147" endtime="20230329 08:34:50.148"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:34:42.160" endtime="20230329 08:34:50.148"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230329 08:34:42.113" endtime="20230329 08:34:50.150"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:33:51.794" endtime="20230329 08:33:51.795"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:33:51.800" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:33:51.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:33:51.803" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bf0867e44d1c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230329 08:33:51.796" endtime="20230329 08:33:51.803"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:51.804" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bf0867e44d1c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230329 08:33:51.804" endtime="20230329 08:33:51.804"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:33:51.805" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:33:51.804" endtime="20230329 08:33:51.805"/>
</kw>
<status status="PASS" starttime="20230329 08:33:51.796" endtime="20230329 08:33:51.805"/>
</kw>
<msg timestamp="20230329 08:33:51.805" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:33:51.795" endtime="20230329 08:33:51.806"/>
</kw>
<msg timestamp="20230329 08:33:51.807" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bf0867e44d1c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230329 08:33:51.795" endtime="20230329 08:33:51.807"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:51.807" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=bf0867e44d1c
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230329 08:33:51.807" endtime="20230329 08:33:51.807"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:33:51.808" endtime="20230329 08:33:51.808"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:33:51.811" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:33:54.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:33:54.663" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:33:51.809" endtime="20230329 08:33:54.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:54.664" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:33:54.664" endtime="20230329 08:33:54.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:33:54.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:33:54.665" endtime="20230329 08:33:54.665"/>
</kw>
<status status="PASS" starttime="20230329 08:33:51.809" endtime="20230329 08:33:54.665"/>
</kw>
<msg timestamp="20230329 08:33:54.666" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:33:51.809" endtime="20230329 08:33:54.666"/>
</kw>
<msg timestamp="20230329 08:33:54.666" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:33:51.808" endtime="20230329 08:33:54.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:54.667" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230329 08:33:54.666" endtime="20230329 08:33:54.667"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230329 08:33:54.667" endtime="20230329 08:33:54.667"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230329 08:33:51.794" endtime="20230329 08:33:54.667"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:33:54.669" endtime="20230329 08:33:54.670"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:33:54.670" endtime="20230329 08:33:54.670"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:33:54.674" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:33:57.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:33:57.462" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:33:54.672" endtime="20230329 08:33:57.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:57.464" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:33:57.463" endtime="20230329 08:33:57.464"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:33:57.464" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:33:57.464" endtime="20230329 08:33:57.464"/>
</kw>
<status status="PASS" starttime="20230329 08:33:54.671" endtime="20230329 08:33:57.465"/>
</kw>
<msg timestamp="20230329 08:33:57.465" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:33:54.671" endtime="20230329 08:33:57.465"/>
</kw>
<msg timestamp="20230329 08:33:57.465" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:33:54.670" endtime="20230329 08:33:57.465"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:33:57.466" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230329 08:33:57.465" endtime="20230329 08:33:57.466"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230329 08:33:57.466" endtime="20230329 08:33:57.466"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230329 08:33:54.668" endtime="20230329 08:33:57.466"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230329 08:33:51.744" endtime="20230329 08:33:57.468"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:21.056" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:37:21.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:21.058" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:21.051" endtime="20230329 08:37:21.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:21.060" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:21.059" endtime="20230329 08:37:21.060"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:21.061" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:21.060" endtime="20230329 08:37:21.061"/>
</kw>
<status status="PASS" starttime="20230329 08:37:21.050" endtime="20230329 08:37:21.061"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:21.065" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:29.275" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:29.276" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:21.063" endtime="20230329 08:37:29.276"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:29.277" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:29.276" endtime="20230329 08:37:29.277"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:29.278" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:29.277" endtime="20230329 08:37:29.278"/>
</kw>
<status status="PASS" starttime="20230329 08:37:21.062" endtime="20230329 08:37:29.278"/>
</kw>
<msg timestamp="20230329 08:37:29.278" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:21.062" endtime="20230329 08:37:29.280"/>
</kw>
<msg timestamp="20230329 08:37:29.280" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:21.061" endtime="20230329 08:37:29.280"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:29.280" endtime="20230329 08:37:29.281"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:29.284" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:29.293" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:29.293" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:29.282" endtime="20230329 08:37:29.293"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:29.294" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:29.293" endtime="20230329 08:37:29.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:29.295" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:29.294" endtime="20230329 08:37:29.295"/>
</kw>
<status status="PASS" starttime="20230329 08:37:29.281" endtime="20230329 08:37:29.295"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:21.049" endtime="20230329 08:37:29.295"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:29.300" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:37:29.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:29.302" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:29.298" endtime="20230329 08:37:29.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:29.304" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:29.303" endtime="20230329 08:37:29.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:29.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:29.304" endtime="20230329 08:37:29.305"/>
</kw>
<status status="PASS" starttime="20230329 08:37:29.297" endtime="20230329 08:37:29.305"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:29.309" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:35.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:35.757" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:29.307" endtime="20230329 08:37:35.757"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:35.759" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:35.758" endtime="20230329 08:37:35.759"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:35.760" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:35.759" endtime="20230329 08:37:35.760"/>
</kw>
<status status="PASS" starttime="20230329 08:37:29.307" endtime="20230329 08:37:35.761"/>
</kw>
<msg timestamp="20230329 08:37:35.761" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:29.306" endtime="20230329 08:37:35.761"/>
</kw>
<msg timestamp="20230329 08:37:35.762" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:29.306" endtime="20230329 08:37:35.762"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:35.762" endtime="20230329 08:37:35.763"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:35.766" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:35.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:35.769" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:35.763" endtime="20230329 08:37:35.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:35.771" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:35.770" endtime="20230329 08:37:35.771"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:35.772" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:35.771" endtime="20230329 08:37:35.772"/>
</kw>
<status status="PASS" starttime="20230329 08:37:35.763" endtime="20230329 08:37:35.772"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:29.297" endtime="20230329 08:37:35.772"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:35.781" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:36.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:36.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:35.777" endtime="20230329 08:37:36.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:36.572" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:36.571" endtime="20230329 08:37:36.572"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:36.573" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:36.572" endtime="20230329 08:37:36.574"/>
</kw>
<status status="PASS" starttime="20230329 08:37:35.777" endtime="20230329 08:37:36.574"/>
</kw>
<msg timestamp="20230329 08:37:36.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:35.776" endtime="20230329 08:37:36.575"/>
</kw>
<status status="PASS" starttime="20230329 08:37:35.776" endtime="20230329 08:37:36.575"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:36.579" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:37.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:37.079" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:36.576" endtime="20230329 08:37:37.079"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:37.081" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:37.080" endtime="20230329 08:37:37.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:37.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:37.081" endtime="20230329 08:37:37.081"/>
</kw>
<status status="PASS" starttime="20230329 08:37:36.576" endtime="20230329 08:37:37.082"/>
</kw>
<msg timestamp="20230329 08:37:37.082" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:36.576" endtime="20230329 08:37:37.082"/>
</kw>
<status status="PASS" starttime="20230329 08:37:36.575" endtime="20230329 08:37:37.082"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:37.086" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:37.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:37.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:37.084" endtime="20230329 08:37:37.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:37.613" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:37.612" endtime="20230329 08:37:37.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:37.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:37.613" endtime="20230329 08:37:37.614"/>
</kw>
<status status="PASS" starttime="20230329 08:37:37.083" endtime="20230329 08:37:37.614"/>
</kw>
<msg timestamp="20230329 08:37:37.614" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:37.083" endtime="20230329 08:37:37.615"/>
</kw>
<status status="PASS" starttime="20230329 08:37:37.083" endtime="20230329 08:37:37.615"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:37.620" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:38.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:38.219" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:37.617" endtime="20230329 08:37:38.219"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:38.221" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:38.220" endtime="20230329 08:37:38.221"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:38.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:38.221" endtime="20230329 08:37:38.222"/>
</kw>
<status status="PASS" starttime="20230329 08:37:37.616" endtime="20230329 08:37:38.222"/>
</kw>
<msg timestamp="20230329 08:37:38.222" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:37.616" endtime="20230329 08:37:38.223"/>
</kw>
<status status="PASS" starttime="20230329 08:37:37.615" endtime="20230329 08:37:38.223"/>
</kw>
<status status="PASS" starttime="20230329 08:37:35.775" endtime="20230329 08:37:38.223"/>
</kw>
<status status="PASS" starttime="20230329 08:37:35.775" endtime="20230329 08:37:38.223"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:35.774" endtime="20230329 08:37:38.224"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:38.231" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:39.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:39.108" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:37:38.229" endtime="20230329 08:37:39.108"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:39.110" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:37:39.109" endtime="20230329 08:37:39.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:39.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:39.110" endtime="20230329 08:37:39.111"/>
</kw>
<status status="PASS" starttime="20230329 08:37:38.228" endtime="20230329 08:37:39.111"/>
</kw>
<msg timestamp="20230329 08:37:39.111" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:38.228" endtime="20230329 08:37:39.112"/>
</kw>
<msg timestamp="20230329 08:37:39.112" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:37:38.227" endtime="20230329 08:37:39.112"/>
</kw>
<msg timestamp="20230329 08:37:39.113" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:37:38.227" endtime="20230329 08:37:39.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:39.113" endtime="20230329 08:37:39.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:39.113" endtime="20230329 08:37:39.114"/>
</kw>
<msg timestamp="20230329 08:37:39.114" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230329 08:37:38.226" endtime="20230329 08:37:39.114"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230329 08:37:39.115" endtime="20230329 08:37:39.115"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:38.225" endtime="20230329 08:37:39.116"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:39.122" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:37:39.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:39.124" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:39.119" endtime="20230329 08:37:39.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:39.126" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:39.124" endtime="20230329 08:37:39.126"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:39.127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:39.126" endtime="20230329 08:37:39.127"/>
</kw>
<status status="PASS" starttime="20230329 08:37:39.118" endtime="20230329 08:37:39.127"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:39.133" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:40.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:40.668" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:39.129" endtime="20230329 08:37:40.668"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:40.673" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:40.668" endtime="20230329 08:37:40.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:40.675" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:40.674" endtime="20230329 08:37:40.676"/>
</kw>
<msg timestamp="20230329 08:37:40.677" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:39.128" endtime="20230329 08:37:40.677"/>
</kw>
<msg timestamp="20230329 08:37:40.678" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:39.127" endtime="20230329 08:37:40.679"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:40.679" endtime="20230329 08:37:40.679"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:40.693" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:40.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:40.695" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:40.682" endtime="20230329 08:37:40.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:40.696" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:40.695" endtime="20230329 08:37:40.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:40.697" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:40.697" endtime="20230329 08:37:40.697"/>
</kw>
<status status="PASS" starttime="20230329 08:37:40.681" endtime="20230329 08:37:40.698"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:39.117" endtime="20230329 08:37:40.699"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230329 08:37:20.958" endtime="20230329 08:37:40.700"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:44.979" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:48.664" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:48.664" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:44.974" endtime="20230329 08:37:48.664"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:48.665" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:48.664" endtime="20230329 08:37:48.665"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:48.666" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:48.666" endtime="20230329 08:37:48.666"/>
</kw>
<status status="PASS" starttime="20230329 08:37:44.972" endtime="20230329 08:37:48.667"/>
</kw>
<msg timestamp="20230329 08:37:48.667" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:44.972" endtime="20230329 08:37:48.668"/>
</kw>
<msg timestamp="20230329 08:37:48.669" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:44.972" endtime="20230329 08:37:48.669"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:48.669" endtime="20230329 08:37:48.670"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:48.674" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:52.286" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:52.287" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:48.672" endtime="20230329 08:37:52.287"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:52.289" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:52.287" endtime="20230329 08:37:52.289"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:52.290" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:52.289" endtime="20230329 08:37:52.290"/>
</kw>
<status status="PASS" starttime="20230329 08:37:48.671" endtime="20230329 08:37:52.290"/>
</kw>
<msg timestamp="20230329 08:37:52.290" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:48.670" endtime="20230329 08:37:52.291"/>
</kw>
<msg timestamp="20230329 08:37:52.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:48.670" endtime="20230329 08:37:52.291"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:52.291" endtime="20230329 08:37:52.292"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:44.970" endtime="20230329 08:37:52.292"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:52.299" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:37:52.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:52.302" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:52.296" endtime="20230329 08:37:52.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:52.304" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:52.303" endtime="20230329 08:37:52.304"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:52.305" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:52.304" endtime="20230329 08:37:52.305"/>
</kw>
<status status="PASS" starttime="20230329 08:37:52.295" endtime="20230329 08:37:52.305"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:52.310" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:58.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:58.606" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:52.307" endtime="20230329 08:37:58.606"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:58.607" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:58.607" endtime="20230329 08:37:58.608"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:58.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:58.608" endtime="20230329 08:37:58.609"/>
</kw>
<status status="PASS" starttime="20230329 08:37:52.307" endtime="20230329 08:37:58.609"/>
</kw>
<msg timestamp="20230329 08:37:58.609" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:52.306" endtime="20230329 08:37:58.609"/>
</kw>
<msg timestamp="20230329 08:37:58.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:52.305" endtime="20230329 08:37:58.610"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:58.610" endtime="20230329 08:37:58.611"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:58.614" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:58.617" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:58.617" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:58.611" endtime="20230329 08:37:58.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:58.619" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:58.618" endtime="20230329 08:37:58.619"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:58.619" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:58.619" endtime="20230329 08:37:58.620"/>
</kw>
<status status="PASS" starttime="20230329 08:37:58.611" endtime="20230329 08:37:58.620"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:52.294" endtime="20230329 08:37:58.620"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:58.626" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:02.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:02.270" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:58.624" endtime="20230329 08:38:02.270"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:02.271" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:02.270" endtime="20230329 08:38:02.271"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:02.272" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:02.271" endtime="20230329 08:38:02.272"/>
</kw>
<status status="PASS" starttime="20230329 08:37:58.623" endtime="20230329 08:38:02.272"/>
</kw>
<msg timestamp="20230329 08:38:02.273" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:58.623" endtime="20230329 08:38:02.273"/>
</kw>
<msg timestamp="20230329 08:38:02.273" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:58.622" endtime="20230329 08:38:02.273"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:02.274" endtime="20230329 08:38:02.274"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:58.621" endtime="20230329 08:38:02.274"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:02.290" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:38:02.294" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:02.294" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:02.280" endtime="20230329 08:38:02.294"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:02.296" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:02.295" endtime="20230329 08:38:02.296"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:02.297" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:02.296" endtime="20230329 08:38:02.297"/>
</kw>
<status status="PASS" starttime="20230329 08:38:02.278" endtime="20230329 08:38:02.298"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:02.311" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:09.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:09.031" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:02.304" endtime="20230329 08:38:09.031"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:09.032" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:09.032" endtime="20230329 08:38:09.033"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:09.034" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:09.033" endtime="20230329 08:38:09.034"/>
</kw>
<status status="PASS" starttime="20230329 08:38:02.303" endtime="20230329 08:38:09.034"/>
</kw>
<msg timestamp="20230329 08:38:09.034" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:02.300" endtime="20230329 08:38:09.035"/>
</kw>
<msg timestamp="20230329 08:38:09.035" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:02.298" endtime="20230329 08:38:09.035"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:09.035" endtime="20230329 08:38:09.036"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:09.039" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:09.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:09.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:09.036" endtime="20230329 08:38:09.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:09.045" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:09.044" endtime="20230329 08:38:09.045"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:09.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:09.046" endtime="20230329 08:38:09.046"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.036" endtime="20230329 08:38:09.047"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:02.276" endtime="20230329 08:38:09.047"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:09.053" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:09.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:09.663" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:09.051" endtime="20230329 08:38:09.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:09.664" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:09.664" endtime="20230329 08:38:09.665"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:09.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:09.665" endtime="20230329 08:38:09.666"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.050" endtime="20230329 08:38:09.666"/>
</kw>
<msg timestamp="20230329 08:38:09.666" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:09.050" endtime="20230329 08:38:09.667"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.050" endtime="20230329 08:38:09.667"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:09.675" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:10.210" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:10.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:09.671" endtime="20230329 08:38:10.212"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:10.213" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:10.213" endtime="20230329 08:38:10.214"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:10.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:10.214" endtime="20230329 08:38:10.214"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.668" endtime="20230329 08:38:10.215"/>
</kw>
<msg timestamp="20230329 08:38:10.215" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:09.668" endtime="20230329 08:38:10.216"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.667" endtime="20230329 08:38:10.216"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:10.248" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:10.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:10.875" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:10.244" endtime="20230329 08:38:10.875"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:10.877" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:10.876" endtime="20230329 08:38:10.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:10.877" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:10.877" endtime="20230329 08:38:10.877"/>
</kw>
<status status="PASS" starttime="20230329 08:38:10.226" endtime="20230329 08:38:10.878"/>
</kw>
<msg timestamp="20230329 08:38:10.878" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:10.225" endtime="20230329 08:38:10.878"/>
</kw>
<status status="PASS" starttime="20230329 08:38:10.216" endtime="20230329 08:38:10.879"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:10.883" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:11.427" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:11.427" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:10.880" endtime="20230329 08:38:11.427"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:11.428" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:11.428" endtime="20230329 08:38:11.428"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:11.429" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:11.429" endtime="20230329 08:38:11.429"/>
</kw>
<status status="PASS" starttime="20230329 08:38:10.880" endtime="20230329 08:38:11.429"/>
</kw>
<msg timestamp="20230329 08:38:11.429" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:10.879" endtime="20230329 08:38:11.430"/>
</kw>
<status status="PASS" starttime="20230329 08:38:10.879" endtime="20230329 08:38:11.430"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.049" endtime="20230329 08:38:11.430"/>
</kw>
<status status="PASS" starttime="20230329 08:38:09.049" endtime="20230329 08:38:11.430"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:09.048" endtime="20230329 08:38:11.431"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:11.437" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:12.190" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:12.190" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:38:11.434" endtime="20230329 08:38:12.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:12.192" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:38:12.191" endtime="20230329 08:38:12.192"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:12.193" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:12.193" endtime="20230329 08:38:12.193"/>
</kw>
<status status="PASS" starttime="20230329 08:38:11.434" endtime="20230329 08:38:12.194"/>
</kw>
<msg timestamp="20230329 08:38:12.194" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:11.433" endtime="20230329 08:38:12.195"/>
</kw>
<msg timestamp="20230329 08:38:12.195" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:38:11.433" endtime="20230329 08:38:12.195"/>
</kw>
<msg timestamp="20230329 08:38:12.195" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230329 08:38:11.433" endtime="20230329 08:38:12.195"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:12.196" endtime="20230329 08:38:12.196"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:12.196" endtime="20230329 08:38:12.197"/>
</kw>
<msg timestamp="20230329 08:38:12.197" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230329 08:38:11.432" endtime="20230329 08:38:12.197"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230329 08:38:12.197" endtime="20230329 08:38:12.198"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:11.431" endtime="20230329 08:38:12.198"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:12.203" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230329 08:38:12.205" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:12.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:12.200" endtime="20230329 08:38:12.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:12.207" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:12.206" endtime="20230329 08:38:12.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:12.207" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:12.207" endtime="20230329 08:38:12.208"/>
</kw>
<status status="PASS" starttime="20230329 08:38:12.200" endtime="20230329 08:38:12.208"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:12.212" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:13.023" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:13.024" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:12.210" endtime="20230329 08:38:13.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:13.025" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:13.024" endtime="20230329 08:38:13.025"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:13.026" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:13.026" endtime="20230329 08:38:13.026"/>
</kw>
<msg timestamp="20230329 08:38:13.027" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:12.209" endtime="20230329 08:38:13.027"/>
</kw>
<msg timestamp="20230329 08:38:13.027" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:12.208" endtime="20230329 08:38:13.027"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:13.027" endtime="20230329 08:38:13.028"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:13.032" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:13.035" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:13.035" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:13.029" endtime="20230329 08:38:13.035"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:13.036" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:13.035" endtime="20230329 08:38:13.036"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:13.037" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:13.036" endtime="20230329 08:38:13.037"/>
</kw>
<status status="PASS" starttime="20230329 08:38:13.028" endtime="20230329 08:38:13.037"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:12.199" endtime="20230329 08:38:13.038"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230329 08:37:44.884" endtime="20230329 08:38:13.039"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:38:17.052" level="INFO">${random} = 16677</msg>
<status status="PASS" starttime="20230329 08:38:17.052" endtime="20230329 08:38:17.052"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:17.058" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-16677 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:22.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:22.699" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:17.054" endtime="20230329 08:38:22.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:22.701" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:22.700" endtime="20230329 08:38:22.701"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:22.702" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:22.701" endtime="20230329 08:38:22.703"/>
</kw>
<status status="PASS" starttime="20230329 08:38:17.054" endtime="20230329 08:38:22.703"/>
</kw>
<msg timestamp="20230329 08:38:22.703" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:17.053" endtime="20230329 08:38:22.705"/>
</kw>
<msg timestamp="20230329 08:38:22.706" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:17.052" endtime="20230329 08:38:22.706"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:22.706" endtime="20230329 08:38:22.708"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:22.713" level="INFO">Running command 'cat /tmp/key-16677 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:22.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:22.716" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:22.710" endtime="20230329 08:38:22.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:22.717" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:22.717" endtime="20230329 08:38:22.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:22.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:22.718" endtime="20230329 08:38:22.719"/>
</kw>
<msg timestamp="20230329 08:38:22.719" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:22.709" endtime="20230329 08:38:22.719"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:22.719" endtime="20230329 08:38:22.720"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:22.724" level="INFO">Running command 'rm /tmp/key-16677 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:22.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:22.727" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:22.721" endtime="20230329 08:38:22.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:22.728" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:22.727" endtime="20230329 08:38:22.728"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:22.728" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:22.728" endtime="20230329 08:38:22.729"/>
</kw>
<status status="PASS" starttime="20230329 08:38:22.720" endtime="20230329 08:38:22.729"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:17.051" endtime="20230329 08:38:22.729"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:22.736" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:23.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:23.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:22.734" endtime="20230329 08:38:23.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:23.292" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:23.291" endtime="20230329 08:38:23.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:23.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:23.292" endtime="20230329 08:38:23.293"/>
</kw>
<status status="PASS" starttime="20230329 08:38:22.733" endtime="20230329 08:38:23.294"/>
</kw>
<msg timestamp="20230329 08:38:23.294" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:22.733" endtime="20230329 08:38:23.294"/>
</kw>
<status status="PASS" starttime="20230329 08:38:22.732" endtime="20230329 08:38:23.295"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:23.299" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:23.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:23.806" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:23.296" endtime="20230329 08:38:23.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:23.809" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:23.807" endtime="20230329 08:38:23.809"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:23.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:23.809" endtime="20230329 08:38:23.810"/>
</kw>
<status status="PASS" starttime="20230329 08:38:23.295" endtime="20230329 08:38:23.811"/>
</kw>
<msg timestamp="20230329 08:38:23.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:23.295" endtime="20230329 08:38:23.812"/>
</kw>
<status status="PASS" starttime="20230329 08:38:23.295" endtime="20230329 08:38:23.812"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:23.816" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:24.456" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:24.456" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:23.814" endtime="20230329 08:38:24.456"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:24.458" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:24.457" endtime="20230329 08:38:24.458"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:24.459" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:24.458" endtime="20230329 08:38:24.459"/>
</kw>
<status status="PASS" starttime="20230329 08:38:23.813" endtime="20230329 08:38:24.459"/>
</kw>
<msg timestamp="20230329 08:38:24.459" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:23.813" endtime="20230329 08:38:24.460"/>
</kw>
<status status="PASS" starttime="20230329 08:38:23.812" endtime="20230329 08:38:24.460"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:24.465" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:25.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:25.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:24.462" endtime="20230329 08:38:25.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:25.055" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:25.054" endtime="20230329 08:38:25.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:25.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:25.055" endtime="20230329 08:38:25.056"/>
</kw>
<status status="PASS" starttime="20230329 08:38:24.461" endtime="20230329 08:38:25.056"/>
</kw>
<msg timestamp="20230329 08:38:25.056" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:24.461" endtime="20230329 08:38:25.057"/>
</kw>
<status status="PASS" starttime="20230329 08:38:24.460" endtime="20230329 08:38:25.057"/>
</kw>
<status status="PASS" starttime="20230329 08:38:22.732" endtime="20230329 08:38:25.057"/>
</kw>
<status status="PASS" starttime="20230329 08:38:22.731" endtime="20230329 08:38:25.057"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:22.730" endtime="20230329 08:38:25.058"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:25.064" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:25.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:25.812" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.061" endtime="20230329 08:38:25.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:25.813" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:38:25 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:38:25.812" endtime="20230329 08:38:25.814"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:25.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:25.814" endtime="20230329 08:38:25.814"/>
</kw>
<msg timestamp="20230329 08:38:25.815" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.061" endtime="20230329 08:38:25.815"/>
</kw>
<msg timestamp="20230329 08:38:25.815" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.060" endtime="20230329 08:38:25.815"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:25.816" endtime="20230329 08:38:25.816"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:25.820" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:25.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:25.823" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:25.817" endtime="20230329 08:38:25.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:25.824" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:25.824" endtime="20230329 08:38:25.825"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:25.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:25.825" endtime="20230329 08:38:25.825"/>
</kw>
<msg timestamp="20230329 08:38:25.826" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:38:25.816" endtime="20230329 08:38:25.826"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:25.826" endtime="20230329 08:38:25.827"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:25.830" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:25.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:25.833" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:25.827" endtime="20230329 08:38:25.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:25.835" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:25.834" endtime="20230329 08:38:25.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:25.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:25.835" endtime="20230329 08:38:25.835"/>
</kw>
<status status="PASS" starttime="20230329 08:38:25.827" endtime="20230329 08:38:25.836"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:25.059" endtime="20230329 08:38:25.836"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:25.845" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:26.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:26.488" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.840" endtime="20230329 08:38:26.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:26.490" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:38:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:38:26.489" endtime="20230329 08:38:26.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:26.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:26.490" endtime="20230329 08:38:26.491"/>
</kw>
<msg timestamp="20230329 08:38:26.491" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.839" endtime="20230329 08:38:26.491"/>
</kw>
<msg timestamp="20230329 08:38:26.492" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:38:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:38:25.838" endtime="20230329 08:38:26.492"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:26.492" endtime="20230329 08:38:26.493"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:26.497" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:26.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:26.499" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:38:26.493" endtime="20230329 08:38:26.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:26.501" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:38:26.500" endtime="20230329 08:38:26.501"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:26.502" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:26.501" endtime="20230329 08:38:26.502"/>
</kw>
<msg timestamp="20230329 08:38:26.502" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:38:26.493" endtime="20230329 08:38:26.502"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:26.502" endtime="20230329 08:38:26.503"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:26.506" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:26.509" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:26.509" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:38:26.503" endtime="20230329 08:38:26.509"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:26.510" level="INFO"/>
<status status="PASS" starttime="20230329 08:38:26.510" endtime="20230329 08:38:26.511"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:26.511" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:26.511" endtime="20230329 08:38:26.511"/>
</kw>
<status status="PASS" starttime="20230329 08:38:26.503" endtime="20230329 08:38:26.512"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:25.837" endtime="20230329 08:38:26.512"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:38:16.967" endtime="20230329 08:38:26.513"/>
</suite>
<suite id="s1-s15" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s15-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230329 08:38:30.578" endtime="20230329 08:38:30.579"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230329 08:38:30.579" endtime="20230329 08:38:30.579"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:38:30.585" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:38:39.809" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:38:39.809" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230329 08:38:30.581" endtime="20230329 08:38:39.809"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:38:39.811" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [65]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230329 08:38:39.810" endtime="20230329 08:38:39.811"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:38:39.812" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:38:39.811" endtime="20230329 08:38:39.812"/>
</kw>
<status status="PASS" starttime="20230329 08:38:30.580" endtime="20230329 08:38:39.812"/>
</kw>
<msg timestamp="20230329 08:38:39.812" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:38:30.580" endtime="20230329 08:38:39.814"/>
</kw>
<msg timestamp="20230329 08:38:39.814" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [65].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230329 08:38:30.579" endtime="20230329 08:38:39.814"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:38:39.815" endtime="20230329 08:38:39.816"/>
</kw>
<status status="PASS" starttime="20230329 08:38:39.815" endtime="20230329 08:38:39.816"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:38:30.577" endtime="20230329 08:38:39.816"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230329 08:38:30.525" endtime="20230329 08:38:39.818"/>
</suite>
<suite id="s1-s16" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s16-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230329 08:37:03.359" level="INFO">${random} = 38096</msg>
<status status="PASS" starttime="20230329 08:37:03.359" endtime="20230329 08:37:03.359"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:03.366" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-38096 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:10.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:10.004" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:03.361" endtime="20230329 08:37:10.004"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:10.005" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:10.004" endtime="20230329 08:37:10.005"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:10.006" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:10.006" endtime="20230329 08:37:10.008"/>
</kw>
<status status="PASS" starttime="20230329 08:37:03.361" endtime="20230329 08:37:10.008"/>
</kw>
<msg timestamp="20230329 08:37:10.008" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:03.360" endtime="20230329 08:37:10.010"/>
</kw>
<msg timestamp="20230329 08:37:10.010" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:03.359" endtime="20230329 08:37:10.010"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:10.011" endtime="20230329 08:37:10.011"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:10.015" level="INFO">Running command 'cat /tmp/key-38096 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:10.018" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:10.018" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:10.012" endtime="20230329 08:37:10.018"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:10.019" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:10.019" endtime="20230329 08:37:10.020"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:10.020" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:10.020" endtime="20230329 08:37:10.020"/>
</kw>
<msg timestamp="20230329 08:37:10.021" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:10.011" endtime="20230329 08:37:10.021"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:10.021" endtime="20230329 08:37:10.021"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:10.025" level="INFO">Running command 'rm /tmp/key-38096 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:10.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:10.028" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:10.022" endtime="20230329 08:37:10.028"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:10.029" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:10.028" endtime="20230329 08:37:10.029"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:10.030" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:10.029" endtime="20230329 08:37:10.030"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.022" endtime="20230329 08:37:10.030"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:03.358" endtime="20230329 08:37:10.033"/>
</test>
<test id="s1-s16-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:10.042" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:10.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:10.839" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:10.038" endtime="20230329 08:37:10.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:10.841" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:10.840" endtime="20230329 08:37:10.841"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:10.842" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:10.841" endtime="20230329 08:37:10.842"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.037" endtime="20230329 08:37:10.842"/>
</kw>
<msg timestamp="20230329 08:37:10.842" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:10.037" endtime="20230329 08:37:10.843"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.037" endtime="20230329 08:37:10.843"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:10.848" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:11.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:11.382" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:10.845" endtime="20230329 08:37:11.382"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:11.383" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:11.383" endtime="20230329 08:37:11.383"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:11.384" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:11.384" endtime="20230329 08:37:11.384"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.845" endtime="20230329 08:37:11.385"/>
</kw>
<msg timestamp="20230329 08:37:11.385" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:10.844" endtime="20230329 08:37:11.385"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.844" endtime="20230329 08:37:11.385"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:11.389" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:11.900" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:11.900" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:11.387" endtime="20230329 08:37:11.900"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:11.901" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:11.900" endtime="20230329 08:37:11.901"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:11.902" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:11.901" endtime="20230329 08:37:11.902"/>
</kw>
<status status="PASS" starttime="20230329 08:37:11.386" endtime="20230329 08:37:11.902"/>
</kw>
<msg timestamp="20230329 08:37:11.902" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:11.386" endtime="20230329 08:37:11.903"/>
</kw>
<status status="PASS" starttime="20230329 08:37:11.386" endtime="20230329 08:37:11.903"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:11.907" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:12.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:12.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:11.904" endtime="20230329 08:37:12.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:12.498" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:12.497" endtime="20230329 08:37:12.498"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:12.499" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:12.498" endtime="20230329 08:37:12.499"/>
</kw>
<status status="PASS" starttime="20230329 08:37:11.904" endtime="20230329 08:37:12.499"/>
</kw>
<msg timestamp="20230329 08:37:12.499" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230329 08:37:11.903" endtime="20230329 08:37:12.500"/>
</kw>
<status status="PASS" starttime="20230329 08:37:11.903" endtime="20230329 08:37:12.500"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.036" endtime="20230329 08:37:12.500"/>
</kw>
<status status="PASS" starttime="20230329 08:37:10.036" endtime="20230329 08:37:12.500"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:10.035" endtime="20230329 08:37:12.500"/>
</test>
<test id="s1-s16-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:12.506" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.147" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:12.503" endtime="20230329 08:37:16.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.149" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:37:13 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:37:16.148" endtime="20230329 08:37:16.149"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.150" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.149" endtime="20230329 08:37:16.150"/>
</kw>
<msg timestamp="20230329 08:37:16.151" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:12.503" endtime="20230329 08:37:16.151"/>
</kw>
<msg timestamp="20230329 08:37:16.151" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:20 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:12.502" endtime="20230329 08:37:16.151"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:16.151" endtime="20230329 08:37:16.152"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:16.156" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.159" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.160" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:16.152" endtime="20230329 08:37:16.160"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.161" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:16.160" endtime="20230329 08:37:16.161"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.162" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.161" endtime="20230329 08:37:16.162"/>
</kw>
<msg timestamp="20230329 08:37:16.162" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230329 08:37:16.152" endtime="20230329 08:37:16.162"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:16.162" endtime="20230329 08:37:16.163"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:16.166" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.170" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:16.164" endtime="20230329 08:37:16.170"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.171" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:16.170" endtime="20230329 08:37:16.171"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.172" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.171" endtime="20230329 08:37:16.172"/>
</kw>
<status status="PASS" starttime="20230329 08:37:16.163" endtime="20230329 08:37:16.172"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:12.501" endtime="20230329 08:37:16.172"/>
</test>
<test id="s1-s16-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:16.179" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.918" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:16.176" endtime="20230329 08:37:16.918"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.919" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Wed, 29 Mar 2023 08:37:16 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230329 08:37:16.918" endtime="20230329 08:37:16.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.920" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.919" endtime="20230329 08:37:16.920"/>
</kw>
<msg timestamp="20230329 08:37:16.920" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:16.176" endtime="20230329 08:37:16.920"/>
</kw>
<msg timestamp="20230329 08:37:16.921" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Wed, 29 Mar 2023 08:34:26 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230329 08:37:16.175" endtime="20230329 08:37:16.921"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:16.921" endtime="20230329 08:37:16.921"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:16.924" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.927" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.927" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:37:16.922" endtime="20230329 08:37:16.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.929" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:37:16.928" endtime="20230329 08:37:16.929"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.930" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.929" endtime="20230329 08:37:16.930"/>
</kw>
<msg timestamp="20230329 08:37:16.930" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230329 08:37:16.921" endtime="20230329 08:37:16.930"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230329 08:37:16.930" endtime="20230329 08:37:16.931"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230329 08:37:16.933" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230329 08:37:16.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20230329 08:37:16.936" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230329 08:37:16.931" endtime="20230329 08:37:16.936"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230329 08:37:16.937" level="INFO"/>
<status status="PASS" starttime="20230329 08:37:16.936" endtime="20230329 08:37:16.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230329 08:37:16.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230329 08:37:16.937" endtime="20230329 08:37:16.938"/>
</kw>
<status status="PASS" starttime="20230329 08:37:16.931" endtime="20230329 08:37:16.939"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230329 08:37:16.174" endtime="20230329 08:37:16.939"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230329 08:37:03.275" endtime="20230329 08:37:16.940"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="493127"/>
</suite>
<statistics>
<total>
<stat pass="61" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="2" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="61" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
