rm: cannot remove '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/*': No such file or directory
Executing test in ozonesecure
Removing network ozonesecure_default
Network ozonesecure_default not found.
Creating network "ozonesecure_default" with the default driver
Pulling kdc (apache/ozone-testkrb5:20211102-1)...
20211102-1: Pulling from apache/ozone-testkrb5
Digest: sha256:ab09104242ad43fd09891d06c042ecf2daa0cfca385bfd492daf22083be51dde
Status: Downloaded newer image for apache/ozone-testkrb5:20211102-1
Pulling kms (apache/hadoop:3)...
3: Pulling from apache/hadoop
Digest: sha256:793348d0839a55d27fb9466d4a5f7e058744866f5ab2cb7aa32f541b4810b215
Status: Downloaded newer image for apache/hadoop:3
Pulling datanode (apache/ozone-runner:20230104-1)...
20230104-1: Pulling from apache/ozone-runner
Digest: sha256:bc4c3ecdf9e653e2287e8b99449222807ee6011b520beae9a8874d9b8fc037f3
Status: Downloaded newer image for apache/ozone-runner:20230104-1
Creating ozonesecure_kms_1 ... 
Creating ozonesecure_kdc_1 ... 
Creating ozonesecure_scm_1 ... 
Creating ozonesecure_om_1  ... 
Creating ozonesecure_datanode_1 ... 
Creating ozonesecure_datanode_2 ... 
Creating ozonesecure_datanode_3 ... 
Creating ozonesecure_httpfs_1   ... 
Creating ozonesecure_recon_1    ... 
Creating ozonesecure_s3g_1      ... 
Creating ozonesecure_kdc_1      ... done
Creating ozonesecure_scm_1      ... done
Creating ozonesecure_kms_1      ... done
Creating ozonesecure_datanode_3 ... done
Creating ozonesecure_datanode_1 ... done
Creating ozonesecure_httpfs_1   ... done
Creating ozonesecure_datanode_2 ... done
Creating ozonesecure_recon_1    ... done
Creating ozonesecure_s3g_1      ... done
Creating ozonesecure_om_1       ... done
SECONDS: 80
com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 1 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 2 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 3 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 4 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 5 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 6 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 7 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: java.net.ConnectException: Call From scm/172.18.0.4 to scm:9860 failed on connection exception: java.net.ConnectException: Connection refused; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 8 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdds.ratis.ServerNotLeaderException): Server:2a23ca79-f3c6-4d9e-addc-ede917c55a31 is not the leader. Could not determine the leader node. at org.apache.hadoop.hdds.ratis.ServerNotLeaderException.convertToNotLeaderException(ServerNotLeaderException.java:109) at org.apache.hadoop.hdds.scm.ha.RatisUtil.checkRatisException(RatisUtil.java:246) at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.submitRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:197) at org.apache.hadoop.hdds.protocol.proto.StorageContainerLocationProtocolProtos$StorageContainerLocationProtocolService$2.callBlockingMethod(StorageContainerLocationProtocolProtos.java:64993) at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:465) at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:578) at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:556) at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093) at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1043) at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:971) at java.base/java.security.AccessController.doPrivileged(Native Method) at java.base/javax.security.auth.Subject.doAs(Subject.java:423) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878) at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2976) , while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 9 failover attempts. Trying to failover after sleeping for 2000ms. com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdds.ratis.ServerNotLeaderException): Server:2a23ca79-f3c6-4d9e-addc-ede917c55a31 is not the leader. Could not determine the leader node. at org.apache.hadoop.hdds.ratis.ServerNotLeaderException.convertToNotLeaderException(ServerNotLeaderException.java:109) at org.apache.hadoop.hdds.scm.ha.RatisUtil.checkRatisException(RatisUtil.java:246) at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.submitRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:197) at org.apache.hadoop.hdds.protocol.proto.StorageContainerLocationProtocolProtos$StorageContainerLocationProtocolService$2.callBlockingMethod(StorageContainerLocationProtocolProtos.java:64993) at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:465) at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:578) at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:556) at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093) at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1043) at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:971) at java.base/java.security.AccessController.doPrivileged(Native Method) at java.base/javax.security.auth.Subject.doAs(Subject.java:423) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878) at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2976) , while invoking $Proxy20.submitRequest over nodeId=scmNodeId,nodeAddress=scm/172.18.0.4:9860 after 10 failover attempts. Trying to failover after sleeping for 2000ms. SCM is in safe mode. validated:false, DataNodeSafeModeRule, registered datanodes (=0) >= required datanodes (=3) validated:false, HealthyPipelineSafeModeRule, healthy Ratis/THREE pipelines (=0) >= healthyPipelineThresholdCount (=1) validated:true, ContainerSafeModeRule, % of containers with at least one reported replica (=1.00) >= safeModeCutoff (=0.99) validated:true, AtleastOneDatanodeReportedRule, reported Ratis/THREE pipelines with at least one datanode (=0) >= threshold (=0)
SECONDS: 127
SCM is in safe mode. validated:true, DataNodeSafeModeRule, registered datanodes (=3) >= required datanodes (=3) validated:true, HealthyPipelineSafeModeRule, healthy Ratis/THREE pipelines (=1) >= healthyPipelineThresholdCount (=1) validated:true, ContainerSafeModeRule, % of containers with at least one reported replica (=1.00) >= safeModeCutoff (=0.99) validated:true, AtleastOneDatanodeReportedRule, reported Ratis/THREE pipelines with at least one datanode (=0) >= threshold (=0)
SECONDS: 141
SCM is out of safe mode.
Safe mode is off
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@61386958 has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm.xml
==============================================================================
Basic                                                                         
==============================================================================
Basic.Basic :: Smoketest ozone cluster startup                                
==============================================================================
Check webui static resources                                          | PASS |
------------------------------------------------------------------------------
Basic Freon smoketest                                                 | PASS |
------------------------------------------------------------------------------
Basic.Basic :: Smoketest ozone cluster startup                        | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Basic.Getconf :: Test 'ozone getconf' command                                 
==============================================================================
Get OM                                                                | PASS |
------------------------------------------------------------------------------
Get SCM                                                               | PASS |
------------------------------------------------------------------------------
Get existing config key                                               | PASS |
------------------------------------------------------------------------------
Get undefined config key                                              | PASS |
------------------------------------------------------------------------------
Basic.Getconf :: Test 'ozone getconf' command                         | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Basic.Links :: Test bucket links via Ozone CLI                                
==============================================================================
Link to non-existent bucket                                           | PASS |
------------------------------------------------------------------------------
Key create passthrough                                                | PASS |
------------------------------------------------------------------------------
Key read passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key list passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key delete passthrough                                                | PASS |
------------------------------------------------------------------------------
Bucket list contains links                                            | PASS |
------------------------------------------------------------------------------
Bucket info shows source                                              | PASS |
------------------------------------------------------------------------------
Source and target have separate ACLs                                  | PASS |
------------------------------------------------------------------------------
Buckets and links share namespace                                     | PASS |
------------------------------------------------------------------------------
Can follow link with read access                                      | PASS |
------------------------------------------------------------------------------
Cannot follow link without read access                                | PASS |
------------------------------------------------------------------------------
ACL verified on source bucket                                         | PASS |
------------------------------------------------------------------------------
Loop in link chain is detected                                        | PASS |
------------------------------------------------------------------------------
Multiple links to same bucket are allowed                             | PASS |
------------------------------------------------------------------------------
Source bucket not affected by deleting link                           | PASS |
------------------------------------------------------------------------------
Setting bucket property on link not allowed                           | PASS |
------------------------------------------------------------------------------
Basic.Links :: Test bucket links via Ozone CLI                        | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                        
==============================================================================
Test ozone shell                                                      | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic.Ozone-Shell :: Test ozone shell CLI usage                               
==============================================================================
RpcClient with port                                                   | PASS |
------------------------------------------------------------------------------
RpcClient with execution errors                                       | PASS |
------------------------------------------------------------------------------
RpcClient volume acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient bucket acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient key acls                                                    | PASS |
------------------------------------------------------------------------------
RpcClient prefix acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient without host                                                | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell :: Test ozone shell CLI usage                       | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Basic.Single Node :: Smoketest for one datanode                               
==============================================================================
Basic Freon smoketest for one datanode                                | PASS |
------------------------------------------------------------------------------
Basic.Single Node :: Smoketest for one datanode                       | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic                                                                 | PASS |
31 tests, 31 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-1.xml
==============================================================================
Security                                                                      
==============================================================================
Security.Admin-Cert :: Test for ozone admin cert command                      
==============================================================================
List valid certificates                                               | PASS |
------------------------------------------------------------------------------
List revoked certificates                                             | PASS |
------------------------------------------------------------------------------
Info of the cert                                                      | PASS |
------------------------------------------------------------------------------
Security.Admin-Cert :: Test for ozone admin cert command              | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Bucket-Encryption :: Test for bucket encryption                      
==============================================================================
Create Encrypted Bucket                                               | PASS |
------------------------------------------------------------------------------
Create Key in Encrypted Bucket                                        | PASS |
------------------------------------------------------------------------------
Security.Bucket-Encryption :: Test for bucket encryption              | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docker-compose...
==============================================================================
Create volume bucket with wrong credentials                           | PASS |
------------------------------------------------------------------------------
Create volume with non-admin user                                     | PASS |
------------------------------------------------------------------------------
Create bucket with non-admin owner(testuser2)                         | PASS |
------------------------------------------------------------------------------
Create volume bucket with credentials                                 | PASS |
------------------------------------------------------------------------------
Check volume from ozonefs                                             | PASS |
------------------------------------------------------------------------------
Test Volume Acls                                                      | PASS |
------------------------------------------------------------------------------
Test Bucket Acls                                                      | PASS |
------------------------------------------------------------------------------
Test key Acls                                                         | PASS |
------------------------------------------------------------------------------
Test native authorizer                                                | PASS |
------------------------------------------------------------------------------
Test tmp mount for shared ofs tmp dir                                 | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docke... | PASS |
10 tests, 10 passed, 0 failed
==============================================================================
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docker-compose...
==============================================================================
Secure S3 test Success                                                | PASS |
------------------------------------------------------------------------------
Secure S3 put-object test                                             | PASS |
------------------------------------------------------------------------------
Secure S3 test Failure                                                | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docke... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant commands   
==============================================================================
Create Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Assign User Success with Cluster Admin                                | PASS |
------------------------------------------------------------------------------
Assign User Failure to Non-existent Tenant                            | PASS |
------------------------------------------------------------------------------
GetUserInfo Success                                                   | PASS |
------------------------------------------------------------------------------
GetUserInfo as JSON Success                                           | PASS |
------------------------------------------------------------------------------
Create Bucket 1 Success via S3 API                                    | PASS |
------------------------------------------------------------------------------
Verify Bucket 1 Owner                                                 | PASS |
------------------------------------------------------------------------------
Put, get and delete a key in the tenant bucket                        | PASS |
------------------------------------------------------------------------------
SetSecret Success with Cluster Admin                                  | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 1                                | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 2                                | PASS |
------------------------------------------------------------------------------
GetSecret Success                                                     | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Failure With Old SecretKey via S3 API                 | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Success With Newly Set SecretKey via S3 API           | PASS |
------------------------------------------------------------------------------
Delete Tenant Failure Tenant Not Empty                                | PASS |
------------------------------------------------------------------------------
Trigger and wait for background Sync to recover Policies and Roles... | PASS |
------------------------------------------------------------------------------
Create Tenant Failure with Regular User                               | PASS |
------------------------------------------------------------------------------
SetSecret Failure with Regular User                                   | PASS |
------------------------------------------------------------------------------
Create Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Failure with somesecret2 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Revoke User AccessId Success with Cluster Admin                       | PASS |
------------------------------------------------------------------------------
Create Bucket 3 Failure with Revoked AccessId via S3 API              | PASS |
------------------------------------------------------------------------------
Delete Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Delete Volume Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
List Tenant Expect Empty Result                                       | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant... | PASS |
26 tests, 26 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Token :: Test token operations                          
==============================================================================
Token Test                                                            | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Token :: Test token operations                  | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Security                                                              | PASS |
45 tests, 45 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-2.xml
==============================================================================
ozonefs-ofs-bucket :: Ozone FS tests                                          
==============================================================================
List root                                                             | PASS |
------------------------------------------------------------------------------
List non-existent volume                                              | PASS |
------------------------------------------------------------------------------
List non-existent bucket                                              | PASS |
------------------------------------------------------------------------------
Create dir with parents                                               | PASS |
------------------------------------------------------------------------------
Copy from local                                                       | PASS |
------------------------------------------------------------------------------
Put                                                                   | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses RATIS replication ... | PASS |
------------------------------------------------------------------------------
Put with Streaming                                                    | PASS |
------------------------------------------------------------------------------
List                                                                  | PASS |
------------------------------------------------------------------------------
Move                                                                  | PASS |
------------------------------------------------------------------------------
Copy within FS                                                        | PASS |
------------------------------------------------------------------------------
Cat file                                                              | PASS |
------------------------------------------------------------------------------
Delete file                                                           | PASS |
------------------------------------------------------------------------------
Delete dir                                                            | PASS |
------------------------------------------------------------------------------
Touch file                                                            | PASS |
------------------------------------------------------------------------------
Delete file with Trash                                                | PASS |
------------------------------------------------------------------------------
Delete recursively                                                    | PASS |
------------------------------------------------------------------------------
List recursively                                                      | PASS |
------------------------------------------------------------------------------
Copy to other bucket                                                  | PASS |
------------------------------------------------------------------------------
Copy to other volume                                                  | PASS |
------------------------------------------------------------------------------
List file created via shell                                           | PASS |
------------------------------------------------------------------------------
Reject overwrite existing                                             | PASS |
------------------------------------------------------------------------------
Get file                                                              | PASS |
------------------------------------------------------------------------------
ozonefs-ofs-bucket :: Ozone FS tests                                  | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-3.xml
==============================================================================
ozonefs-o3fs-link :: Ozone FS tests                                           
==============================================================================
List root                                                             | PASS |
------------------------------------------------------------------------------
List non-existent volume                                              | PASS |
------------------------------------------------------------------------------
List non-existent bucket                                              | PASS |
------------------------------------------------------------------------------
Create dir with parents                                               | PASS |
------------------------------------------------------------------------------
Copy from local                                                       | PASS |
------------------------------------------------------------------------------
Put                                                                   | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses RATIS replication ... | PASS |
------------------------------------------------------------------------------
Put with Streaming                                                    | PASS |
------------------------------------------------------------------------------
List                                                                  | PASS |
------------------------------------------------------------------------------
Move                                                                  | PASS |
------------------------------------------------------------------------------
Copy within FS                                                        | PASS |
------------------------------------------------------------------------------
Cat file                                                              | PASS |
------------------------------------------------------------------------------
Delete file                                                           | PASS |
------------------------------------------------------------------------------
Delete dir                                                            | PASS |
------------------------------------------------------------------------------
Touch file                                                            | PASS |
------------------------------------------------------------------------------
Delete file with Trash                                                | PASS |
------------------------------------------------------------------------------
Delete recursively                                                    | PASS |
------------------------------------------------------------------------------
List recursively                                                      | PASS |
------------------------------------------------------------------------------
Copy to other bucket                                                  | PASS |
------------------------------------------------------------------------------
Copy to other volume                                                  | PASS |
------------------------------------------------------------------------------
List file created via shell                                           | PASS |
------------------------------------------------------------------------------
Reject overwrite existing                                             | PASS |
------------------------------------------------------------------------------
Get file                                                              | PASS |
------------------------------------------------------------------------------
ozonefs-o3fs-link :: Ozone FS tests                                   | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-4.xml
==============================================================================
s3-encrypted                                                                  
==============================================================================
s3-encrypted.Awss3 :: S3 gateway test with aws cli                            
==============================================================================
File upload and directory list                                        | PASS |
------------------------------------------------------------------------------
File upload with special chars                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Awss3 :: S3 gateway test with aws cli                    | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client                       
==============================================================================
Boto3 Client Test                                                     | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client               | FAIL |
Suite setup failed:
255 != 0

1 test, 0 passed, 1 failed
==============================================================================
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli                     
==============================================================================
Create new bucket                                                     | PASS |
------------------------------------------------------------------------------
Create bucket which already exists                                    | PASS |
------------------------------------------------------------------------------
Create bucket with invalid bucket name                                | PASS |
------------------------------------------------------------------------------
Create new bucket and check no group ACL                              | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli             | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete existing bucket                                                | PASS |
------------------------------------------------------------------------------
Delete non-existent bucket                                            | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli             | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Buckethead :: S3 gateway test with aws cli                       
==============================================================================
Head Bucket                                                           | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
Head Bucket not existent                                              | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Buckethead :: S3 gateway test with aws cli               | FAIL |
Suite setup failed:
255 != 0

2 tests, 0 passed, 2 failed
==============================================================================
s3-encrypted.Bucketlist :: S3 gateway test with aws cli                       
==============================================================================
List buckets                                                          | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
Get bucket info with Ozone Shell to check the owner field             | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
List buckets with empty access id                                     | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Bucketlist :: S3 gateway test with aws cli               | FAIL |
Suite setup failed:
255 != 0

3 tests, 0 passed, 3 failed
==============================================================================
s3-encrypted.Freon :: S3 gateway test with aws cli                            
==============================================================================
Run Freon S3BG                                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Freon :: S3 gateway test with aws cli                    | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli                  
==============================================================================
Test Multipart Upload With Adjusted Length                            | PASS |
------------------------------------------------------------------------------
Test Multipart Upload                                                 | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete                                        | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Entity too small                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Invalid part errors and complete mp... | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload                                           | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload with invalid uploadId                     | PASS |
------------------------------------------------------------------------------
Upload part with Incorrect uploadID                                   | SKIP |
TODO: HDDS-7811
------------------------------------------------------------------------------
Test list parts                                                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with the simplified aws s3 cp API               | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy                                   | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range                         | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range with IfModifiedSince    | PASS |
------------------------------------------------------------------------------
Test Multipart Upload list                                            | PASS |
------------------------------------------------------------------------------
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli          | PASS |
14 tests, 13 passed, 0 failed, 1 skipped
==============================================================================
s3-encrypted.Objectcopy :: S3 gateway test with aws cli                       
==============================================================================
Copy Object Happy Scenario                                            | PASS |
------------------------------------------------------------------------------
Copy Object Where Bucket is not available                             | PASS |
------------------------------------------------------------------------------
Copy Object Where both source and dest are same with change to sto... | PASS |
------------------------------------------------------------------------------
Copy Object Where Key not available                                   | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectcopy :: S3 gateway test with aws cli               | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
s3-encrypted.Objectdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete file with s3api                                                | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist                            | PASS |
------------------------------------------------------------------------------
Delete dir with s3api                                                 | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist, prefix of a real file     | PASS |
------------------------------------------------------------------------------
Delete file with s3api, bucket doesn't exist                          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectdelete :: S3 gateway test with aws cli             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Objecthead :: S3 gateway test with aws cli                       
==============================================================================
Head existing object                                                  | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
Head object in non existing bucket                                    | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
Head non existing key                                                 | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Objecthead :: S3 gateway test with aws cli               | FAIL |
Suite setup failed:
255 != 0

3 tests, 0 passed, 3 failed
==============================================================================
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli                
==============================================================================
Delete file with multi delete                                         | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli        | FAIL |
Suite setup failed:
255 != 0

1 test, 0 passed, 1 failed
==============================================================================
s3-encrypted.Objectputget :: S3 gateway test with aws cli                     
==============================================================================
Put object to s3                                                      | PASS |
------------------------------------------------------------------------------
Get object from s3                                                    | PASS |
------------------------------------------------------------------------------
Get object with wrong signature                                       | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset              | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(start off... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(end offse... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with only start offset                     | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset which are... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 to get last n bytes                        | PASS |
------------------------------------------------------------------------------
Incorrect values for end and start offset                             | PASS |
------------------------------------------------------------------------------
Zero byte file                                                        | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata                                | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata with gdpr enabled value in ... | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectputget :: S3 gateway test with aws cli             | PASS |
14 tests, 14 passed, 0 failed
==============================================================================
s3-encrypted.Webui :: S3 gateway web ui test                                  
==============================================================================
S3 Gateway Web UI                                                     | FAIL |
Parent suite setup failed:
255 != 0
------------------------------------------------------------------------------
s3-encrypted.Webui :: S3 gateway web ui test                          | FAIL |
Suite setup failed:
255 != 0

1 test, 0 passed, 1 failed
==============================================================================
s3-encrypted                                                          | FAIL |
57 tests, 45 passed, 11 failed, 1 skipped
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-5.xml
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_datanode_1_HddsDatanodeService.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_datanode_2_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_datanode_3_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_om_1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_recon_1_ReconServer.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_s3g_1_Gateway.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure_scm_1_StorageContainerManagerStarter.stack
Stopping ozonesecure_s3g_1      ... 
Stopping ozonesecure_recon_1    ... 
Stopping ozonesecure_om_1       ... 
Stopping ozonesecure_httpfs_1   ... 
Stopping ozonesecure_datanode_3 ... 
Stopping ozonesecure_datanode_2 ... 
Stopping ozonesecure_datanode_1 ... 
Stopping ozonesecure_scm_1      ... 
Stopping ozonesecure_kdc_1      ... 
Stopping ozonesecure_kms_1      ... 
Stopping ozonesecure_kdc_1      ... done
Stopping ozonesecure_kms_1      ... done
Stopping ozonesecure_httpfs_1   ... done
Stopping ozonesecure_s3g_1      ... done
Stopping ozonesecure_om_1       ... done
Stopping ozonesecure_recon_1    ... done
Stopping ozonesecure_datanode_2 ... done
Stopping ozonesecure_datanode_1 ... done
Stopping ozonesecure_datanode_3 ... done
Stopping ozonesecure_scm_1      ... done
Removing ozonesecure_s3g_1      ... 
Removing ozonesecure_recon_1    ... 
Removing ozonesecure_om_1       ... 
Removing ozonesecure_httpfs_1   ... 
Removing ozonesecure_datanode_3 ... 
Removing ozonesecure_datanode_2 ... 
Removing ozonesecure_datanode_1 ... 
Removing ozonesecure_scm_1      ... 
Removing ozonesecure_kdc_1      ... 
Removing ozonesecure_kms_1      ... 
Removing ozonesecure_om_1       ... done
Removing ozonesecure_s3g_1      ... done
Removing ozonesecure_datanode_3 ... done
Removing ozonesecure_httpfs_1   ... done
Removing ozonesecure_kdc_1      ... done
Removing ozonesecure_recon_1    ... done
Removing ozonesecure_kms_1      ... done
Removing ozonesecure_scm_1      ... done
Removing ozonesecure_datanode_1 ... done
Removing ozonesecure_datanode_2 ... done
Removing network ozonesecure_default
ERROR: Test execution of ozonesecure is FAILED!!!!
Output:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure.xml
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-1.xml'
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-2.xml'
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-3.xml'
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-4.xml'
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm-5.xml'
removed 'ozonesecure/result/robot-ozonesecure-ozonesecure-kinit-scm.xml'
renamed 'ozonesecure/result/dn-audit-b38a3ed3ba9c.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/dn-audit-b38a3ed3ba9c.log'
renamed 'ozonesecure/result/dn-audit-ba1460bb465d.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/dn-audit-ba1460bb465d.log'
renamed 'ozonesecure/result/dn-audit-da46b201da8e.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/dn-audit-da46b201da8e.log'
renamed 'ozonesecure/result/docker-ozonesecure-ozonesecure-kinit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-ozonesecure-kinit-scm.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/om-audit-om.log'
renamed 'ozonesecure/result/ozonesecure_datanode_1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_datanode_1_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure_datanode_2_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_datanode_2_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure_datanode_3_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_datanode_3_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure_om_1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_om_1_OzoneManagerStarter.stack'
renamed 'ozonesecure/result/ozonesecure_recon_1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_recon_1_ReconServer.stack'
renamed 'ozonesecure/result/ozonesecure_s3g_1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_s3g_1_Gateway.stack'
renamed 'ozonesecure/result/ozonesecure_scm_1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/ozonesecure_scm_1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/ozonesecure/scm-audit-scm.log'
Exception in thread "main" java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:474)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at org.apache.hadoop.test.JacocoServer.main(JacocoServer.java:60)
Log:     /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/log.html
Report:  /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-1.4.0-SNAPSHOT/compose/result/report.html
