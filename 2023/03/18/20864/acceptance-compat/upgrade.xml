<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.0.2 (Python 3.8.10 on linux)" generated="20230318 09:26:26.230" rpa="false" schemaversion="3">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:14:58.427" level="INFO">${random} = 59251</msg>
<status status="PASS" starttime="20230318 09:14:58.426" endtime="20230318 09:14:58.427"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:58.432" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-59251 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:02.113" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:02.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:58.428" endtime="20230318 09:15:02.113"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:02.114" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:02.114" endtime="20230318 09:15:02.115"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:02.115" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:02.115" endtime="20230318 09:15:02.116"/>
</kw>
<status status="PASS" starttime="20230318 09:14:58.428" endtime="20230318 09:15:02.116"/>
</kw>
<msg timestamp="20230318 09:15:02.116" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:58.428" endtime="20230318 09:15:02.117"/>
</kw>
<msg timestamp="20230318 09:15:02.117" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:58.427" endtime="20230318 09:15:02.117"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:02.118" endtime="20230318 09:15:02.118"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:02.122" level="INFO">Running command 'cat /tmp/key-59251 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:02.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:02.124" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:02.119" endtime="20230318 09:15:02.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:02.128" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:02.126" endtime="20230318 09:15:02.128"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:02.129" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:02.128" endtime="20230318 09:15:02.129"/>
</kw>
<msg timestamp="20230318 09:15:02.129" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:02.118" endtime="20230318 09:15:02.129"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:02.129" endtime="20230318 09:15:02.130"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:02.133" level="INFO">Running command 'rm /tmp/key-59251 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:02.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:02.135" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:02.130" endtime="20230318 09:15:02.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:02.136" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:02.136" endtime="20230318 09:15:02.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:02.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:02.136" endtime="20230318 09:15:02.137"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.130" endtime="20230318 09:15:02.137"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:58.425" endtime="20230318 09:15:02.137"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:02.142" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:02.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:02.434" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:02.141" endtime="20230318 09:15:02.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:02.435" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:02.435" endtime="20230318 09:15:02.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:02.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:02.436" endtime="20230318 09:15:02.436"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.140" endtime="20230318 09:15:02.437"/>
</kw>
<msg timestamp="20230318 09:15:02.437" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:15:02.140" endtime="20230318 09:15:02.437"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.140" endtime="20230318 09:15:02.437"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:02.441" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:02.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:02.727" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:02.439" endtime="20230318 09:15:02.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:02.728" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:02.728" endtime="20230318 09:15:02.728"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:02.729" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:02.728" endtime="20230318 09:15:02.729"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.438" endtime="20230318 09:15:02.729"/>
</kw>
<msg timestamp="20230318 09:15:02.729" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:15:02.438" endtime="20230318 09:15:02.730"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.437" endtime="20230318 09:15:02.730"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:02.733" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:03.024" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:03.024" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:02.731" endtime="20230318 09:15:03.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:03.025" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:03.024" endtime="20230318 09:15:03.025"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:03.026" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:03.025" endtime="20230318 09:15:03.026"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.731" endtime="20230318 09:15:03.026"/>
</kw>
<msg timestamp="20230318 09:15:03.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:15:02.731" endtime="20230318 09:15:03.026"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.730" endtime="20230318 09:15:03.027"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:03.030" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:03.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:03.331" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:03.028" endtime="20230318 09:15:03.331"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:03.332" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:03.331" endtime="20230318 09:15:03.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:03.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:03.332" endtime="20230318 09:15:03.333"/>
</kw>
<status status="PASS" starttime="20230318 09:15:03.027" endtime="20230318 09:15:03.333"/>
</kw>
<msg timestamp="20230318 09:15:03.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:15:03.027" endtime="20230318 09:15:03.333"/>
</kw>
<status status="PASS" starttime="20230318 09:15:03.027" endtime="20230318 09:15:03.334"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.139" endtime="20230318 09:15:03.334"/>
</kw>
<status status="PASS" starttime="20230318 09:15:02.139" endtime="20230318 09:15:03.334"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:15:02.138" endtime="20230318 09:15:03.334"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:03.339" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:03.943" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:03.943" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.337" endtime="20230318 09:15:03.943"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:03.944" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:15:03 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:15:03.943" endtime="20230318 09:15:03.944"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:03.945" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:03.944" endtime="20230318 09:15:03.945"/>
</kw>
<msg timestamp="20230318 09:15:03.945" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.336" endtime="20230318 09:15:03.945"/>
</kw>
<msg timestamp="20230318 09:15:03.945" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.336" endtime="20230318 09:15:03.945"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:03.946" endtime="20230318 09:15:03.946"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:03.949" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:03.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:03.951" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:03.947" endtime="20230318 09:15:03.951"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:03.952" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:03.951" endtime="20230318 09:15:03.952"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:03.953" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:03.952" endtime="20230318 09:15:03.953"/>
</kw>
<msg timestamp="20230318 09:15:03.953" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:15:03.946" endtime="20230318 09:15:03.953"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:03.953" endtime="20230318 09:15:03.954"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:03.957" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:03.959" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:03.959" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:03.954" endtime="20230318 09:15:03.959"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:03.960" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:03.959" endtime="20230318 09:15:03.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:03.961" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:03.960" endtime="20230318 09:15:03.961"/>
</kw>
<status status="PASS" starttime="20230318 09:15:03.954" endtime="20230318 09:15:03.961"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:15:03.335" endtime="20230318 09:15:03.961"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:03.966" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:04.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:04.467" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.964" endtime="20230318 09:15:04.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:04.468" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:15:04 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:15:04.468" endtime="20230318 09:15:04.469"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:04.469" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:04.469" endtime="20230318 09:15:04.469"/>
</kw>
<msg timestamp="20230318 09:15:04.470" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.963" endtime="20230318 09:15:04.470"/>
</kw>
<msg timestamp="20230318 09:15:04.470" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:15:0...</msg>
<status status="PASS" starttime="20230318 09:15:03.963" endtime="20230318 09:15:04.470"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:04.470" endtime="20230318 09:15:04.470"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:04.473" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:04.475" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:04.475" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:15:04.471" endtime="20230318 09:15:04.475"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:04.477" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:15:04.476" endtime="20230318 09:15:04.477"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:04.477" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:04.477" endtime="20230318 09:15:04.477"/>
</kw>
<msg timestamp="20230318 09:15:04.478" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:15:04.471" endtime="20230318 09:15:04.478"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:15:04.478" endtime="20230318 09:15:04.478"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:15:04.481" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:15:04.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:15:04.483" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:15:04.479" endtime="20230318 09:15:04.483"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:15:04.484" level="INFO"/>
<status status="PASS" starttime="20230318 09:15:04.484" endtime="20230318 09:15:04.484"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:15:04.485" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:15:04.485" endtime="20230318 09:15:04.485"/>
</kw>
<status status="PASS" starttime="20230318 09:15:04.479" endtime="20230318 09:15:04.485"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:15:03.962" endtime="20230318 09:15:04.485"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:14:58.351" endtime="20230318 09:15:04.487"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:20:10.174" level="INFO">${random} = 19253</msg>
<status status="PASS" starttime="20230318 09:20:10.173" endtime="20230318 09:20:10.174"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:10.179" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-19253 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:13.901" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:13.901" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:10.176" endtime="20230318 09:20:13.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:13.902" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:13.902" endtime="20230318 09:20:13.903"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:13.903" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:13.903" endtime="20230318 09:20:13.903"/>
</kw>
<status status="PASS" starttime="20230318 09:20:10.175" endtime="20230318 09:20:13.903"/>
</kw>
<msg timestamp="20230318 09:20:13.904" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:10.175" endtime="20230318 09:20:13.905"/>
</kw>
<msg timestamp="20230318 09:20:13.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:10.174" endtime="20230318 09:20:13.905"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:13.905" endtime="20230318 09:20:13.906"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:13.908" level="INFO">Running command 'cat /tmp/key-19253 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:13.911" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:13.911" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:13.906" endtime="20230318 09:20:13.911"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:13.912" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:13.911" endtime="20230318 09:20:13.912"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:13.912" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:13.912" endtime="20230318 09:20:13.913"/>
</kw>
<msg timestamp="20230318 09:20:13.913" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:13.906" endtime="20230318 09:20:13.913"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:13.913" endtime="20230318 09:20:13.913"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:13.916" level="INFO">Running command 'rm /tmp/key-19253 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:13.918" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:13.918" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:13.914" endtime="20230318 09:20:13.918"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:13.919" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:13.918" endtime="20230318 09:20:13.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:13.920" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:13.919" endtime="20230318 09:20:13.920"/>
</kw>
<status status="PASS" starttime="20230318 09:20:13.914" endtime="20230318 09:20:13.920"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:10.173" endtime="20230318 09:20:13.920"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:13.925" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:14.208" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:14.208" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:13.924" endtime="20230318 09:20:14.208"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:14.209" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:14.209" endtime="20230318 09:20:14.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:14.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:14.210" endtime="20230318 09:20:14.210"/>
</kw>
<status status="PASS" starttime="20230318 09:20:13.923" endtime="20230318 09:20:14.210"/>
</kw>
<msg timestamp="20230318 09:20:14.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:13.923" endtime="20230318 09:20:14.211"/>
</kw>
<status status="PASS" starttime="20230318 09:20:13.922" endtime="20230318 09:20:14.211"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:14.214" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:14.495" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:14.495" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:14.212" endtime="20230318 09:20:14.495"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:14.496" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:14.495" endtime="20230318 09:20:14.496"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:14.496" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:14.496" endtime="20230318 09:20:14.497"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.212" endtime="20230318 09:20:14.497"/>
</kw>
<msg timestamp="20230318 09:20:14.497" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:14.212" endtime="20230318 09:20:14.497"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.211" endtime="20230318 09:20:14.498"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:14.501" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:14.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:14.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:14.499" endtime="20230318 09:20:14.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:14.788" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:14.787" endtime="20230318 09:20:14.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:14.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:14.788" endtime="20230318 09:20:14.788"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.498" endtime="20230318 09:20:14.789"/>
</kw>
<msg timestamp="20230318 09:20:14.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:14.498" endtime="20230318 09:20:14.789"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.498" endtime="20230318 09:20:14.790"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:14.793" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:15.077" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:15.077" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:14.791" endtime="20230318 09:20:15.077"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:15.078" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:15.078" endtime="20230318 09:20:15.079"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:15.079" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:15.079" endtime="20230318 09:20:15.079"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.790" endtime="20230318 09:20:15.079"/>
</kw>
<msg timestamp="20230318 09:20:15.079" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:14.790" endtime="20230318 09:20:15.080"/>
</kw>
<status status="PASS" starttime="20230318 09:20:14.790" endtime="20230318 09:20:15.080"/>
</kw>
<status status="PASS" starttime="20230318 09:20:13.922" endtime="20230318 09:20:15.080"/>
</kw>
<status status="PASS" starttime="20230318 09:20:13.922" endtime="20230318 09:20:15.080"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:13.921" endtime="20230318 09:20:15.081"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:15.086" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:15.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:15.569" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.083" endtime="20230318 09:20:15.569"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:15.570" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:15 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:15.569" endtime="20230318 09:20:15.570"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:15.571" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:15.570" endtime="20230318 09:20:15.571"/>
</kw>
<msg timestamp="20230318 09:20:15.571" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.083" endtime="20230318 09:20:15.571"/>
</kw>
<msg timestamp="20230318 09:20:15.571" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.082" endtime="20230318 09:20:15.571"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:15.572" endtime="20230318 09:20:15.572"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:15.575" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:15.577" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:15.577" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:15.573" endtime="20230318 09:20:15.577"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:15.578" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:15.577" endtime="20230318 09:20:15.578"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:15.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:15.578" endtime="20230318 09:20:15.579"/>
</kw>
<msg timestamp="20230318 09:20:15.579" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:15.572" endtime="20230318 09:20:15.579"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:15.579" endtime="20230318 09:20:15.580"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:15.584" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:15.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:15.586" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:15.580" endtime="20230318 09:20:15.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:15.587" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:15.586" endtime="20230318 09:20:15.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:15.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:15.587" endtime="20230318 09:20:15.588"/>
</kw>
<status status="PASS" starttime="20230318 09:20:15.580" endtime="20230318 09:20:15.588"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:15.081" endtime="20230318 09:20:15.588"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:15.593" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:16.077" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:16.077" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.591" endtime="20230318 09:20:16.077"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:16.078" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:15 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:16.078" endtime="20230318 09:20:16.079"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:16.079" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:16.079" endtime="20230318 09:20:16.079"/>
</kw>
<msg timestamp="20230318 09:20:16.080" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.591" endtime="20230318 09:20:16.080"/>
</kw>
<msg timestamp="20230318 09:20:16.080" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:1...</msg>
<status status="PASS" starttime="20230318 09:20:15.590" endtime="20230318 09:20:16.080"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:16.080" endtime="20230318 09:20:16.080"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:16.083" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:16.086" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:16.086" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:16.081" endtime="20230318 09:20:16.086"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:16.087" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:16.086" endtime="20230318 09:20:16.087"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:16.087" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:16.087" endtime="20230318 09:20:16.087"/>
</kw>
<msg timestamp="20230318 09:20:16.088" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:16.081" endtime="20230318 09:20:16.088"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:16.088" endtime="20230318 09:20:16.088"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:16.093" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:16.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:16.094" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:16.089" endtime="20230318 09:20:16.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:16.096" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:16.094" endtime="20230318 09:20:16.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:16.096" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:16.096" endtime="20230318 09:20:16.096"/>
</kw>
<status status="PASS" starttime="20230318 09:20:16.089" endtime="20230318 09:20:16.097"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:15.589" endtime="20230318 09:20:16.097"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:20:10.102" endtime="20230318 09:20:16.098"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:19.613" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:21.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:21.727" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:19.609" endtime="20230318 09:20:21.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:21.729" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:21.728" endtime="20230318 09:20:21.729"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:21.729" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:21.729" endtime="20230318 09:20:21.730"/>
</kw>
<status status="PASS" starttime="20230318 09:20:19.609" endtime="20230318 09:20:21.730"/>
</kw>
<msg timestamp="20230318 09:20:21.730" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:19.608" endtime="20230318 09:20:21.731"/>
</kw>
<msg timestamp="20230318 09:20:21.732" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:19.608" endtime="20230318 09:20:21.732"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:21.732" endtime="20230318 09:20:21.732"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:21.742" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:24.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:24.082" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:21.734" endtime="20230318 09:20:24.082"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:24.083" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:24.082" endtime="20230318 09:20:24.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:24.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:24.083" endtime="20230318 09:20:24.084"/>
</kw>
<status status="PASS" starttime="20230318 09:20:21.733" endtime="20230318 09:20:24.084"/>
</kw>
<msg timestamp="20230318 09:20:24.085" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:21.733" endtime="20230318 09:20:24.085"/>
</kw>
<msg timestamp="20230318 09:20:24.085" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:21.732" endtime="20230318 09:20:24.085"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:24.085" endtime="20230318 09:20:24.086"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:19.607" endtime="20230318 09:20:24.086"/>
</test>
<test id="s1-s3-t2" name="Create key">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:24.090" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:20:24.091" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:24.091" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:24.088" endtime="20230318 09:20:24.091"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:24.092" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:24.092" endtime="20230318 09:20:24.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:24.093" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:24.093" endtime="20230318 09:20:24.093"/>
</kw>
<status status="PASS" starttime="20230318 09:20:24.087" endtime="20230318 09:20:24.093"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:24.097" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:28.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:28.241" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:24.095" endtime="20230318 09:20:28.241"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:28.242" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:28.241" endtime="20230318 09:20:28.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:28.242" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:28.242" endtime="20230318 09:20:28.243"/>
</kw>
<status status="PASS" starttime="20230318 09:20:24.094" endtime="20230318 09:20:28.243"/>
</kw>
<msg timestamp="20230318 09:20:28.243" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:24.094" endtime="20230318 09:20:28.244"/>
</kw>
<msg timestamp="20230318 09:20:28.244" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:24.094" endtime="20230318 09:20:28.244"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:28.244" endtime="20230318 09:20:28.244"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:28.249" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:28.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:28.251" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:28.247" endtime="20230318 09:20:28.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:28.252" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:28.251" endtime="20230318 09:20:28.252"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:28.253" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:28.252" endtime="20230318 09:20:28.253"/>
</kw>
<status status="PASS" starttime="20230318 09:20:28.245" endtime="20230318 09:20:28.253"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:24.087" endtime="20230318 09:20:28.253"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:28.261" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:30.814" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:30.815" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:28.259" endtime="20230318 09:20:30.815"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:30.816" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:30.815" endtime="20230318 09:20:30.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:30.816" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:30.816" endtime="20230318 09:20:30.817"/>
</kw>
<status status="PASS" starttime="20230318 09:20:28.258" endtime="20230318 09:20:30.817"/>
</kw>
<msg timestamp="20230318 09:20:30.817" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:28.258" endtime="20230318 09:20:30.817"/>
</kw>
<msg timestamp="20230318 09:20:30.818" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:28.257" endtime="20230318 09:20:30.818"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:30.818" endtime="20230318 09:20:30.818"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:28.257" endtime="20230318 09:20:30.818"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:30.822" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:20:30.824" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:30.824" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:30.820" endtime="20230318 09:20:30.825"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:30.825" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:30.825" endtime="20230318 09:20:30.826"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:30.826" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:30.826" endtime="20230318 09:20:30.826"/>
</kw>
<status status="PASS" starttime="20230318 09:20:30.820" endtime="20230318 09:20:30.826"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:30.830" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:34.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:34.816" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:30.828" endtime="20230318 09:20:34.816"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:34.817" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:34.817" endtime="20230318 09:20:34.817"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:34.818" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:34.818" endtime="20230318 09:20:34.818"/>
</kw>
<status status="PASS" starttime="20230318 09:20:30.827" endtime="20230318 09:20:34.818"/>
</kw>
<msg timestamp="20230318 09:20:34.818" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:30.827" endtime="20230318 09:20:34.819"/>
</kw>
<msg timestamp="20230318 09:20:34.819" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:30.827" endtime="20230318 09:20:34.819"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:34.819" endtime="20230318 09:20:34.820"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:34.822" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:34.825" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:34.825" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:34.820" endtime="20230318 09:20:34.825"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:34.826" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:34.826" endtime="20230318 09:20:34.826"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:34.827" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:34.826" endtime="20230318 09:20:34.827"/>
</kw>
<status status="PASS" starttime="20230318 09:20:34.820" endtime="20230318 09:20:34.827"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:30.819" endtime="20230318 09:20:34.827"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:34.832" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:35.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:35.125" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:34.830" endtime="20230318 09:20:35.125"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:35.126" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:35.125" endtime="20230318 09:20:35.126"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:35.127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:35.126" endtime="20230318 09:20:35.127"/>
</kw>
<status status="PASS" starttime="20230318 09:20:34.830" endtime="20230318 09:20:35.127"/>
</kw>
<msg timestamp="20230318 09:20:35.127" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:34.830" endtime="20230318 09:20:35.128"/>
</kw>
<status status="PASS" starttime="20230318 09:20:34.829" endtime="20230318 09:20:35.128"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:35.131" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:35.445" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:35.445" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:35.129" endtime="20230318 09:20:35.445"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:35.446" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:35.446" endtime="20230318 09:20:35.446"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:35.447" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:35.447" endtime="20230318 09:20:35.447"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.129" endtime="20230318 09:20:35.447"/>
</kw>
<msg timestamp="20230318 09:20:35.447" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:35.129" endtime="20230318 09:20:35.448"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.128" endtime="20230318 09:20:35.448"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:35.452" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:35.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:35.734" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:35.450" endtime="20230318 09:20:35.734"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:35.735" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:35.735" endtime="20230318 09:20:35.735"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:35.736" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:35.735" endtime="20230318 09:20:35.736"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.449" endtime="20230318 09:20:35.736"/>
</kw>
<msg timestamp="20230318 09:20:35.736" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:35.449" endtime="20230318 09:20:35.737"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.448" endtime="20230318 09:20:35.737"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:35.741" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:36.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:36.029" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:35.739" endtime="20230318 09:20:36.029"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:36.030" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:36.029" endtime="20230318 09:20:36.030"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:36.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:36.030" endtime="20230318 09:20:36.031"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.738" endtime="20230318 09:20:36.031"/>
</kw>
<msg timestamp="20230318 09:20:36.031" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:35.738" endtime="20230318 09:20:36.032"/>
</kw>
<status status="PASS" starttime="20230318 09:20:35.737" endtime="20230318 09:20:36.032"/>
</kw>
<status status="PASS" starttime="20230318 09:20:34.829" endtime="20230318 09:20:36.032"/>
</kw>
<status status="PASS" starttime="20230318 09:20:34.829" endtime="20230318 09:20:36.032"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:34.828" endtime="20230318 09:20:36.032"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:36.038" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:36.501" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:36.501" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:36.036" endtime="20230318 09:20:36.501"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:36.502" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:36.502" endtime="20230318 09:20:36.502"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:36.503" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:36.503" endtime="20230318 09:20:36.503"/>
</kw>
<status status="PASS" starttime="20230318 09:20:36.036" endtime="20230318 09:20:36.503"/>
</kw>
<msg timestamp="20230318 09:20:36.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:36.035" endtime="20230318 09:20:36.504"/>
</kw>
<msg timestamp="20230318 09:20:36.504" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:36.035" endtime="20230318 09:20:36.504"/>
</kw>
<msg timestamp="20230318 09:20:36.505" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:36.034" endtime="20230318 09:20:36.505"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:36.505" endtime="20230318 09:20:36.505"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:36.505" endtime="20230318 09:20:36.506"/>
</kw>
<msg timestamp="20230318 09:20:36.506" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:20:36.034" endtime="20230318 09:20:36.506"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:20:36.506" endtime="20230318 09:20:36.506"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:36.033" endtime="20230318 09:20:36.507"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:36.511" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:20:36.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:36.512" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:36.509" endtime="20230318 09:20:36.512"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:36.513" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:36.513" endtime="20230318 09:20:36.513"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:36.514" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:36.513" endtime="20230318 09:20:36.514"/>
</kw>
<status status="PASS" starttime="20230318 09:20:36.508" endtime="20230318 09:20:36.514"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:36.518" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:37.312" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:37.312" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:36.516" endtime="20230318 09:20:37.312"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:37.313" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:37.312" endtime="20230318 09:20:37.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:37.314" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:37.313" endtime="20230318 09:20:37.314"/>
</kw>
<msg timestamp="20230318 09:20:37.314" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:36.515" endtime="20230318 09:20:37.314"/>
</kw>
<msg timestamp="20230318 09:20:37.315" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:36.514" endtime="20230318 09:20:37.315"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:37.315" endtime="20230318 09:20:37.315"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:37.318" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:37.320" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:37.320" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:37.316" endtime="20230318 09:20:37.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:37.321" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:37.321" endtime="20230318 09:20:37.321"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:37.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:37.322" endtime="20230318 09:20:37.322"/>
</kw>
<status status="PASS" starttime="20230318 09:20:37.315" endtime="20230318 09:20:37.322"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:36.507" endtime="20230318 09:20:37.322"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:20:19.539" endtime="20230318 09:20:37.324"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:20:40.884" level="INFO">${random} = 52743</msg>
<status status="PASS" starttime="20230318 09:20:40.884" endtime="20230318 09:20:40.884"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:40.889" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-52743 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:44.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:44.588" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:40.886" endtime="20230318 09:20:44.588"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:44.589" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:44.588" endtime="20230318 09:20:44.589"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:44.590" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:44.589" endtime="20230318 09:20:44.590"/>
</kw>
<status status="PASS" starttime="20230318 09:20:40.885" endtime="20230318 09:20:44.590"/>
</kw>
<msg timestamp="20230318 09:20:44.590" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:40.885" endtime="20230318 09:20:44.592"/>
</kw>
<msg timestamp="20230318 09:20:44.592" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:40.884" endtime="20230318 09:20:44.592"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:44.592" endtime="20230318 09:20:44.592"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:44.595" level="INFO">Running command 'cat /tmp/key-52743 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:44.597" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:44.597" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:44.593" endtime="20230318 09:20:44.597"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:44.598" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:44.598" endtime="20230318 09:20:44.598"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:44.599" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:44.599" endtime="20230318 09:20:44.599"/>
</kw>
<msg timestamp="20230318 09:20:44.599" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:44.593" endtime="20230318 09:20:44.599"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:44.600" endtime="20230318 09:20:44.600"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:44.602" level="INFO">Running command 'rm /tmp/key-52743 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:44.605" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:44.605" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:44.601" endtime="20230318 09:20:44.605"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:44.606" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:44.605" endtime="20230318 09:20:44.606"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:44.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:44.606" endtime="20230318 09:20:44.606"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.600" endtime="20230318 09:20:44.607"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:40.883" endtime="20230318 09:20:44.607"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:44.612" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:44.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:44.898" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:44.611" endtime="20230318 09:20:44.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:44.900" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:44.899" endtime="20230318 09:20:44.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:44.900" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:44.900" endtime="20230318 09:20:44.900"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.610" endtime="20230318 09:20:44.901"/>
</kw>
<msg timestamp="20230318 09:20:44.901" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:44.610" endtime="20230318 09:20:44.901"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.610" endtime="20230318 09:20:44.902"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:44.905" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:45.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:45.191" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:44.903" endtime="20230318 09:20:45.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:45.192" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:45.192" endtime="20230318 09:20:45.192"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:45.193" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:45.193" endtime="20230318 09:20:45.193"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.902" endtime="20230318 09:20:45.193"/>
</kw>
<msg timestamp="20230318 09:20:45.193" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:44.902" endtime="20230318 09:20:45.194"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.902" endtime="20230318 09:20:45.194"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:45.197" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:45.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:45.488" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:45.195" endtime="20230318 09:20:45.488"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:45.489" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:45.489" endtime="20230318 09:20:45.489"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:45.490" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:45.490" endtime="20230318 09:20:45.490"/>
</kw>
<status status="PASS" starttime="20230318 09:20:45.195" endtime="20230318 09:20:45.490"/>
</kw>
<msg timestamp="20230318 09:20:45.490" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:45.195" endtime="20230318 09:20:45.491"/>
</kw>
<status status="PASS" starttime="20230318 09:20:45.194" endtime="20230318 09:20:45.491"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:45.495" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:45.780" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:45.780" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:45.492" endtime="20230318 09:20:45.780"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:45.781" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:45.781" endtime="20230318 09:20:45.781"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:45.782" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:45.782" endtime="20230318 09:20:45.782"/>
</kw>
<status status="PASS" starttime="20230318 09:20:45.492" endtime="20230318 09:20:45.782"/>
</kw>
<msg timestamp="20230318 09:20:45.782" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:45.492" endtime="20230318 09:20:45.783"/>
</kw>
<status status="PASS" starttime="20230318 09:20:45.491" endtime="20230318 09:20:45.783"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.609" endtime="20230318 09:20:45.783"/>
</kw>
<status status="PASS" starttime="20230318 09:20:44.609" endtime="20230318 09:20:45.783"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:44.608" endtime="20230318 09:20:45.784"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:45.788" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.242" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.242" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:45.786" endtime="20230318 09:20:46.242"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.243" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:46 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:46.242" endtime="20230318 09:20:46.243"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.244" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.243" endtime="20230318 09:20:46.244"/>
</kw>
<msg timestamp="20230318 09:20:46.244" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:45.786" endtime="20230318 09:20:46.244"/>
</kw>
<msg timestamp="20230318 09:20:46.245" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:45.785" endtime="20230318 09:20:46.245"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:46.245" endtime="20230318 09:20:46.245"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:46.248" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.250" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.250" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:46.246" endtime="20230318 09:20:46.250"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.251" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:46.250" endtime="20230318 09:20:46.251"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.252" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.251" endtime="20230318 09:20:46.252"/>
</kw>
<msg timestamp="20230318 09:20:46.252" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:46.245" endtime="20230318 09:20:46.252"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:46.252" endtime="20230318 09:20:46.253"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:46.255" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.257" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.257" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:46.253" endtime="20230318 09:20:46.257"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.258" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:46.258" endtime="20230318 09:20:46.258"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.259" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.258" endtime="20230318 09:20:46.259"/>
</kw>
<status status="PASS" starttime="20230318 09:20:46.253" endtime="20230318 09:20:46.259"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:45.784" endtime="20230318 09:20:46.259"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:46.264" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.730" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:46.262" endtime="20230318 09:20:46.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.732" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:46 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:46.731" endtime="20230318 09:20:46.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.732" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.732" endtime="20230318 09:20:46.732"/>
</kw>
<msg timestamp="20230318 09:20:46.733" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:46.262" endtime="20230318 09:20:46.733"/>
</kw>
<msg timestamp="20230318 09:20:46.733" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:4...</msg>
<status status="PASS" starttime="20230318 09:20:46.261" endtime="20230318 09:20:46.733"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:46.733" endtime="20230318 09:20:46.734"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:46.737" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.739" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:46.735" endtime="20230318 09:20:46.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.740" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:46.739" endtime="20230318 09:20:46.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.740" endtime="20230318 09:20:46.741"/>
</kw>
<msg timestamp="20230318 09:20:46.741" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:46.734" endtime="20230318 09:20:46.741"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:46.741" endtime="20230318 09:20:46.742"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:46.744" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:46.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:46.746" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:46.742" endtime="20230318 09:20:46.746"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:46.747" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:46.746" endtime="20230318 09:20:46.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:46.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:46.747" endtime="20230318 09:20:46.748"/>
</kw>
<status status="PASS" starttime="20230318 09:20:46.742" endtime="20230318 09:20:46.748"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:46.260" endtime="20230318 09:20:46.748"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:20:40.814" endtime="20230318 09:20:46.749"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:50.256" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:20:50.258" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:50.258" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:50.253" endtime="20230318 09:20:50.258"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:50.259" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:50.259" endtime="20230318 09:20:50.259"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:50.260" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:50.259" endtime="20230318 09:20:50.260"/>
</kw>
<status status="PASS" starttime="20230318 09:20:50.252" endtime="20230318 09:20:50.260"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:50.264" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:54.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:54.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:50.262" endtime="20230318 09:20:54.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:54.292" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:54.291" endtime="20230318 09:20:54.292"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:54.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:54.292" endtime="20230318 09:20:54.293"/>
</kw>
<status status="PASS" starttime="20230318 09:20:50.261" endtime="20230318 09:20:54.293"/>
</kw>
<msg timestamp="20230318 09:20:54.293" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:50.261" endtime="20230318 09:20:54.294"/>
</kw>
<msg timestamp="20230318 09:20:54.295" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:50.260" endtime="20230318 09:20:54.295"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:54.295" endtime="20230318 09:20:54.295"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:54.298" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:54.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:54.301" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:54.296" endtime="20230318 09:20:54.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:54.302" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:54.301" endtime="20230318 09:20:54.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:54.302" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:54.302" endtime="20230318 09:20:54.302"/>
</kw>
<status status="PASS" starttime="20230318 09:20:54.295" endtime="20230318 09:20:54.303"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:50.251" endtime="20230318 09:20:54.303"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:54.307" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:20:54.308" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:54.308" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:54.305" endtime="20230318 09:20:54.308"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:54.309" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:54.308" endtime="20230318 09:20:54.309"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:54.310" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:54.309" endtime="20230318 09:20:54.310"/>
</kw>
<status status="PASS" starttime="20230318 09:20:54.304" endtime="20230318 09:20:54.310"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:54.313" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:58.420" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:58.420" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:54.312" endtime="20230318 09:20:58.420"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:58.422" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:58.421" endtime="20230318 09:20:58.422"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:58.422" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:58.422" endtime="20230318 09:20:58.422"/>
</kw>
<status status="PASS" starttime="20230318 09:20:54.311" endtime="20230318 09:20:58.423"/>
</kw>
<msg timestamp="20230318 09:20:58.423" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:54.311" endtime="20230318 09:20:58.423"/>
</kw>
<msg timestamp="20230318 09:20:58.423" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:54.310" endtime="20230318 09:20:58.423"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:58.424" endtime="20230318 09:20:58.424"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:58.427" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:58.429" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:58.430" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:58.424" endtime="20230318 09:20:58.430"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:58.431" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:58.430" endtime="20230318 09:20:58.431"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:58.431" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:58.431" endtime="20230318 09:20:58.431"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.424" endtime="20230318 09:20:58.431"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:54.303" endtime="20230318 09:20:58.432"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:58.438" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:58.731" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:58.731" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:58.436" endtime="20230318 09:20:58.731"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:58.732" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:58.732" endtime="20230318 09:20:58.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:58.733" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:58.733" endtime="20230318 09:20:58.733"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.435" endtime="20230318 09:20:58.733"/>
</kw>
<msg timestamp="20230318 09:20:58.733" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:58.435" endtime="20230318 09:20:58.734"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.435" endtime="20230318 09:20:58.734"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:58.738" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:59.024" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:59.024" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:58.736" endtime="20230318 09:20:59.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:59.025" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:59.024" endtime="20230318 09:20:59.025"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:59.025" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:59.025" endtime="20230318 09:20:59.026"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.735" endtime="20230318 09:20:59.026"/>
</kw>
<msg timestamp="20230318 09:20:59.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:58.735" endtime="20230318 09:20:59.026"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.734" endtime="20230318 09:20:59.027"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:59.030" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:59.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:59.319" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:59.028" endtime="20230318 09:20:59.319"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:59.320" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:59.319" endtime="20230318 09:20:59.320"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:59.321" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:59.320" endtime="20230318 09:20:59.321"/>
</kw>
<status status="PASS" starttime="20230318 09:20:59.027" endtime="20230318 09:20:59.321"/>
</kw>
<msg timestamp="20230318 09:20:59.321" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:59.027" endtime="20230318 09:20:59.322"/>
</kw>
<status status="PASS" starttime="20230318 09:20:59.027" endtime="20230318 09:20:59.322"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:59.325" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:59.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:59.601" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:59.323" endtime="20230318 09:20:59.601"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:59.602" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:59.601" endtime="20230318 09:20:59.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:59.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:59.602" endtime="20230318 09:20:59.603"/>
</kw>
<status status="PASS" starttime="20230318 09:20:59.323" endtime="20230318 09:20:59.603"/>
</kw>
<msg timestamp="20230318 09:20:59.603" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:59.322" endtime="20230318 09:20:59.604"/>
</kw>
<status status="PASS" starttime="20230318 09:20:59.322" endtime="20230318 09:20:59.604"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.434" endtime="20230318 09:20:59.604"/>
</kw>
<status status="PASS" starttime="20230318 09:20:58.434" endtime="20230318 09:20:59.604"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:58.433" endtime="20230318 09:20:59.604"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:59.610" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:21:00.078" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:21:00.078" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:59.608" endtime="20230318 09:21:00.078"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:21:00.080" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:21:00.079" endtime="20230318 09:21:00.080"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:21:00.080" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:21:00.080" endtime="20230318 09:21:00.081"/>
</kw>
<status status="PASS" starttime="20230318 09:20:59.607" endtime="20230318 09:21:00.081"/>
</kw>
<msg timestamp="20230318 09:21:00.081" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:59.607" endtime="20230318 09:21:00.082"/>
</kw>
<msg timestamp="20230318 09:21:00.082" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:59.606" endtime="20230318 09:21:00.082"/>
</kw>
<msg timestamp="20230318 09:21:00.082" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:20:59.606" endtime="20230318 09:21:00.082"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:21:00.082" endtime="20230318 09:21:00.083"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:21:00.083" endtime="20230318 09:21:00.083"/>
</kw>
<msg timestamp="20230318 09:21:00.083" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:20:59.606" endtime="20230318 09:21:00.083"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:21:00.084" endtime="20230318 09:21:00.084"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:59.605" endtime="20230318 09:21:00.084"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:21:00.088" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:21:00.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:21:00.090" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:21:00.086" endtime="20230318 09:21:00.090"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:21:00.091" level="INFO"/>
<status status="PASS" starttime="20230318 09:21:00.090" endtime="20230318 09:21:00.091"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:21:00.092" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:21:00.091" endtime="20230318 09:21:00.092"/>
</kw>
<status status="PASS" starttime="20230318 09:21:00.085" endtime="20230318 09:21:00.092"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:21:00.095" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:21:00.704" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:21:00.704" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:21:00.093" endtime="20230318 09:21:00.704"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:21:00.705" level="INFO"/>
<status status="PASS" starttime="20230318 09:21:00.705" endtime="20230318 09:21:00.705"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:21:00.706" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:21:00.706" endtime="20230318 09:21:00.706"/>
</kw>
<msg timestamp="20230318 09:21:00.706" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:21:00.093" endtime="20230318 09:21:00.706"/>
</kw>
<msg timestamp="20230318 09:21:00.707" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:21:00.092" endtime="20230318 09:21:00.707"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:21:00.707" endtime="20230318 09:21:00.707"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:21:00.710" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:21:00.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:21:00.712" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:21:00.708" endtime="20230318 09:21:00.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:21:00.713" level="INFO"/>
<status status="PASS" starttime="20230318 09:21:00.712" endtime="20230318 09:21:00.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:21:00.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:21:00.713" endtime="20230318 09:21:00.714"/>
</kw>
<status status="PASS" starttime="20230318 09:21:00.707" endtime="20230318 09:21:00.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:21:00.084" endtime="20230318 09:21:00.714"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:20:50.180" endtime="20230318 09:21:00.715"/>
</suite>
<suite id="s1-s6" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s6-t1" name="Read data from previously created key">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:19:58.541" level="INFO">${random} = 79650</msg>
<status status="PASS" starttime="20230318 09:19:58.540" endtime="20230318 09:19:58.541"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:19:58.546" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-79650 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:02.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:02.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:19:58.542" endtime="20230318 09:20:02.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:02.207" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:02.207" endtime="20230318 09:20:02.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:02.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:02.208" endtime="20230318 09:20:02.208"/>
</kw>
<status status="PASS" starttime="20230318 09:19:58.542" endtime="20230318 09:20:02.208"/>
</kw>
<msg timestamp="20230318 09:20:02.208" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:19:58.542" endtime="20230318 09:20:02.210"/>
</kw>
<msg timestamp="20230318 09:20:02.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:19:58.541" endtime="20230318 09:20:02.210"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:02.210" endtime="20230318 09:20:02.210"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:02.213" level="INFO">Running command 'cat /tmp/key-79650 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:02.215" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:02.215" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:02.211" endtime="20230318 09:20:02.215"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:02.216" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:02.216" endtime="20230318 09:20:02.216"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:02.217" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:02.216" endtime="20230318 09:20:02.217"/>
</kw>
<msg timestamp="20230318 09:20:02.217" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:02.211" endtime="20230318 09:20:02.217"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:02.217" endtime="20230318 09:20:02.218"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:02.220" level="INFO">Running command 'rm /tmp/key-79650 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:02.222" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:02.222" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:02.219" endtime="20230318 09:20:02.222"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:02.223" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:02.223" endtime="20230318 09:20:02.223"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:02.224" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:02.224" endtime="20230318 09:20:02.224"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.218" endtime="20230318 09:20:02.224"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:19:58.540" endtime="20230318 09:20:02.225"/>
</test>
<test id="s1-s6-t2" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:02.229" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:02.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:02.531" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:02.228" endtime="20230318 09:20:02.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:02.532" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:02.531" endtime="20230318 09:20:02.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:02.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:02.532" endtime="20230318 09:20:02.533"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.227" endtime="20230318 09:20:02.533"/>
</kw>
<msg timestamp="20230318 09:20:02.533" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:02.227" endtime="20230318 09:20:02.534"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.227" endtime="20230318 09:20:02.534"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:02.538" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:02.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:02.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:02.535" endtime="20230318 09:20:02.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:02.831" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:02.831" endtime="20230318 09:20:02.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:02.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:02.832" endtime="20230318 09:20:02.832"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.535" endtime="20230318 09:20:02.833"/>
</kw>
<msg timestamp="20230318 09:20:02.833" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:02.535" endtime="20230318 09:20:02.833"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.534" endtime="20230318 09:20:02.833"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:02.837" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:03.119" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:03.119" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:02.835" endtime="20230318 09:20:03.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:03.120" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:03.119" endtime="20230318 09:20:03.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:03.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:03.120" endtime="20230318 09:20:03.121"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.834" endtime="20230318 09:20:03.121"/>
</kw>
<msg timestamp="20230318 09:20:03.121" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:02.834" endtime="20230318 09:20:03.122"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.834" endtime="20230318 09:20:03.122"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:03.125" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:03.415" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:03.415" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:03.123" endtime="20230318 09:20:03.416"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:03.417" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:03.416" endtime="20230318 09:20:03.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:03.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:03.417" endtime="20230318 09:20:03.417"/>
</kw>
<status status="PASS" starttime="20230318 09:20:03.123" endtime="20230318 09:20:03.418"/>
</kw>
<msg timestamp="20230318 09:20:03.418" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:20:03.122" endtime="20230318 09:20:03.418"/>
</kw>
<status status="PASS" starttime="20230318 09:20:03.122" endtime="20230318 09:20:03.418"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.226" endtime="20230318 09:20:03.418"/>
</kw>
<status status="PASS" starttime="20230318 09:20:02.226" endtime="20230318 09:20:03.419"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:02.225" endtime="20230318 09:20:03.419"/>
</test>
<test id="s1-s6-t3" name="Read key created with Ozone Shell using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:03.423" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.037" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:31 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:03.421" endtime="20230318 09:20:06.037"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.038" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:31 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:03 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:06.037" endtime="20230318 09:20:06.038"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.039" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.038" endtime="20230318 09:20:06.039"/>
</kw>
<msg timestamp="20230318 09:20:06.039" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:31 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:03.421" endtime="20230318 09:20:06.039"/>
</kw>
<msg timestamp="20230318 09:20:06.040" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:31 GMT", 
    "ContentLength": 44, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:03.420" endtime="20230318 09:20:06.040"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:06.040" endtime="20230318 09:20:06.040"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:06.043" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.046" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:06.041" endtime="20230318 09:20:06.046"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.047" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:06.046" endtime="20230318 09:20:06.047"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.048" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.047" endtime="20230318 09:20:06.048"/>
</kw>
<msg timestamp="20230318 09:20:06.048" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:20:06.040" endtime="20230318 09:20:06.048"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:06.048" endtime="20230318 09:20:06.049"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:06.051" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:06.049" endtime="20230318 09:20:06.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.055" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:06.054" endtime="20230318 09:20:06.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.055" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.055" endtime="20230318 09:20:06.055"/>
</kw>
<status status="PASS" starttime="20230318 09:20:06.049" endtime="20230318 09:20:06.056"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:03.420" endtime="20230318 09:20:06.056"/>
</test>
<test id="s1-s6-t4" name="Read key created with S3 API using S3 API">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:06.061" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.662" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.662" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:35 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:06.059" endtime="20230318 09:20:06.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.663" level="INFO">{
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:35 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:06 GMT", 
    "CacheControl": "no-cache", 
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:20:06.663" endtime="20230318 09:20:06.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.664" endtime="20230318 09:20:06.664"/>
</kw>
<msg timestamp="20230318 09:20:06.665" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:35 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:06.058" endtime="20230318 09:20:06.665"/>
</kw>
<msg timestamp="20230318 09:20:06.665" level="INFO">${output} = {
    "AcceptRanges": "bytes", 
    "ContentType": "application/octet-stream", 
    "LastModified": "Sat, 18 Mar 2023 09:17:35 GMT", 
    "ContentLength": 31, 
    "Expires": "Sat, 18 Mar 2023 09:20:0...</msg>
<status status="PASS" starttime="20230318 09:20:06.058" endtime="20230318 09:20:06.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:06.665" endtime="20230318 09:20:06.665"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:06.668" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.671" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:06.666" endtime="20230318 09:20:06.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.672" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:06.671" endtime="20230318 09:20:06.672"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.672" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.672" endtime="20230318 09:20:06.672"/>
</kw>
<msg timestamp="20230318 09:20:06.673" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:20:06.666" endtime="20230318 09:20:06.673"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:20:06.673" endtime="20230318 09:20:06.673"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:20:06.676" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:20:06.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:20:06.678" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:20:06.674" endtime="20230318 09:20:06.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:20:06.679" level="INFO"/>
<status status="PASS" starttime="20230318 09:20:06.679" endtime="20230318 09:20:06.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:20:06.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:20:06.680" endtime="20230318 09:20:06.680"/>
</kw>
<status status="PASS" starttime="20230318 09:20:06.673" endtime="20230318 09:20:06.680"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:20:06.057" endtime="20230318 09:20:06.681"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:19:58.472" endtime="20230318 09:20:06.682"/>
</suite>
<suite id="s1-s7" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s7-t1" name="Create a volume and bucket">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:34.113" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:36.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:36.302" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:34.108" endtime="20230318 09:14:36.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:36.303" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:36.302" endtime="20230318 09:14:36.303"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:36.304" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:36.303" endtime="20230318 09:14:36.304"/>
</kw>
<status status="PASS" starttime="20230318 09:14:34.108" endtime="20230318 09:14:36.304"/>
</kw>
<msg timestamp="20230318 09:14:36.304" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:34.108" endtime="20230318 09:14:36.310"/>
</kw>
<msg timestamp="20230318 09:14:36.310" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:34.107" endtime="20230318 09:14:36.310"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:36.310" endtime="20230318 09:14:36.311"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:36.322" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:38.852" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:38.853" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:36.312" endtime="20230318 09:14:38.853"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:38.854" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:38.853" endtime="20230318 09:14:38.854"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:38.854" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:38.854" endtime="20230318 09:14:38.855"/>
</kw>
<status status="PASS" starttime="20230318 09:14:36.312" endtime="20230318 09:14:38.855"/>
</kw>
<msg timestamp="20230318 09:14:38.855" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:36.311" endtime="20230318 09:14:38.855"/>
</kw>
<msg timestamp="20230318 09:14:38.856" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:36.311" endtime="20230318 09:14:38.856"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:38.856" endtime="20230318 09:14:38.856"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:34.106" endtime="20230318 09:14:38.856"/>
</test>
<test id="s1-s7-t2" name="Create key">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:38.862" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:14:38.863" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:38.863" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:38.859" endtime="20230318 09:14:38.863"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:38.864" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:38.864" endtime="20230318 09:14:38.864"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:38.865" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:38.864" endtime="20230318 09:14:38.865"/>
</kw>
<status status="PASS" starttime="20230318 09:14:38.858" endtime="20230318 09:14:38.865"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:38.869" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:43.669" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:43.669" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:38.867" endtime="20230318 09:14:43.669"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:43.670" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:43.670" endtime="20230318 09:14:43.671"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:43.671" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:43.671" endtime="20230318 09:14:43.671"/>
</kw>
<status status="PASS" starttime="20230318 09:14:38.866" endtime="20230318 09:14:43.672"/>
</kw>
<msg timestamp="20230318 09:14:43.672" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:38.866" endtime="20230318 09:14:43.672"/>
</kw>
<msg timestamp="20230318 09:14:43.673" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:38.865" endtime="20230318 09:14:43.673"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:43.673" endtime="20230318 09:14:43.673"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:43.677" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:43.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:43.679" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:43.674" endtime="20230318 09:14:43.679"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:43.680" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:43.680" endtime="20230318 09:14:43.680"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:43.681" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:43.681" endtime="20230318 09:14:43.681"/>
</kw>
<status status="PASS" starttime="20230318 09:14:43.674" endtime="20230318 09:14:43.682"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:38.858" endtime="20230318 09:14:43.682"/>
</test>
<test id="s1-s7-t3" name="Create a bucket in s3v volume">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:43.688" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:45.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:45.740" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:43.686" endtime="20230318 09:14:45.740"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:45.741" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:45.740" endtime="20230318 09:14:45.741"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:45.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:45.741" endtime="20230318 09:14:45.742"/>
</kw>
<status status="PASS" starttime="20230318 09:14:43.685" endtime="20230318 09:14:45.742"/>
</kw>
<msg timestamp="20230318 09:14:45.742" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:43.684" endtime="20230318 09:14:45.742"/>
</kw>
<msg timestamp="20230318 09:14:45.743" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:43.684" endtime="20230318 09:14:45.743"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:45.743" endtime="20230318 09:14:45.743"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:43.683" endtime="20230318 09:14:45.743"/>
</test>
<test id="s1-s7-t4" name="Create key in the bucket in s3v volume">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:45.748" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:14:45.749" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:45.749" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:45.746" endtime="20230318 09:14:45.749"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:45.750" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:45.750" endtime="20230318 09:14:45.750"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:45.751" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:45.750" endtime="20230318 09:14:45.751"/>
</kw>
<status status="PASS" starttime="20230318 09:14:45.745" endtime="20230318 09:14:45.751"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:45.755" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:50.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:50.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:45.753" endtime="20230318 09:14:50.284"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:50.285" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:50.285" endtime="20230318 09:14:50.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:50.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:50.286" endtime="20230318 09:14:50.286"/>
</kw>
<status status="PASS" starttime="20230318 09:14:45.752" endtime="20230318 09:14:50.286"/>
</kw>
<msg timestamp="20230318 09:14:50.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:45.752" endtime="20230318 09:14:50.287"/>
</kw>
<msg timestamp="20230318 09:14:50.287" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:45.751" endtime="20230318 09:14:50.287"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:50.288" endtime="20230318 09:14:50.288"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:50.291" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:50.294" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:50.294" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:50.288" endtime="20230318 09:14:50.294"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:50.295" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:50.294" endtime="20230318 09:14:50.295"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:50.295" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:50.295" endtime="20230318 09:14:50.296"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.288" endtime="20230318 09:14:50.296"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:45.744" endtime="20230318 09:14:50.296"/>
</test>
<test id="s1-s7-t5" name="Setup credentials for S3">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:50.302" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:50.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:50.775" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:50.300" endtime="20230318 09:14:50.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:50.776" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:50.775" endtime="20230318 09:14:50.776"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:50.777" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:50.776" endtime="20230318 09:14:50.777"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.299" endtime="20230318 09:14:50.777"/>
</kw>
<msg timestamp="20230318 09:14:50.777" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:50.299" endtime="20230318 09:14:50.778"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.298" endtime="20230318 09:14:50.778"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:50.781" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:51.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:51.080" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:50.779" endtime="20230318 09:14:51.080"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:51.081" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:51.081" endtime="20230318 09:14:51.082"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:51.082" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:51.082" endtime="20230318 09:14:51.082"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.779" endtime="20230318 09:14:51.083"/>
</kw>
<msg timestamp="20230318 09:14:51.083" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:50.778" endtime="20230318 09:14:51.083"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.778" endtime="20230318 09:14:51.083"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:51.087" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:51.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:51.372" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:51.085" endtime="20230318 09:14:51.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:51.373" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:51.373" endtime="20230318 09:14:51.374"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:51.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:51.374" endtime="20230318 09:14:51.374"/>
</kw>
<status status="PASS" starttime="20230318 09:14:51.084" endtime="20230318 09:14:51.374"/>
</kw>
<msg timestamp="20230318 09:14:51.375" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:51.084" endtime="20230318 09:14:51.375"/>
</kw>
<status status="PASS" starttime="20230318 09:14:51.083" endtime="20230318 09:14:51.375"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:51.379" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:51.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:51.666" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:51.377" endtime="20230318 09:14:51.666"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:51.667" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:51.666" endtime="20230318 09:14:51.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:51.668" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:51.667" endtime="20230318 09:14:51.668"/>
</kw>
<status status="PASS" starttime="20230318 09:14:51.376" endtime="20230318 09:14:51.668"/>
</kw>
<msg timestamp="20230318 09:14:51.668" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:51.376" endtime="20230318 09:14:51.669"/>
</kw>
<status status="PASS" starttime="20230318 09:14:51.375" endtime="20230318 09:14:51.669"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.298" endtime="20230318 09:14:51.669"/>
</kw>
<status status="PASS" starttime="20230318 09:14:50.298" endtime="20230318 09:14:51.669"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:50.297" endtime="20230318 09:14:51.669"/>
</test>
<test id="s1-s7-t6" name="Try to create a bucket using S3 API">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:51.675" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:52.703" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:52.703" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:14:51.673" endtime="20230318 09:14:52.703"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:52.704" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:14:52.704" endtime="20230318 09:14:52.705"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:52.705" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:52.705" endtime="20230318 09:14:52.705"/>
</kw>
<status status="PASS" starttime="20230318 09:14:51.672" endtime="20230318 09:14:52.706"/>
</kw>
<msg timestamp="20230318 09:14:52.706" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:14:51.672" endtime="20230318 09:14:52.706"/>
</kw>
<msg timestamp="20230318 09:14:52.706" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:14:51.671" endtime="20230318 09:14:52.706"/>
</kw>
<msg timestamp="20230318 09:14:52.707" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:14:51.671" endtime="20230318 09:14:52.707"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:52.707" endtime="20230318 09:14:52.707"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:52.708" endtime="20230318 09:14:52.708"/>
</kw>
<msg timestamp="20230318 09:14:52.708" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:14:51.671" endtime="20230318 09:14:52.708"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:14:52.708" endtime="20230318 09:14:52.709"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:51.670" endtime="20230318 09:14:52.709"/>
</test>
<test id="s1-s7-t7" name="Create key using S3 API">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:52.715" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:14:52.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:52.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:52.712" endtime="20230318 09:14:52.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:52.718" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:52.717" endtime="20230318 09:14:52.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:52.718" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:52.718" endtime="20230318 09:14:52.718"/>
</kw>
<status status="PASS" starttime="20230318 09:14:52.712" endtime="20230318 09:14:52.719"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:52.722" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:54.702" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:54.702" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:52.720" endtime="20230318 09:14:54.702"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:54.704" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:54.703" endtime="20230318 09:14:54.704"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:54.705" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:54.704" endtime="20230318 09:14:54.705"/>
</kw>
<msg timestamp="20230318 09:14:54.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:52.719" endtime="20230318 09:14:54.705"/>
</kw>
<msg timestamp="20230318 09:14:54.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:52.719" endtime="20230318 09:14:54.706"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:14:54.706" endtime="20230318 09:14:54.706"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:14:54.709" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:14:54.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:14:54.712" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:14:54.707" endtime="20230318 09:14:54.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:14:54.713" level="INFO"/>
<status status="PASS" starttime="20230318 09:14:54.713" endtime="20230318 09:14:54.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:14:54.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20230318 09:14:54.713" endtime="20230318 09:14:54.714"/>
</kw>
<status status="PASS" starttime="20230318 09:14:54.706" endtime="20230318 09:14:54.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:14:52.711" endtime="20230318 09:14:54.714"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:14:34.036" endtime="20230318 09:14:54.716"/>
</suite>
<suite id="s1-s8" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s8-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:08.879" level="INFO">Length is 34</msg>
<status status="PASS" starttime="20230318 09:24:08.879" endtime="20230318 09:24:08.880"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:08.880" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:08.880" endtime="20230318 09:24:08.880"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:08.880" level="INFO" html="true">File '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:08.880" endtime="20230318 09:24:08.881"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:08.881" level="INFO" html="true">File '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;' contains 229 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:08.881" endtime="20230318 09:24:08.881"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:08.882" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:08.882" level="INFO">${version_file_contents} = #Sat Mar 18 09:22:36 UTC 2023
cTime=1679130803107
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
nodeType=SCM
scmUuid=73ef0d63-31ef-40fc-a9af-04bef49b3712
layoutVersion=4
primaryScmNodeId=73ef0d63...</msg>
<status status="PASS" starttime="20230318 09:24:08.882" endtime="20230318 09:24:08.882"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:08.883" level="INFO">${version_line} = layoutVersion=4</msg>
<status status="PASS" starttime="20230318 09:24:08.882" endtime="20230318 09:24:08.883"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:08.883" endtime="20230318 09:24:08.883"/>
</kw>
<status status="PASS" starttime="20230318 09:24:08.881" endtime="20230318 09:24:08.883"/>
</kw>
<status status="PASS" starttime="20230318 09:24:08.881" endtime="20230318 09:24:08.883"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:08.878" endtime="20230318 09:24:08.884"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:08.835" endtime="20230318 09:24:08.884"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:24:59.498" level="INFO">${random} = 18900</msg>
<status status="PASS" starttime="20230318 09:24:59.497" endtime="20230318 09:24:59.498"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:59.504" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-18900 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:04.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:04.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:59.500" endtime="20230318 09:25:04.263"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:04.264" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:04.264" endtime="20230318 09:25:04.264"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:04.265" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:04.265" endtime="20230318 09:25:04.265"/>
</kw>
<status status="PASS" starttime="20230318 09:24:59.499" endtime="20230318 09:25:04.265"/>
</kw>
<msg timestamp="20230318 09:25:04.265" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:59.499" endtime="20230318 09:25:04.267"/>
</kw>
<msg timestamp="20230318 09:25:04.267" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:59.498" endtime="20230318 09:25:04.267"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:04.267" endtime="20230318 09:25:04.267"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:04.270" level="INFO">Running command 'cat /tmp/key-18900 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:04.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:04.273" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:04.268" endtime="20230318 09:25:04.273"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:04.274" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:04.273" endtime="20230318 09:25:04.274"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:04.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:04.274" endtime="20230318 09:25:04.274"/>
</kw>
<msg timestamp="20230318 09:25:04.275" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:04.267" endtime="20230318 09:25:04.275"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:04.275" endtime="20230318 09:25:04.275"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:04.278" level="INFO">Running command 'rm /tmp/key-18900 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:04.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:04.280" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:04.276" endtime="20230318 09:25:04.280"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:04.281" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:04.280" endtime="20230318 09:25:04.281"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:04.282" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:04.281" endtime="20230318 09:25:04.282"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.275" endtime="20230318 09:25:04.282"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:59.496" endtime="20230318 09:25:04.282"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:04.287" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:04.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:04.735" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:04.285" endtime="20230318 09:25:04.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:04.736" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:04.735" endtime="20230318 09:25:04.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:04.736" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:04.736" endtime="20230318 09:25:04.737"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.285" endtime="20230318 09:25:04.737"/>
</kw>
<msg timestamp="20230318 09:25:04.737" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:04.285" endtime="20230318 09:25:04.738"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.284" endtime="20230318 09:25:04.738"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:04.741" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:05.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:05.180" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:04.739" endtime="20230318 09:25:05.180"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:05.181" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:05.181" endtime="20230318 09:25:05.181"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:05.182" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:05.181" endtime="20230318 09:25:05.182"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.739" endtime="20230318 09:25:05.182"/>
</kw>
<msg timestamp="20230318 09:25:05.182" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:04.738" endtime="20230318 09:25:05.183"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.738" endtime="20230318 09:25:05.183"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:05.186" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:05.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:05.632" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:05.184" endtime="20230318 09:25:05.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:05.633" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:05.633" endtime="20230318 09:25:05.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:05.634" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:05.634" endtime="20230318 09:25:05.634"/>
</kw>
<status status="PASS" starttime="20230318 09:25:05.184" endtime="20230318 09:25:05.634"/>
</kw>
<msg timestamp="20230318 09:25:05.634" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:05.183" endtime="20230318 09:25:05.635"/>
</kw>
<status status="PASS" starttime="20230318 09:25:05.183" endtime="20230318 09:25:05.635"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:05.639" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:06.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:06.079" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:05.636" endtime="20230318 09:25:06.079"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:06.080" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:06.080" endtime="20230318 09:25:06.080"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:06.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:06.080" endtime="20230318 09:25:06.081"/>
</kw>
<status status="PASS" starttime="20230318 09:25:05.636" endtime="20230318 09:25:06.082"/>
</kw>
<msg timestamp="20230318 09:25:06.082" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:05.636" endtime="20230318 09:25:06.082"/>
</kw>
<status status="PASS" starttime="20230318 09:25:05.635" endtime="20230318 09:25:06.082"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.284" endtime="20230318 09:25:06.083"/>
</kw>
<status status="PASS" starttime="20230318 09:25:04.284" endtime="20230318 09:25:06.083"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:04.283" endtime="20230318 09:25:06.083"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:06.088" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:06.677" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:06.677" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.085" endtime="20230318 09:25:06.677"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:06.679" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:25:06 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:25:06.678" endtime="20230318 09:25:06.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:06.679" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:06.679" endtime="20230318 09:25:06.679"/>
</kw>
<msg timestamp="20230318 09:25:06.680" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.085" endtime="20230318 09:25:06.680"/>
</kw>
<msg timestamp="20230318 09:25:06.680" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.084" endtime="20230318 09:25:06.680"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:06.680" endtime="20230318 09:25:06.680"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:06.683" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:06.686" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:06.686" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:06.681" endtime="20230318 09:25:06.686"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:06.687" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:06.686" endtime="20230318 09:25:06.687"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:06.688" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:06.687" endtime="20230318 09:25:06.688"/>
</kw>
<msg timestamp="20230318 09:25:06.688" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:06.681" endtime="20230318 09:25:06.688"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:06.689" endtime="20230318 09:25:06.689"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:06.691" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:06.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:06.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:06.690" endtime="20230318 09:25:06.694"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:06.695" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:06.694" endtime="20230318 09:25:06.695"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:06.696" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:06.695" endtime="20230318 09:25:06.696"/>
</kw>
<status status="PASS" starttime="20230318 09:25:06.689" endtime="20230318 09:25:06.696"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:06.083" endtime="20230318 09:25:06.697"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:06.701" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:07.292" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:07.292" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.700" endtime="20230318 09:25:07.292"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:07.294" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:25:07 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:25:07.293" endtime="20230318 09:25:07.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:07.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:07.294" endtime="20230318 09:25:07.294"/>
</kw>
<msg timestamp="20230318 09:25:07.295" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.699" endtime="20230318 09:25:07.295"/>
</kw>
<msg timestamp="20230318 09:25:07.295" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:37 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:06.698" endtime="20230318 09:25:07.295"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:07.295" endtime="20230318 09:25:07.296"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:07.299" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:07.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:07.302" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:07.296" endtime="20230318 09:25:07.302"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:07.303" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:07.302" endtime="20230318 09:25:07.303"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:07.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:07.303" endtime="20230318 09:25:07.304"/>
</kw>
<msg timestamp="20230318 09:25:07.304" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:07.296" endtime="20230318 09:25:07.304"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:07.304" endtime="20230318 09:25:07.304"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:07.307" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:07.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:07.310" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:07.305" endtime="20230318 09:25:07.310"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:07.311" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:07.310" endtime="20230318 09:25:07.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:07.312" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:07.311" endtime="20230318 09:25:07.312"/>
</kw>
<status status="PASS" starttime="20230318 09:25:07.305" endtime="20230318 09:25:07.312"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:06.698" endtime="20230318 09:25:07.312"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:24:59.421" endtime="20230318 09:25:07.314"/>
</suite>
<suite id="s1-s10" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s10-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:11.000" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:13.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:13.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:10.995" endtime="20230318 09:25:13.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:13.824" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:13.823" endtime="20230318 09:25:13.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:13.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:13.824" endtime="20230318 09:25:13.824"/>
</kw>
<status status="PASS" starttime="20230318 09:25:10.995" endtime="20230318 09:25:13.825"/>
</kw>
<msg timestamp="20230318 09:25:13.825" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:10.995" endtime="20230318 09:25:13.826"/>
</kw>
<msg timestamp="20230318 09:25:13.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:10.994" endtime="20230318 09:25:13.827"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:13.827" endtime="20230318 09:25:13.827"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:13.831" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:16.435" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:16.435" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:13.829" endtime="20230318 09:25:16.435"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:16.437" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:16.436" endtime="20230318 09:25:16.437"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:16.438" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:16.437" endtime="20230318 09:25:16.438"/>
</kw>
<status status="PASS" starttime="20230318 09:25:13.828" endtime="20230318 09:25:16.438"/>
</kw>
<msg timestamp="20230318 09:25:16.438" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:13.828" endtime="20230318 09:25:16.439"/>
</kw>
<msg timestamp="20230318 09:25:16.439" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:13.827" endtime="20230318 09:25:16.439"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:16.439" endtime="20230318 09:25:16.439"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:10.993" endtime="20230318 09:25:16.440"/>
</test>
<test id="s1-s10-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:16.445" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:25:16.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:16.447" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:16.442" endtime="20230318 09:25:16.447"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:16.449" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:16.448" endtime="20230318 09:25:16.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:16.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:16.449" endtime="20230318 09:25:16.450"/>
</kw>
<status status="PASS" starttime="20230318 09:25:16.442" endtime="20230318 09:25:16.450"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:16.453" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:22.104" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:22.104" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:16.451" endtime="20230318 09:25:22.105"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:22.106" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:22.105" endtime="20230318 09:25:22.106"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:22.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:22.106" endtime="20230318 09:25:22.106"/>
</kw>
<status status="PASS" starttime="20230318 09:25:16.451" endtime="20230318 09:25:22.107"/>
</kw>
<msg timestamp="20230318 09:25:22.107" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:16.451" endtime="20230318 09:25:22.107"/>
</kw>
<msg timestamp="20230318 09:25:22.108" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:16.450" endtime="20230318 09:25:22.108"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:22.108" endtime="20230318 09:25:22.108"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:22.111" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:22.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:22.114" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:22.109" endtime="20230318 09:25:22.114"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:22.115" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:22.114" endtime="20230318 09:25:22.115"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:22.116" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:22.115" endtime="20230318 09:25:22.116"/>
</kw>
<status status="PASS" starttime="20230318 09:25:22.108" endtime="20230318 09:25:22.116"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:16.441" endtime="20230318 09:25:22.116"/>
</test>
<test id="s1-s10-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:22.122" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:24.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:24.696" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:22.120" endtime="20230318 09:25:24.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:24.697" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:24.696" endtime="20230318 09:25:24.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:24.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:24.697" endtime="20230318 09:25:24.698"/>
</kw>
<status status="PASS" starttime="20230318 09:25:22.119" endtime="20230318 09:25:24.698"/>
</kw>
<msg timestamp="20230318 09:25:24.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:22.119" endtime="20230318 09:25:24.699"/>
</kw>
<msg timestamp="20230318 09:25:24.699" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:22.118" endtime="20230318 09:25:24.699"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:24.699" endtime="20230318 09:25:24.699"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:22.118" endtime="20230318 09:25:24.700"/>
</test>
<test id="s1-s10-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:24.704" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:25:24.706" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:24.706" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:24.702" endtime="20230318 09:25:24.706"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:24.708" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:24.707" endtime="20230318 09:25:24.708"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:24.708" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:24.708" endtime="20230318 09:25:24.708"/>
</kw>
<status status="PASS" starttime="20230318 09:25:24.701" endtime="20230318 09:25:24.709"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:24.712" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:29.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:29.700" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:24.710" endtime="20230318 09:25:29.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:29.702" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:29.701" endtime="20230318 09:25:29.702"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:29.702" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:29.702" endtime="20230318 09:25:29.702"/>
</kw>
<status status="PASS" starttime="20230318 09:25:24.710" endtime="20230318 09:25:29.702"/>
</kw>
<msg timestamp="20230318 09:25:29.703" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:24.709" endtime="20230318 09:25:29.703"/>
</kw>
<msg timestamp="20230318 09:25:29.703" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:24.709" endtime="20230318 09:25:29.703"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:29.703" endtime="20230318 09:25:29.704"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:29.707" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:29.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:29.709" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:29.704" endtime="20230318 09:25:29.710"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:29.711" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:29.710" endtime="20230318 09:25:29.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:29.711" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:29.711" endtime="20230318 09:25:29.711"/>
</kw>
<status status="PASS" starttime="20230318 09:25:29.704" endtime="20230318 09:25:29.712"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:24.700" endtime="20230318 09:25:29.712"/>
</test>
<test id="s1-s10-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:29.717" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:30.223" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:30.223" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:29.715" endtime="20230318 09:25:30.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:30.225" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:30.224" endtime="20230318 09:25:30.225"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:30.225" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:30.225" endtime="20230318 09:25:30.225"/>
</kw>
<status status="PASS" starttime="20230318 09:25:29.715" endtime="20230318 09:25:30.226"/>
</kw>
<msg timestamp="20230318 09:25:30.226" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:29.715" endtime="20230318 09:25:30.226"/>
</kw>
<status status="PASS" starttime="20230318 09:25:29.714" endtime="20230318 09:25:30.226"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:30.230" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:30.689" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:30.689" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:30.228" endtime="20230318 09:25:30.689"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:30.690" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:30.690" endtime="20230318 09:25:30.690"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:30.691" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:30.690" endtime="20230318 09:25:30.691"/>
</kw>
<status status="PASS" starttime="20230318 09:25:30.227" endtime="20230318 09:25:30.691"/>
</kw>
<msg timestamp="20230318 09:25:30.691" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:30.227" endtime="20230318 09:25:30.692"/>
</kw>
<status status="PASS" starttime="20230318 09:25:30.226" endtime="20230318 09:25:30.692"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:30.696" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:31.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:31.136" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:30.693" endtime="20230318 09:25:31.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:31.137" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:31.136" endtime="20230318 09:25:31.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:31.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:31.137" endtime="20230318 09:25:31.138"/>
</kw>
<status status="PASS" starttime="20230318 09:25:30.693" endtime="20230318 09:25:31.138"/>
</kw>
<msg timestamp="20230318 09:25:31.138" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:30.693" endtime="20230318 09:25:31.139"/>
</kw>
<status status="PASS" starttime="20230318 09:25:30.692" endtime="20230318 09:25:31.139"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:31.143" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:31.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:31.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:31.140" endtime="20230318 09:25:31.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:31.612" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:31.612" endtime="20230318 09:25:31.612"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:31.613" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:31.613" endtime="20230318 09:25:31.613"/>
</kw>
<status status="PASS" starttime="20230318 09:25:31.140" endtime="20230318 09:25:31.613"/>
</kw>
<msg timestamp="20230318 09:25:31.614" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:31.140" endtime="20230318 09:25:31.614"/>
</kw>
<status status="PASS" starttime="20230318 09:25:31.139" endtime="20230318 09:25:31.614"/>
</kw>
<status status="PASS" starttime="20230318 09:25:29.714" endtime="20230318 09:25:31.614"/>
</kw>
<status status="PASS" starttime="20230318 09:25:29.714" endtime="20230318 09:25:31.614"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:29.713" endtime="20230318 09:25:31.615"/>
</test>
<test id="s1-s10-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:31.621" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:32.232" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:32.232" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:25:31.618" endtime="20230318 09:25:32.232"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:32.234" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:25:32.233" endtime="20230318 09:25:32.234"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:32.234" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:32.234" endtime="20230318 09:25:32.234"/>
</kw>
<status status="PASS" starttime="20230318 09:25:31.618" endtime="20230318 09:25:32.235"/>
</kw>
<msg timestamp="20230318 09:25:32.235" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:31.618" endtime="20230318 09:25:32.235"/>
</kw>
<msg timestamp="20230318 09:25:32.236" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:25:31.617" endtime="20230318 09:25:32.236"/>
</kw>
<msg timestamp="20230318 09:25:32.236" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:25:31.617" endtime="20230318 09:25:32.236"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:32.236" endtime="20230318 09:25:32.236"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:32.236" endtime="20230318 09:25:32.237"/>
</kw>
<msg timestamp="20230318 09:25:32.237" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:25:31.616" endtime="20230318 09:25:32.237"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:25:32.237" endtime="20230318 09:25:32.238"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:31.616" endtime="20230318 09:25:32.238"/>
</test>
<test id="s1-s10-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:32.242" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:25:32.244" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:32.244" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:32.240" endtime="20230318 09:25:32.244"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:32.245" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:32.244" endtime="20230318 09:25:32.245"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:32.245" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:32.245" endtime="20230318 09:25:32.246"/>
</kw>
<status status="PASS" starttime="20230318 09:25:32.239" endtime="20230318 09:25:32.246"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:32.249" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:33.268" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:33.268" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:32.247" endtime="20230318 09:25:33.268"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:33.269" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:33.269" endtime="20230318 09:25:33.270"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:33.270" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:33.270" endtime="20230318 09:25:33.270"/>
</kw>
<msg timestamp="20230318 09:25:33.271" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:32.246" endtime="20230318 09:25:33.271"/>
</kw>
<msg timestamp="20230318 09:25:33.271" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:32.246" endtime="20230318 09:25:33.271"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:33.271" endtime="20230318 09:25:33.272"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:33.276" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:33.278" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:33.278" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:33.272" endtime="20230318 09:25:33.278"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:33.279" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:33.278" endtime="20230318 09:25:33.279"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:33.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:33.279" endtime="20230318 09:25:33.280"/>
</kw>
<status status="PASS" starttime="20230318 09:25:33.272" endtime="20230318 09:25:33.280"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:32.238" endtime="20230318 09:25:33.280"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:25:10.919" endtime="20230318 09:25:33.282"/>
</suite>
<suite id="s1-s11" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s11-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:25:36.912" level="INFO">${random} = 19148</msg>
<status status="PASS" starttime="20230318 09:25:36.912" endtime="20230318 09:25:36.912"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:36.918" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-19148 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:41.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:41.797" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:36.914" endtime="20230318 09:25:41.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:41.798" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:41.798" endtime="20230318 09:25:41.798"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:41.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:41.799" endtime="20230318 09:25:41.799"/>
</kw>
<status status="PASS" starttime="20230318 09:25:36.913" endtime="20230318 09:25:41.799"/>
</kw>
<msg timestamp="20230318 09:25:41.799" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:36.913" endtime="20230318 09:25:41.801"/>
</kw>
<msg timestamp="20230318 09:25:41.801" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:36.913" endtime="20230318 09:25:41.801"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:41.801" endtime="20230318 09:25:41.801"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:41.804" level="INFO">Running command 'cat /tmp/key-19148 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:41.807" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:41.807" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:41.802" endtime="20230318 09:25:41.807"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:41.808" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:41.807" endtime="20230318 09:25:41.808"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:41.809" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:41.809" endtime="20230318 09:25:41.809"/>
</kw>
<msg timestamp="20230318 09:25:41.809" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:41.802" endtime="20230318 09:25:41.809"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:41.810" endtime="20230318 09:25:41.810"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:41.812" level="INFO">Running command 'rm /tmp/key-19148 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:41.815" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:41.815" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:41.811" endtime="20230318 09:25:41.815"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:41.816" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:41.815" endtime="20230318 09:25:41.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:41.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:41.816" endtime="20230318 09:25:41.817"/>
</kw>
<status status="PASS" starttime="20230318 09:25:41.810" endtime="20230318 09:25:41.817"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:36.911" endtime="20230318 09:25:41.817"/>
</test>
<test id="s1-s11-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:41.822" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:42.292" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:42.292" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:41.821" endtime="20230318 09:25:42.292"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:42.294" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:42.293" endtime="20230318 09:25:42.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:42.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:42.294" endtime="20230318 09:25:42.294"/>
</kw>
<status status="PASS" starttime="20230318 09:25:41.820" endtime="20230318 09:25:42.295"/>
</kw>
<msg timestamp="20230318 09:25:42.295" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:41.820" endtime="20230318 09:25:42.295"/>
</kw>
<status status="PASS" starttime="20230318 09:25:41.820" endtime="20230318 09:25:42.295"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:42.299" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:42.782" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:42.782" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:42.297" endtime="20230318 09:25:42.782"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:42.783" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:42.782" endtime="20230318 09:25:42.783"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:42.784" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:42.783" endtime="20230318 09:25:42.784"/>
</kw>
<status status="PASS" starttime="20230318 09:25:42.296" endtime="20230318 09:25:42.784"/>
</kw>
<msg timestamp="20230318 09:25:42.784" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:42.296" endtime="20230318 09:25:42.785"/>
</kw>
<status status="PASS" starttime="20230318 09:25:42.295" endtime="20230318 09:25:42.785"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:42.788" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:43.271" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:43.271" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:42.786" endtime="20230318 09:25:43.271"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:43.272" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:43.272" endtime="20230318 09:25:43.272"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:43.273" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:43.273" endtime="20230318 09:25:43.273"/>
</kw>
<status status="PASS" starttime="20230318 09:25:42.786" endtime="20230318 09:25:43.273"/>
</kw>
<msg timestamp="20230318 09:25:43.273" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:42.786" endtime="20230318 09:25:43.274"/>
</kw>
<status status="PASS" starttime="20230318 09:25:42.785" endtime="20230318 09:25:43.274"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:43.278" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:43.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:43.755" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:43.275" endtime="20230318 09:25:43.755"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:43.756" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:43.755" endtime="20230318 09:25:43.756"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:43.757" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:43.756" endtime="20230318 09:25:43.757"/>
</kw>
<status status="PASS" starttime="20230318 09:25:43.275" endtime="20230318 09:25:43.757"/>
</kw>
<msg timestamp="20230318 09:25:43.757" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:43.275" endtime="20230318 09:25:43.758"/>
</kw>
<status status="PASS" starttime="20230318 09:25:43.274" endtime="20230318 09:25:43.758"/>
</kw>
<status status="PASS" starttime="20230318 09:25:41.819" endtime="20230318 09:25:43.758"/>
</kw>
<status status="PASS" starttime="20230318 09:25:41.819" endtime="20230318 09:25:43.758"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:41.818" endtime="20230318 09:25:43.759"/>
</test>
<test id="s1-s11-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:43.764" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.332" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:43.762" endtime="20230318 09:25:44.332"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.334" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:25:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:25:44.333" endtime="20230318 09:25:44.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.334" endtime="20230318 09:25:44.334"/>
</kw>
<msg timestamp="20230318 09:25:44.335" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:43.761" endtime="20230318 09:25:44.335"/>
</kw>
<msg timestamp="20230318 09:25:44.335" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:29 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:43.761" endtime="20230318 09:25:44.335"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:44.335" endtime="20230318 09:25:44.335"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:44.338" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.341" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:44.336" endtime="20230318 09:25:44.341"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.342" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:44.341" endtime="20230318 09:25:44.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.342" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.342" endtime="20230318 09:25:44.342"/>
</kw>
<msg timestamp="20230318 09:25:44.343" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:25:44.335" endtime="20230318 09:25:44.343"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:44.343" endtime="20230318 09:25:44.343"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:44.346" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:44.344" endtime="20230318 09:25:44.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.349" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:44.348" endtime="20230318 09:25:44.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.349" endtime="20230318 09:25:44.350"/>
</kw>
<status status="PASS" starttime="20230318 09:25:44.343" endtime="20230318 09:25:44.350"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:43.760" endtime="20230318 09:25:44.350"/>
</test>
<test id="s1-s11-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:44.354" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.941" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.941" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:44.353" endtime="20230318 09:25:44.941"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.943" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:25:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:25:44.942" endtime="20230318 09:25:44.943"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.944" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.943" endtime="20230318 09:25:44.944"/>
</kw>
<msg timestamp="20230318 09:25:44.944" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:44.352" endtime="20230318 09:25:44.944"/>
</kw>
<msg timestamp="20230318 09:25:44.945" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:25:33 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:25:44.352" endtime="20230318 09:25:44.945"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:44.945" endtime="20230318 09:25:44.945"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:44.948" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.951" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:44.946" endtime="20230318 09:25:44.951"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.952" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:44.951" endtime="20230318 09:25:44.952"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.953" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.952" endtime="20230318 09:25:44.953"/>
</kw>
<msg timestamp="20230318 09:25:44.953" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:25:44.946" endtime="20230318 09:25:44.953"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:25:44.953" endtime="20230318 09:25:44.954"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:44.956" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:44.959" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:44.959" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:44.955" endtime="20230318 09:25:44.959"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:44.960" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:44.959" endtime="20230318 09:25:44.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:44.961" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:44.960" endtime="20230318 09:25:44.961"/>
</kw>
<status status="PASS" starttime="20230318 09:25:44.954" endtime="20230318 09:25:44.961"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:25:44.351" endtime="20230318 09:25:44.961"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:25:36.839" endtime="20230318 09:25:44.963"/>
</suite>
<suite id="s1-s12" name="Upgrade-Ec-Check" source="/opt/hadoop/smoketest/ec/upgrade-ec-check.robot">
<test id="s1-s12-t1" name="Test EC After Finalization" line="35">
<kw name="Execute" library="os">
<arg>ozone sh volume create /ectest-new</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:48.541" level="INFO">Running command 'ozone sh volume create /ectest-new 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:51.397" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:51.397" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:48.537" endtime="20230318 09:25:51.397"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:51.398" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:51.397" endtime="20230318 09:25:51.398"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:51.399" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:51.398" endtime="20230318 09:25:51.399"/>
</kw>
<status status="PASS" starttime="20230318 09:25:48.536" endtime="20230318 09:25:51.399"/>
</kw>
<msg timestamp="20230318 09:25:51.399" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:48.536" endtime="20230318 09:25:51.400"/>
</kw>
<status status="PASS" starttime="20230318 09:25:48.536" endtime="20230318 09:25:51.401"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket create --replication rs-3-2-1024k --type EC /ectest-new/ectest</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:51.404" level="INFO">Running command 'ozone sh bucket create --replication rs-3-2-1024k --type EC /ectest-new/ectest 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:53.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:53.972" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:51.402" endtime="20230318 09:25:53.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:53.973" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:53.973" endtime="20230318 09:25:53.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:53.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:53.974" endtime="20230318 09:25:53.974"/>
</kw>
<status status="PASS" starttime="20230318 09:25:51.402" endtime="20230318 09:25:53.974"/>
</kw>
<msg timestamp="20230318 09:25:53.974" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:51.401" endtime="20230318 09:25:53.975"/>
</kw>
<status status="PASS" starttime="20230318 09:25:51.401" endtime="20230318 09:25:53.975"/>
</kw>
<kw name="Verify Bucket EC Replication Config" library="shell">
<arg>/ectest-new/ectest</arg>
<arg>RS</arg>
<arg>3</arg>
<arg>2</arg>
<arg>1048576</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info ${bucket} | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:53.979" level="INFO">Running command 'ozone sh bucket info /ectest-new/ectest | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize' 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:56.831" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:56.831" level="INFO">${output} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:25:53.977" endtime="20230318 09:25:56.831"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:56.832" level="INFO">EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:25:56.831" endtime="20230318 09:25:56.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:56.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:56.832" endtime="20230318 09:25:56.833"/>
</kw>
<status status="PASS" starttime="20230318 09:25:53.977" endtime="20230318 09:25:56.833"/>
</kw>
<msg timestamp="20230318 09:25:56.833" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:53.976" endtime="20230318 09:25:56.834"/>
</kw>
<msg timestamp="20230318 09:25:56.834" level="INFO">${result} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:25:53.976" endtime="20230318 09:25:56.834"/>
</kw>
<kw name="Verify EC Replication Config" library="shell">
<arg>${result}</arg>
<arg>${encoding}</arg>
<arg>${data}</arg>
<arg>${parity}</arg>
<arg>${chunksize}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)EC$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:25:56.835" endtime="20230318 09:25:56.836"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${encoding}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:25:56.836" endtime="20230318 09:25:56.836"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${data}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:25:56.836" endtime="20230318 09:25:56.837"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${parity}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:25:56.837" endtime="20230318 09:25:56.837"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${chunksize}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:25:56.837" endtime="20230318 09:25:56.838"/>
</kw>
<status status="PASS" starttime="20230318 09:25:56.834" endtime="20230318 09:25:56.838"/>
</kw>
<status status="PASS" starttime="20230318 09:25:53.975" endtime="20230318 09:25:56.838"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket create /ectest-new/testpropchange</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:56.842" level="INFO">Running command 'ozone sh bucket create /ectest-new/testpropchange 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:25:59.179" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:25:59.179" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:56.839" endtime="20230318 09:25:59.179"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:25:59.180" level="INFO"/>
<status status="PASS" starttime="20230318 09:25:59.179" endtime="20230318 09:25:59.180"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:25:59.181" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:25:59.180" endtime="20230318 09:25:59.181"/>
</kw>
<status status="PASS" starttime="20230318 09:25:56.839" endtime="20230318 09:25:59.181"/>
</kw>
<msg timestamp="20230318 09:25:59.181" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:56.839" endtime="20230318 09:25:59.181"/>
</kw>
<status status="PASS" starttime="20230318 09:25:56.838" endtime="20230318 09:25:59.182"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket set-replication-config -r rs-3-2-1024k -t EC /ectest-new/testpropchange</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:25:59.185" level="INFO">Running command 'ozone sh bucket set-replication-config -r rs-3-2-1024k -t EC /ectest-new/testpropchange 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:01.939" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:01.939" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:25:59.183" endtime="20230318 09:26:01.939"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:01.940" level="INFO"/>
<status status="PASS" starttime="20230318 09:26:01.939" endtime="20230318 09:26:01.940"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:01.940" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:01.940" endtime="20230318 09:26:01.940"/>
</kw>
<status status="PASS" starttime="20230318 09:25:59.183" endtime="20230318 09:26:01.941"/>
</kw>
<msg timestamp="20230318 09:26:01.941" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:25:59.182" endtime="20230318 09:26:01.941"/>
</kw>
<status status="PASS" starttime="20230318 09:25:59.182" endtime="20230318 09:26:01.941"/>
</kw>
<kw name="Verify Bucket EC Replication Config" library="shell">
<arg>/ectest-new/testpropchange</arg>
<arg>RS</arg>
<arg>3</arg>
<arg>2</arg>
<arg>1048576</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info ${bucket} | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:26:01.946" level="INFO">Running command 'ozone sh bucket info /ectest-new/testpropchange | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize' 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:04.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:04.679" level="INFO">${output} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:01.943" endtime="20230318 09:26:04.679"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:04.680" level="INFO">EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:04.680" endtime="20230318 09:26:04.681"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:04.682" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:04.681" endtime="20230318 09:26:04.682"/>
</kw>
<status status="PASS" starttime="20230318 09:26:01.943" endtime="20230318 09:26:04.682"/>
</kw>
<msg timestamp="20230318 09:26:04.682" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:26:01.943" endtime="20230318 09:26:04.683"/>
</kw>
<msg timestamp="20230318 09:26:04.683" level="INFO">${result} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:01.942" endtime="20230318 09:26:04.683"/>
</kw>
<kw name="Verify EC Replication Config" library="shell">
<arg>${result}</arg>
<arg>${encoding}</arg>
<arg>${data}</arg>
<arg>${parity}</arg>
<arg>${chunksize}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)EC$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:04.684" endtime="20230318 09:26:04.684"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${encoding}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:04.684" endtime="20230318 09:26:04.685"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${data}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:04.685" endtime="20230318 09:26:04.685"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${parity}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:04.685" endtime="20230318 09:26:04.686"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${chunksize}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:04.686" endtime="20230318 09:26:04.686"/>
</kw>
<status status="PASS" starttime="20230318 09:26:04.683" endtime="20230318 09:26:04.686"/>
</kw>
<status status="PASS" starttime="20230318 09:26:01.942" endtime="20230318 09:26:04.686"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put -r rs-3-2-1024k -t EC /ectest-new/ectest/core-site.xml /etc/hadoop/core-site.xml</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:26:04.690" level="INFO">Running command 'ozone sh key put -r rs-3-2-1024k -t EC /ectest-new/ectest/core-site.xml /etc/hadoop/core-site.xml 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:10.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:10.036" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:26:04.688" endtime="20230318 09:26:10.036"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:10.037" level="INFO"/>
<status status="PASS" starttime="20230318 09:26:10.036" endtime="20230318 09:26:10.037"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:10.037" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:10.037" endtime="20230318 09:26:10.038"/>
</kw>
<status status="PASS" starttime="20230318 09:26:04.687" endtime="20230318 09:26:10.038"/>
</kw>
<msg timestamp="20230318 09:26:10.038" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:26:04.687" endtime="20230318 09:26:10.038"/>
</kw>
<status status="PASS" starttime="20230318 09:26:04.687" endtime="20230318 09:26:10.038"/>
</kw>
<kw name="Key Should Match Local File" library="shell">
<arg>/ectest-new/ectest/core-site.xml</arg>
<arg>/etc/hadoop/core-site.xml</arg>
<kw name="Compare Key With Local File" library="shell">
<var>${matches}</var>
<arg>${key}</arg>
<arg>${file}</arg>
<kw name="Generate Random String" library="String">
<var>${postfix}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:26:10.040" level="INFO">${postfix} = 99296</msg>
<status status="PASS" starttime="20230318 09:26:10.040" endtime="20230318 09:26:10.040"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${tmpfile}</var>
<arg>/tmp/tempkey-${postfix}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20230318 09:26:10.040" level="INFO">${tmpfile} = /tmp/tempkey-99296</msg>
<status status="PASS" starttime="20230318 09:26:10.040" endtime="20230318 09:26:10.040"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key get ${key} ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:26:10.044" level="INFO">Running command 'ozone sh key get /ectest-new/ectest/core-site.xml /tmp/tempkey-99296 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:14.735" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:14.735" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:26:10.042" endtime="20230318 09:26:14.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:14.736" level="INFO"/>
<status status="PASS" starttime="20230318 09:26:14.736" endtime="20230318 09:26:14.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:14.737" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:14.737" endtime="20230318 09:26:14.737"/>
</kw>
<status status="PASS" starttime="20230318 09:26:10.041" endtime="20230318 09:26:14.737"/>
</kw>
<msg timestamp="20230318 09:26:14.737" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:26:10.041" endtime="20230318 09:26:14.738"/>
</kw>
<status status="PASS" starttime="20230318 09:26:10.040" endtime="20230318 09:26:14.738"/>
</kw>
<kw name="Run And Return Rc" library="OperatingSystem">
<var>${rc}</var>
<arg>diff -q ${file} ${tmpfile}</arg>
<doc>Runs the given command in the system and returns the return code.</doc>
<msg timestamp="20230318 09:26:14.741" level="INFO">Running command 'diff -q /etc/hadoop/core-site.xml /tmp/tempkey-99296 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:14.744" level="INFO">${rc} = 0</msg>
<status status="PASS" starttime="20230318 09:26:14.738" endtime="20230318 09:26:14.744"/>
</kw>
<kw name="Execute" library="os">
<arg>rm -f ${tmpfile}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:26:14.749" level="INFO">Running command 'rm -f /tmp/tempkey-99296 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:14.753" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:14.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:26:14.746" endtime="20230318 09:26:14.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:14.754" level="INFO"/>
<status status="PASS" starttime="20230318 09:26:14.753" endtime="20230318 09:26:14.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:14.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:14.754" endtime="20230318 09:26:14.755"/>
</kw>
<status status="PASS" starttime="20230318 09:26:14.746" endtime="20230318 09:26:14.755"/>
</kw>
<msg timestamp="20230318 09:26:14.755" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:26:14.745" endtime="20230318 09:26:14.755"/>
</kw>
<status status="PASS" starttime="20230318 09:26:14.745" endtime="20230318 09:26:14.756"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>${rc} == 0</arg>
<arg>${TRUE}</arg>
<arg>${FALSE}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20230318 09:26:14.757" level="INFO">${result} = True</msg>
<status status="PASS" starttime="20230318 09:26:14.756" endtime="20230318 09:26:14.757"/>
</kw>
<msg timestamp="20230318 09:26:14.757" level="INFO">${matches} = True</msg>
<status status="PASS" starttime="20230318 09:26:10.039" endtime="20230318 09:26:14.757"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${matches}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20230318 09:26:14.757" endtime="20230318 09:26:14.757"/>
</kw>
<status status="PASS" starttime="20230318 09:26:10.039" endtime="20230318 09:26:14.757"/>
</kw>
<kw name="Verify Key EC Replication Config" library="shell">
<arg>/ectest-new/ectest/core-site.xml</arg>
<arg>RS</arg>
<arg>3</arg>
<arg>2</arg>
<arg>1048576</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh key info ${key} | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:26:14.762" level="INFO">Running command 'ozone sh key info /ectest-new/ectest/core-site.xml | jq -r '.replicationConfig.replicationType, .replicationConfig.codec, .replicationConfig.data, .replicationConfig.parity, .replicationConfig.ecChunkSize' 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:26:17.785" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:26:17.785" level="INFO">${output} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:14.760" endtime="20230318 09:26:17.785"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:26:17.787" level="INFO">EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:17.786" endtime="20230318 09:26:17.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:26:17.787" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:26:17.787" endtime="20230318 09:26:17.787"/>
</kw>
<status status="PASS" starttime="20230318 09:26:14.759" endtime="20230318 09:26:17.788"/>
</kw>
<msg timestamp="20230318 09:26:17.788" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:26:14.759" endtime="20230318 09:26:17.788"/>
</kw>
<msg timestamp="20230318 09:26:17.789" level="INFO">${result} = EC
RS
3
2
1048576</msg>
<status status="PASS" starttime="20230318 09:26:14.758" endtime="20230318 09:26:17.789"/>
</kw>
<kw name="Verify EC Replication Config" library="shell">
<arg>${result}</arg>
<arg>${encoding}</arg>
<arg>${data}</arg>
<arg>${parity}</arg>
<arg>${chunksize}</arg>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)EC$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:17.790" endtime="20230318 09:26:17.790"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${encoding}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:17.790" endtime="20230318 09:26:17.790"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${data}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:17.790" endtime="20230318 09:26:17.791"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${parity}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:17.791" endtime="20230318 09:26:17.791"/>
</kw>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${result}</arg>
<arg>^(?m)${chunksize}$</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20230318 09:26:17.791" endtime="20230318 09:26:17.792"/>
</kw>
<status status="PASS" starttime="20230318 09:26:17.789" endtime="20230318 09:26:17.792"/>
</kw>
<status status="PASS" starttime="20230318 09:26:14.758" endtime="20230318 09:26:17.792"/>
</kw>
<tag>post-finalized-ec-tests</tag>
<status status="PASS" starttime="20230318 09:25:48.535" endtime="20230318 09:26:17.792"/>
</test>
<doc>Test EC during upgrade</doc>
<status status="PASS" starttime="20230318 09:25:48.480" endtime="20230318 09:26:17.793"/>
</suite>
<suite id="s1-s13" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s13-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:12.555" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:24:12.554" endtime="20230318 09:24:12.555"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:12.555" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:12.555" endtime="20230318 09:24:12.555"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:12.556" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:12.555" endtime="20230318 09:24:12.556"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:12.556" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:12.556" endtime="20230318 09:24:12.556"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:12.557" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:12.558" level="INFO">${version_file_contents} = #Sat Mar 18 09:23:13 UTC 2023
cTime=1679130799690
clusterID=4ba198f1-a013-49ce-b059-f73788d69001
nodeType=DATANODE
layoutVersion=4
</msg>
<status status="PASS" starttime="20230318 09:24:12.557" endtime="20230318 09:24:12.558"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:12.558" level="INFO">${version_line} = layoutVersion=4</msg>
<status status="PASS" starttime="20230318 09:24:12.558" endtime="20230318 09:24:12.559"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:12.559" endtime="20230318 09:24:12.559"/>
</kw>
<status status="PASS" starttime="20230318 09:24:12.557" endtime="20230318 09:24:12.559"/>
</kw>
<status status="PASS" starttime="20230318 09:24:12.556" endtime="20230318 09:24:12.559"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:12.553" endtime="20230318 09:24:12.559"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:12.504" endtime="20230318 09:24:12.560"/>
</suite>
<suite id="s1-s14" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s14-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:16.279" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:24:16.278" endtime="20230318 09:24:16.279"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:16.279" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:16.279" endtime="20230318 09:24:16.279"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:16.280" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:16.279" endtime="20230318 09:24:16.280"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:16.280" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:16.280" endtime="20230318 09:24:16.280"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:16.281" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:16.282" level="INFO">${version_file_contents} = #Sat Mar 18 09:23:14 UTC 2023
cTime=1679130800895
clusterID=2b374f74-8596-4317-81ba-ce0a491ddd96
nodeType=DATANODE
layoutVersion=4
</msg>
<status status="PASS" starttime="20230318 09:24:16.281" endtime="20230318 09:24:16.282"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:16.282" level="INFO">${version_line} = layoutVersion=4</msg>
<status status="PASS" starttime="20230318 09:24:16.282" endtime="20230318 09:24:16.282"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:16.283" endtime="20230318 09:24:16.283"/>
</kw>
<status status="PASS" starttime="20230318 09:24:16.281" endtime="20230318 09:24:16.283"/>
</kw>
<status status="PASS" starttime="20230318 09:24:16.280" endtime="20230318 09:24:16.283"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:16.277" endtime="20230318 09:24:16.283"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:16.233" endtime="20230318 09:24:16.284"/>
</suite>
<suite id="s1-s15" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s15-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:20.122" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:24:20.121" endtime="20230318 09:24:20.122"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:20.122" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:20.122" endtime="20230318 09:24:20.122"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:20.123" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:20.122" endtime="20230318 09:24:20.123"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:20.123" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:20.123" endtime="20230318 09:24:20.123"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:20.124" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:20.125" level="INFO">${version_file_contents} = #Sat Mar 18 09:23:21 UTC 2023
cTime=1679130800406
clusterID=bae0cd8d-e50f-4d23-8974-b816860f8fc3
nodeType=DATANODE
layoutVersion=4
</msg>
<status status="PASS" starttime="20230318 09:24:20.124" endtime="20230318 09:24:20.125"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:20.126" level="INFO">${version_line} = layoutVersion=4</msg>
<status status="PASS" starttime="20230318 09:24:20.125" endtime="20230318 09:24:20.126"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:20.126" endtime="20230318 09:24:20.126"/>
</kw>
<status status="PASS" starttime="20230318 09:24:20.124" endtime="20230318 09:24:20.126"/>
</kw>
<status status="PASS" starttime="20230318 09:24:20.123" endtime="20230318 09:24:20.126"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:20.120" endtime="20230318 09:24:20.126"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:20.062" endtime="20230318 09:24:20.128"/>
</suite>
<suite id="s1-s16" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s16-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:23.800" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:24:23.799" endtime="20230318 09:24:23.800"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:23.800" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:23.800" endtime="20230318 09:24:23.800"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:23.801" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:23.800" endtime="20230318 09:24:23.801"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:23.801" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:23.801" endtime="20230318 09:24:23.801"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:23.802" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:23.802" level="INFO">${version_file_contents} = #Sat Mar 18 09:24:04 UTC 2023
cTime=1679130806601
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=5df8aa57-4e45-425e-bf1a-fdc0d10ba40e
nodeType=OM
layoutVersion=3
nodeId=om1
</msg>
<status status="PASS" starttime="20230318 09:24:23.802" endtime="20230318 09:24:23.802"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:23.803" level="INFO">${version_line} = layoutVersion=3</msg>
<status status="PASS" starttime="20230318 09:24:23.802" endtime="20230318 09:24:23.803"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:23.803" endtime="20230318 09:24:23.803"/>
</kw>
<status status="PASS" starttime="20230318 09:24:23.801" endtime="20230318 09:24:23.803"/>
</kw>
<status status="PASS" starttime="20230318 09:24:23.801" endtime="20230318 09:24:23.803"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:23.798" endtime="20230318 09:24:23.804"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:23.753" endtime="20230318 09:24:23.804"/>
</suite>
<suite id="s1-s17" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s17-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:27.424" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:24:27.423" endtime="20230318 09:24:27.424"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:27.424" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:27.424" endtime="20230318 09:24:27.424"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:27.425" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:27.424" endtime="20230318 09:24:27.425"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:27.425" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:27.425" endtime="20230318 09:24:27.425"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:27.426" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:27.427" level="INFO">${version_file_contents} = #Sat Mar 18 09:24:04 UTC 2023
cTime=1679130805440
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=9baf9571-22e1-4cbc-a749-ca7a811fa5c7
nodeType=OM
layoutVersion=3
nodeId=om2
</msg>
<status status="PASS" starttime="20230318 09:24:27.426" endtime="20230318 09:24:27.427"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:27.427" level="INFO">${version_line} = layoutVersion=3</msg>
<status status="PASS" starttime="20230318 09:24:27.427" endtime="20230318 09:24:27.427"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:27.427" endtime="20230318 09:24:27.428"/>
</kw>
<status status="PASS" starttime="20230318 09:24:27.426" endtime="20230318 09:24:27.428"/>
</kw>
<status status="PASS" starttime="20230318 09:24:27.425" endtime="20230318 09:24:27.428"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:27.422" endtime="20230318 09:24:27.428"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:27.379" endtime="20230318 09:24:27.429"/>
</suite>
<suite id="s1-s18" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s18-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:31.104" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:24:31.103" endtime="20230318 09:24:31.104"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:24:31.105" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:24:31.104" endtime="20230318 09:24:31.105"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:24:31.105" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:24:31.105" endtime="20230318 09:24:31.105"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:24:31.106" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:24:31.105" endtime="20230318 09:24:31.106"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:24:31.107" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:24:31.107" level="INFO">${version_file_contents} = #Sat Mar 18 09:24:04 UTC 2023
cTime=1679130804636
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=0f6150bb-9e5e-454d-8e60-9641efa8e7fe
nodeType=OM
layoutVersion=3
nodeId=om3
</msg>
<status status="PASS" starttime="20230318 09:24:31.106" endtime="20230318 09:24:31.107"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:24:31.107" level="INFO">${version_line} = layoutVersion=3</msg>
<status status="PASS" starttime="20230318 09:24:31.107" endtime="20230318 09:24:31.107"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:31.107" endtime="20230318 09:24:31.108"/>
</kw>
<status status="PASS" starttime="20230318 09:24:31.106" endtime="20230318 09:24:31.108"/>
</kw>
<status status="PASS" starttime="20230318 09:24:31.106" endtime="20230318 09:24:31.108"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:31.102" endtime="20230318 09:24:31.108"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:24:31.054" endtime="20230318 09:24:31.109"/>
</suite>
<suite id="s1-s19" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s19-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:24:34.659" level="INFO">${random} = 82647</msg>
<status status="PASS" starttime="20230318 09:24:34.659" endtime="20230318 09:24:34.659"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:34.665" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-82647 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:39.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:39.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:34.661" endtime="20230318 09:24:39.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:39.188" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:39.188" endtime="20230318 09:24:39.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:39.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:39.189" endtime="20230318 09:24:39.189"/>
</kw>
<status status="PASS" starttime="20230318 09:24:34.660" endtime="20230318 09:24:39.189"/>
</kw>
<msg timestamp="20230318 09:24:39.189" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:34.660" endtime="20230318 09:24:39.191"/>
</kw>
<msg timestamp="20230318 09:24:39.191" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:34.659" endtime="20230318 09:24:39.191"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:39.191" endtime="20230318 09:24:39.191"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:39.194" level="INFO">Running command 'cat /tmp/key-82647 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:39.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:39.198" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:39.192" endtime="20230318 09:24:39.198"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:39.199" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:39.198" endtime="20230318 09:24:39.199"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:39.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:39.199" endtime="20230318 09:24:39.200"/>
</kw>
<msg timestamp="20230318 09:24:39.200" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:39.191" endtime="20230318 09:24:39.200"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:39.200" endtime="20230318 09:24:39.201"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:39.203" level="INFO">Running command 'rm /tmp/key-82647 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:39.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:39.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:39.202" endtime="20230318 09:24:39.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:39.207" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:39.206" endtime="20230318 09:24:39.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:39.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:39.207" endtime="20230318 09:24:39.208"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.201" endtime="20230318 09:24:39.208"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:34.658" endtime="20230318 09:24:39.208"/>
</test>
<test id="s1-s19-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:39.214" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:39.754" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:39.754" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:39.212" endtime="20230318 09:24:39.754"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:39.756" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:39.755" endtime="20230318 09:24:39.756"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:39.756" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:39.756" endtime="20230318 09:24:39.757"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.211" endtime="20230318 09:24:39.757"/>
</kw>
<msg timestamp="20230318 09:24:39.757" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:39.211" endtime="20230318 09:24:39.758"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.211" endtime="20230318 09:24:39.758"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:39.762" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:40.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:40.267" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:39.759" endtime="20230318 09:24:40.267"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:40.268" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:40.268" endtime="20230318 09:24:40.268"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:40.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:40.269" endtime="20230318 09:24:40.269"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.759" endtime="20230318 09:24:40.269"/>
</kw>
<msg timestamp="20230318 09:24:40.269" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:39.758" endtime="20230318 09:24:40.270"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.758" endtime="20230318 09:24:40.270"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:40.274" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:40.725" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:40.725" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:40.271" endtime="20230318 09:24:40.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:40.727" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:40.726" endtime="20230318 09:24:40.727"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:40.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:40.727" endtime="20230318 09:24:40.727"/>
</kw>
<status status="PASS" starttime="20230318 09:24:40.271" endtime="20230318 09:24:40.728"/>
</kw>
<msg timestamp="20230318 09:24:40.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:40.271" endtime="20230318 09:24:40.728"/>
</kw>
<status status="PASS" starttime="20230318 09:24:40.270" endtime="20230318 09:24:40.729"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:40.732" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:41.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:41.180" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:40.730" endtime="20230318 09:24:41.180"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:41.181" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:41.180" endtime="20230318 09:24:41.181"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:41.182" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:41.181" endtime="20230318 09:24:41.182"/>
</kw>
<status status="PASS" starttime="20230318 09:24:40.729" endtime="20230318 09:24:41.182"/>
</kw>
<msg timestamp="20230318 09:24:41.182" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:40.729" endtime="20230318 09:24:41.183"/>
</kw>
<status status="PASS" starttime="20230318 09:24:40.729" endtime="20230318 09:24:41.183"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.210" endtime="20230318 09:24:41.183"/>
</kw>
<status status="PASS" starttime="20230318 09:24:39.210" endtime="20230318 09:24:41.183"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:39.209" endtime="20230318 09:24:41.183"/>
</test>
<test id="s1-s19-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:41.189" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:43.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:43.907" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:41.187" endtime="20230318 09:24:43.907"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:43.909" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:24:41 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:24:43.908" endtime="20230318 09:24:43.909"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:43.909" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:43.909" endtime="20230318 09:24:43.910"/>
</kw>
<msg timestamp="20230318 09:24:43.910" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:41.186" endtime="20230318 09:24:43.910"/>
</kw>
<msg timestamp="20230318 09:24:43.910" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:20:58 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:41.186" endtime="20230318 09:24:43.910"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:43.910" endtime="20230318 09:24:43.911"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:43.914" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:43.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:43.917" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:43.911" endtime="20230318 09:24:43.917"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:43.919" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:43.918" endtime="20230318 09:24:43.919"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:43.919" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:43.919" endtime="20230318 09:24:43.919"/>
</kw>
<msg timestamp="20230318 09:24:43.920" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:43.911" endtime="20230318 09:24:43.920"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:43.920" endtime="20230318 09:24:43.920"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:43.923" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:43.925" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:43.926" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:43.921" endtime="20230318 09:24:43.926"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:43.927" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:43.926" endtime="20230318 09:24:43.927"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:43.927" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:43.927" endtime="20230318 09:24:43.928"/>
</kw>
<status status="PASS" starttime="20230318 09:24:43.921" endtime="20230318 09:24:43.928"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:41.185" endtime="20230318 09:24:43.928"/>
</test>
<test id="s1-s19-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:43.933" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:44.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:44.550" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:21:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:43.931" endtime="20230318 09:24:44.550"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:44.551" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:21:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:24:44 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:24:44.550" endtime="20230318 09:24:44.551"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:44.552" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:44.551" endtime="20230318 09:24:44.552"/>
</kw>
<msg timestamp="20230318 09:24:44.552" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:21:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:43.931" endtime="20230318 09:24:44.552"/>
</kw>
<msg timestamp="20230318 09:24:44.552" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:21:00 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:43.930" endtime="20230318 09:24:44.552"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:44.552" endtime="20230318 09:24:44.553"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:44.556" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:44.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:44.558" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:44.554" endtime="20230318 09:24:44.559"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:44.560" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:44.559" endtime="20230318 09:24:44.560"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:44.560" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:44.560" endtime="20230318 09:24:44.560"/>
</kw>
<msg timestamp="20230318 09:24:44.561" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:44.553" endtime="20230318 09:24:44.561"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:44.561" endtime="20230318 09:24:44.561"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:44.564" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:44.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:44.566" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:44.562" endtime="20230318 09:24:44.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:44.567" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:44.567" endtime="20230318 09:24:44.567"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:44.568" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:44.567" endtime="20230318 09:24:44.568"/>
</kw>
<status status="PASS" starttime="20230318 09:24:44.561" endtime="20230318 09:24:44.568"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:43.929" endtime="20230318 09:24:44.569"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:24:34.587" endtime="20230318 09:24:44.570"/>
</suite>
<suite id="s1-s20" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s20-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:24:48.141" level="INFO">${random} = 69674</msg>
<status status="PASS" starttime="20230318 09:24:48.141" endtime="20230318 09:24:48.141"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:48.147" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-69674 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:52.701" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:52.702" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:48.143" endtime="20230318 09:24:52.702"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:52.703" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:52.702" endtime="20230318 09:24:52.703"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:52.704" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:52.703" endtime="20230318 09:24:52.704"/>
</kw>
<status status="PASS" starttime="20230318 09:24:48.142" endtime="20230318 09:24:52.704"/>
</kw>
<msg timestamp="20230318 09:24:52.704" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:48.142" endtime="20230318 09:24:52.705"/>
</kw>
<msg timestamp="20230318 09:24:52.706" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:48.141" endtime="20230318 09:24:52.706"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:52.706" endtime="20230318 09:24:52.706"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:52.709" level="INFO">Running command 'cat /tmp/key-69674 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:52.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:52.712" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:52.707" endtime="20230318 09:24:52.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:52.713" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:52.712" endtime="20230318 09:24:52.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:52.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:52.713" endtime="20230318 09:24:52.713"/>
</kw>
<msg timestamp="20230318 09:24:52.714" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:52.706" endtime="20230318 09:24:52.714"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:52.714" endtime="20230318 09:24:52.714"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:52.717" level="INFO">Running command 'rm /tmp/key-69674 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:52.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:52.719" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:52.715" endtime="20230318 09:24:52.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:52.720" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:52.720" endtime="20230318 09:24:52.720"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:52.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:52.721" endtime="20230318 09:24:52.721"/>
</kw>
<status status="PASS" starttime="20230318 09:24:52.714" endtime="20230318 09:24:52.721"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:48.140" endtime="20230318 09:24:52.722"/>
</test>
<test id="s1-s20-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:52.727" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:53.195" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:53.195" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:52.725" endtime="20230318 09:24:53.195"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:53.196" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:53.195" endtime="20230318 09:24:53.196"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:53.197" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:53.196" endtime="20230318 09:24:53.197"/>
</kw>
<status status="PASS" starttime="20230318 09:24:52.724" endtime="20230318 09:24:53.197"/>
</kw>
<msg timestamp="20230318 09:24:53.197" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:52.724" endtime="20230318 09:24:53.198"/>
</kw>
<status status="PASS" starttime="20230318 09:24:52.724" endtime="20230318 09:24:53.198"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:53.201" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:53.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:53.674" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:53.199" endtime="20230318 09:24:53.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:53.675" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:53.675" endtime="20230318 09:24:53.676"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:53.676" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:53.676" endtime="20230318 09:24:53.676"/>
</kw>
<status status="PASS" starttime="20230318 09:24:53.199" endtime="20230318 09:24:53.676"/>
</kw>
<msg timestamp="20230318 09:24:53.677" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:53.198" endtime="20230318 09:24:53.677"/>
</kw>
<status status="PASS" starttime="20230318 09:24:53.198" endtime="20230318 09:24:53.677"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:53.681" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:54.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:54.124" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:53.678" endtime="20230318 09:24:54.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:54.125" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:54.125" endtime="20230318 09:24:54.125"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:54.126" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:54.125" endtime="20230318 09:24:54.126"/>
</kw>
<status status="PASS" starttime="20230318 09:24:53.678" endtime="20230318 09:24:54.126"/>
</kw>
<msg timestamp="20230318 09:24:54.126" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:53.678" endtime="20230318 09:24:54.127"/>
</kw>
<status status="PASS" starttime="20230318 09:24:53.677" endtime="20230318 09:24:54.127"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:54.130" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:54.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:54.578" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:54.128" endtime="20230318 09:24:54.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:54.580" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:54.579" endtime="20230318 09:24:54.580"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:54.581" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:54.580" endtime="20230318 09:24:54.581"/>
</kw>
<status status="PASS" starttime="20230318 09:24:54.128" endtime="20230318 09:24:54.581"/>
</kw>
<msg timestamp="20230318 09:24:54.581" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:54.128" endtime="20230318 09:24:54.582"/>
</kw>
<status status="PASS" starttime="20230318 09:24:54.127" endtime="20230318 09:24:54.582"/>
</kw>
<status status="PASS" starttime="20230318 09:24:52.723" endtime="20230318 09:24:54.582"/>
</kw>
<status status="PASS" starttime="20230318 09:24:52.723" endtime="20230318 09:24:54.582"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:52.722" endtime="20230318 09:24:54.583"/>
</test>
<test id="s1-s20-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:54.588" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.174" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:54.585" endtime="20230318 09:24:55.174"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.175" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:24:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:24:55.174" endtime="20230318 09:24:55.175"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.176" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.176" endtime="20230318 09:24:55.176"/>
</kw>
<msg timestamp="20230318 09:24:55.176" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:54.585" endtime="20230318 09:24:55.177"/>
</kw>
<msg timestamp="20230318 09:24:55.177" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:54.584" endtime="20230318 09:24:55.177"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:55.177" endtime="20230318 09:24:55.177"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:55.180" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.183" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:55.178" endtime="20230318 09:24:55.183"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.184" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:55.183" endtime="20230318 09:24:55.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.184" endtime="20230318 09:24:55.185"/>
</kw>
<msg timestamp="20230318 09:24:55.185" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:24:55.177" endtime="20230318 09:24:55.185"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:55.185" endtime="20230318 09:24:55.186"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:55.188" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.190" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.190" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:55.186" endtime="20230318 09:24:55.191"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.192" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:55.191" endtime="20230318 09:24:55.192"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.192" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.192" endtime="20230318 09:24:55.192"/>
</kw>
<status status="PASS" starttime="20230318 09:24:55.186" endtime="20230318 09:24:55.193"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:54.583" endtime="20230318 09:24:55.193"/>
</test>
<test id="s1-s20-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:55.198" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.780" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.780" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:55.196" endtime="20230318 09:24:55.780"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.781" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:24:55 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:24:55.780" endtime="20230318 09:24:55.781"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.782" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.782" endtime="20230318 09:24:55.782"/>
</kw>
<msg timestamp="20230318 09:24:55.782" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:55.195" endtime="20230318 09:24:55.782"/>
</kw>
<msg timestamp="20230318 09:24:55.783" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:24:55.195" endtime="20230318 09:24:55.783"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:55.783" endtime="20230318 09:24:55.783"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:55.786" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.789" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:55.784" endtime="20230318 09:24:55.789"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.790" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:55.789" endtime="20230318 09:24:55.790"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.791" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.790" endtime="20230318 09:24:55.791"/>
</kw>
<msg timestamp="20230318 09:24:55.791" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:24:55.784" endtime="20230318 09:24:55.791"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:24:55.791" endtime="20230318 09:24:55.792"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:55.795" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:55.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:55.797" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:24:55.792" endtime="20230318 09:24:55.797"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:55.798" level="INFO"/>
<status status="PASS" starttime="20230318 09:24:55.798" endtime="20230318 09:24:55.799"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:55.799" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:55.799" endtime="20230318 09:24:55.799"/>
</kw>
<status status="PASS" starttime="20230318 09:24:55.792" endtime="20230318 09:24:55.800"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:24:55.194" endtime="20230318 09:24:55.800"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:24:48.065" endtime="20230318 09:24:55.802"/>
</suite>
<suite id="s1-s21" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s21-t1" name="Finalize SCM" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230318 09:22:33.602" endtime="20230318 09:22:33.603"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:22:33.608" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:01.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:02.000" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230318 09:22:33.604" endtime="20230318 09:24:02.000"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:02.001" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: ERASURE_CODED_STORAGE_SUPPORT.
No onFinalize work defined for feature: DATANODE_SCHEMA_V3.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230318 09:24:02.000" endtime="20230318 09:24:02.001"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:02.002" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:02.001" endtime="20230318 09:24:02.002"/>
</kw>
<status status="PASS" starttime="20230318 09:22:33.603" endtime="20230318 09:24:02.002"/>
</kw>
<msg timestamp="20230318 09:24:02.002" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:22:33.603" endtime="20230318 09:24:02.003"/>
</kw>
<msg timestamp="20230318 09:24:02.003" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230318 09:22:33.603" endtime="20230318 09:24:02.003"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:02.004" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: ERASURE_CODED_STORAGE_SUPPORT.
No onFinalize work defined for feature: DATANODE_SCHEMA_V3.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230318 09:24:02.004" endtime="20230318 09:24:02.004"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230318 09:22:33.599" endtime="20230318 09:24:02.004"/>
</test>
<test id="s1-s21-t2" name="Finalize OMs" line="28">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230318 09:24:02.006" endtime="20230318 09:24:02.007"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:24:02.011" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:24:05.321" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:24:05.321" level="INFO">${output} = com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om2 is not the leader. Suggested leader is OM:om3[om3/10.9.0...</msg>
<status status="PASS" starttime="20230318 09:24:02.008" endtime="20230318 09:24:05.321"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:05.323" level="INFO">com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om2 is not the leader. Suggested leader is OM:om3[om3/10.9.0.13].
	at org.apache.hadoop.ozone.om.OzoneManager.checkLeaderStatus(OzoneManager.java:3954)
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.checkLeaderStatus(OzoneManagerRatisUtils.java:451)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:183)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:147)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:465)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:578)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:556)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1043)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:971)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2976)
, while invoking $Proxy20.submitRequest over nodeId=om2,nodeAddress=om2:9862 after 1 failover attempts. Trying to failover immediately.
Finalization started.
No onFinalize work defined for feature: ERASURE_CODED_STORAGE_SUPPORT.
No onFinalize work defined for feature: BUCKET_LAYOUT_SUPPORT.
No onFinalize work defined for feature: MULTITENANCY_SCHEMA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230318 09:24:05.322" endtime="20230318 09:24:05.323"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:24:05.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:24:05.323" endtime="20230318 09:24:05.323"/>
</kw>
<status status="PASS" starttime="20230318 09:24:02.008" endtime="20230318 09:24:05.324"/>
</kw>
<msg timestamp="20230318 09:24:05.324" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:24:02.007" endtime="20230318 09:24:05.324"/>
</kw>
<msg timestamp="20230318 09:24:05.325" level="INFO">${result} = com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om2 is not the leader. Suggested leader is OM:om3[om3/10.9.0...</msg>
<status status="PASS" starttime="20230318 09:24:02.007" endtime="20230318 09:24:05.325"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:24:05.325" level="INFO">com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om2 is not the leader. Suggested leader is OM:om3[om3/10.9.0.13].
	at org.apache.hadoop.ozone.om.OzoneManager.checkLeaderStatus(OzoneManager.java:3954)
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.checkLeaderStatus(OzoneManagerRatisUtils.java:451)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:183)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:147)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:465)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:578)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:556)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1043)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:971)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:423)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2976)
, while invoking $Proxy20.submitRequest over nodeId=om2,nodeAddress=om2:9862 after 1 failover attempts. Trying to failover immediately.
Finalization started.
No onFinalize work defined for feature: ERASURE_CODED_STORAGE_SUPPORT.
No onFinalize work defined for feature: BUCKET_LAYOUT_SUPPORT.
No onFinalize work defined for feature: MULTITENANCY_SCHEMA.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230318 09:24:05.325" endtime="20230318 09:24:05.325"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230318 09:24:02.005" endtime="20230318 09:24:05.325"/>
</test>
<doc>Finalize Upgrade of OMs and SCM</doc>
<status status="PASS" starttime="20230318 09:22:33.553" endtime="20230318 09:24:05.327"/>
</suite>
<suite id="s1-s22" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s22-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:43.642" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:16:43.642" endtime="20230318 09:16:43.642"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:43.643" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:43.642" endtime="20230318 09:16:43.643"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:43.643" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:43.643" endtime="20230318 09:16:43.643"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:43.644" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:43.643" endtime="20230318 09:16:43.644"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:43.645" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:43.645" level="INFO">${version_file_contents} = #Sat Mar 18 09:13:19 UTC 2023
cTime=1679130799690
clusterID=4ba198f1-a013-49ce-b059-f73788d69001
nodeType=DATANODE
layoutVersion=2
</msg>
<status status="PASS" starttime="20230318 09:16:43.644" endtime="20230318 09:16:43.645"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:43.646" level="INFO">${version_line} = layoutVersion=2</msg>
<status status="PASS" starttime="20230318 09:16:43.645" endtime="20230318 09:16:43.646"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:43.646" endtime="20230318 09:16:43.646"/>
</kw>
<status status="PASS" starttime="20230318 09:16:43.644" endtime="20230318 09:16:43.646"/>
</kw>
<status status="PASS" starttime="20230318 09:16:43.644" endtime="20230318 09:16:43.646"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:43.641" endtime="20230318 09:16:43.647"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:43.596" endtime="20230318 09:16:43.647"/>
</suite>
<suite id="s1-s23" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s23-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:18:05.216" level="INFO">${random} = 29487</msg>
<status status="PASS" starttime="20230318 09:18:05.216" endtime="20230318 09:18:05.216"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:05.222" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-29487 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:09.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:09.564" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:05.218" endtime="20230318 09:18:09.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:09.566" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:09.565" endtime="20230318 09:18:09.566"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:09.566" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:09.566" endtime="20230318 09:18:09.566"/>
</kw>
<status status="PASS" starttime="20230318 09:18:05.217" endtime="20230318 09:18:09.567"/>
</kw>
<msg timestamp="20230318 09:18:09.567" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:05.217" endtime="20230318 09:18:09.568"/>
</kw>
<msg timestamp="20230318 09:18:09.568" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:05.216" endtime="20230318 09:18:09.568"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:09.569" endtime="20230318 09:18:09.569"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:09.572" level="INFO">Running command 'cat /tmp/key-29487 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:09.574" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:09.574" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:09.570" endtime="20230318 09:18:09.574"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:09.575" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:09.575" endtime="20230318 09:18:09.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:09.576" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:09.576" endtime="20230318 09:18:09.576"/>
</kw>
<msg timestamp="20230318 09:18:09.577" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:09.569" endtime="20230318 09:18:09.577"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:09.577" endtime="20230318 09:18:09.577"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:09.580" level="INFO">Running command 'rm /tmp/key-29487 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:09.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:09.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:09.578" endtime="20230318 09:18:09.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:09.583" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:09.583" endtime="20230318 09:18:09.583"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:09.584" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:09.583" endtime="20230318 09:18:09.584"/>
</kw>
<status status="PASS" starttime="20230318 09:18:09.577" endtime="20230318 09:18:09.584"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:05.215" endtime="20230318 09:18:09.585"/>
</test>
<test id="s1-s23-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:09.590" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:10.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:10.043" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:09.589" endtime="20230318 09:18:10.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:10.045" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:10.044" endtime="20230318 09:18:10.045"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:10.045" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:10.045" endtime="20230318 09:18:10.045"/>
</kw>
<status status="PASS" starttime="20230318 09:18:09.588" endtime="20230318 09:18:10.046"/>
</kw>
<msg timestamp="20230318 09:18:10.046" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:09.588" endtime="20230318 09:18:10.046"/>
</kw>
<status status="PASS" starttime="20230318 09:18:09.587" endtime="20230318 09:18:10.046"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:10.050" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:10.501" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:10.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:10.048" endtime="20230318 09:18:10.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:10.503" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:10.502" endtime="20230318 09:18:10.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:10.503" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:10.503" endtime="20230318 09:18:10.504"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.047" endtime="20230318 09:18:10.504"/>
</kw>
<msg timestamp="20230318 09:18:10.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:10.047" endtime="20230318 09:18:10.504"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.047" endtime="20230318 09:18:10.505"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:10.508" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:10.952" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:10.952" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:10.506" endtime="20230318 09:18:10.952"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:10.953" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:10.953" endtime="20230318 09:18:10.953"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:10.954" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:10.954" endtime="20230318 09:18:10.954"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.505" endtime="20230318 09:18:10.954"/>
</kw>
<msg timestamp="20230318 09:18:10.954" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:10.505" endtime="20230318 09:18:10.955"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.505" endtime="20230318 09:18:10.955"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:10.959" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:11.407" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:11.407" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:10.957" endtime="20230318 09:18:11.407"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:11.408" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:11.407" endtime="20230318 09:18:11.408"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:11.409" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:11.408" endtime="20230318 09:18:11.409"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.956" endtime="20230318 09:18:11.409"/>
</kw>
<msg timestamp="20230318 09:18:11.409" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:10.956" endtime="20230318 09:18:11.410"/>
</kw>
<status status="PASS" starttime="20230318 09:18:10.955" endtime="20230318 09:18:11.410"/>
</kw>
<status status="PASS" starttime="20230318 09:18:09.587" endtime="20230318 09:18:11.410"/>
</kw>
<status status="PASS" starttime="20230318 09:18:09.586" endtime="20230318 09:18:11.410"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:09.586" endtime="20230318 09:18:11.410"/>
</test>
<test id="s1-s23-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:11.415" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.123" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:11.413" endtime="20230318 09:18:12.123"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.125" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:18:11 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:18:12.124" endtime="20230318 09:18:12.125"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.125" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.125" endtime="20230318 09:18:12.125"/>
</kw>
<msg timestamp="20230318 09:18:12.126" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:11.412" endtime="20230318 09:18:12.126"/>
</kw>
<msg timestamp="20230318 09:18:12.126" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:17:57 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:11.412" endtime="20230318 09:18:12.126"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:12.126" endtime="20230318 09:18:12.129"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:12.137" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.141" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:12.130" endtime="20230318 09:18:12.141"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.144" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:12.144" endtime="20230318 09:18:12.145"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.145" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.145" endtime="20230318 09:18:12.145"/>
</kw>
<msg timestamp="20230318 09:18:12.147" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:18:12.130" endtime="20230318 09:18:12.147"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:12.147" endtime="20230318 09:18:12.148"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:12.154" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.157" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.157" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:12.148" endtime="20230318 09:18:12.157"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.158" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:12.158" endtime="20230318 09:18:12.158"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.159" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.159" endtime="20230318 09:18:12.159"/>
</kw>
<status status="PASS" starttime="20230318 09:18:12.148" endtime="20230318 09:18:12.159"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:11.411" endtime="20230318 09:18:12.160"/>
</test>
<test id="s1-s23-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:12.168" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.812" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.812" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:12.164" endtime="20230318 09:18:12.812"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.813" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:18:12 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:18:12.813" endtime="20230318 09:18:12.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.814" endtime="20230318 09:18:12.814"/>
</kw>
<msg timestamp="20230318 09:18:12.814" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:12.163" endtime="20230318 09:18:12.814"/>
</kw>
<msg timestamp="20230318 09:18:12.815" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:18:01 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:18:12.162" endtime="20230318 09:18:12.815"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:12.815" endtime="20230318 09:18:12.817"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:12.820" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.822" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:18:12.817" endtime="20230318 09:18:12.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.823" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:18:12.823" endtime="20230318 09:18:12.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.824" endtime="20230318 09:18:12.824"/>
</kw>
<msg timestamp="20230318 09:18:12.825" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:18:12.817" endtime="20230318 09:18:12.825"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:12.825" endtime="20230318 09:18:12.825"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:12.828" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:12.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:12.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:12.826" endtime="20230318 09:18:12.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:12.831" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:12.831" endtime="20230318 09:18:12.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:12.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:12.832" endtime="20230318 09:18:12.832"/>
</kw>
<status status="PASS" starttime="20230318 09:18:12.825" endtime="20230318 09:18:12.832"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:12.162" endtime="20230318 09:18:12.833"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:18:05.145" endtime="20230318 09:18:12.834"/>
</suite>
<suite id="s1-s24" name="Upgrade-Ec-Check" source="/opt/hadoop/smoketest/ec/upgrade-ec-check.robot">
<test id="s1-s24-t1" name="Test EC Prior To Finalization" line="22">
<kw name="Execute" library="os">
<arg>ozone sh volume create /ectest</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:16.486" level="INFO">Running command 'ozone sh volume create /ectest 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:19.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:19.081" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:16.482" endtime="20230318 09:18:19.081"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:19.082" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:19.081" endtime="20230318 09:18:19.082"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:19.083" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:19.082" endtime="20230318 09:18:19.083"/>
</kw>
<status status="PASS" starttime="20230318 09:18:16.482" endtime="20230318 09:18:19.083"/>
</kw>
<msg timestamp="20230318 09:18:19.083" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:16.482" endtime="20230318 09:18:19.085"/>
</kw>
<status status="PASS" starttime="20230318 09:18:16.481" endtime="20230318 09:18:19.086"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${result}</var>
<arg>ozone sh bucket create --replication rs-3-2-1024k --type EC /ectest/ectest</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:19.089" level="INFO">Running command 'ozone sh bucket create --replication rs-3-2-1024k --type EC /ectest/ectest 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:21.399" level="INFO">${rc} = 255</msg>
<msg timestamp="20230318 09:18:21.399" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:19.087" endtime="20230318 09:18:21.399"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:21.400" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the request, please finalize the cluster upgrade and then try again.</msg>
<status status="PASS" starttime="20230318 09:18:21.400" endtime="20230318 09:18:21.401"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:21.401" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:21.401" endtime="20230318 09:18:21.401"/>
</kw>
<msg timestamp="20230318 09:18:21.402" level="INFO">${result} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:19.086" endtime="20230318 09:18:21.402"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:21.402" endtime="20230318 09:18:21.402"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket create /ectest/testpropchange</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:21.406" level="INFO">Running command 'ozone sh bucket create /ectest/testpropchange 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:24.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:24.206" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:21.403" endtime="20230318 09:18:24.206"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:24.207" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:24.207" endtime="20230318 09:18:24.207"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:24.208" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:24.207" endtime="20230318 09:18:24.208"/>
</kw>
<status status="PASS" starttime="20230318 09:18:21.403" endtime="20230318 09:18:24.208"/>
</kw>
<msg timestamp="20230318 09:18:24.208" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:21.403" endtime="20230318 09:18:24.209"/>
</kw>
<status status="PASS" starttime="20230318 09:18:21.402" endtime="20230318 09:18:24.209"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${result}</var>
<arg>ozone sh bucket set-replication-config -r rs-3-2-1024k -t EC /ectest/testpropchange</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:24.212" level="INFO">Running command 'ozone sh bucket set-replication-config -r rs-3-2-1024k -t EC /ectest/testpropchange 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:26.654" level="INFO">${rc} = 255</msg>
<msg timestamp="20230318 09:18:26.654" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:24.210" endtime="20230318 09:18:26.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:26.655" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the request, please finalize the cluster upgrade and then try again.</msg>
<status status="PASS" starttime="20230318 09:18:26.655" endtime="20230318 09:18:26.656"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:26.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:26.656" endtime="20230318 09:18:26.656"/>
</kw>
<msg timestamp="20230318 09:18:26.657" level="INFO">${result} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:24.209" endtime="20230318 09:18:26.657"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:26.657" endtime="20230318 09:18:26.657"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${result}</var>
<arg>ozone sh key put -r rs-3-2-1024k -t EC /ectest/testpropchange/core-site.xml /etc/hadoop/core-site.xml</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:26.660" level="INFO">Running command 'ozone sh key put -r rs-3-2-1024k -t EC /ectest/testpropchange/core-site.xml /etc/hadoop/core-site.xml 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:29.434" level="INFO">${rc} = 255</msg>
<msg timestamp="20230318 09:18:29.434" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:26.658" endtime="20230318 09:18:29.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:29.435" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the request, please finalize the cluster upgrade and then try again.</msg>
<status status="PASS" starttime="20230318 09:18:29.435" endtime="20230318 09:18:29.436"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:29.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:29.436" endtime="20230318 09:18:29.436"/>
</kw>
<msg timestamp="20230318 09:18:29.436" level="INFO">${result} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Cluster does not have the Erasure Coded Storage support feature finalized yet, but the request contains an Erasure Coded replication type. Rejecting the requ...</msg>
<status status="PASS" starttime="20230318 09:18:26.657" endtime="20230318 09:18:29.437"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:29.437" endtime="20230318 09:18:29.437"/>
</kw>
<tag>pre-finalized-ec-tests</tag>
<status status="PASS" starttime="20230318 09:18:16.480" endtime="20230318 09:18:29.437"/>
</test>
<doc>Test EC during upgrade</doc>
<status status="PASS" starttime="20230318 09:18:16.425" endtime="20230318 09:18:29.438"/>
</suite>
<suite id="s1-s25" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s25-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:47.398" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:16:47.397" endtime="20230318 09:16:47.398"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:47.398" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:47.398" endtime="20230318 09:16:47.398"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:47.399" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:47.398" endtime="20230318 09:16:47.399"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:47.399" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:47.399" endtime="20230318 09:16:47.399"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:47.400" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:47.401" level="INFO">${version_file_contents} = #Sat Mar 18 09:13:20 UTC 2023
cTime=1679130800895
clusterID=2b374f74-8596-4317-81ba-ce0a491ddd96
nodeType=DATANODE
layoutVersion=2
</msg>
<status status="PASS" starttime="20230318 09:16:47.400" endtime="20230318 09:16:47.401"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:47.402" level="INFO">${version_line} = layoutVersion=2</msg>
<status status="PASS" starttime="20230318 09:16:47.401" endtime="20230318 09:16:47.402"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:47.402" endtime="20230318 09:16:47.402"/>
</kw>
<status status="PASS" starttime="20230318 09:16:47.400" endtime="20230318 09:16:47.403"/>
</kw>
<status status="PASS" starttime="20230318 09:16:47.399" endtime="20230318 09:16:47.403"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:47.396" endtime="20230318 09:16:47.403"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:47.342" endtime="20230318 09:16:47.404"/>
</suite>
<suite id="s1-s26" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s26-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:51.128" level="INFO">Length is 38</msg>
<status status="PASS" starttime="20230318 09:16:51.126" endtime="20230318 09:16:51.128"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:51.128" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:51.128" endtime="20230318 09:16:51.128"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:51.129" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:51.128" endtime="20230318 09:16:51.129"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:51.129" level="INFO" html="true">File '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;' contains 131 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:51.129" endtime="20230318 09:16:51.129"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:51.130" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/dnlayoutversion/VERSION"&gt;/data/metadata/dnlayoutversion/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:51.131" level="INFO">${version_file_contents} = #Sat Mar 18 09:13:20 UTC 2023
cTime=1679130800406
clusterID=bae0cd8d-e50f-4d23-8974-b816860f8fc3
nodeType=DATANODE
layoutVersion=2
</msg>
<status status="PASS" starttime="20230318 09:16:51.130" endtime="20230318 09:16:51.131"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:51.131" level="INFO">${version_line} = layoutVersion=2</msg>
<status status="PASS" starttime="20230318 09:16:51.131" endtime="20230318 09:16:51.131"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:51.132" endtime="20230318 09:16:51.132"/>
</kw>
<status status="PASS" starttime="20230318 09:16:51.130" endtime="20230318 09:16:51.132"/>
</kw>
<status status="PASS" starttime="20230318 09:16:51.129" endtime="20230318 09:16:51.132"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:51.125" endtime="20230318 09:16:51.132"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:51.076" endtime="20230318 09:16:51.133"/>
</suite>
<suite id="s1-s27" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s27-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:54.874" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:16:54.873" endtime="20230318 09:16:54.874"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:54.874" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:54.874" endtime="20230318 09:16:54.874"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:54.875" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:54.874" endtime="20230318 09:16:54.875"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:54.875" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:54.875" endtime="20230318 09:16:54.875"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:54.877" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:54.878" level="INFO">${version_file_contents} = #Sat Mar 18 09:15:44 UTC 2023
cTime=1679130806601
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=5df8aa57-4e45-425e-bf1a-fdc0d10ba40e
nodeType=OM
layoutVersion=0
nodeId=om1
</msg>
<status status="PASS" starttime="20230318 09:16:54.877" endtime="20230318 09:16:54.878"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:54.878" level="INFO">${version_line} = layoutVersion=0</msg>
<status status="PASS" starttime="20230318 09:16:54.878" endtime="20230318 09:16:54.878"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:54.878" endtime="20230318 09:16:54.879"/>
</kw>
<status status="PASS" starttime="20230318 09:16:54.876" endtime="20230318 09:16:54.879"/>
</kw>
<status status="PASS" starttime="20230318 09:16:54.875" endtime="20230318 09:16:54.879"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:54.872" endtime="20230318 09:16:54.879"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:54.825" endtime="20230318 09:16:54.880"/>
</suite>
<suite id="s1-s28" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s28-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:58.551" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:16:58.551" endtime="20230318 09:16:58.551"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:58.552" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:58.551" endtime="20230318 09:16:58.552"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:58.552" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:58.552" endtime="20230318 09:16:58.552"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:58.553" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:58.553" endtime="20230318 09:16:58.553"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:58.554" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:58.554" level="INFO">${version_file_contents} = #Sat Mar 18 09:15:43 UTC 2023
cTime=1679130805440
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=9baf9571-22e1-4cbc-a749-ca7a811fa5c7
nodeType=OM
layoutVersion=0
nodeId=om2
</msg>
<status status="PASS" starttime="20230318 09:16:58.554" endtime="20230318 09:16:58.554"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:58.555" level="INFO">${version_line} = layoutVersion=0</msg>
<status status="PASS" starttime="20230318 09:16:58.555" endtime="20230318 09:16:58.555"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:58.555" endtime="20230318 09:16:58.556"/>
</kw>
<status status="PASS" starttime="20230318 09:16:58.553" endtime="20230318 09:16:58.556"/>
</kw>
<status status="PASS" starttime="20230318 09:16:58.553" endtime="20230318 09:16:58.556"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:58.550" endtime="20230318 09:16:58.556"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:58.504" endtime="20230318 09:16:58.557"/>
</suite>
<suite id="s1-s29" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s29-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:17:02.237" level="INFO">Length is 33</msg>
<status status="PASS" starttime="20230318 09:17:02.236" endtime="20230318 09:17:02.237"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:17:02.237" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:17:02.237" endtime="20230318 09:17:02.238"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:17:02.238" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:17:02.238" endtime="20230318 09:17:02.238"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:17:02.238" level="INFO" html="true">File '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;' contains 184 bytes.</msg>
<status status="PASS" starttime="20230318 09:17:02.238" endtime="20230318 09:17:02.239"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:17:02.240" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/om/current/VERSION"&gt;/data/metadata/om/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:17:02.240" level="INFO">${version_file_contents} = #Sat Mar 18 09:15:42 UTC 2023
cTime=1679130804636
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
omUuid=0f6150bb-9e5e-454d-8e60-9641efa8e7fe
nodeType=OM
layoutVersion=0
nodeId=om3
</msg>
<status status="PASS" starttime="20230318 09:17:02.239" endtime="20230318 09:17:02.240"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:17:02.241" level="INFO">${version_line} = layoutVersion=0</msg>
<status status="PASS" starttime="20230318 09:17:02.240" endtime="20230318 09:17:02.241"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:02.241" endtime="20230318 09:17:02.241"/>
</kw>
<status status="PASS" starttime="20230318 09:17:02.239" endtime="20230318 09:17:02.241"/>
</kw>
<status status="PASS" starttime="20230318 09:17:02.239" endtime="20230318 09:17:02.241"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:02.235" endtime="20230318 09:17:02.241"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:17:02.191" endtime="20230318 09:17:02.242"/>
</suite>
<suite id="s1-s30" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s30-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230318 09:17:06.055" level="INFO">${random} = 73831</msg>
<status status="PASS" starttime="20230318 09:17:06.054" endtime="20230318 09:17:06.055"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:06.062" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-73831 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:11.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:11.225" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:06.057" endtime="20230318 09:17:11.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:11.227" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:11.226" endtime="20230318 09:17:11.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:11.227" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:11.227" endtime="20230318 09:17:11.227"/>
</kw>
<status status="PASS" starttime="20230318 09:17:06.056" endtime="20230318 09:17:11.231"/>
</kw>
<msg timestamp="20230318 09:17:11.231" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:06.056" endtime="20230318 09:17:11.234"/>
</kw>
<msg timestamp="20230318 09:17:11.235" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:06.055" endtime="20230318 09:17:11.235"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:11.235" endtime="20230318 09:17:11.235"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:11.243" level="INFO">Running command 'cat /tmp/key-73831 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:11.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:11.248" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:11.236" endtime="20230318 09:17:11.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:11.249" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:11.248" endtime="20230318 09:17:11.249"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:11.251" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:11.249" endtime="20230318 09:17:11.251"/>
</kw>
<msg timestamp="20230318 09:17:11.252" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:11.235" endtime="20230318 09:17:11.252"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:11.252" endtime="20230318 09:17:11.252"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:11.256" level="INFO">Running command 'rm /tmp/key-73831 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:11.259" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:11.260" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:11.254" endtime="20230318 09:17:11.260"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:11.261" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:11.260" endtime="20230318 09:17:11.261"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:11.261" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:11.261" endtime="20230318 09:17:11.261"/>
</kw>
<status status="PASS" starttime="20230318 09:17:11.253" endtime="20230318 09:17:11.262"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:06.053" endtime="20230318 09:17:11.262"/>
</test>
<test id="s1-s30-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:11.269" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:12.091" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:12.091" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:11.267" endtime="20230318 09:17:12.091"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:12.093" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:12.092" endtime="20230318 09:17:12.093"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:12.093" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:12.093" endtime="20230318 09:17:12.094"/>
</kw>
<status status="PASS" starttime="20230318 09:17:11.266" endtime="20230318 09:17:12.094"/>
</kw>
<msg timestamp="20230318 09:17:12.094" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:11.266" endtime="20230318 09:17:12.095"/>
</kw>
<status status="PASS" starttime="20230318 09:17:11.265" endtime="20230318 09:17:12.095"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:12.099" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:12.589" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:12.589" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:12.096" endtime="20230318 09:17:12.589"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:12.590" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:12.590" endtime="20230318 09:17:12.591"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:12.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:12.591" endtime="20230318 09:17:12.591"/>
</kw>
<status status="PASS" starttime="20230318 09:17:12.096" endtime="20230318 09:17:12.591"/>
</kw>
<msg timestamp="20230318 09:17:12.591" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:12.095" endtime="20230318 09:17:12.592"/>
</kw>
<status status="PASS" starttime="20230318 09:17:12.095" endtime="20230318 09:17:12.592"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:12.596" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:13.106" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:13.106" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:12.593" endtime="20230318 09:17:13.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:13.107" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:13.106" endtime="20230318 09:17:13.107"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:13.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:13.107" endtime="20230318 09:17:13.108"/>
</kw>
<status status="PASS" starttime="20230318 09:17:12.593" endtime="20230318 09:17:13.108"/>
</kw>
<msg timestamp="20230318 09:17:13.108" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:12.593" endtime="20230318 09:17:13.109"/>
</kw>
<status status="PASS" starttime="20230318 09:17:12.592" endtime="20230318 09:17:13.109"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:13.113" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:13.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:13.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:13.110" endtime="20230318 09:17:13.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:13.635" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:13.634" endtime="20230318 09:17:13.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:13.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:13.635" endtime="20230318 09:17:13.636"/>
</kw>
<status status="PASS" starttime="20230318 09:17:13.110" endtime="20230318 09:17:13.636"/>
</kw>
<msg timestamp="20230318 09:17:13.636" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:13.110" endtime="20230318 09:17:13.637"/>
</kw>
<status status="PASS" starttime="20230318 09:17:13.109" endtime="20230318 09:17:13.637"/>
</kw>
<status status="PASS" starttime="20230318 09:17:11.265" endtime="20230318 09:17:13.637"/>
</kw>
<status status="PASS" starttime="20230318 09:17:11.265" endtime="20230318 09:17:13.637"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:11.264" endtime="20230318 09:17:13.637"/>
</test>
<test id="s1-s30-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:13.644" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:16.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:16.652" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:13.642" endtime="20230318 09:17:16.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:16.653" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:17:14 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:17:16.653" endtime="20230318 09:17:16.653"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:16.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:16.654" endtime="20230318 09:17:16.654"/>
</kw>
<msg timestamp="20230318 09:17:16.655" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:13.641" endtime="20230318 09:17:16.655"/>
</kw>
<msg timestamp="20230318 09:17:16.655" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:49 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:13.641" endtime="20230318 09:17:16.655"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:16.655" endtime="20230318 09:17:16.655"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:16.658" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:16.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:16.661" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:16.656" endtime="20230318 09:17:16.661"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:16.662" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:16.661" endtime="20230318 09:17:16.662"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:16.663" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:16.662" endtime="20230318 09:17:16.663"/>
</kw>
<msg timestamp="20230318 09:17:16.663" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230318 09:17:16.656" endtime="20230318 09:17:16.663"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:16.663" endtime="20230318 09:17:16.664"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:16.666" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:16.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:16.669" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:16.664" endtime="20230318 09:17:16.669"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:16.670" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:16.669" endtime="20230318 09:17:16.670"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:16.670" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:16.670" endtime="20230318 09:17:16.670"/>
</kw>
<status status="PASS" starttime="20230318 09:17:16.664" endtime="20230318 09:17:16.671"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:13.639" endtime="20230318 09:17:16.671"/>
</test>
<test id="s1-s30-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:16.676" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:17.308" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:17.308" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:16.674" endtime="20230318 09:17:17.308"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:17.309" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 18 Mar 2023 09:17:17 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230318 09:17:17.308" endtime="20230318 09:17:17.309"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:17.310" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:17.309" endtime="20230318 09:17:17.310"/>
</kw>
<msg timestamp="20230318 09:17:17.310" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:16.673" endtime="20230318 09:17:17.310"/>
</kw>
<msg timestamp="20230318 09:17:17.311" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 18 Mar 2023 09:14:54 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230318 09:17:16.673" endtime="20230318 09:17:17.311"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:17.311" endtime="20230318 09:17:17.311"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:17.314" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:17.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:17.317" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:17:17.312" endtime="20230318 09:17:17.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:17.318" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:17:17.317" endtime="20230318 09:17:17.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:17.319" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:17.318" endtime="20230318 09:17:17.319"/>
</kw>
<msg timestamp="20230318 09:17:17.319" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230318 09:17:17.311" endtime="20230318 09:17:17.319"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:17.319" endtime="20230318 09:17:17.320"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:17.331" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:17.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:17.335" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:17.329" endtime="20230318 09:17:17.335"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:17.337" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:17.336" endtime="20230318 09:17:17.337"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:17.338" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:17.337" endtime="20230318 09:17:17.338"/>
</kw>
<status status="PASS" starttime="20230318 09:17:17.325" endtime="20230318 09:17:17.338"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:16.672" endtime="20230318 09:17:17.338"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230318 09:17:05.924" endtime="20230318 09:17:17.339"/>
</suite>
<suite id="s1-s31" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s31-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:21.041" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:17:21.043" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:21.043" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:21.037" endtime="20230318 09:17:21.043"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:21.044" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:21.043" endtime="20230318 09:17:21.044"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:21.044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:21.044" endtime="20230318 09:17:21.045"/>
</kw>
<status status="PASS" starttime="20230318 09:17:21.036" endtime="20230318 09:17:21.045"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:21.048" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:27.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:27.323" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:21.046" endtime="20230318 09:17:27.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:27.324" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:27.323" endtime="20230318 09:17:27.324"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:27.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:27.324" endtime="20230318 09:17:27.325"/>
</kw>
<status status="PASS" starttime="20230318 09:17:21.046" endtime="20230318 09:17:27.325"/>
</kw>
<msg timestamp="20230318 09:17:27.325" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:21.046" endtime="20230318 09:17:27.326"/>
</kw>
<msg timestamp="20230318 09:17:27.327" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:21.045" endtime="20230318 09:17:27.327"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:27.327" endtime="20230318 09:17:27.327"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:27.330" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:27.333" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:27.333" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:27.328" endtime="20230318 09:17:27.333"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:27.334" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:27.333" endtime="20230318 09:17:27.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:27.335" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:27.334" endtime="20230318 09:17:27.335"/>
</kw>
<status status="PASS" starttime="20230318 09:17:27.327" endtime="20230318 09:17:27.335"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:21.035" endtime="20230318 09:17:27.335"/>
</test>
<test id="s1-s31-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:27.349" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:17:27.352" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:27.352" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:27.337" endtime="20230318 09:17:27.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:27.354" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:27.353" endtime="20230318 09:17:27.354"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:27.354" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:27.354" endtime="20230318 09:17:27.354"/>
</kw>
<status status="PASS" starttime="20230318 09:17:27.337" endtime="20230318 09:17:27.355"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:27.358" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:32.243" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:32.243" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:27.357" endtime="20230318 09:17:32.243"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:32.244" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:32.243" endtime="20230318 09:17:32.244"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:32.245" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:32.245" endtime="20230318 09:17:32.245"/>
</kw>
<status status="PASS" starttime="20230318 09:17:27.356" endtime="20230318 09:17:32.246"/>
</kw>
<msg timestamp="20230318 09:17:32.246" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:27.355" endtime="20230318 09:17:32.246"/>
</kw>
<msg timestamp="20230318 09:17:32.246" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:27.355" endtime="20230318 09:17:32.246"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:32.246" endtime="20230318 09:17:32.247"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:32.254" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:32.255" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:32.255" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:32.247" endtime="20230318 09:17:32.256"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:32.257" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:32.256" endtime="20230318 09:17:32.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:32.258" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:32.258" endtime="20230318 09:17:32.258"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.247" endtime="20230318 09:17:32.258"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:27.336" endtime="20230318 09:17:32.259"/>
</test>
<test id="s1-s31-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:32.266" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:32.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:32.746" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:32.264" endtime="20230318 09:17:32.746"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:32.748" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:32.747" endtime="20230318 09:17:32.748"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:32.749" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:32.748" endtime="20230318 09:17:32.749"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.263" endtime="20230318 09:17:32.749"/>
</kw>
<msg timestamp="20230318 09:17:32.749" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:32.263" endtime="20230318 09:17:32.750"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.263" endtime="20230318 09:17:32.750"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:32.754" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:33.223" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:33.223" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:32.752" endtime="20230318 09:17:33.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:33.224" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:33.223" endtime="20230318 09:17:33.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:33.225" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:33.224" endtime="20230318 09:17:33.225"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.751" endtime="20230318 09:17:33.225"/>
</kw>
<msg timestamp="20230318 09:17:33.225" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:32.751" endtime="20230318 09:17:33.225"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.750" endtime="20230318 09:17:33.226"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:33.230" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:33.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:33.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:33.227" endtime="20230318 09:17:33.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:33.707" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:33.706" endtime="20230318 09:17:33.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:33.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:33.707" endtime="20230318 09:17:33.707"/>
</kw>
<status status="PASS" starttime="20230318 09:17:33.227" endtime="20230318 09:17:33.708"/>
</kw>
<msg timestamp="20230318 09:17:33.708" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:33.226" endtime="20230318 09:17:33.708"/>
</kw>
<status status="PASS" starttime="20230318 09:17:33.226" endtime="20230318 09:17:33.708"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:33.712" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:34.172" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:34.173" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:33.710" endtime="20230318 09:17:34.173"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:34.174" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:34.173" endtime="20230318 09:17:34.174"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:34.174" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:34.174" endtime="20230318 09:17:34.174"/>
</kw>
<status status="PASS" starttime="20230318 09:17:33.709" endtime="20230318 09:17:34.175"/>
</kw>
<msg timestamp="20230318 09:17:34.175" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:33.709" endtime="20230318 09:17:34.175"/>
</kw>
<status status="PASS" starttime="20230318 09:17:33.708" endtime="20230318 09:17:34.175"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.262" endtime="20230318 09:17:34.176"/>
</kw>
<status status="PASS" starttime="20230318 09:17:32.262" endtime="20230318 09:17:34.176"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:32.261" endtime="20230318 09:17:34.176"/>
</test>
<test id="s1-s31-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:34.182" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:34.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:34.833" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:17:34.180" endtime="20230318 09:17:34.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:34.835" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:17:34.834" endtime="20230318 09:17:34.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:34.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:34.835" endtime="20230318 09:17:34.835"/>
</kw>
<status status="PASS" starttime="20230318 09:17:34.179" endtime="20230318 09:17:34.836"/>
</kw>
<msg timestamp="20230318 09:17:34.836" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:34.179" endtime="20230318 09:17:34.836"/>
</kw>
<msg timestamp="20230318 09:17:34.837" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:17:34.179" endtime="20230318 09:17:34.837"/>
</kw>
<msg timestamp="20230318 09:17:34.837" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:17:34.178" endtime="20230318 09:17:34.837"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:34.837" endtime="20230318 09:17:34.837"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:34.837" endtime="20230318 09:17:34.838"/>
</kw>
<msg timestamp="20230318 09:17:34.838" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:17:34.178" endtime="20230318 09:17:34.838"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:17:34.838" endtime="20230318 09:17:34.839"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:34.177" endtime="20230318 09:17:34.839"/>
</test>
<test id="s1-s31-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:34.845" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:17:34.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:34.847" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:34.842" endtime="20230318 09:17:34.847"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:34.848" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:34.847" endtime="20230318 09:17:34.848"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:34.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:34.848" endtime="20230318 09:17:34.849"/>
</kw>
<status status="PASS" starttime="20230318 09:17:34.842" endtime="20230318 09:17:34.850"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:34.853" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:35.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:35.845" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:34.851" endtime="20230318 09:17:35.845"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:35.847" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:35.846" endtime="20230318 09:17:35.847"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:35.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:35.847" endtime="20230318 09:17:35.848"/>
</kw>
<msg timestamp="20230318 09:17:35.848" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:34.850" endtime="20230318 09:17:35.848"/>
</kw>
<msg timestamp="20230318 09:17:35.848" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:34.850" endtime="20230318 09:17:35.848"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:35.848" endtime="20230318 09:17:35.849"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:35.852" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:35.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:35.855" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:35.850" endtime="20230318 09:17:35.855"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:35.857" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:35.856" endtime="20230318 09:17:35.857"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:35.857" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:35.857" endtime="20230318 09:17:35.857"/>
</kw>
<status status="PASS" starttime="20230318 09:17:35.849" endtime="20230318 09:17:35.858"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:34.841" endtime="20230318 09:17:35.858"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:17:20.963" endtime="20230318 09:17:35.860"/>
</suite>
<suite id="s1-s32" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s32-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:39.561" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:42.429" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:42.429" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:39.554" endtime="20230318 09:17:42.429"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:42.430" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:42.429" endtime="20230318 09:17:42.430"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:42.431" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:42.430" endtime="20230318 09:17:42.431"/>
</kw>
<status status="PASS" starttime="20230318 09:17:39.553" endtime="20230318 09:17:42.431"/>
</kw>
<msg timestamp="20230318 09:17:42.431" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:39.553" endtime="20230318 09:17:42.433"/>
</kw>
<msg timestamp="20230318 09:17:42.433" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:39.553" endtime="20230318 09:17:42.433"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:42.433" endtime="20230318 09:17:42.434"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:42.438" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:45.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:45.212" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:42.436" endtime="20230318 09:17:45.212"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:45.214" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:45.213" endtime="20230318 09:17:45.214"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:45.214" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:45.214" endtime="20230318 09:17:45.214"/>
</kw>
<status status="PASS" starttime="20230318 09:17:42.435" endtime="20230318 09:17:45.215"/>
</kw>
<msg timestamp="20230318 09:17:45.215" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:42.435" endtime="20230318 09:17:45.215"/>
</kw>
<msg timestamp="20230318 09:17:45.215" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:42.434" endtime="20230318 09:17:45.215"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:45.216" endtime="20230318 09:17:45.216"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:39.552" endtime="20230318 09:17:45.216"/>
</test>
<test id="s1-s32-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:45.221" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:17:45.223" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:45.223" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:45.218" endtime="20230318 09:17:45.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:45.224" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:45.223" endtime="20230318 09:17:45.224"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:45.225" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:45.225" endtime="20230318 09:17:45.225"/>
</kw>
<status status="PASS" starttime="20230318 09:17:45.218" endtime="20230318 09:17:45.226"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:45.230" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:50.477" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:50.477" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:45.228" endtime="20230318 09:17:50.477"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:50.478" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:50.477" endtime="20230318 09:17:50.478"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:50.478" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:50.478" endtime="20230318 09:17:50.479"/>
</kw>
<status status="PASS" starttime="20230318 09:17:45.227" endtime="20230318 09:17:50.479"/>
</kw>
<msg timestamp="20230318 09:17:50.479" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:45.227" endtime="20230318 09:17:50.479"/>
</kw>
<msg timestamp="20230318 09:17:50.480" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:45.226" endtime="20230318 09:17:50.480"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:50.480" endtime="20230318 09:17:50.480"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:50.483" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:50.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:50.486" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:50.481" endtime="20230318 09:17:50.486"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:50.487" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:50.486" endtime="20230318 09:17:50.487"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:50.488" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:50.487" endtime="20230318 09:17:50.488"/>
</kw>
<status status="PASS" starttime="20230318 09:17:50.480" endtime="20230318 09:17:50.488"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:45.217" endtime="20230318 09:17:50.488"/>
</test>
<test id="s1-s32-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:50.494" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:53.228" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:53.228" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:50.492" endtime="20230318 09:17:53.228"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:53.230" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:53.229" endtime="20230318 09:17:53.230"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:53.230" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:53.230" endtime="20230318 09:17:53.231"/>
</kw>
<status status="PASS" starttime="20230318 09:17:50.491" endtime="20230318 09:17:53.231"/>
</kw>
<msg timestamp="20230318 09:17:53.231" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:50.491" endtime="20230318 09:17:53.231"/>
</kw>
<msg timestamp="20230318 09:17:53.232" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:50.491" endtime="20230318 09:17:53.232"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:53.232" endtime="20230318 09:17:53.232"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:50.489" endtime="20230318 09:17:53.232"/>
</test>
<test id="s1-s32-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:53.237" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:17:53.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:53.239" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:53.235" endtime="20230318 09:17:53.239"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:53.241" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:53.240" endtime="20230318 09:17:53.241"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:53.241" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:53.241" endtime="20230318 09:17:53.241"/>
</kw>
<status status="PASS" starttime="20230318 09:17:53.234" endtime="20230318 09:17:53.242"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:53.248" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:58.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:58.337" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:53.243" endtime="20230318 09:17:58.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:58.339" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:58.338" endtime="20230318 09:17:58.339"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:58.339" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:58.339" endtime="20230318 09:17:58.339"/>
</kw>
<status status="PASS" starttime="20230318 09:17:53.243" endtime="20230318 09:17:58.340"/>
</kw>
<msg timestamp="20230318 09:17:58.340" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:53.242" endtime="20230318 09:17:58.340"/>
</kw>
<msg timestamp="20230318 09:17:58.340" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:53.242" endtime="20230318 09:17:58.340"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:17:58.341" endtime="20230318 09:17:58.341"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:58.344" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:58.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:58.347" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:58.342" endtime="20230318 09:17:58.347"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:58.348" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:58.347" endtime="20230318 09:17:58.348"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:58.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:58.348" endtime="20230318 09:17:58.349"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.341" endtime="20230318 09:17:58.349"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:53.234" endtime="20230318 09:17:58.349"/>
</test>
<test id="s1-s32-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:58.355" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:58.808" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:58.809" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:58.353" endtime="20230318 09:17:58.809"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:58.810" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:58.809" endtime="20230318 09:17:58.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:58.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:58.810" endtime="20230318 09:17:58.810"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.353" endtime="20230318 09:17:58.811"/>
</kw>
<msg timestamp="20230318 09:17:58.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:58.352" endtime="20230318 09:17:58.811"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.352" endtime="20230318 09:17:58.811"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:58.815" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:59.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:59.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:58.813" endtime="20230318 09:17:59.263"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:59.264" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:59.263" endtime="20230318 09:17:59.265"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:59.265" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:59.265" endtime="20230318 09:17:59.265"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.812" endtime="20230318 09:17:59.266"/>
</kw>
<msg timestamp="20230318 09:17:59.266" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:58.812" endtime="20230318 09:17:59.266"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.812" endtime="20230318 09:17:59.267"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:59.271" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:17:59.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:17:59.719" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:59.268" endtime="20230318 09:17:59.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:17:59.721" level="INFO"/>
<status status="PASS" starttime="20230318 09:17:59.720" endtime="20230318 09:17:59.721"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:17:59.722" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:17:59.721" endtime="20230318 09:17:59.722"/>
</kw>
<status status="PASS" starttime="20230318 09:17:59.268" endtime="20230318 09:17:59.722"/>
</kw>
<msg timestamp="20230318 09:17:59.722" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:59.267" endtime="20230318 09:17:59.723"/>
</kw>
<status status="PASS" starttime="20230318 09:17:59.267" endtime="20230318 09:17:59.723"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:17:59.727" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:00.176" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:00.176" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:17:59.724" endtime="20230318 09:18:00.176"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:00.178" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:00.177" endtime="20230318 09:18:00.178"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:00.179" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:00.178" endtime="20230318 09:18:00.179"/>
</kw>
<status status="PASS" starttime="20230318 09:17:59.724" endtime="20230318 09:18:00.180"/>
</kw>
<msg timestamp="20230318 09:18:00.180" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:17:59.724" endtime="20230318 09:18:00.187"/>
</kw>
<status status="PASS" starttime="20230318 09:17:59.723" endtime="20230318 09:18:00.187"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.351" endtime="20230318 09:18:00.187"/>
</kw>
<status status="PASS" starttime="20230318 09:17:58.351" endtime="20230318 09:18:00.187"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:17:58.350" endtime="20230318 09:18:00.188"/>
</test>
<test id="s1-s32-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:00.206" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:00.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:00.793" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:18:00.201" endtime="20230318 09:18:00.793"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:00.794" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:18:00.793" endtime="20230318 09:18:00.794"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:00.795" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:00.794" endtime="20230318 09:18:00.795"/>
</kw>
<status status="PASS" starttime="20230318 09:18:00.197" endtime="20230318 09:18:00.795"/>
</kw>
<msg timestamp="20230318 09:18:00.795" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230318 09:18:00.197" endtime="20230318 09:18:00.796"/>
</kw>
<msg timestamp="20230318 09:18:00.796" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:18:00.196" endtime="20230318 09:18:00.796"/>
</kw>
<msg timestamp="20230318 09:18:00.796" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230318 09:18:00.190" endtime="20230318 09:18:00.796"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:00.797" endtime="20230318 09:18:00.797"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:00.797" endtime="20230318 09:18:00.798"/>
</kw>
<msg timestamp="20230318 09:18:00.798" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230318 09:18:00.190" endtime="20230318 09:18:00.798"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230318 09:18:00.798" endtime="20230318 09:18:00.798"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:00.189" endtime="20230318 09:18:00.799"/>
</test>
<test id="s1-s32-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:00.803" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230318 09:18:00.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:00.805" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:00.801" endtime="20230318 09:18:00.805"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:00.806" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:00.806" endtime="20230318 09:18:00.806"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:00.807" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:00.807" endtime="20230318 09:18:00.807"/>
</kw>
<status status="PASS" starttime="20230318 09:18:00.800" endtime="20230318 09:18:00.807"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:00.811" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:01.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:01.533" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:00.809" endtime="20230318 09:18:01.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:01.534" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:01.533" endtime="20230318 09:18:01.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:01.535" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:01.534" endtime="20230318 09:18:01.535"/>
</kw>
<msg timestamp="20230318 09:18:01.535" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:00.808" endtime="20230318 09:18:01.535"/>
</kw>
<msg timestamp="20230318 09:18:01.536" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:00.808" endtime="20230318 09:18:01.536"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:18:01.536" endtime="20230318 09:18:01.536"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230318 09:18:01.540" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230318 09:18:01.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230318 09:18:01.542" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230318 09:18:01.537" endtime="20230318 09:18:01.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230318 09:18:01.543" level="INFO"/>
<status status="PASS" starttime="20230318 09:18:01.543" endtime="20230318 09:18:01.543"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230318 09:18:01.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230318 09:18:01.544" endtime="20230318 09:18:01.544"/>
</kw>
<status status="PASS" starttime="20230318 09:18:01.536" endtime="20230318 09:18:01.545"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:18:00.800" endtime="20230318 09:18:01.545"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230318 09:17:39.483" endtime="20230318 09:18:01.546"/>
</suite>
<suite id="s1-s33" name="Check-Mlv" source="/opt/hadoop/smoketest/upgrade/check-mlv.robot">
<test id="s1-s33-t1" name="Check MLV" line="33">
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION_FILE}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:39.886" level="INFO">Length is 34</msg>
<status status="PASS" starttime="20230318 09:16:39.885" endtime="20230318 09:16:39.886"/>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<arg>${VERSION}</arg>
<doc>Verifies that the given item is not empty.</doc>
<msg timestamp="20230318 09:16:39.886" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20230318 09:16:39.886" endtime="20230318 09:16:39.886"/>
</kw>
<kw name="File Should Exist" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<msg timestamp="20230318 09:16:39.887" level="INFO" html="true">File '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;' exists.</msg>
<status status="PASS" starttime="20230318 09:16:39.887" endtime="20230318 09:16:39.887"/>
</kw>
<kw name="File Should Not Be Empty" library="OperatingSystem">
<arg>${VERSION_FILE}</arg>
<doc>Fails if the specified file is empty.</doc>
<msg timestamp="20230318 09:16:39.887" level="INFO" html="true">File '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;' contains 229 bytes.</msg>
<status status="PASS" starttime="20230318 09:16:39.887" endtime="20230318 09:16:39.887"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Check version</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Check version">
<kw name="Get File" library="OperatingSystem">
<var>${version_file_contents}</var>
<arg>${VERSION_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20230318 09:16:39.888" level="INFO" html="true">Getting file '&lt;a href="file:///data/metadata/scm/current/VERSION"&gt;/data/metadata/scm/current/VERSION&lt;/a&gt;'.</msg>
<msg timestamp="20230318 09:16:39.889" level="INFO">${version_file_contents} = #Sat Mar 18 09:13:24 UTC 2023
cTime=1679130803107
clusterID=CID-628f975d-bdc4-481c-a483-62db7ebce017
nodeType=SCM
scmUuid=73ef0d63-31ef-40fc-a9af-04bef49b3712
layoutVersion=2
primaryScmNodeId=73ef0d63...</msg>
<status status="PASS" starttime="20230318 09:16:39.888" endtime="20230318 09:16:39.889"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${version_line}</var>
<arg>SEPARATOR=</arg>
<arg>${version_prefix}</arg>
<arg>${VERSION}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20230318 09:16:39.889" level="INFO">${version_line} = layoutVersion=2</msg>
<status status="PASS" starttime="20230318 09:16:39.889" endtime="20230318 09:16:39.889"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${version_file_contents}</arg>
<arg>${version_line}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230318 09:16:39.890" endtime="20230318 09:16:39.890"/>
</kw>
<status status="PASS" starttime="20230318 09:16:39.888" endtime="20230318 09:16:39.890"/>
</kw>
<status status="PASS" starttime="20230318 09:16:39.888" endtime="20230318 09:16:39.890"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230318 09:16:39.885" endtime="20230318 09:16:39.890"/>
</test>
<doc>Check Metadata layout version present in a version file.</doc>
<status status="PASS" starttime="20230318 09:16:39.835" endtime="20230318 09:16:39.891"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="322304"/>
</suite>
<statistics>
<total>
<stat pass="96" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="1" fail="0" skip="0">post-finalized-ec-tests</stat>
<stat pass="1" fail="0" skip="0">pre-finalized-ec-tests</stat>
</tag>
<suite>
<stat pass="96" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s6" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s7" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s8" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s10" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s11" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s12" name="Upgrade-Ec-Check">upgrade.Upgrade-Ec-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s13" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s14" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s15" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s16" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s17" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s18" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="4" fail="0" skip="0" id="s1-s19" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s20" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s21" name="Finalize">upgrade.Finalize</stat>
<stat pass="1" fail="0" skip="0" id="s1-s22" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="4" fail="0" skip="0" id="s1-s23" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s24" name="Upgrade-Ec-Check">upgrade.Upgrade-Ec-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s25" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s26" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s27" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s28" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s29" name="Check-Mlv">upgrade.Check-Mlv</stat>
<stat pass="4" fail="0" skip="0" id="s1-s30" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s31" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s32" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s33" name="Check-Mlv">upgrade.Check-Mlv</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
