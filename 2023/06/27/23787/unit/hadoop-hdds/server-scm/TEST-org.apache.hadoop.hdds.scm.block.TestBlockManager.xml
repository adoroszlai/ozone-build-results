<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="8.622" tests="12" errors="1" skipped="0" failures="0">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-classes:/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/test-utils/target/classes:/home/runner/.m2/repository/com/google/guava/guava/32.0.0-jre/guava-32.0.0-jre.jar:/home/runner/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/home/runner/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/home/runner/.m2/repository/org/checkerframework/checker-qual/3.33.0/checker-qual-3.33.0.jar:/home/runner/.m2/repository/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0.jar:/home/runner/.m2/repository/com/google/j2objc/j2objc-annotations/2.8/j2objc-annotations-2.8.jar:/home/runner/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/home/runner/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-client/target/classes:/home/runner/.m2/repository/info/picocli/picocli/4.6.1/picocli-4.6.1.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.4/jackson-annotations-2.13.4.jar:/home/runner/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.4/jackson-datatype-jsr310-2.13.4.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.4/jackson-core-2.13.4.jar:/home/runner/work/ozone/ozone/hadoop-hdds/annotations/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/config/target/classes:/home/runner/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-server/2.5.1/ratis-server-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.4/ratis-thirdparty-misc-1.0.4.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-proto/2.5.1/ratis-proto-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-common/2.5.1/ratis-common-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-client/2.5.1/ratis-client-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-server-api/2.5.1/ratis-server-api-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-metrics/2.5.1/ratis-metrics-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-netty/2.5.1/ratis-netty-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-grpc/2.5.1/ratis-grpc-2.5.1.jar:/home/runner/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.1/log4j-api-2.17.1.jar:/home/runner/.m2/repository/org/apache/commons/commons-pool2/2.6.0/commons-pool2-2.6.0.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.67/bcpkix-jdk15on-1.67.jar:/home/runner/.m2/repository/commons-validator/commons-validator/1.6/commons-validator-1.6.jar:/home/runner/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/home/runner/.m2/repository/commons-digester/commons-digester/1.8.1/commons-digester-1.8.1.jar:/home/runner/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-client/1.6.0/jaeger-client-1.6.0.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-thrift/1.6.0/jaeger-thrift-1.6.0.jar:/home/runner/.m2/repository/org/apache/thrift/libthrift/0.14.1/libthrift-0.14.1.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-core/1.6.0/jaeger-core-1.6.0.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-tracerresolver/1.6.0/jaeger-tracerresolver-1.6.0.jar:/home/runner/.m2/repository/io/opentracing/contrib/opentracing-tracerresolver/0.1.8/opentracing-tracerresolver-0.1.8.jar:/home/runner/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.6.21/kotlin-stdlib-1.6.21.jar:/home/runner/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-util/0.33.0/opentracing-util-0.33.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-api/0.33.0/opentracing-api-0.33.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-noop/0.33.0/opentracing-noop-0.33.0.jar:/home/runner/.m2/repository/org/yaml/snakeyaml/2.0/snakeyaml-2.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.9.11/reflections-0.9.11.jar:/home/runner/.m2/repository/org/javassist/javassist/3.21.0-GA/javassist-3.21.0-GA.jar:/home/runner/work/ozone/ozone/hadoop-hdds/interface-client/target/classes:/home/runner/.m2/repository/org/apache/hadoop/thirdparty/hadoop-shaded-protobuf_3_7/1.1.1/hadoop-shaded-protobuf_3_7-1.1.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/interface-admin/target/classes:/home/runner/.m2/repository/io/grpc/grpc-api/1.51.1/grpc-api-1.51.1.jar:/home/runner/.m2/repository/io/grpc/grpc-context/1.51.1/grpc-context-1.51.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/container-service/target/classes:/home/runner/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/home/runner/.m2/repository/com/github/luben/zstd-jni/1.5.2-5/zstd-jni-1.5.2-5.jar:/home/runner/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/home/runner/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar:/home/runner/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.0.1/jaxb-runtime-2.3.0.1.jar:/home/runner/.m2/repository/org/glassfish/jaxb/jaxb-core/2.3.0.1/jaxb-core-2.3.0.1.jar:/home/runner/.m2/repository/org/glassfish/jaxb/txw2/2.3.0.1/txw2-2.3.0.1.jar:/home/runner/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.5/istack-commons-runtime-3.0.5.jar:/home/runner/.m2/repository/org/jvnet/staxex/stax-ex/1.7.8/stax-ex-1.7.8.jar:/home/runner/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.13/FastInfoset-1.2.13.jar:/home/runner/.m2/repository/io/netty/netty-transport/4.1.86.Final/netty-transport-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-common/4.1.86.Final/netty-common-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-buffer/4.1.86.Final/netty-buffer-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-resolver/4.1.86.Final/netty-resolver-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-codec/4.1.86.Final/netty-codec-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-handler/4.1.86.Final/netty-handler-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.86.Final/netty-transport-native-unix-common-4.1.86.Final.jar:/home/runner/work/ozone/ozone/hadoop-hdds/client/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/erasurecode/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-server/target/classes:/home/runner/.m2/repository/org/apache/hadoop/hadoop-annotations/3.3.5/hadoop-annotations-3.3.5.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/../lib/tools.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-common/3.3.5/hadoop-common-3.3.5.jar:/home/runner/.m2/repository/org/apache/hadoop/thirdparty/hadoop-shaded-guava/1.1.1/hadoop-shaded-guava-1.1.1.jar:/home/runner/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/home/runner/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/home/runner/.m2/repository/commons-net/commons-net/3.9.0/commons-net-3.9.0.jar:/home/runner/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/home/runner/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/home/runner/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-core/1.19/jersey-core-1.19.jar:/home/runner/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-servlet/1.19/jersey-servlet-1.19.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-server/1.19/jersey-server-1.19.jar:/home/runner/.m2/repository/com/google/re2j/re2j/1.1/re2j-1.1.jar:/home/runner/.m2/repository/com/google/code/gson/gson/2.9.0/gson-2.9.0.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-auth/3.3.5/hadoop-auth-3.3.5.jar:/home/runner/.m2/repository/com/nimbusds/nimbus-jose-jwt/9.8.1/nimbus-jose-jwt-9.8.1.jar:/home/runner/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/home/runner/.m2/repository/net/minidev/json-smart/2.4.7/json-smart-2.4.7.jar:/home/runner/.m2/repository/net/minidev/accessors-smart/2.4.7/accessors-smart-2.4.7.jar:/home/runner/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/home/runner/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/home/runner/.m2/repository/org/apache/kerby/kerb-core/1.0.1/kerb-core-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-pkix/1.0.1/kerby-pkix-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-asn1/1.0.1/kerby-asn1-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-util/1.0.1/kerby-util-1.0.1.jar:/home/runner/.m2/repository/org/codehaus/woodstox/stax2-api/4.2.1/stax2-api-4.2.1.jar:/home/runner/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.4.0/woodstox-core-5.4.0.jar:/home/runner/.m2/repository/dnsjava/dnsjava/2.1.7/dnsjava-2.1.7.jar:/home/runner/.m2/repository/org/xerial/snappy/snappy-java/1.1.8.2/snappy-java-1.1.8.2.jar:/home/runner/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.3.5/hadoop-hdfs-3.3.5.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.4.51.v20230217/jetty-util-ajax-9.4.51.v20230217.jar:/home/runner/.m2/repository/commons-daemon/commons-daemon/1.0.13/commons-daemon-1.0.13.jar:/home/runner/work/ozone/ozone/hadoop-hdds/framework/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/interface-server/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/managed-rocksdb/target/classes:/home/runner/.m2/repository/org/rocksdb/rocksdbjni/7.7.3/rocksdbjni-7.7.3.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/1.7.36/slf4j-reload4j-1.7.36.jar:/home/runner/.m2/repository/org/apache/commons/commons-configuration2/2.1.1/commons-configuration2-2.1.1.jar:/home/runner/.m2/repository/commons-fileupload/commons-fileupload/1.5/commons-fileupload-1.5.jar:/home/runner/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.1/log4j-core-2.17.1.jar:/home/runner/.m2/repository/com/lmax/disruptor/3.4.2/disruptor-3.4.2.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-util/9.4.51.v20230217/jetty-util-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-server/9.4.51.v20230217/jetty-server-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-http/9.4.51.v20230217/jetty-http-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-io/9.4.51.v20230217/jetty-io-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.51.v20230217/jetty-servlet-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-security/9.4.51.v20230217/jetty-security-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-webapp/9.4.51.v20230217/jetty-webapp-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-xml/9.4.51.v20230217/jetty-xml-9.4.51.v20230217.jar:/home/runner/.m2/repository/io/prometheus/simpleclient_dropwizard/0.7.0/simpleclient_dropwizard-0.7.0.jar:/home/runner/.m2/repository/io/prometheus/simpleclient/0.7.0/simpleclient-0.7.0.jar:/home/runner/.m2/repository/io/prometheus/simpleclient_common/0.7.0/simpleclient_common-0.7.0.jar:/home/runner/work/ozone/ozone/hadoop-hdds/rocksdb-checkpoint-differ/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/rocks-native/target/classes:/home/runner/.m2/repository/org/awaitility/awaitility/4.2.0/awaitility-4.2.0.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/docs/target/classes:/home/runner/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.4/metrics-core-3.2.4.jar:/home/runner/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.12/spotbugs-annotations-3.1.12.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar:/home/runner/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/home/runner/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs-client/3.3.5/hadoop-hdfs-client-3.3.5.jar:/home/runner/.m2/repository/com/squareup/okhttp3/okhttp/4.9.3/okhttp-4.9.3.jar:/home/runner/.m2/repository/com/squareup/okio/okio/2.8.0/okio-2.8.0.jar:/home/runner/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.6.21/kotlin-stdlib-common-1.6.21.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.4.2/jackson-databind-2.13.4.2.jar:/home/runner/work/ozone/ozone/hadoop-hdds/container-service/target/test-classes:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/test-classes:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/assertj/assertj-core/3.12.2/assertj-core-3.12.2.jar:/home/runner/.m2/repository/org/mockito/mockito-core/3.5.9/mockito-core-3.5.9.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.10.13/byte-buddy-1.10.13.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.13/byte-buddy-agent-1.10.13.jar:/home/runner/.m2/repository/org/objenesis/objenesis/1.0/objenesis-1.0.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.67/bcprov-jdk15on-1.67.jar:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-test/target/classes:/home/runner/.m2/repository/org/apache/hadoop/hadoop-common/3.3.5/hadoop-common-3.3.5-tests.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.3.5/hadoop-hdfs-3.3.5-tests.jar:/home/runner/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/home/runner/.m2/repository/org/junit/vintage/junit-vintage-engine/5.8.2/junit-vintage-engine-5.8.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/home/runner/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar:"/>
    <property name="java.vm.vendor" value="Temurin"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="test.build.dir" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-dir"/>
    <property name="test.cache.data" value=""/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value="Etc/UTC"/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="test.build.data" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-dir"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/surefire/surefirebooter4705141396319402284.jar /home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/surefire 2023-06-27T05-08-18_063-jvmRun1 surefire4087262549713875880tmp surefire_217684094657477184031tmp"/>
    <property name="native.lib.tmp.dir" value="/tmp"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-classes:/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/test-utils/target/classes:/home/runner/.m2/repository/com/google/guava/guava/32.0.0-jre/guava-32.0.0-jre.jar:/home/runner/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/home/runner/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/home/runner/.m2/repository/org/checkerframework/checker-qual/3.33.0/checker-qual-3.33.0.jar:/home/runner/.m2/repository/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0.jar:/home/runner/.m2/repository/com/google/j2objc/j2objc-annotations/2.8/j2objc-annotations-2.8.jar:/home/runner/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/home/runner/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-client/target/classes:/home/runner/.m2/repository/info/picocli/picocli/4.6.1/picocli-4.6.1.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.4/jackson-annotations-2.13.4.jar:/home/runner/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.4/jackson-datatype-jsr310-2.13.4.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.4/jackson-core-2.13.4.jar:/home/runner/work/ozone/ozone/hadoop-hdds/annotations/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/config/target/classes:/home/runner/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-server/2.5.1/ratis-server-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.4/ratis-thirdparty-misc-1.0.4.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-proto/2.5.1/ratis-proto-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-common/2.5.1/ratis-common-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-client/2.5.1/ratis-client-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-server-api/2.5.1/ratis-server-api-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-metrics/2.5.1/ratis-metrics-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-netty/2.5.1/ratis-netty-2.5.1.jar:/home/runner/.m2/repository/org/apache/ratis/ratis-grpc/2.5.1/ratis-grpc-2.5.1.jar:/home/runner/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.1/log4j-api-2.17.1.jar:/home/runner/.m2/repository/org/apache/commons/commons-pool2/2.6.0/commons-pool2-2.6.0.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.67/bcpkix-jdk15on-1.67.jar:/home/runner/.m2/repository/commons-validator/commons-validator/1.6/commons-validator-1.6.jar:/home/runner/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/home/runner/.m2/repository/commons-digester/commons-digester/1.8.1/commons-digester-1.8.1.jar:/home/runner/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-client/1.6.0/jaeger-client-1.6.0.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-thrift/1.6.0/jaeger-thrift-1.6.0.jar:/home/runner/.m2/repository/org/apache/thrift/libthrift/0.14.1/libthrift-0.14.1.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-core/1.6.0/jaeger-core-1.6.0.jar:/home/runner/.m2/repository/io/jaegertracing/jaeger-tracerresolver/1.6.0/jaeger-tracerresolver-1.6.0.jar:/home/runner/.m2/repository/io/opentracing/contrib/opentracing-tracerresolver/0.1.8/opentracing-tracerresolver-0.1.8.jar:/home/runner/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.6.21/kotlin-stdlib-1.6.21.jar:/home/runner/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-util/0.33.0/opentracing-util-0.33.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-api/0.33.0/opentracing-api-0.33.0.jar:/home/runner/.m2/repository/io/opentracing/opentracing-noop/0.33.0/opentracing-noop-0.33.0.jar:/home/runner/.m2/repository/org/yaml/snakeyaml/2.0/snakeyaml-2.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.9.11/reflections-0.9.11.jar:/home/runner/.m2/repository/org/javassist/javassist/3.21.0-GA/javassist-3.21.0-GA.jar:/home/runner/work/ozone/ozone/hadoop-hdds/interface-client/target/classes:/home/runner/.m2/repository/org/apache/hadoop/thirdparty/hadoop-shaded-protobuf_3_7/1.1.1/hadoop-shaded-protobuf_3_7-1.1.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/interface-admin/target/classes:/home/runner/.m2/repository/io/grpc/grpc-api/1.51.1/grpc-api-1.51.1.jar:/home/runner/.m2/repository/io/grpc/grpc-context/1.51.1/grpc-context-1.51.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/container-service/target/classes:/home/runner/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/home/runner/.m2/repository/com/github/luben/zstd-jni/1.5.2-5/zstd-jni-1.5.2-5.jar:/home/runner/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/home/runner/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar:/home/runner/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.0.1/jaxb-runtime-2.3.0.1.jar:/home/runner/.m2/repository/org/glassfish/jaxb/jaxb-core/2.3.0.1/jaxb-core-2.3.0.1.jar:/home/runner/.m2/repository/org/glassfish/jaxb/txw2/2.3.0.1/txw2-2.3.0.1.jar:/home/runner/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.5/istack-commons-runtime-3.0.5.jar:/home/runner/.m2/repository/org/jvnet/staxex/stax-ex/1.7.8/stax-ex-1.7.8.jar:/home/runner/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.13/FastInfoset-1.2.13.jar:/home/runner/.m2/repository/io/netty/netty-transport/4.1.86.Final/netty-transport-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-common/4.1.86.Final/netty-common-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-buffer/4.1.86.Final/netty-buffer-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-resolver/4.1.86.Final/netty-resolver-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-codec/4.1.86.Final/netty-codec-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-handler/4.1.86.Final/netty-handler-4.1.86.Final.jar:/home/runner/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.86.Final/netty-transport-native-unix-common-4.1.86.Final.jar:/home/runner/work/ozone/ozone/hadoop-hdds/client/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/erasurecode/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-server/target/classes:/home/runner/.m2/repository/org/apache/hadoop/hadoop-annotations/3.3.5/hadoop-annotations-3.3.5.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/../lib/tools.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-common/3.3.5/hadoop-common-3.3.5.jar:/home/runner/.m2/repository/org/apache/hadoop/thirdparty/hadoop-shaded-guava/1.1.1/hadoop-shaded-guava-1.1.1.jar:/home/runner/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/home/runner/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/home/runner/.m2/repository/commons-net/commons-net/3.9.0/commons-net-3.9.0.jar:/home/runner/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/home/runner/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/home/runner/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-core/1.19/jersey-core-1.19.jar:/home/runner/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-servlet/1.19/jersey-servlet-1.19.jar:/home/runner/.m2/repository/com/sun/jersey/jersey-server/1.19/jersey-server-1.19.jar:/home/runner/.m2/repository/com/google/re2j/re2j/1.1/re2j-1.1.jar:/home/runner/.m2/repository/com/google/code/gson/gson/2.9.0/gson-2.9.0.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-auth/3.3.5/hadoop-auth-3.3.5.jar:/home/runner/.m2/repository/com/nimbusds/nimbus-jose-jwt/9.8.1/nimbus-jose-jwt-9.8.1.jar:/home/runner/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/home/runner/.m2/repository/net/minidev/json-smart/2.4.7/json-smart-2.4.7.jar:/home/runner/.m2/repository/net/minidev/accessors-smart/2.4.7/accessors-smart-2.4.7.jar:/home/runner/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/home/runner/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/home/runner/.m2/repository/org/apache/kerby/kerb-core/1.0.1/kerb-core-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-pkix/1.0.1/kerby-pkix-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-asn1/1.0.1/kerby-asn1-1.0.1.jar:/home/runner/.m2/repository/org/apache/kerby/kerby-util/1.0.1/kerby-util-1.0.1.jar:/home/runner/.m2/repository/org/codehaus/woodstox/stax2-api/4.2.1/stax2-api-4.2.1.jar:/home/runner/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.4.0/woodstox-core-5.4.0.jar:/home/runner/.m2/repository/dnsjava/dnsjava/2.1.7/dnsjava-2.1.7.jar:/home/runner/.m2/repository/org/xerial/snappy/snappy-java/1.1.8.2/snappy-java-1.1.8.2.jar:/home/runner/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.3.5/hadoop-hdfs-3.3.5.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.4.51.v20230217/jetty-util-ajax-9.4.51.v20230217.jar:/home/runner/.m2/repository/commons-daemon/commons-daemon/1.0.13/commons-daemon-1.0.13.jar:/home/runner/work/ozone/ozone/hadoop-hdds/framework/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/interface-server/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/managed-rocksdb/target/classes:/home/runner/.m2/repository/org/rocksdb/rocksdbjni/7.7.3/rocksdbjni-7.7.3.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/1.7.36/slf4j-reload4j-1.7.36.jar:/home/runner/.m2/repository/org/apache/commons/commons-configuration2/2.1.1/commons-configuration2-2.1.1.jar:/home/runner/.m2/repository/commons-fileupload/commons-fileupload/1.5/commons-fileupload-1.5.jar:/home/runner/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.1/log4j-core-2.17.1.jar:/home/runner/.m2/repository/com/lmax/disruptor/3.4.2/disruptor-3.4.2.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-util/9.4.51.v20230217/jetty-util-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-server/9.4.51.v20230217/jetty-server-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-http/9.4.51.v20230217/jetty-http-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-io/9.4.51.v20230217/jetty-io-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.51.v20230217/jetty-servlet-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-security/9.4.51.v20230217/jetty-security-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-webapp/9.4.51.v20230217/jetty-webapp-9.4.51.v20230217.jar:/home/runner/.m2/repository/org/eclipse/jetty/jetty-xml/9.4.51.v20230217/jetty-xml-9.4.51.v20230217.jar:/home/runner/.m2/repository/io/prometheus/simpleclient_dropwizard/0.7.0/simpleclient_dropwizard-0.7.0.jar:/home/runner/.m2/repository/io/prometheus/simpleclient/0.7.0/simpleclient-0.7.0.jar:/home/runner/.m2/repository/io/prometheus/simpleclient_common/0.7.0/simpleclient_common-0.7.0.jar:/home/runner/work/ozone/ozone/hadoop-hdds/rocksdb-checkpoint-differ/target/classes:/home/runner/work/ozone/ozone/hadoop-hdds/rocks-native/target/classes:/home/runner/.m2/repository/org/awaitility/awaitility/4.2.0/awaitility-4.2.0.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/home/runner/work/ozone/ozone/hadoop-hdds/docs/target/classes:/home/runner/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.4/metrics-core-3.2.4.jar:/home/runner/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.12/spotbugs-annotations-3.1.12.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar:/home/runner/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/home/runner/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs-client/3.3.5/hadoop-hdfs-client-3.3.5.jar:/home/runner/.m2/repository/com/squareup/okhttp3/okhttp/4.9.3/okhttp-4.9.3.jar:/home/runner/.m2/repository/com/squareup/okio/okio/2.8.0/okio-2.8.0.jar:/home/runner/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.6.21/kotlin-stdlib-common-1.6.21.jar:/home/runner/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.4.2/jackson-databind-2.13.4.2.jar:/home/runner/work/ozone/ozone/hadoop-hdds/container-service/target/test-classes:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/test-classes:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/assertj/assertj-core/3.12.2/assertj-core-3.12.2.jar:/home/runner/.m2/repository/org/mockito/mockito-core/3.5.9/mockito-core-3.5.9.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.10.13/byte-buddy-1.10.13.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.13/byte-buddy-agent-1.10.13.jar:/home/runner/.m2/repository/org/objenesis/objenesis/1.0/objenesis-1.0.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.67/bcprov-jdk15on-1.67.jar:/home/runner/work/ozone/ozone/hadoop-hdds/hadoop-dependency-test/target/classes:/home/runner/.m2/repository/org/apache/hadoop/hadoop-common/3.3.5/hadoop-common-3.3.5-tests.jar:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.3.5/hadoop-hdfs-3.3.5-tests.jar:/home/runner/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/home/runner/.m2/repository/org/junit/vintage/junit-vintage-engine/5.8.2/junit-vintage-engine-5.8.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/home/runner/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre"/>
    <property name="java.security.krb5.conf" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-classes/krb5.conf"/>
    <property name="basedir" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="skip.installnpx" value="true"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/surefire/surefirebooter4705141396319402284.jar:/home/runner/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar"/>
    <property name="hadoop.log.dir" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/log"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="skip.npx" value="true"/>
    <property name="java.runtime.version" value="1.8.0_372-b07"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="runner"/>
    <property name="path.separator" value=":"/>
    <property name="java.security.egd" value="file:///dev/urandom"/>
    <property name="os.version" value="5.15.0-1040-azure"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="test.build.webapps" value=""/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="require.test.libhadoop" value=""/>
    <property name="java.version" value="1.8.0_372"/>
    <property name="user.dir" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="test.build.classes" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/test-classes"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="excludedGroups" value="native"/>
    <property name="hadoop.tmp.dir" value="/home/runner/work/ozone/ozone/hadoop-hdds/server-scm/target/tmp"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Temurin"/>
    <property name="java.vm.version" value="25.372-b07"/>
    <property name="java.specification.maintenance.version" value="4"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testMultipleBlockAllocationWithClosedContainer" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="4.119">
    <system-out><![CDATA[2023-06-27 05:29:55,328 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:55,331 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:55,415 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:55,415 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:55,719 [main] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 185 ms to scan 6 urls, producing 156 keys and 362 values 
2023-06-27 05:29:55,813 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/eb5d61cc-5174-4619-b307-46a4cf3740dc
2023-06-27 05:29:55,814 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a7c80cea-3f06-4870-9817-63c7a6f3fe97
2023-06-27 05:29:55,815 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/05e08a02-a2a4-4fb1-a59b-a7048d48f0b7
2023-06-27 05:29:55,815 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3f910258-cc37-4f0f-a4db-8128217100e3
2023-06-27 05:29:55,823 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d5856658-8b42-4598-915c-7da6a769e0b4
2023-06-27 05:29:55,823 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5c823d28-fde0-453f-b01f-e214bfd9d6f8
2023-06-27 05:29:55,824 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b989c251-30d3-4e09-bd8f-a55773dd52ef
2023-06-27 05:29:55,825 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3eff96db-c62f-4031-a5ac-16d78558be81
2023-06-27 05:29:55,826 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4a71768e-bd0d-4ec6-b800-135265ca23cc
2023-06-27 05:29:55,827 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/712f8e51-9c85-448a-b92c-45b2290814db
2023-06-27 05:29:55,982 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:56,283 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:56,521 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:29:56,539 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:29:56,567 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:29:56,574 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:29:56,668 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:29:56,669 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:29:56,675 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:29:56,680 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:29:56,681 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:29:56,774 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:29:56,780 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:29:56,783 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:29:56,794 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:56,830 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:56,834 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:29:56,835 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:29:57,412 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:57,412 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:57,426 [main] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-06-27 05:29:57,429 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:29:57,574 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:29:57,575 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:29:57,576 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:29:57,577 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:29:57,580 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:29:57,581 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:29:57,583 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:29:57,583 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:29:57,591 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:29:57,614 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:29:57,691 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:29:57,705 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:29:57,707 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:29:57,741 [main] WARN  util.NativeCodeLoader (NativeCodeLoader.java:<clinit>(60)) - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
2023-06-27 05:29:57,753 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:29:58,240 [main] INFO  audit.AuditLogger (AuditLogger.java:refreshDebugCmdSet(126)) - Refresh DebugCmdSet for SCMAudit to [].
2023-06-27 05:29:58,278 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:58,324 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:58,353 [Listener at 0.0.0.0/44873] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:58,374 [main] INFO  audit.AuditLogger (AuditLogger.java:refreshDebugCmdSet(126)) - Refresh DebugCmdSet for SCMAudit to [].
2023-06-27 05:29:58,386 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:58,387 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:58,392 [Listener at 0.0.0.0/41943] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:58,427 [main] INFO  audit.AuditLogger (AuditLogger.java:refreshDebugCmdSet(126)) - Refresh DebugCmdSet for SCMAudit to [].
2023-06-27 05:29:58,441 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:58,444 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:58,447 [Listener at 0.0.0.0/37721] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:58,522 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:29:58,523 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:29:58,534 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:29:58,593 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c2f22201-d86c-4b0e-966f-70103c747823 to datanode:5c823d28-fde0-453f-b01f-e214bfd9d6f8
2023-06-27 05:29:58,594 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c2f22201-d86c-4b0e-966f-70103c747823 to datanode:a7c80cea-3f06-4870-9817-63c7a6f3fe97
2023-06-27 05:29:58,595 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c2f22201-d86c-4b0e-966f-70103c747823 to datanode:d5856658-8b42-4598-915c-7da6a769e0b4
2023-06-27 05:29:58,672 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: c2f22201-d86c-4b0e-966f-70103c747823, Nodes: 5c823d28-fde0-453f-b01f-e214bfd9d6f8(localhost-160.3.144.102/160.3.144.102)a7c80cea-3f06-4870-9817-63c7a6f3fe97(localhost-156.171.30.129/156.171.30.129)d5856658-8b42-4598-915c-7da6a769e0b4(localhost-177.27.80.224/177.27.80.224), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:58.592Z[Etc/UTC]].
2023-06-27 05:29:58,682 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: c2f22201-d86c-4b0e-966f-70103c747823, Nodes: 5c823d28-fde0-453f-b01f-e214bfd9d6f8(localhost-160.3.144.102/160.3.144.102)a7c80cea-3f06-4870-9817-63c7a6f3fe97(localhost-156.171.30.129/156.171.30.129)d5856658-8b42-4598-915c-7da6a769e0b4(localhost-177.27.80.224/177.27.80.224), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:58.592Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:29:58,691 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3423535a-af91-4a16-9ee4-8a5608584cb4 to datanode:3f910258-cc37-4f0f-a4db-8128217100e3
2023-06-27 05:29:58,693 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3423535a-af91-4a16-9ee4-8a5608584cb4 to datanode:eb5d61cc-5174-4619-b307-46a4cf3740dc
2023-06-27 05:29:58,693 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3423535a-af91-4a16-9ee4-8a5608584cb4 to datanode:05e08a02-a2a4-4fb1-a59b-a7048d48f0b7
2023-06-27 05:29:58,698 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 3423535a-af91-4a16-9ee4-8a5608584cb4, Nodes: 3f910258-cc37-4f0f-a4db-8128217100e3(localhost-186.200.76.254/186.200.76.254)eb5d61cc-5174-4619-b307-46a4cf3740dc(localhost-224.205.58.6/224.205.58.6)05e08a02-a2a4-4fb1-a59b-a7048d48f0b7(localhost-166.113.230.190/166.113.230.190), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:58.691Z[Etc/UTC]].
2023-06-27 05:29:58,700 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 3423535a-af91-4a16-9ee4-8a5608584cb4, Nodes: 3f910258-cc37-4f0f-a4db-8128217100e3(localhost-186.200.76.254/186.200.76.254)eb5d61cc-5174-4619-b307-46a4cf3740dc(localhost-224.205.58.6/224.205.58.6)05e08a02-a2a4-4fb1-a59b-a7048d48f0b7(localhost-166.113.230.190/166.113.230.190), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:58.691Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:29:58,733 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:29:58,748 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:29:58,750 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:29:58,866 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #4, current state: OPEN
2023-06-27 05:29:58,879 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #5, current state: OPEN
2023-06-27 05:29:58,881 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #6, current state: OPEN
2023-06-27 05:29:58,885 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #1, current state: OPEN
2023-06-27 05:29:58,889 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #2, current state: OPEN
2023-06-27 05:29:58,891 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(89)) - Close container Event triggered for container : #3, current state: OPEN
2023-06-27 05:29:58,969 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:29:58,970 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:29:58,971 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:29:58,971 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:29:58,971 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:29:58,972 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:29:58,972 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:29:58,973 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:29:58,973 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:29:58,973 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 44873
2023-06-27 05:29:58,979 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:29:58,979 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:29:58,979 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 41943
2023-06-27 05:29:58,981 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:29:58,982 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:29:58,982 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 37721
2023-06-27 05:29:58,984 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:29:58,984 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:29:58,986 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:29:58,987 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:29:58,987 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:29:58,988 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:29:58,992 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:29:58,998 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:29:58,999 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:29:58,999 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:29:58,999 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:29:59,000 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:29:59,002 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:29:59,002 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:29:59,002 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:29:59,002 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:29:59,003 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
2023-06-27 05:29:59,003 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
]]></system-out>
  </testcase>
  <testcase name="testMultipleBlockAllocation" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="1.317">
    <error type="java.util.concurrent.TimeoutException"><![CDATA[java.util.concurrent.TimeoutException: 
Timed out waiting for condition. Thread diagnostics:
Timestamp: 2023-06-27 05:30:00,325

"Hadoop-Metrics-Updater-0" daemon prio=5 tid=75 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Signal Dispatcher" daemon prio=9 tid=4 runnable
java.lang.Thread.State: RUNNABLE
"FixedThreadPoolWithAffinityExecutor-9-0" daemon prio=5 tid=85 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-3-0" daemon prio=5 tid=79 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"IPC Server idle connection scanner for port 41943" daemon prio=5 tid=29 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"FixedThreadPoolWithAffinityExecutor-8-0" daemon prio=5 tid=84 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"EventQueue-DatanodeCommandForDatanodeCommandHandler"  prio=5 tid=87 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Under Replicated Processor" daemon prio=5 tid=58 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.container.replication.UnhealthyReplicationProcessor.run(UnhealthyReplicationProcessor.java:174)
        at java.lang.Thread.run(Thread.java:750)
"process reaper" daemon prio=10 tid=12 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
        at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
        at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Socket Reader #1 for port 0"  prio=5 tid=72 runnable
java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)
        at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:1342)
        at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:1321)
"pool-32-thread-3"  prio=5 tid=53 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
        at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
        at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"test-leaseManager-LeaseManager#LeaseMonitor" daemon prio=5 tid=86 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1037)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
        at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
        at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
        at java.lang.Thread.run(Thread.java:750)
"pool-32-thread-1"  prio=5 tid=51 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
        at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
        at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Hadoop-Metrics-Updater-0" daemon prio=5 tid=70 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-7-0" daemon prio=5 tid=83 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Hadoop-Metrics-Updater-0" daemon prio=5 tid=65 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"pool-32-thread-2"  prio=5 tid=52 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
        at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
        at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-5-0" daemon prio=5 tid=81 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"surefire-forkedjvm-command-thread" daemon prio=5 tid=10 runnable
java.lang.Thread.State: RUNNABLE
        at java.io.FileInputStream.readBytes(Native Method)
        at java.io.FileInputStream.read(FileInputStream.java:255)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
        at org.apache.maven.surefire.api.util.internal.Channels$3.readImpl(Channels.java:214)
        at org.apache.maven.surefire.api.util.internal.AbstractNoninterruptibleReadableChannel.read(AbstractNoninterruptibleReadableChannel.java:54)
        at org.apache.maven.surefire.booter.spi.LegacyMasterProcessChannelDecoder.decode(LegacyMasterProcessChannelDecoder.java:80)
        at org.apache.maven.surefire.booter.CommandReader$CommandRunnable.run(CommandReader.java:343)
        at java.lang.Thread.run(Thread.java:750)
"IPC Server idle connection scanner for port 37721" daemon prio=5 tid=34 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"IPC Server idle connection scanner for port 44873" daemon prio=5 tid=24 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"FixedThreadPoolWithAffinityExecutor-6-0" daemon prio=5 tid=82 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"Socket Reader #1 for port 0"  prio=5 tid=62 runnable
java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)
        at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:1342)
        at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:1321)
"BackgroundPipelineScrubberThread" daemon prio=5 tid=55 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.ha.BackgroundSCMService.run(BackgroundSCMService.java:110)
        at org.apache.hadoop.hdds.scm.ha.BackgroundSCMService$$Lambda$405/1685470793.run(Unknown Source)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-2-0" daemon prio=5 tid=78 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"IPC Server idle connection scanner for port 46189" daemon prio=5 tid=68 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"RatisPipelineUtilsThread - 0"  prio=5 tid=54 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator.run(BackgroundPipelineCreator.java:176)
        at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator$$Lambda$402/1510869126.run(Unknown Source)
        at java.lang.Thread.run(Thread.java:750)
"Finalizer" daemon prio=8 tid=3 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:188)
"IPC Server idle connection scanner for port 36279" daemon prio=5 tid=73 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"main"  prio=5 tid=1 runnable
java.lang.Thread.State: RUNNABLE
        at java.lang.Thread.dumpThreads(Native Method)
        at java.lang.Thread.getAllStackTraces(Thread.java:1615)
        at org.apache.ozone.test.TimedOutTestsListener.buildThreadDump(TimedOutTestsListener.java:93)
        at org.apache.ozone.test.TimedOutTestsListener.buildThreadDiagnosticString(TimedOutTestsListener.java:79)
        at org.apache.ozone.test.GenericTestUtils.waitFor(GenericTestUtils.java:232)
        at org.apache.hadoop.hdds.scm.block.TestBlockManager.testMultipleBlockAllocation(TestBlockManager.java:514)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
        at org.junit.jupiter.engine.extension.TimeoutInvocation.proceed(TimeoutInvocation.java:46)
        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor$$Lambda$158/1444635922.apply(Unknown Source)
        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall$$Lambda$159/1550261631.apply(Unknown Source)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
        at org.junit.jupiter.engine.execution.ExecutableInvoker$$Lambda$317/1997702454.apply(Unknown Source)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor$$Lambda$479/1056671292.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$258/1704237553.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$257/137225802.invoke(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$256/1744189907.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService$$Lambda$262/652433136.accept(Unknown Source)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$258/1704237553.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$257/137225802.invoke(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$256/1744189907.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService$$Lambda$262/652433136.accept(Unknown Source)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$258/1704237553.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$257/137225802.invoke(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$$Lambda$256/1744189907.execute(Unknown Source)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator$$Lambda$214/1687940142.accept(Unknown Source)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)
"FixedThreadPoolWithAffinityExecutor-4-0" daemon prio=5 tid=80 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"ExpiredContainerReplicaOpScrubberThread" daemon prio=5 tid=56 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.ha.BackgroundSCMService.run(BackgroundSCMService.java:110)
        at org.apache.hadoop.hdds.scm.ha.BackgroundSCMService$$Lambda$405/1685470793.run(Unknown Source)
        at java.lang.Thread.run(Thread.java:750)
"Reference Handler" daemon prio=10 tid=2 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.lang.ref.Reference.tryHandlePending(Reference.java:191)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)
"DatanodeAdminManager-0" daemon prio=5 tid=60 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"ReplicationMonitor" daemon prio=5 tid=57 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.container.replication.ReplicationManager.run(ReplicationManager.java:914)
        at org.apache.hadoop.hdds.scm.container.replication.ReplicationManager$$Lambda$453/884958895.run(Unknown Source)
        at java.lang.Thread.run(Thread.java:750)
"IPC Server idle connection scanner for port 39849" daemon prio=5 tid=63 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:502)
        at java.util.TimerThread.mainLoop(Timer.java:526)
        at java.util.TimerThread.run(Timer.java:505)
"Socket Reader #1 for port 0"  prio=5 tid=67 runnable
java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)
        at org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:1342)
        at org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:1321)
"Over Replicated Processor" daemon prio=5 tid=59 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hdds.scm.container.replication.UnhealthyReplicationProcessor.run(UnhealthyReplicationProcessor.java:174)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-1-0" daemon prio=5 tid=77 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"FixedThreadPoolWithAffinityExecutor-0-0" daemon prio=5 tid=76 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:266)
        at org.apache.hadoop.hdds.scm.server.ContainerReportQueue.poll(ContainerReportQueue.java:42)
        at org.apache.hadoop.hdds.server.events.FixedThreadPoolWithAffinityExecutor$ContainerReportProcessTask.run(FixedThreadPoolWithAffinityExecutor.java:247)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
"junit-jupiter-timeout-watcher"  prio=10 tid=48 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)


	at org.apache.ozone.test.GenericTestUtils.waitFor(GenericTestUtils.java:232)
	at org.apache.hadoop.hdds.scm.block.TestBlockManager.testMultipleBlockAllocation(TestBlockManager.java:514)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutInvocation.proceed(TimeoutInvocation.java:46)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)
]]></error>
    <system-out><![CDATA[2023-06-27 05:29:59,073 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:59,074 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:59,089 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:59,090 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:59,093 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/be2b7fc3-a24b-4987-b0ba-5cd8adb5d52b
2023-06-27 05:29:59,093 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1ccf73ba-422c-4662-af3d-1f0711a6575d
2023-06-27 05:29:59,093 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d6b7388d-5313-4dc3-94b2-008566f9c8ae
2023-06-27 05:29:59,094 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b7d5788c-888b-47c0-b6cb-f424f0fbdcd5
2023-06-27 05:29:59,094 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b6d38f71-2e62-4edf-a101-8f150bb7ec53
2023-06-27 05:29:59,094 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/8c964e67-3233-4e9c-8b01-72ff83e65a14
2023-06-27 05:29:59,094 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/360241ed-57db-4ce6-8215-5f8ada06b375
2023-06-27 05:29:59,095 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/be33d7b1-f5af-4789-b069-50c030913a29
2023-06-27 05:29:59,095 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a76436b3-f01c-4bfb-b1ce-93b11e48961e
2023-06-27 05:29:59,095 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/555e4402-10b9-4486-9299-d34ea5616ab6
2023-06-27 05:29:59,097 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:59,098 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:59,243 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:29:59,243 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:29:59,244 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:29:59,245 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:29:59,247 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:29:59,247 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:29:59,248 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:29:59,249 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:29:59,249 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:29:59,251 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:29:59,251 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:29:59,251 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:29:59,252 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:59,255 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:29:59,256 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:29:59,256 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:29:59,260 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:29:59,260 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:29:59,265 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:29:59,270 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:29:59,274 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:29:59,275 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:29:59,275 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:29:59,276 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:29:59,276 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:29:59,276 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:29:59,277 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:29:59,277 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:29:59,278 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:29:59,279 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:29:59,281 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:29:59,281 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:29:59,282 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:59,283 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:59,284 [Listener at 0.0.0.0/39849] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:59,285 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:59,286 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:59,287 [Listener at 0.0.0.0/46189] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:59,287 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:29:59,288 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:29:59,289 [Listener at 0.0.0.0/36279] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:29:59,296 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:29:59,297 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:29:59,298 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:29:59,299 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:29:59,301 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7c12e3ac-bf53-4e92-808c-94d4601910e8 to datanode:be2b7fc3-a24b-4987-b0ba-5cd8adb5d52b
2023-06-27 05:29:59,302 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7c12e3ac-bf53-4e92-808c-94d4601910e8 to datanode:be33d7b1-f5af-4789-b069-50c030913a29
2023-06-27 05:29:59,302 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7c12e3ac-bf53-4e92-808c-94d4601910e8 to datanode:8c964e67-3233-4e9c-8b01-72ff83e65a14
2023-06-27 05:29:59,303 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 7c12e3ac-bf53-4e92-808c-94d4601910e8, Nodes: be2b7fc3-a24b-4987-b0ba-5cd8adb5d52b(localhost-17.17.229.187/17.17.229.187)be33d7b1-f5af-4789-b069-50c030913a29(localhost-199.41.21.109/199.41.21.109)8c964e67-3233-4e9c-8b01-72ff83e65a14(localhost-13.92.15.145/13.92.15.145), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:59.301Z[Etc/UTC]].
2023-06-27 05:29:59,305 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c51b5578-48cb-496f-bc00-e7acfaf97aae to datanode:1ccf73ba-422c-4662-af3d-1f0711a6575d
2023-06-27 05:29:59,306 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c51b5578-48cb-496f-bc00-e7acfaf97aae to datanode:8c964e67-3233-4e9c-8b01-72ff83e65a14
2023-06-27 05:29:59,306 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c51b5578-48cb-496f-bc00-e7acfaf97aae to datanode:be33d7b1-f5af-4789-b069-50c030913a29
2023-06-27 05:29:59,307 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: c51b5578-48cb-496f-bc00-e7acfaf97aae, Nodes: 1ccf73ba-422c-4662-af3d-1f0711a6575d(localhost-149.23.9.76/149.23.9.76)8c964e67-3233-4e9c-8b01-72ff83e65a14(localhost-13.92.15.145/13.92.15.145)be33d7b1-f5af-4789-b069-50c030913a29(localhost-199.41.21.109/199.41.21.109), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:59.305Z[Etc/UTC]].
2023-06-27 05:29:59,308 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 7c12e3ac-bf53-4e92-808c-94d4601910e8, Nodes: be2b7fc3-a24b-4987-b0ba-5cd8adb5d52b(localhost-17.17.229.187/17.17.229.187)be33d7b1-f5af-4789-b069-50c030913a29(localhost-199.41.21.109/199.41.21.109)8c964e67-3233-4e9c-8b01-72ff83e65a14(localhost-13.92.15.145/13.92.15.145), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:59.301Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:29:59,309 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: c51b5578-48cb-496f-bc00-e7acfaf97aae, Nodes: 1ccf73ba-422c-4662-af3d-1f0711a6575d(localhost-149.23.9.76/149.23.9.76)8c964e67-3233-4e9c-8b01-72ff83e65a14(localhost-13.92.15.145/13.92.15.145)be33d7b1-f5af-4789-b069-50c030913a29(localhost-199.41.21.109/199.41.21.109), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:29:59.305Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:29:59,311 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:29:59,312 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:29:59,313 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:00,340 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:00,340 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:00,340 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:00,341 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:00,341 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:00,342 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:00,342 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:00,343 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:00,343 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:00,344 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 39849
2023-06-27 05:30:00,345 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:00,345 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:00,345 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 46189
2023-06-27 05:30:00,346 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:00,346 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:00,346 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 36279
2023-06-27 05:30:00,349 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:00,349 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:00,349 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:00,349 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,351 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,351 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:00,352 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:00,353 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:00,353 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:00,353 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:00,354 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:00,354 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:00,354 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:00,355 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,355 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:00,355 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:00,355 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
]]></system-out>
  </testcase>
  <testcase name="testAllocateBlockWithExclusion" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.356">
    <system-out><![CDATA[2023-06-27 05:30:00,402 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,403 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,418 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,419 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,421 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/870f67a7-8019-4b0c-b83e-e269b16d64f0
2023-06-27 05:30:00,422 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/66effa8c-c125-4c8c-b7e5-d4371e254fbf
2023-06-27 05:30:00,422 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b4c438d2-0b40-4df3-bbca-5777497fe20a
2023-06-27 05:30:00,422 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/47b39541-8005-4cfd-8943-82678dadbbfc
2023-06-27 05:30:00,423 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/86d6c8a1-88e2-4d96-a4ce-7286c1cd6991
2023-06-27 05:30:00,423 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/46d40541-a38f-4103-870c-0f56ba95c8e2
2023-06-27 05:30:00,423 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/ca89a370-6c26-4ce9-b96e-d871965173fb
2023-06-27 05:30:00,424 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/824aff30-a24f-4e57-be79-fd3cd63365d7
2023-06-27 05:30:00,424 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2b4c2e42-bcae-43f0-9537-54d4a9a833d0
2023-06-27 05:30:00,424 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a70e36b7-54ed-4b52-877b-4776dbbfba94
2023-06-27 05:30:00,424 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,425 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,560 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:00,560 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:00,561 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:00,561 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:00,562 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:00,562 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:00,563 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:00,564 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:00,564 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:00,565 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:00,566 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:00,566 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:00,567 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,571 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,572 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:00,572 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:00,575 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,576 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,578 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:00,580 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:00,580 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:00,581 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:00,581 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:00,581 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:00,582 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:00,582 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:00,582 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:00,583 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:00,584 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:00,585 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:00,589 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:00,590 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:00,590 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:00,591 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,592 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,596 [Listener at 0.0.0.0/35617] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,597 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,613 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,614 [Listener at 0.0.0.0/44553] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,614 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,615 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,616 [Listener at 0.0.0.0/40701] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,627 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:00,628 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:00,630 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:00,637 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=bbcc0940-5f93-4cfa-bcbd-695efcc06ea1 to datanode:47b39541-8005-4cfd-8943-82678dadbbfc
2023-06-27 05:30:00,638 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=bbcc0940-5f93-4cfa-bcbd-695efcc06ea1 to datanode:824aff30-a24f-4e57-be79-fd3cd63365d7
2023-06-27 05:30:00,638 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=bbcc0940-5f93-4cfa-bcbd-695efcc06ea1 to datanode:66effa8c-c125-4c8c-b7e5-d4371e254fbf
2023-06-27 05:30:00,641 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: bbcc0940-5f93-4cfa-bcbd-695efcc06ea1, Nodes: 47b39541-8005-4cfd-8943-82678dadbbfc(localhost-151.118.126.193/151.118.126.193)824aff30-a24f-4e57-be79-fd3cd63365d7(localhost-87.56.214.153/87.56.214.153)66effa8c-c125-4c8c-b7e5-d4371e254fbf(localhost-138.51.92.192/138.51.92.192), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.637Z[Etc/UTC]].
2023-06-27 05:30:00,645 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=5aba21d6-a22e-474b-a0b8-168eab29c611 to datanode:b4c438d2-0b40-4df3-bbca-5777497fe20a
2023-06-27 05:30:00,646 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=5aba21d6-a22e-474b-a0b8-168eab29c611 to datanode:870f67a7-8019-4b0c-b83e-e269b16d64f0
2023-06-27 05:30:00,646 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=5aba21d6-a22e-474b-a0b8-168eab29c611 to datanode:47b39541-8005-4cfd-8943-82678dadbbfc
2023-06-27 05:30:00,648 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 5aba21d6-a22e-474b-a0b8-168eab29c611, Nodes: b4c438d2-0b40-4df3-bbca-5777497fe20a(localhost-108.211.72.76/108.211.72.76)870f67a7-8019-4b0c-b83e-e269b16d64f0(localhost-76.77.192.25/76.77.192.25)47b39541-8005-4cfd-8943-82678dadbbfc(localhost-151.118.126.193/151.118.126.193), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.645Z[Etc/UTC]].
2023-06-27 05:30:00,649 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=64a968c6-e1d8-4926-bcd4-a2e14740aae1 to datanode:870f67a7-8019-4b0c-b83e-e269b16d64f0
2023-06-27 05:30:00,650 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=64a968c6-e1d8-4926-bcd4-a2e14740aae1 to datanode:824aff30-a24f-4e57-be79-fd3cd63365d7
2023-06-27 05:30:00,650 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=64a968c6-e1d8-4926-bcd4-a2e14740aae1 to datanode:86d6c8a1-88e2-4d96-a4ce-7286c1cd6991
2023-06-27 05:30:00,656 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 64a968c6-e1d8-4926-bcd4-a2e14740aae1, Nodes: 870f67a7-8019-4b0c-b83e-e269b16d64f0(localhost-76.77.192.25/76.77.192.25)824aff30-a24f-4e57-be79-fd3cd63365d7(localhost-87.56.214.153/87.56.214.153)86d6c8a1-88e2-4d96-a4ce-7286c1cd6991(localhost-7.193.67.72/7.193.67.72), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.649Z[Etc/UTC]].
2023-06-27 05:30:00,659 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: bbcc0940-5f93-4cfa-bcbd-695efcc06ea1, Nodes: 47b39541-8005-4cfd-8943-82678dadbbfc(localhost-151.118.126.193/151.118.126.193)824aff30-a24f-4e57-be79-fd3cd63365d7(localhost-87.56.214.153/87.56.214.153)66effa8c-c125-4c8c-b7e5-d4371e254fbf(localhost-138.51.92.192/138.51.92.192), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.637Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:00,662 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 5aba21d6-a22e-474b-a0b8-168eab29c611, Nodes: b4c438d2-0b40-4df3-bbca-5777497fe20a(localhost-108.211.72.76/108.211.72.76)870f67a7-8019-4b0c-b83e-e269b16d64f0(localhost-76.77.192.25/76.77.192.25)47b39541-8005-4cfd-8943-82678dadbbfc(localhost-151.118.126.193/151.118.126.193), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.645Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:00,663 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 64a968c6-e1d8-4926-bcd4-a2e14740aae1, Nodes: 870f67a7-8019-4b0c-b83e-e269b16d64f0(localhost-76.77.192.25/76.77.192.25)824aff30-a24f-4e57-be79-fd3cd63365d7(localhost-87.56.214.153/87.56.214.153)86d6c8a1-88e2-4d96-a4ce-7286c1cd6991(localhost-7.193.67.72/7.193.67.72), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.649Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:00,666 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3c0b7cc5-0bcf-4e3d-b601-b37a95b729da to datanode:b4c438d2-0b40-4df3-bbca-5777497fe20a
2023-06-27 05:30:00,667 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3c0b7cc5-0bcf-4e3d-b601-b37a95b729da to datanode:ca89a370-6c26-4ce9-b96e-d871965173fb
2023-06-27 05:30:00,667 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=3c0b7cc5-0bcf-4e3d-b601-b37a95b729da to datanode:46d40541-a38f-4103-870c-0f56ba95c8e2
2023-06-27 05:30:00,669 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 3c0b7cc5-0bcf-4e3d-b601-b37a95b729da, Nodes: b4c438d2-0b40-4df3-bbca-5777497fe20a(localhost-108.211.72.76/108.211.72.76)ca89a370-6c26-4ce9-b96e-d871965173fb(localhost-253.172.29.43/253.172.29.43)46d40541-a38f-4103-870c-0f56ba95c8e2(localhost-33.64.133.126/33.64.133.126), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.666Z[Etc/UTC]].
2023-06-27 05:30:00,671 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 3c0b7cc5-0bcf-4e3d-b601-b37a95b729da, Nodes: b4c438d2-0b40-4df3-bbca-5777497fe20a(localhost-108.211.72.76/108.211.72.76)ca89a370-6c26-4ce9-b96e-d871965173fb(localhost-253.172.29.43/253.172.29.43)46d40541-a38f-4103-870c-0f56ba95c8e2(localhost-33.64.133.126/33.64.133.126), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.666Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:00,674 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c0cca681-1900-4ebc-9a52-b2a1a89bcf44 to datanode:46d40541-a38f-4103-870c-0f56ba95c8e2
2023-06-27 05:30:00,676 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c0cca681-1900-4ebc-9a52-b2a1a89bcf44 to datanode:66effa8c-c125-4c8c-b7e5-d4371e254fbf
2023-06-27 05:30:00,676 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=c0cca681-1900-4ebc-9a52-b2a1a89bcf44 to datanode:ca89a370-6c26-4ce9-b96e-d871965173fb
2023-06-27 05:30:00,678 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: c0cca681-1900-4ebc-9a52-b2a1a89bcf44, Nodes: 46d40541-a38f-4103-870c-0f56ba95c8e2(localhost-33.64.133.126/33.64.133.126)66effa8c-c125-4c8c-b7e5-d4371e254fbf(localhost-138.51.92.192/138.51.92.192)ca89a370-6c26-4ce9-b96e-d871965173fb(localhost-253.172.29.43/253.172.29.43), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.674Z[Etc/UTC]].
2023-06-27 05:30:00,680 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: c0cca681-1900-4ebc-9a52-b2a1a89bcf44, Nodes: 46d40541-a38f-4103-870c-0f56ba95c8e2(localhost-33.64.133.126/33.64.133.126)66effa8c-c125-4c8c-b7e5-d4371e254fbf(localhost-138.51.92.192/138.51.92.192)ca89a370-6c26-4ce9-b96e-d871965173fb(localhost-253.172.29.43/253.172.29.43), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:00.674Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:00,684 [main] WARN  pipeline.PipelinePlacementPolicy (PipelinePlacementPolicy.java:filterViableNodes(166)) - Pipeline creation failed due to no sufficient healthy datanodes. Required 3. Found 1. Excluded 7.
2023-06-27 05:30:00,692 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:00,694 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:00,696 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:00,706 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:00,707 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:00,707 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:00,707 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:00,708 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:00,709 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:00,709 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:00,708 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:00,708 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:00,709 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 35617
2023-06-27 05:30:00,714 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:00,714 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:00,715 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 44553
2023-06-27 05:30:00,717 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:00,718 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:00,718 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 40701
2023-06-27 05:30:00,719 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:00,719 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:00,719 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:00,719 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,720 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,720 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:00,720 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:00,721 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:00,722 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:00,723 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:00,723 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:00,724 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:00,724 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:00,725 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:00,725 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:00,725 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:00,725 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:00,725 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testBlockDistributionWithMultipleRaftLogDisks" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.328">
    <system-out><![CDATA[2023-06-27 05:30:00,766 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,767 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,783 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,783 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,785 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/087f5671-9e68-4746-ac1a-e91fa393b55f
2023-06-27 05:30:00,785 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/26fd1fa7-7def-4705-a43e-2bedc26fa79a
2023-06-27 05:30:00,786 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/07c12f56-cd03-43ea-b839-d5460c3857e2
2023-06-27 05:30:00,786 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d77095ae-a89c-4b44-acfa-495c09ae7c54
2023-06-27 05:30:00,786 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/546b9b2e-cf55-4ee4-9f3f-5639665a8906
2023-06-27 05:30:00,787 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2ccd1f5f-0984-49e6-86c9-b9dc48fe7793
2023-06-27 05:30:00,787 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d6fe170c-aec0-43ff-88f7-9fdb419a3d11
2023-06-27 05:30:00,787 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/aabe697f-3971-4115-b936-edd13a01461a
2023-06-27 05:30:00,787 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/017be703-d28a-4889-a7a1-9367fcc1434e
2023-06-27 05:30:00,788 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/67746f44-a088-44b7-a739-4b3344d76189
2023-06-27 05:30:00,788 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,789 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,916 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:00,917 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:00,917 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:00,918 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:00,918 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:00,919 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:00,919 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:00,919 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:00,920 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:00,922 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:00,922 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:00,924 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:00,924 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,927 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:00,927 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:00,928 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:00,929 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:00,929 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:00,932 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:00,935 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:00,936 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:00,937 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:00,938 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:00,938 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:00,938 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:00,940 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:00,940 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:00,941 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:00,942 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:00,943 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:00,946 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:00,949 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:00,950 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,951 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,953 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:00,954 [Listener at 0.0.0.0/35969] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,954 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,958 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,960 [Listener at 0.0.0.0/43917] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,980 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:00,982 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:00,983 [Listener at 0.0.0.0/41807] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:00,995 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:00,995 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:00,999 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:01,001 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=ac3c2953-ffa1-45a9-bc73-cf5448a42841 to datanode:2ccd1f5f-0984-49e6-86c9-b9dc48fe7793
2023-06-27 05:30:01,001 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=ac3c2953-ffa1-45a9-bc73-cf5448a42841 to datanode:087f5671-9e68-4746-ac1a-e91fa393b55f
2023-06-27 05:30:01,002 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=ac3c2953-ffa1-45a9-bc73-cf5448a42841 to datanode:07c12f56-cd03-43ea-b839-d5460c3857e2
2023-06-27 05:30:01,003 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: ac3c2953-ffa1-45a9-bc73-cf5448a42841, Nodes: 2ccd1f5f-0984-49e6-86c9-b9dc48fe7793(localhost-6.90.34.224/6.90.34.224)087f5671-9e68-4746-ac1a-e91fa393b55f(localhost-254.246.201.116/254.246.201.116)07c12f56-cd03-43ea-b839-d5460c3857e2(localhost-180.34.250.32/180.34.250.32), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.001Z[Etc/UTC]].
2023-06-27 05:30:01,004 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: ac3c2953-ffa1-45a9-bc73-cf5448a42841, Nodes: 2ccd1f5f-0984-49e6-86c9-b9dc48fe7793(localhost-6.90.34.224/6.90.34.224)087f5671-9e68-4746-ac1a-e91fa393b55f(localhost-254.246.201.116/254.246.201.116)07c12f56-cd03-43ea-b839-d5460c3857e2(localhost-180.34.250.32/180.34.250.32), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.001Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:01,005 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:01,009 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 1: CodecBuffer[0<=16<=16: 7C 12 E3 AC BF 53 4E 92 80 8C ...], refCnt=1, capacity=16
2023-06-27 05:30:01,009 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 2: CodecBuffer[0<=1040<=1040: 0A B4 02 0A 24 62 65 32 62 37 ...], refCnt=1, capacity=1040
2023-06-27 05:30:01,009 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 3: CodecBuffer[0<=16<=16: C5 1B 55 78 48 CB 49 6F BC 00 ...], refCnt=1, capacity=16
2023-06-27 05:30:01,009 [pool-123-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:01,010 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 4: CodecBuffer[0<=1036<=1036: 0A AF 02 0A 24 31 63 63 66 37 ...], refCnt=1, capacity=1036
2023-06-27 05:30:01,021 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 5: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:01,021 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 6: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:01,021 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 7: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:01,021 [pool-123-thread-1] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:01,022 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 8: CodecBuffer[0<=95<=95: 08 01 10 01 1A 3F 0A 24 63 35 ...], refCnt=1, capacity=95
2023-06-27 05:30:01,022 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 9: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:01,022 [pool-123-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:01,022 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 10: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:01,022 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 11: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 02 ], refCnt=1, capacity=8
2023-06-27 05:30:01,022 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 12: CodecBuffer[0<=95<=95: 08 02 10 01 1A 3F 0A 24 63 35 ...], refCnt=1, capacity=95
2023-06-27 05:30:01,031 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:01,031 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 13: CodecBuffer[0<=16<=16: BB CC 09 40 5F 93 4C FA BC BD ...], refCnt=1, capacity=16
2023-06-27 05:30:01,032 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 14: CodecBuffer[0<=1044<=1044: 0A B7 02 0A 24 34 37 62 33 39 ...], refCnt=1, capacity=1044
2023-06-27 05:30:01,032 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 15: CodecBuffer[0<=16<=16: 5A BA 21 D6 A2 2E 47 4B A0 B8 ...], refCnt=1, capacity=16
2023-06-27 05:30:01,033 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 16: CodecBuffer[0<=1043<=1043: 0A B4 02 0A 24 62 34 63 34 33 ...], refCnt=1, capacity=1043
2023-06-27 05:30:01,033 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 17: CodecBuffer[0<=16<=16: 64 A9 68 C6 E1 D8 49 26 BC D4 ...], refCnt=1, capacity=16
2023-06-27 05:30:01,033 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 18: CodecBuffer[0<=1036<=1036: 0A B2 02 0A 24 38 37 30 66 36 ...], refCnt=1, capacity=1036
2023-06-27 05:30:01,034 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 19: CodecBuffer[0<=16<=16: 3C 0B 7C C5 0B CF 4E 3D B6 01 ...], refCnt=1, capacity=16
2023-06-27 05:30:01,034 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 20: CodecBuffer[0<=1041<=1041: 0A B4 02 0A 24 62 34 63 34 33 ...], refCnt=1, capacity=1041
2023-06-27 05:30:01,034 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 21: CodecBuffer[0<=16<=16: C0 CC A6 81 19 00 4E BC 9A 52 ...], refCnt=1, capacity=16
2023-06-27 05:30:01,034 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 22: CodecBuffer[0<=1040<=1040: 0A B3 02 0A 24 34 36 64 34 30 ...], refCnt=1, capacity=1040
2023-06-27 05:30:01,035 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 23: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:01,035 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 24: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:01,035 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 25: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:01,035 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 26: CodecBuffer[0<=94<=94: 08 01 10 01 1A 3E 0A 24 33 63 ...], refCnt=1, capacity=94
2023-06-27 05:30:01,037 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 27: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:01,038 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 28: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:01,038 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 29: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 02 ], refCnt=1, capacity=8
2023-06-27 05:30:01,039 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 30: CodecBuffer[0<=94<=94: 08 02 10 01 1A 3E 0A 24 35 61 ...], refCnt=1, capacity=94
2023-06-27 05:30:01,041 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:01,041 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:01,042 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:01,042 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:01,042 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:01,042 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,042 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,042 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:01,043 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:01,043 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 35969
2023-06-27 05:30:01,044 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:01,044 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:01,044 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 43917
2023-06-27 05:30:01,045 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:01,045 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:01,045 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 41807
2023-06-27 05:30:01,045 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:01,046 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:01,046 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:01,046 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,046 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,046 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:01,047 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:01,047 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:01,047 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:01,048 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:01,048 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:01,048 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:01,048 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:01,049 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,055 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:01,055 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:01,055 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:01,055 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testAllocateBlockInParallel" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.398">
    <system-out><![CDATA[2023-06-27 05:30:01,097 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,098 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,113 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,113 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,118 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/35dfc367-382d-48a3-85d7-2f3795bc7950
2023-06-27 05:30:01,118 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/e0a04b5b-cddc-4145-a225-e05e61219a86
2023-06-27 05:30:01,118 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0c44d073-2145-4024-9649-c2ed3af6fa18
2023-06-27 05:30:01,118 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/01db53f5-0975-4b42-9bb8-fd7838003c7d
2023-06-27 05:30:01,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1
2023-06-27 05:30:01,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/90a867d4-e149-4577-8ae1-8adfb079411b
2023-06-27 05:30:01,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/80ab8ecd-3340-4920-8bd5-8780ca12bf37
2023-06-27 05:30:01,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f1980bdb-e8ee-4ba5-bfbb-ad773efe0992
2023-06-27 05:30:01,120 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/dae92802-f115-46b3-b37a-1c6fbd6b61f2
2023-06-27 05:30:01,124 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9ca309cd-08bc-49db-8a3e-b18079cd6b6d
2023-06-27 05:30:01,124 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,125 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,267 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:01,267 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:01,268 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:01,268 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:01,269 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:01,269 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:01,269 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:01,270 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:01,270 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:01,271 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:01,272 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:01,272 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:01,273 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,274 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,275 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:01,275 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:01,277 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,277 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,279 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:01,280 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:01,281 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:01,282 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:01,282 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:01,282 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:01,283 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:01,283 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:01,283 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:01,284 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:01,285 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:01,286 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:01,289 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:01,289 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:01,290 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:01,290 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,292 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,292 [Listener at 0.0.0.0/35041] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,293 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,294 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,296 [Listener at 0.0.0.0/41263] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,296 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,297 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,305 [Listener at 0.0.0.0/42305] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,311 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:01,312 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:01,315 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:01,327 [pool-162-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=75de1319-9090-47ca-bcbd-19e602a1054a to datanode:0c44d073-2145-4024-9649-c2ed3af6fa18
2023-06-27 05:30:01,328 [pool-162-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=75de1319-9090-47ca-bcbd-19e602a1054a to datanode:35dfc367-382d-48a3-85d7-2f3795bc7950
2023-06-27 05:30:01,328 [pool-162-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=75de1319-9090-47ca-bcbd-19e602a1054a to datanode:22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1
2023-06-27 05:30:01,330 [pool-162-thread-1] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 75de1319-9090-47ca-bcbd-19e602a1054a, Nodes: 0c44d073-2145-4024-9649-c2ed3af6fa18(localhost-4.23.15.67/4.23.15.67)35dfc367-382d-48a3-85d7-2f3795bc7950(localhost-51.234.106.21/51.234.106.21)22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1(localhost-134.126.35.155/134.126.35.155), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.327Z[Etc/UTC]].
2023-06-27 05:30:01,336 [pool-164-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=4adae2fd-db71-4f77-8d7a-8f0daafa266a to datanode:22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1
2023-06-27 05:30:01,336 [pool-164-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=4adae2fd-db71-4f77-8d7a-8f0daafa266a to datanode:0c44d073-2145-4024-9649-c2ed3af6fa18
2023-06-27 05:30:01,336 [pool-164-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=4adae2fd-db71-4f77-8d7a-8f0daafa266a to datanode:90a867d4-e149-4577-8ae1-8adfb079411b
2023-06-27 05:30:01,338 [pool-164-thread-1] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 4adae2fd-db71-4f77-8d7a-8f0daafa266a, Nodes: 22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1(localhost-134.126.35.155/134.126.35.155)0c44d073-2145-4024-9649-c2ed3af6fa18(localhost-4.23.15.67/4.23.15.67)90a867d4-e149-4577-8ae1-8adfb079411b(localhost-10.14.188.225/10.14.188.225), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.334Z[Etc/UTC]].
2023-06-27 05:30:01,344 [pool-163-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6ab5621a-d805-4681-b731-6102afe2b9bb to datanode:e0a04b5b-cddc-4145-a225-e05e61219a86
2023-06-27 05:30:01,345 [pool-163-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6ab5621a-d805-4681-b731-6102afe2b9bb to datanode:80ab8ecd-3340-4920-8bd5-8780ca12bf37
2023-06-27 05:30:01,345 [pool-163-thread-1] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6ab5621a-d805-4681-b731-6102afe2b9bb to datanode:35dfc367-382d-48a3-85d7-2f3795bc7950
2023-06-27 05:30:01,347 [pool-163-thread-1] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 6ab5621a-d805-4681-b731-6102afe2b9bb, Nodes: e0a04b5b-cddc-4145-a225-e05e61219a86(localhost-90.34.70.79/90.34.70.79)80ab8ecd-3340-4920-8bd5-8780ca12bf37(localhost-110.55.141.151/110.55.141.151)35dfc367-382d-48a3-85d7-2f3795bc7950(localhost-51.234.106.21/51.234.106.21), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.344Z[Etc/UTC]].
2023-06-27 05:30:01,348 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 75de1319-9090-47ca-bcbd-19e602a1054a, Nodes: 0c44d073-2145-4024-9649-c2ed3af6fa18(localhost-4.23.15.67/4.23.15.67)35dfc367-382d-48a3-85d7-2f3795bc7950(localhost-51.234.106.21/51.234.106.21)22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1(localhost-134.126.35.155/134.126.35.155), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.327Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:01,349 [pool-165-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:01,352 [pool-165-thread-1] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:01,352 [pool-165-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:01,357 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 4adae2fd-db71-4f77-8d7a-8f0daafa266a, Nodes: 22b4b1ff-dd75-4857-a9e9-a4535e5a6ac1(localhost-134.126.35.155/134.126.35.155)0c44d073-2145-4024-9649-c2ed3af6fa18(localhost-4.23.15.67/4.23.15.67)90a867d4-e149-4577-8ae1-8adfb079411b(localhost-10.14.188.225/10.14.188.225), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.334Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:01,358 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 6ab5621a-d805-4681-b731-6102afe2b9bb, Nodes: e0a04b5b-cddc-4145-a225-e05e61219a86(localhost-90.34.70.79/90.34.70.79)80ab8ecd-3340-4920-8bd5-8780ca12bf37(localhost-110.55.141.151/110.55.141.151)35dfc367-382d-48a3-85d7-2f3795bc7950(localhost-51.234.106.21/51.234.106.21), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.344Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:01,449 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:01,450 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:01,450 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:01,450 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:01,451 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:01,451 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:01,451 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 35041
2023-06-27 05:30:01,451 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,452 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:01,453 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,453 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:01,453 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:01,453 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 41263
2023-06-27 05:30:01,454 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:01,454 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:01,454 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 42305
2023-06-27 05:30:01,455 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:01,455 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:01,456 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:01,456 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,456 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,456 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:01,457 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:01,457 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:01,457 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:01,458 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:01,458 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:01,459 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:01,459 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:01,459 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,460 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:01,460 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:01,460 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
2023-06-27 05:30:01,460 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
]]></system-out>
  </testcase>
  <testcase name="testBlockAllocationWithNoAvailablePipelines" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.359">
    <system-out><![CDATA[2023-06-27 05:30:01,494 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,495 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,508 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,508 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,510 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b73c3868-b59a-4872-9592-4399db462cb5
2023-06-27 05:30:01,510 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/8493872c-aac1-4563-9fd1-3602b7b832bd
2023-06-27 05:30:01,511 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1de573ab-f9dd-46aa-acd2-c9a442e6fbac
2023-06-27 05:30:01,511 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2b3c059a-e0ae-46fc-b2ad-e37742fd1899
2023-06-27 05:30:01,511 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5b08e2a5-8444-482f-b9e6-e9c94b598a70
2023-06-27 05:30:01,511 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4f9c18c8-4473-4603-b5e7-432731e954a1
2023-06-27 05:30:01,512 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/99fd4692-65a6-4255-86c0-f8c0d11db482
2023-06-27 05:30:01,512 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/375fcf24-ae1b-46cc-ba3b-3716bc1b77d8
2023-06-27 05:30:01,512 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9f5370e2-109c-4ec3-8bac-6c23fdb4a325
2023-06-27 05:30:01,512 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4142d37f-913c-4bd2-acdf-5708cbcf8286
2023-06-27 05:30:01,513 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,513 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,643 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:01,643 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:01,643 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:01,644 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:01,644 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:01,644 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:01,645 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:01,646 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:01,646 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:01,647 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:01,648 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:01,648 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:01,648 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,650 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,651 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:01,651 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:01,652 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,653 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,655 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:01,656 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:01,657 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:01,658 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:01,658 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:01,658 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:01,658 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:01,658 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:01,664 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:01,664 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:01,665 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:01,666 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:01,677 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:01,678 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:01,679 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:01,680 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,682 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,685 [Listener at 0.0.0.0/33439] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,686 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,688 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,689 [Listener at 0.0.0.0/33189] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,690 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:01,691 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:01,692 [Listener at 0.0.0.0/46283] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:01,703 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:01,704 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:01,705 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:01,707 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=dcf06593-4e14-4c14-a916-c4f1688efada to datanode:b73c3868-b59a-4872-9592-4399db462cb5
2023-06-27 05:30:01,707 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=dcf06593-4e14-4c14-a916-c4f1688efada to datanode:4f9c18c8-4473-4603-b5e7-432731e954a1
2023-06-27 05:30:01,707 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=dcf06593-4e14-4c14-a916-c4f1688efada to datanode:2b3c059a-e0ae-46fc-b2ad-e37742fd1899
2023-06-27 05:30:01,709 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: dcf06593-4e14-4c14-a916-c4f1688efada, Nodes: b73c3868-b59a-4872-9592-4399db462cb5(localhost-16.174.252.217/16.174.252.217)4f9c18c8-4473-4603-b5e7-432731e954a1(localhost-123.66.173.61/123.66.173.61)2b3c059a-e0ae-46fc-b2ad-e37742fd1899(localhost-205.227.10.12/205.227.10.12), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.706Z[Etc/UTC]].
2023-06-27 05:30:01,710 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: dcf06593-4e14-4c14-a916-c4f1688efada, Nodes: b73c3868-b59a-4872-9592-4399db462cb5(localhost-16.174.252.217/16.174.252.217)4f9c18c8-4473-4603-b5e7-432731e954a1(localhost-123.66.173.61/123.66.173.61)2b3c059a-e0ae-46fc-b2ad-e37742fd1899(localhost-205.227.10.12/205.227.10.12), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:01.706Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:01,811 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:01,813 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:01,814 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:01,814 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:01,814 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:01,815 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:01,815 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,815 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:01,817 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:01,817 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:01,817 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:01,817 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:01,817 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 33439
2023-06-27 05:30:01,818 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:01,818 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:01,818 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 33189
2023-06-27 05:30:01,819 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:01,819 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:01,819 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 46283
2023-06-27 05:30:01,820 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:01,821 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:01,821 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:01,821 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,821 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,821 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:01,822 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:01,822 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:01,822 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:01,823 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:01,823 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:01,823 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:01,823 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:01,823 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:01,824 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:01,824 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:01,824 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:01,824 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testAllocateOversizedBlock" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.248">
    <system-out><![CDATA[2023-06-27 05:30:01,854 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,855 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,866 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:01,866 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:01,868 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/39ff659c-6329-43ee-96fe-60f74054fc18
2023-06-27 05:30:01,868 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/8a4fb0b8-bc75-494a-96fa-ed3c3ec03400
2023-06-27 05:30:01,869 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b010821c-a06e-4a36-b225-f838a3bbfbf4
2023-06-27 05:30:01,869 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/aa6fd97a-80f8-4faf-98fb-618d28aa89ea
2023-06-27 05:30:01,869 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d711390e-16cb-409f-96a5-6542fdfd146a
2023-06-27 05:30:01,869 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/96aea97d-cbb7-4c56-ba05-c4af9c618f48
2023-06-27 05:30:01,870 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2ab7bb5d-b725-4122-a5eb-eb7f7fa03ba3
2023-06-27 05:30:01,870 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a955591f-303b-4f56-8939-92d9c8e30472
2023-06-27 05:30:01,870 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f9f92dec-900b-4cf9-85c2-eb33314d365c
2023-06-27 05:30:01,870 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f1564067-4665-4b73-967a-338151e1275b
2023-06-27 05:30:01,870 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:01,871 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,006 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,006 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:02,007 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,007 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,007 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:02,008 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:02,008 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,008 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:02,009 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,010 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:02,010 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:02,011 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:02,011 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,013 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,014 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:02,014 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:02,019 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,019 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,021 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:02,023 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:02,023 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:02,024 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:02,024 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,024 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:02,025 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,025 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,025 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:02,025 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:02,026 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:02,027 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:02,028 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:02,029 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:02,032 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:02,032 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,033 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,035 [Listener at 0.0.0.0/36821] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,035 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,036 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,037 [Listener at 0.0.0.0/41245] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,037 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,038 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,039 [Listener at 0.0.0.0/43793] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,056 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:02,056 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:02,058 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:02,061 [main] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(161)) - Invalid block size requested : 6442450944
2023-06-27 05:30:02,061 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:02,062 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:02,062 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:02,062 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,062 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,063 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:02,063 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:02,064 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:02,064 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:02,064 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 36821
2023-06-27 05:30:02,066 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:02,066 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:02,066 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 41245
2023-06-27 05:30:02,068 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:02,068 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:02,068 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 43793
2023-06-27 05:30:02,069 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:02,069 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:02,069 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:02,069 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,069 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,070 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:02,070 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:02,071 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:02,073 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:02,073 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:02,073 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,073 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:02,074 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,074 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,074 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:02,074 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:02,074 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:02,074 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testAllocateBlockFailureInSafeMode" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.227">
    <system-out><![CDATA[2023-06-27 05:30:02,105 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,105 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,117 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,117 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c73b7fd1-a9bd-4319-8106-1792b53a4dd2
2023-06-27 05:30:02,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/29ea45cd-8563-40bd-bd23-cf7c8d06ff92
2023-06-27 05:30:02,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b3a237a8-db5f-4921-93f1-a595596543cb
2023-06-27 05:30:02,119 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9a3758e6-9adc-4cd9-95c0-e741a024b90f
2023-06-27 05:30:02,120 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2d4482ee-6192-4c54-bfa3-bd021b1a8363
2023-06-27 05:30:02,120 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a352136c-8d29-4681-935e-f8b574d6878c
2023-06-27 05:30:02,120 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5cb80376-2eb3-473e-8489-48e65a47dfc5
2023-06-27 05:30:02,120 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b228de5d-94a2-4842-b4ff-f16865643eee
2023-06-27 05:30:02,121 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/08a87a32-8743-4b89-ab58-1d8d61efd0c5
2023-06-27 05:30:02,121 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f5d83f43-9048-467d-ae98-a076c59c80d9
2023-06-27 05:30:02,121 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,122 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,245 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,245 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:02,245 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,245 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,246 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:02,246 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:02,248 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,248 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:02,249 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,250 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:02,250 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:02,251 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:02,251 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,253 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,254 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:02,254 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:02,256 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,256 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,258 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:02,260 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:02,261 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:02,261 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:02,262 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,262 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:02,262 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,263 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,263 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:02,263 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:02,265 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:02,268 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:02,271 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:02,271 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:02,272 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,273 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,274 [Listener at 0.0.0.0/33455] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,274 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,275 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,276 [Listener at 0.0.0.0/46053] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,276 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,280 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:02,281 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,281 [Listener at 0.0.0.0/41419] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,290 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:02,290 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:02,292 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:02,293 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2023-06-27 05:30:02,294 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:02,294 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:02,294 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:02,294 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,295 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,296 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:02,296 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:02,296 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:02,296 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:02,297 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 33455
2023-06-27 05:30:02,297 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:02,298 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:02,298 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 46053
2023-06-27 05:30:02,298 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:02,299 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:02,299 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 41419
2023-06-27 05:30:02,299 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:02,299 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:02,300 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:02,300 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,300 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,300 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:02,300 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:02,301 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:02,301 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:02,301 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:02,302 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,302 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:02,302 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,302 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,302 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:02,303 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:02,303 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
]]></system-out>
  </testcase>
  <testcase name="testAllocateBlock" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.243">
    <system-out><![CDATA[2023-06-27 05:30:02,332 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,332 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,345 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,345 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,347 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/6c19ab1d-770a-482f-929c-2cb1e0909080
2023-06-27 05:30:02,347 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3f6c9eb0-75d4-4fff-9ed9-0d5f2a6eb663
2023-06-27 05:30:02,347 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/32506588-69eb-4d16-b333-d76438d6ce2e
2023-06-27 05:30:02,347 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1975eb7c-96fe-41ca-a89b-5d9503f47784
2023-06-27 05:30:02,347 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0f522e39-b324-43c6-90d7-abe274a11b94
2023-06-27 05:30:02,348 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3c4e8c66-6a26-49b3-a33f-cb2a797ac917
2023-06-27 05:30:02,348 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a105b5a3-10a7-41fe-8d6c-7d630d983543
2023-06-27 05:30:02,348 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/28cc2d1d-fe5b-42f6-a2a3-3e9dc5863902
2023-06-27 05:30:02,348 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/21609cb7-48bb-441a-ae6f-2e20b54a110d
2023-06-27 05:30:02,348 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/68fe276c-f00a-4589-a3c6-3eafe894570c
2023-06-27 05:30:02,349 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,349 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,473 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,473 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:02,474 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,474 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,475 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:02,475 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:02,476 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,476 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:02,476 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,478 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:02,478 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:02,478 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:02,479 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,483 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,484 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:02,484 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:02,485 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,486 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,488 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:02,490 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:02,491 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:02,492 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:02,492 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,492 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:02,493 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,493 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,493 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:02,494 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:02,495 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:02,500 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:02,502 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:02,502 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:02,503 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:02,503 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,504 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,510 [Listener at 0.0.0.0/36651] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,510 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,511 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,513 [Listener at 0.0.0.0/37651] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,513 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,514 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,516 [Listener at 0.0.0.0/39343] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,527 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:02,528 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:02,529 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:02,531 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=076b8c02-d423-4613-8955-a9d8f7238605 to datanode:28cc2d1d-fe5b-42f6-a2a3-3e9dc5863902
2023-06-27 05:30:02,532 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=076b8c02-d423-4613-8955-a9d8f7238605 to datanode:6c19ab1d-770a-482f-929c-2cb1e0909080
2023-06-27 05:30:02,532 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=076b8c02-d423-4613-8955-a9d8f7238605 to datanode:32506588-69eb-4d16-b333-d76438d6ce2e
2023-06-27 05:30:02,534 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 076b8c02-d423-4613-8955-a9d8f7238605, Nodes: 28cc2d1d-fe5b-42f6-a2a3-3e9dc5863902(localhost-42.106.152.176/42.106.152.176)6c19ab1d-770a-482f-929c-2cb1e0909080(localhost-68.46.17.255/68.46.17.255)32506588-69eb-4d16-b333-d76438d6ce2e(localhost-86.127.147.134/86.127.147.134), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:02.531Z[Etc/UTC]].
2023-06-27 05:30:02,535 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 076b8c02-d423-4613-8955-a9d8f7238605, Nodes: 28cc2d1d-fe5b-42f6-a2a3-3e9dc5863902(localhost-42.106.152.176/42.106.152.176)6c19ab1d-770a-482f-929c-2cb1e0909080(localhost-68.46.17.255/68.46.17.255)32506588-69eb-4d16-b333-d76438d6ce2e(localhost-86.127.147.134/86.127.147.134), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:02.531Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:02,537 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:02,537 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:02,538 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:02,538 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:02,538 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:02,539 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:02,539 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,539 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,540 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:02,540 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:02,540 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:02,540 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:02,540 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 36651
2023-06-27 05:30:02,541 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:02,541 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:02,542 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 37651
2023-06-27 05:30:02,542 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:02,542 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:02,543 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 39343
2023-06-27 05:30:02,543 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:02,543 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:02,544 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:02,544 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,544 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,544 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:02,545 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:02,545 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:02,545 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:02,545 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:02,546 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,546 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:02,546 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,546 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,547 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:02,547 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:02,547 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:02,547 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testBlockDistributionWithMultipleDisks" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.328">
    <system-out><![CDATA[2023-06-27 05:30:02,579 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,579 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,593 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,593 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,595 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/00afe230-8773-475e-9711-a139d978753d
2023-06-27 05:30:02,595 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/21c6e50f-c37e-4334-89d4-2525577d6db0
2023-06-27 05:30:02,595 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9ad30274-91bc-4f8f-a628-b23954688c90
2023-06-27 05:30:02,595 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0bd9b240-408e-47dd-8684-ba35c074af48
2023-06-27 05:30:02,596 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/7632d19a-764b-4351-ab8d-fb0782028ee8
2023-06-27 05:30:02,596 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0c93104f-ce0c-48b2-b4eb-d37909641efc
2023-06-27 05:30:02,596 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/716b4e98-119e-4ab4-b2cc-955e03c35caa
2023-06-27 05:30:02,596 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/a0f3dd42-1542-4b33-a15e-65f006f15e57
2023-06-27 05:30:02,596 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c2bcf26e-7d50-4b81-9e88-69db0a454c4c
2023-06-27 05:30:02,597 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/32c28546-e840-4646-98f7-f1b9527ea626
2023-06-27 05:30:02,597 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,598 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,731 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,731 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:02,732 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,732 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,733 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:02,733 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:02,734 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,734 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:02,735 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:02,736 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:02,736 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:02,736 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:02,737 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,740 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,741 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:02,741 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:02,743 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,743 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,745 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:02,746 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:02,747 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:02,748 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:02,748 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:02,748 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:02,748 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:02,749 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,751 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:02,751 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:02,756 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:02,762 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:02,763 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:02,764 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:02,780 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:02,781 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,782 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,784 [Listener at 0.0.0.0/38153] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,784 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,786 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,787 [Listener at 0.0.0.0/38977] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,788 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:02,794 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:02,795 [Listener at 0.0.0.0/44427] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:02,812 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 31: CodecBuffer[0<=16<=16: 07 6B 8C 02 D4 23 46 13 89 55 ...], refCnt=1, capacity=16
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 32: CodecBuffer[0<=1040<=1040: 0A B5 02 0A 24 32 38 63 63 32 ...], refCnt=1, capacity=1040
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 33: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 34: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 35: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 36: CodecBuffer[0<=94<=94: 08 01 10 01 1A 3E 0A 24 30 37 ...], refCnt=1, capacity=94
2023-06-27 05:30:02,813 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 37: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:02,814 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 38: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,814 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:02,817 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:02,816 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:02,819 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 39: CodecBuffer[0<=16<=16: AC 3C 29 53 FF A1 45 A9 BC 73 ...], refCnt=1, capacity=16
2023-06-27 05:30:02,819 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 40: CodecBuffer[0<=1039<=1039: 0A AF 02 0A 24 32 63 63 64 31 ...], refCnt=1, capacity=1039
2023-06-27 05:30:02,819 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 41: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:02,819 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 42: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,819 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 43: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:02,820 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 44: CodecBuffer[0<=95<=95: 08 01 10 01 1A 3F 0A 24 61 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,820 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 45: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:02,822 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 46: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 47: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 02 ], refCnt=1, capacity=8
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 48: CodecBuffer[0<=95<=95: 08 02 10 01 1A 3F 0A 24 61 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 49: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 03 ], refCnt=1, capacity=8
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 50: CodecBuffer[0<=95<=95: 08 03 10 01 1A 3F 0A 24 61 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 51: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 04 ], refCnt=1, capacity=8
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 52: CodecBuffer[0<=95<=95: 08 04 10 01 1A 3F 0A 24 61 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 53: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 05 ], refCnt=1, capacity=8
2023-06-27 05:30:02,823 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 54: CodecBuffer[0<=95<=95: 08 05 10 01 1A 3F 0A 24 61 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,824 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:02,829 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 55: CodecBuffer[0<=16<=16: 75 DE 13 19 90 90 47 CA BC BD ...], refCnt=1, capacity=16
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 56: CodecBuffer[0<=1034<=1034: 0A AD 02 0A 24 30 63 34 34 64 ...], refCnt=1, capacity=1034
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 57: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 58: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 59: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:02,831 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 60: CodecBuffer[0<=94<=94: 08 01 10 01 1A 3E 0A 24 37 35 ...], refCnt=1, capacity=94
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 61: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 62: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 63: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 02 ], refCnt=1, capacity=8
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 64: CodecBuffer[0<=94<=94: 08 02 10 01 1A 3E 0A 24 37 35 ...], refCnt=1, capacity=94
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 65: CodecBuffer[0<=16<=16: 4A DA E2 FD DB 71 4F 77 8D 7A ...], refCnt=1, capacity=16
2023-06-27 05:30:02,832 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 66: CodecBuffer[0<=1035<=1035: 0A B5 02 0A 24 32 32 62 34 62 ...], refCnt=1, capacity=1035
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 67: CodecBuffer[0<=16<=16: 6A B5 62 1A D8 05 46 81 B7 31 ...], refCnt=1, capacity=16
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 68: CodecBuffer[0<=1039<=1039: 0A B0 02 0A 24 65 30 61 30 34 ...], refCnt=1, capacity=1039
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 69: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 03 ], refCnt=1, capacity=8
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 70: CodecBuffer[0<=94<=94: 08 03 10 01 1A 3E 0A 24 34 61 ...], refCnt=1, capacity=94
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 71: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 04 ], refCnt=1, capacity=8
2023-06-27 05:30:02,833 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 72: CodecBuffer[0<=94<=94: 08 04 10 01 1A 3E 0A 24 34 61 ...], refCnt=1, capacity=94
2023-06-27 05:30:02,833 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7a6bd8cc-d194-41f7-b4e9-123f208491d0 to datanode:21c6e50f-c37e-4334-89d4-2525577d6db0
2023-06-27 05:30:02,834 [Finalizer] WARN  managed.ManagedRocksObjectUtils (ManagedRocksObjectUtils.java:assertClosed(55)) - ManagedWriteBatch is not closed properly
2023-06-27 05:30:02,834 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 73: CodecBuffer[0<=16<=16: DC F0 65 93 4E 14 4C 14 A9 16 ...], refCnt=1, capacity=16
2023-06-27 05:30:02,834 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 74: CodecBuffer[0<=1043<=1043: 0A B6 02 0A 24 62 37 33 63 33 ...], refCnt=1, capacity=1043
2023-06-27 05:30:02,834 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 75: CodecBuffer[0<=11<=33: 63 6F 6E 74 61 69 6E 65 72 49 ...], refCnt=1, capacity=33
2023-06-27 05:30:02,834 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 76: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,835 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 77: CodecBuffer[0<=8<=8: 00 00 00 00 00 00 00 01 ], refCnt=1, capacity=8
2023-06-27 05:30:02,835 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 78: CodecBuffer[0<=95<=95: 08 01 10 01 1A 3F 0A 24 64 63 ...], refCnt=1, capacity=95
2023-06-27 05:30:02,835 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 79: CodecBuffer[0<=7<=21: 6C 6F 63 61 6C 49 64 ], refCnt=1, capacity=21
2023-06-27 05:30:02,835 [Finalizer] WARN  db.CodecBuffer (CodecBuffer.java:finalize(164)) - LEAK 80: CodecBuffer[0<=8<=8: 01 8C C2 51 F4 00 03 E8 ], refCnt=1, capacity=8
2023-06-27 05:30:02,838 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7a6bd8cc-d194-41f7-b4e9-123f208491d0 to datanode:00afe230-8773-475e-9711-a139d978753d
2023-06-27 05:30:02,838 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7a6bd8cc-d194-41f7-b4e9-123f208491d0 to datanode:0c93104f-ce0c-48b2-b4eb-d37909641efc
2023-06-27 05:30:02,840 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 7a6bd8cc-d194-41f7-b4e9-123f208491d0, Nodes: 21c6e50f-c37e-4334-89d4-2525577d6db0(localhost-233.186.88.177/233.186.88.177)00afe230-8773-475e-9711-a139d978753d(localhost-215.120.75.185/215.120.75.185)0c93104f-ce0c-48b2-b4eb-d37909641efc(localhost-228.120.149.209/228.120.149.209), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:02.833Z[Etc/UTC]].
2023-06-27 05:30:02,842 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 7a6bd8cc-d194-41f7-b4e9-123f208491d0, Nodes: 21c6e50f-c37e-4334-89d4-2525577d6db0(localhost-233.186.88.177/233.186.88.177)00afe230-8773-475e-9711-a139d978753d(localhost-215.120.75.185/215.120.75.185)0c93104f-ce0c-48b2-b4eb-d37909641efc(localhost-228.120.149.209/228.120.149.209), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:02.833Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:02,846 [pool-332-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:02,854 [pool-332-thread-1] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:02,854 [pool-332-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:02,865 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:02,869 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:02,869 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:02,869 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:02,869 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:02,870 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,870 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:02,870 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:02,870 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:02,870 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 38153
2023-06-27 05:30:02,871 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:02,871 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:02,871 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 38977
2023-06-27 05:30:02,872 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:02,872 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:02,872 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 44427
2023-06-27 05:30:02,873 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:02,873 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:02,873 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:02,873 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,873 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,873 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:02,874 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:02,874 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:02,874 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:02,874 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:02,875 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:02,875 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:02,875 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:02,875 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:02,876 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:02,876 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:02,876 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
2023-06-27 05:30:02,876 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
]]></system-out>
  </testcase>
  <testcase name="testBlockDistribution" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.268">
    <system-out><![CDATA[2023-06-27 05:30:02,908 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,908 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,922 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:02,922 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:02,924 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/592482c1-a3ab-4f74-b16f-0afe1313013c
2023-06-27 05:30:02,924 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/009d0419-7e92-4f4c-b844-01b32afafd63
2023-06-27 05:30:02,925 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/e49b0a02-55d4-43fb-ae7b-5265d9405932
2023-06-27 05:30:02,925 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5490e486-e707-446b-851d-6a992c6af8b3
2023-06-27 05:30:02,925 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/74e314fd-bcfd-424c-972b-8383ab58d668
2023-06-27 05:30:02,925 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/6572bcef-adf8-49a5-a32b-eb3cf16a6770
2023-06-27 05:30:02,926 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/37044f97-e6d2-4db6-a681-a3fddbefd8c4
2023-06-27 05:30:02,926 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/da8b54e9-def8-49dd-ba09-2b623f051619
2023-06-27 05:30:02,926 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/bd3df76e-34d2-4326-baba-2d84f97ea014
2023-06-27 05:30:02,926 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4db14326-ef7b-400b-90dc-f50683c94e32
2023-06-27 05:30:02,926 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:02,927 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,063 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:03,063 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:03,064 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:03,064 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:03,066 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:03,067 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:03,067 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:03,067 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:03,068 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:03,069 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:03,069 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:03,069 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:03,070 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,072 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,072 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:03,072 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:03,073 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:03,074 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:03,075 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:03,077 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:03,077 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:03,078 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:03,078 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:03,078 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:03,079 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:03,079 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:03,079 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:03,079 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:03,080 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:03,081 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:03,092 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:03,096 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:03,096 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:03,097 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,097 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,103 [Listener at 0.0.0.0/37981] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,103 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,104 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,105 [Listener at 0.0.0.0/42293] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,105 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,106 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,107 [Listener at 0.0.0.0/39469] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,111 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:03,112 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:03,116 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:03,118 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bcb654d-f73f-4743-bc65-37d2def73f56 to datanode:74e314fd-bcfd-424c-972b-8383ab58d668
2023-06-27 05:30:03,118 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bcb654d-f73f-4743-bc65-37d2def73f56 to datanode:6572bcef-adf8-49a5-a32b-eb3cf16a6770
2023-06-27 05:30:03,119 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bcb654d-f73f-4743-bc65-37d2def73f56 to datanode:592482c1-a3ab-4f74-b16f-0afe1313013c
2023-06-27 05:30:03,120 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 6bcb654d-f73f-4743-bc65-37d2def73f56, Nodes: 74e314fd-bcfd-424c-972b-8383ab58d668(localhost-149.24.59.22/149.24.59.22)6572bcef-adf8-49a5-a32b-eb3cf16a6770(localhost-108.72.14.160/108.72.14.160)592482c1-a3ab-4f74-b16f-0afe1313013c(localhost-167.125.241.178/167.125.241.178), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:03.118Z[Etc/UTC]].
2023-06-27 05:30:03,121 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 6bcb654d-f73f-4743-bc65-37d2def73f56, Nodes: 74e314fd-bcfd-424c-972b-8383ab58d668(localhost-149.24.59.22/149.24.59.22)6572bcef-adf8-49a5-a32b-eb3cf16a6770(localhost-108.72.14.160/108.72.14.160)592482c1-a3ab-4f74-b16f-0afe1313013c(localhost-167.125.241.178/167.125.241.178), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:03.118Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:03,123 [pool-371-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:03,125 [pool-371-thread-1] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:03,125 [pool-371-thread-1] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:03,137 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:03,138 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:03,138 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:03,138 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:03,138 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:03,138 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:03,138 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:03,139 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:03,139 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 37981
2023-06-27 05:30:03,138 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:03,140 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:03,140 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:03,140 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 42293
2023-06-27 05:30:03,141 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:03,141 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:03,141 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 39469
2023-06-27 05:30:03,141 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:03,142 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:03,142 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:03,142 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,142 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,142 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:03,144 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:03,145 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:03,145 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:03,145 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:03,145 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:03,146 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:03,146 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:03,146 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,146 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:03,147 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:03,147 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:03,147 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
  <testcase name="testAllocateBlockSucInSafeMode" classname="org.apache.hadoop.hdds.scm.block.TestBlockManager" time="0.361">
    <system-out><![CDATA[2023-06-27 05:30:03,183 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:03,183 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:03,196 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:03,196 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:03,198 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/525682cf-cca8-4526-8fd6-0b07381ebc9d
2023-06-27 05:30:03,198 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/352ad754-dd81-4a5c-a1f9-72785f7398d9
2023-06-27 05:30:03,198 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9170b64b-94bf-4350-9f7e-2d2864cb5104
2023-06-27 05:30:03,198 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/03e05bff-c728-4d95-a343-4ea9ac082088
2023-06-27 05:30:03,199 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1c38f69f-a879-4646-9698-e218c9aa54c5
2023-06-27 05:30:03,199 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/13602b02-64ed-43b1-b351-61f1e4bd68c3
2023-06-27 05:30:03,199 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/17976f49-8cc8-4590-aaf4-2463462d1626
2023-06-27 05:30:03,199 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b6a2e6e2-d8c5-432c-8e29-718fba2fd690
2023-06-27 05:30:03,200 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/2f647365-4f9c-4d23-a03b-7227f3cf21e5
2023-06-27 05:30:03,200 [main] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/316ca0e1-4dee-4a06-9dfd-b3559f33e717
2023-06-27 05:30:03,200 [main] WARN  utils.HAUtils (HAUtils.java:getMetaDir(339)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,201 [main] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(166)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,343 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:03,344 [main] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2023-06-27 05:30:03,344 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:03,344 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:03,345 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineCreator.
2023-06-27 05:30:03,345 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(124)) - Starting RatisPipelineUtilsThread.
2023-06-27 05:30:03,345 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:start(68)) - Starting BackgroundPipelineScrubber Service.
2023-06-27 05:30:03,346 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service BackgroundPipelineScrubber.
2023-06-27 05:30:03,346 [main] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2023-06-27 05:30:03,347 [main] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2023-06-27 05:30:03,347 [main] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(169)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2023-06-27 05:30:03,347 [main] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2023-06-27 05:30:03,348 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,350 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(155)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2023-06-27 05:30:03,350 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(210)) - ServiceID for StorageContainerManager is null
2023-06-27 05:30:03,350 [main] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(215)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2023-06-27 05:30:03,351 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [file:/home/runner/work/ozone/ozone/hadoop-hdds/common/target/classes/network-topology-default.xml]
2023-06-27 05:30:03,351 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2023-06-27 05:30:03,353 [main] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(83)) - Initializing Layout version manager with metadata layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7), software layout = HADOOP_PRC_PORTS_IN_DATANODEDETAILS (version = 7)
2023-06-27 05:30:03,355 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(349)) - upgrade localId to 111677748019200000
2023-06-27 05:30:03,355 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(359)) - upgrade delTxnId to 0
2023-06-27 05:30:03,356 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(376)) - upgrade containerId to 0
2023-06-27 05:30:03,356 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(220)) - Init the HA SequenceIdGenerator.
2023-06-27 05:30:03,356 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
2023-06-27 05:30:03,356 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicyInternal(86)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackScatter
2023-06-27 05:30:03,357 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:start(68)) - Starting ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:03,357 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ExpiredContainerReplicaOpScrubber.
2023-06-27 05:30:03,357 [main] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2023-06-27 05:30:03,358 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service SCMBlockDeletingService.
2023-06-27 05:30:03,359 [main] INFO  replication.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2023-06-27 05:30:03,364 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ReplicationManager.
2023-06-27 05:30:03,368 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - SCM start with adminUsers: [runner]
2023-06-27 05:30:03,369 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:processAll(361)) - Replication Manager is not ready to run until 300000ms after safemode exit
2023-06-27 05:30:03,369 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,372 [Listener at 0.0.0.0/39517] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,372 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,372 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,373 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,376 [Listener at 0.0.0.0/46533] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,376 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2023-06-27 05:30:03,377 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1319)) - Starting Socket Reader #1 for port 0
2023-06-27 05:30:03,378 [Listener at 0.0.0.0/39053] INFO  hdds.HddsUtils (HddsUtils.java:preserveThreadName(848)) - Restoring thread name: main
2023-06-27 05:30:03,386 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service ContainerBalancer.
2023-06-27 05:30:03,386 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(433)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          10
Max Datanodes to Involve per Iteration(percent)    20
Max Size to Move per Iteration                     500GB
Max Size Entering Target per Iteration             26GB
Max Size Leaving Source per Iteration              26GB

2023-06-27 05:30:03,390 [main] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(228)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2023-06-27 05:30:03,393 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7019c52a-4d62-4c94-a663-395a2d14be3e to datanode:03e05bff-c728-4d95-a343-4ea9ac082088
2023-06-27 05:30:03,394 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7019c52a-4d62-4c94-a663-395a2d14be3e to datanode:525682cf-cca8-4526-8fd6-0b07381ebc9d
2023-06-27 05:30:03,394 [main] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(206)) - Sending CreatePipelineCommand for pipeline:PipelineID=7019c52a-4d62-4c94-a663-395a2d14be3e to datanode:b6a2e6e2-d8c5-432c-8e29-718fba2fd690
2023-06-27 05:30:03,396 [main] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:addPipelineToManager(301)) - Added pipeline Pipeline[ Id: 7019c52a-4d62-4c94-a663-395a2d14be3e, Nodes: 03e05bff-c728-4d95-a343-4ea9ac082088(localhost-86.213.106.200/86.213.106.200)525682cf-cca8-4526-8fd6-0b07381ebc9d(localhost-255.219.78.7/255.219.78.7)b6a2e6e2-d8c5-432c-8e29-718fba2fd690(localhost-121.77.36.214/121.77.36.214), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:03.393Z[Etc/UTC]].
2023-06-27 05:30:03,397 [EventQueue-DatanodeCommandForDatanodeCommandHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(443)) - Pipeline Pipeline[ Id: 7019c52a-4d62-4c94-a663-395a2d14be3e, Nodes: 03e05bff-c728-4d95-a343-4ea9ac082088(localhost-86.213.106.200/86.213.106.200)525682cf-cca8-4526-8fd6-0b07381ebc9d(localhost-255.219.78.7/255.219.78.7)b6a2e6e2-d8c5-432c-8e29-718fba2fd690(localhost-121.77.36.214/121.77.36.214), ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2023-06-27T05:30:03.393Z[Etc/UTC]] moved to OPEN state
2023-06-27 05:30:03,498 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2023-06-27 05:30:03,499 [main] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(237)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 111677748019200000.
2023-06-27 05:30:03,500 [main] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(128)) - Allocate a batch for localId, change lastId from 111677748019200000 to 111677748019201000.
2023-06-27 05:30:03,500 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1588)) - Container Balancer is not running.
2023-06-27 05:30:03,500 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stopReplicationManager(1721)) - Stopping Replication Manager Service.
2023-06-27 05:30:03,501 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(319)) - Stopping Replication Monitor Thread.
2023-06-27 05:30:03,501 [Over Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Over Replicated Processor interrupted. Exiting...
2023-06-27 05:30:03,501 [Under Replicated Processor] WARN  replication.UnhealthyReplicationProcessor (UnhealthyReplicationProcessor.java:run(180)) - Under Replicated Processor interrupted. Exiting...
2023-06-27 05:30:03,501 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1597)) - Stopping the Datanode Admin Monitor.
2023-06-27 05:30:03,503 [ReplicationMonitor] INFO  replication.ReplicationManager (ReplicationManager.java:run(918)) - Replication Monitor Thread is stopped
2023-06-27 05:30:03,503 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1604)) - Stopping datanode service RPC server
2023-06-27 05:30:03,504 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(424)) - Stopping the RPC server for DataNodes
2023-06-27 05:30:03,504 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 39517
2023-06-27 05:30:03,504 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1612)) - Stopping block service RPC server
2023-06-27 05:30:03,505 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(161)) - Stopping the RPC server for Block Protocol
2023-06-27 05:30:03,505 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 46533
2023-06-27 05:30:03,505 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1619)) - Stopping the StorageContainerLocationProtocol RPC server
2023-06-27 05:30:03,505 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(210)) - Stopping the RPC server for Client Protocol
2023-06-27 05:30:03,506 [main] INFO  ipc.Server (Server.java:stop(3501)) - Stopping server on 39053
2023-06-27 05:30:03,506 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1626)) - Stopping Storage Container Manager HTTP server.
2023-06-27 05:30:03,506 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1634)) - Stopping SCM LayoutVersionManager Service.
2023-06-27 05:30:03,507 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1646)) - Stopping Block Manager Service.
2023-06-27 05:30:03,507 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,507 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,507 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1666)) - Stopping SCM Event Queue.
2023-06-27 05:30:03,507 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1677)) - Stopping SCM HA services.
2023-06-27 05:30:03,508 [main] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(149)) - Stopping RatisPipelineUtilsThread.
2023-06-27 05:30:03,509 [RatisPipelineUtilsThread - 0] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:run(180)) - RatisPipelineUtilsThread is interrupted.
2023-06-27 05:30:03,509 [BackgroundPipelineScrubberThread] WARN  BackgroundPipelineScrubber (BackgroundSCMService.java:run(115)) - BackgroundPipelineScrubber is interrupted, exit
2023-06-27 05:30:03,509 [main] INFO  BackgroundPipelineScrubber (BackgroundSCMService.java:stop(131)) - Stopping BackgroundPipelineScrubber Service.
2023-06-27 05:30:03,509 [main] INFO  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:stop(131)) - Stopping ExpiredContainerReplicaOpScrubber Service.
2023-06-27 05:30:03,509 [ExpiredContainerReplicaOpScrubberThread] WARN  ExpiredContainerReplicaOpScrubber (BackgroundSCMService.java:run(115)) - ExpiredContainerReplicaOpScrubber is interrupted, exit
2023-06-27 05:30:03,509 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(141)) - Shutting down service SCMBlockDeletingService
2023-06-27 05:30:03,510 [main] INFO  replication.ReplicationManager (ReplicationManager.java:stop(329)) - Replication Monitor Thread is not running.
2023-06-27 05:30:03,510 [main] WARN  balancer.ContainerBalancer (ContainerBalancer.java:stop(328)) - Cannot stop Container Balancer because it's not running or stopping
2023-06-27 05:30:03,510 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1712)) - Stopping SCM MetadataStore.
2023-06-27 05:30:03,510 [test-leaseManager-LeaseManager#LeaseMonitor] WARN  lease.LeaseManager (LeaseManager.java:run(272)) - Lease manager is interrupted. Shutting down...
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:409)
	at org.apache.hadoop.ozone.lease.LeaseManager$LeaseMonitor.run(LeaseManager.java:270)
	at java.lang.Thread.run(Thread.java:750)
]]></system-out>
  </testcase>
</testsuite>